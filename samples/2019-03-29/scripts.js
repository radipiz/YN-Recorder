! function(e, t) {
    "object" == typeof exports && "object" == typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define([], t) : "object" == typeof exports ? exports.Pusher = t() : e.Pusher = t()
}(this, function() {
    return function(e) {
        function t(n) {
            if (i[n]) return i[n].exports;
            var r = i[n] = {
                exports: {},
                id: n,
                loaded: !1
            };
            return e[n].call(r.exports, r, r.exports, t), r.loaded = !0, r.exports
        }
        var i = {};
        return t.m = e, t.c = i, t.p = "", t(0)
    }([function(e, t, i) {
        "use strict";
        var n = i(1);
        e.exports = n.default
    }, function(e, t, i) {
        "use strict";
        var n = i(2),
            r = i(9),
            a = i(24),
            o = i(39),
            s = i(40),
            l = i(41),
            c = i(12),
            u = i(5),
            d = i(71),
            h = i(8),
            p = i(43),
            f = i(14),
            m = function() {
                function e(t, i) {
                    var c = this;
                    if (function(e) {
                            if (null == t) throw "You must pass your app key when you instantiate Pusher."
                        }(), !(i = i || {}).cluster && !i.wsHost && !i.httpHost) {
                        var m = f.default.buildLogSuffix("javascriptQuickStart");
                        h.default.warn("You should always specify a cluster when connecting. " + m)
                    }
                    this.key = t, this.config = r.extend(d.getGlobalConfig(), i.cluster ? d.getClusterConfig(i.cluster) : {}, i), this.channels = p.default.createChannels(), this.global_emitter = new a.default, this.sessionID = Math.floor(1e9 * Math.random()), this.timeline = new o.default(this.key, this.sessionID, {
                        cluster: this.config.cluster,
                        features: e.getClientFeatures(),
                        params: this.config.timelineParams || {},
                        limit: 50,
                        level: s.default.INFO,
                        version: u.default.VERSION
                    }), this.config.disableStats || (this.timelineSender = p.default.createTimelineSender(this.timeline, {
                        host: this.config.statsHost,
                        path: "/timeline/v2/" + n.default.TimelineTransport.name
                    })), this.connection = p.default.createConnectionManager(this.key, r.extend({
                        getStrategy: function(e) {
                            var t = r.extend({}, c.config, e);
                            return l.build(n.default.getDefaultStrategy(t), t)
                        },
                        timeline: this.timeline,
                        activityTimeout: this.config.activity_timeout,
                        pongTimeout: this.config.pong_timeout,
                        unavailableTimeout: this.config.unavailable_timeout
                    }, this.config, {
                        useTLS: this.shouldUseTLS()
                    })), this.connection.bind("connected", function() {
                        c.subscribeAll(), c.timelineSender && c.timelineSender.send(c.connection.isUsingTLS())
                    }), this.connection.bind("message", function(e) {
                        var t = 0 === e.event.indexOf("pusher_internal:");
                        if (e.channel) {
                            var i = c.channel(e.channel);
                            i && i.handleEvent(e.event, e.data)
                        }
                        t || c.global_emitter.emit(e.event, e.data)
                    }), this.connection.bind("connecting", function() {
                        c.channels.disconnect()
                    }), this.connection.bind("disconnected", function() {
                        c.channels.disconnect()
                    }), this.connection.bind("error", function(e) {
                        h.default.warn("Error", e)
                    }), e.instances.push(this), this.timeline.info({
                        instances: e.instances.length
                    }), e.isReady && this.connect()
                }
                return e.ready = function() {
                    e.isReady = !0;
                    for (var t = 0, i = e.instances.length; t < i; t++) e.instances[t].connect()
                }, e.log = function(t) {
                    e.logToConsole && window.console && window.console.log && window.console.log(t)
                }, e.getClientFeatures = function() {
                    return r.keys(r.filterObject({
                        ws: n.default.Transports.ws
                    }, function(e) {
                        return e.isSupported({})
                    }))
                }, e.prototype.channel = function(e) {
                    return this.channels.find(e)
                }, e.prototype.allChannels = function() {
                    return this.channels.all()
                }, e.prototype.connect = function() {
                    if (this.connection.connect(), this.timelineSender && !this.timelineSenderTimer) {
                        var e = this.connection.isUsingTLS(),
                            t = this.timelineSender;
                        this.timelineSenderTimer = new c.PeriodicTimer(6e4, function() {
                            t.send(e)
                        })
                    }
                }, e.prototype.disconnect = function() {
                    this.connection.disconnect(), this.timelineSenderTimer && (this.timelineSenderTimer.ensureAborted(), this.timelineSenderTimer = null)
                }, e.prototype.bind = function(e, t, i) {
                    return this.global_emitter.bind(e, t, i), this
                }, e.prototype.unbind = function(e, t, i) {
                    return this.global_emitter.unbind(e, t, i), this
                }, e.prototype.bind_global = function(e) {
                    return this.global_emitter.bind_global(e), this
                }, e.prototype.unbind_global = function(e) {
                    return this.global_emitter.unbind_global(e), this
                }, e.prototype.unbind_all = function(e) {
                    return this.global_emitter.unbind_all(), this
                }, e.prototype.subscribeAll = function() {
                    var e;
                    for (e in this.channels.channels) this.channels.channels.hasOwnProperty(e) && this.subscribe(e)
                }, e.prototype.subscribe = function(e) {
                    var t = this.channels.add(e, this);
                    return t.subscriptionPending && t.subscriptionCancelled ? t.reinstateSubscription() : t.subscriptionPending || "connected" !== this.connection.state || t.subscribe(), t
                }, e.prototype.unsubscribe = function(e) {
                    var t = this.channels.find(e);
                    t && t.subscriptionPending ? t.cancelSubscription() : (t = this.channels.remove(e)) && "connected" === this.connection.state && t.unsubscribe()
                }, e.prototype.send_event = function(e, t, i) {
                    return this.connection.send_event(e, t, i)
                }, e.prototype.shouldUseTLS = function() {
                    return "https:" === n.default.getProtocol() || !0 === this.config.forceTLS || Boolean(this.config.encrypted)
                }, e.instances = [], e.isReady = !1, e.logToConsole = !1, e.Runtime = n.default, e.ScriptReceivers = n.default.ScriptReceivers, e.DependenciesReceivers = n.default.DependenciesReceivers, e.auth_callbacks = n.default.auth_callbacks, e
            }();
        t.__esModule = !0, t.default = m, n.default.setup(m)
    }, function(e, t, i) {
        "use strict";
        var n = i(3),
            r = i(7),
            a = i(15),
            o = i(16),
            s = i(17),
            l = i(4),
            c = i(18),
            u = i(19),
            d = i(26),
            h = i(27),
            p = i(28),
            f = i(29),
            m = {
                nextAuthCallbackID: 1,
                auth_callbacks: {},
                ScriptReceivers: l.ScriptReceivers,
                DependenciesReceivers: n.DependenciesReceivers,
                getDefaultStrategy: h.default,
                Transports: u.default,
                transportConnectionInitializer: p.default,
                HTTPFactory: f.default,
                TimelineTransport: c.default,
                getXHRAPI: function() {
                    return window.XMLHttpRequest
                },
                getWebSocketAPI: function() {
                    return window.WebSocket || window.MozWebSocket
                },
                setup: function(e) {
                    var t = this;
                    window.Pusher = e;
                    var i = function() {
                        t.onDocumentBody(e.ready)
                    };
                    window.JSON ? i() : n.Dependencies.load("json2", {}, i)
                },
                getDocument: function() {
                    return document
                },
                getProtocol: function() {
                    return this.getDocument().location.protocol
                },
                getAuthorizers: function() {
                    return {
                        ajax: r.default,
                        jsonp: a.default
                    }
                },
                onDocumentBody: function(e) {
                    var t = this;
                    document.body ? e() : setTimeout(function() {
                        t.onDocumentBody(e)
                    }, 0)
                },
                createJSONPRequest: function(e, t) {
                    return new s.default(e, t)
                },
                createScriptRequest: function(e) {
                    return new o.default(e)
                },
                getLocalStorage: function() {
                    try {
                        return window.localStorage
                    } catch (e) {
                        return
                    }
                },
                createXHR: function() {
                    return this.getXHRAPI() ? this.createXMLHttpRequest() : this.createMicrosoftXHR()
                },
                createXMLHttpRequest: function() {
                    return new(this.getXHRAPI())
                },
                createMicrosoftXHR: function() {
                    return new ActiveXObject("Microsoft.XMLHTTP")
                },
                getNetwork: function() {
                    return d.Network
                },
                createWebSocket: function(e) {
                    return new(this.getWebSocketAPI())(e)
                },
                createSocketRequest: function(e, t) {
                    if (this.isXHRSupported()) return this.HTTPFactory.createXHR(e, t);
                    if (this.isXDRSupported(0 === t.indexOf("https:"))) return this.HTTPFactory.createXDR(e, t);
                    throw "Cross-origin HTTP requests are not supported"
                },
                isXHRSupported: function() {
                    var e = this.getXHRAPI();
                    return Boolean(e) && void 0 !== (new e).withCredentials
                },
                isXDRSupported: function(e) {
                    var t = e ? "https:" : "http:",
                        i = this.getProtocol();
                    return Boolean(window.XDomainRequest) && i === t
                },
                addUnloadListener: function(e) {
                    void 0 !== window.addEventListener ? window.addEventListener("unload", e, !1) : void 0 !== window.attachEvent && window.attachEvent("onunload", e)
                },
                removeUnloadListener: function(e) {
                    void 0 !== window.addEventListener ? window.removeEventListener("unload", e, !1) : void 0 !== window.detachEvent && window.detachEvent("onunload", e)
                }
            };
        t.__esModule = !0, t.default = m
    }, function(e, t, i) {
        "use strict";
        var n = i(4),
            r = i(5),
            a = i(6);
        t.DependenciesReceivers = new n.ScriptReceiverFactory("_pusher_dependencies", "Pusher.DependenciesReceivers"), t.Dependencies = new a.default({
            cdn_http: r.default.cdn_http,
            cdn_https: r.default.cdn_https,
            version: r.default.VERSION,
            suffix: r.default.dependency_suffix,
            receivers: t.DependenciesReceivers
        })
    }, function(e, t) {
        "use strict";
        var i = function() {
            function e(e, t) {
                this.lastId = 0, this.prefix = e, this.name = t
            }
            return e.prototype.create = function(e) {
                this.lastId++;
                var t = this.lastId,
                    i = this.prefix + t,
                    n = this.name + "[" + t + "]",
                    r = !1,
                    a = function() {
                        r || (e.apply(null, arguments), r = !0)
                    };
                return this[t] = a, {
                    number: t,
                    id: i,
                    name: n,
                    callback: a
                }
            }, e.prototype.remove = function(e) {
                delete this[e.number]
            }, e
        }();
        t.ScriptReceiverFactory = i, t.ScriptReceivers = new i("_pusher_script_", "Pusher.ScriptReceivers")
    }, function(e, t) {
        "use strict";
        t.__esModule = !0, t.default = {
            VERSION: "4.3.1",
            PROTOCOL: 7,
            host: "ws.pusherapp.com",
            ws_port: 80,
            wss_port: 443,
            ws_path: "",
            sockjs_host: "sockjs.pusher.com",
            sockjs_http_port: 80,
            sockjs_https_port: 443,
            sockjs_path: "/pusher",
            stats_host: "stats.pusher.com",
            channel_auth_endpoint: "/pusher/auth",
            channel_auth_transport: "ajax",
            activity_timeout: 12e4,
            pong_timeout: 3e4,
            unavailable_timeout: 1e4,
            cdn_http: "http://js.pusher.com",
            cdn_https: "https://js.pusher.com",
            dependency_suffix: ".min"
        }
    }, function(e, t, i) {
        "use strict";
        var n = i(4),
            r = i(2),
            a = function() {
                function e(e) {
                    this.options = e, this.receivers = e.receivers || n.ScriptReceivers, this.loading = {}
                }
                return e.prototype.load = function(e, t, i) {
                    var n = this;
                    if (n.loading[e] && n.loading[e].length > 0) n.loading[e].push(i);
                    else {
                        n.loading[e] = [i];
                        var a = r.default.createScriptRequest(n.getPath(e, t)),
                            o = n.receivers.create(function(t) {
                                if (n.receivers.remove(o), n.loading[e]) {
                                    var i = n.loading[e];
                                    delete n.loading[e];
                                    for (var r = function(e) {
                                            e || a.cleanup()
                                        }, s = 0; s < i.length; s++) i[s](t, r)
                                }
                            });
                        a.send(o)
                    }
                }, e.prototype.getRoot = function(e) {
                    var t = r.default.getDocument().location.protocol;
                    return (e && e.useTLS || "https:" === t ? this.options.cdn_https : this.options.cdn_http).replace(/\/*$/, "") + "/" + this.options.version
                }, e.prototype.getPath = function(e, t) {
                    return this.getRoot(t) + "/" + e + this.options.suffix + ".js"
                }, e
            }();
        t.__esModule = !0, t.default = a
    }, function(e, t, i) {
        "use strict";
        var n = i(8),
            r = i(2),
            a = i(14);
        t.__esModule = !0, t.default = function(e, t, i) {
            var o;
            for (var s in (o = r.default.createXHR()).open("POST", this.options.authEndpoint, !0), o.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"), this.authOptions.headers) o.setRequestHeader(s, this.authOptions.headers[s]);
            return o.onreadystatechange = function() {
                if (4 === o.readyState)
                    if (200 === o.status) {
                        var e, t = !1;
                        try {
                            e = JSON.parse(o.responseText), t = !0
                        } catch (e) {
                            i(!0, "JSON returned from webapp was invalid, yet status code was 200. Data was: " + o.responseText)
                        }
                        t && i(!1, e)
                    } else {
                        var r = a.default.buildLogSuffix("authenticationEndpoint");
                        n.default.warn("Couldn't retrieve authentication info. " + o.status + "Clients must be authenticated to join private or presence channels. " + r), i(!0, o.status)
                    }
            }, o.send(this.composeQuery(t)), o
        }
    }, function(e, t, i) {
        "use strict";
        var n = i(9),
            r = i(1),
            a = {
                debug: function() {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t - 0] = arguments[t];
                    r.default.log && r.default.log(n.stringify.apply(this, arguments))
                },
                warn: function() {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t - 0] = arguments[t];
                    var i = n.stringify.apply(this, arguments);
                    r.default.log ? r.default.log(i) : window.console && (window.console.warn ? window.console.warn(i) : window.console.log && window.console.log(i))
                }
            };
        t.__esModule = !0, t.default = a
    }, function(e, t, i) {
        "use strict";

        function n(e, t) {
            for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && t(e[i], i, e)
        }

        function r(e, t) {
            for (var i = [], n = 0; n < e.length; n++) i.push(t(e[n], n, e, i));
            return i
        }

        function a(e, t) {
            var i = {};
            return n(e, function(e, n) {
                i[n] = t(e)
            }), i
        }

        function o(e, t) {
            var i = {};
            return n(e, function(n, r) {
                (t && t(n, r, e, i) || Boolean(n)) && (i[r] = n)
            }), i
        }

        function s(e) {
            var t = [];
            return n(e, function(e, i) {
                t.push([i, e])
            }), t
        }

        function l(e) {
            return a(e, function(e) {
                return "object" == typeof e && (e = u(e)), encodeURIComponent(d.default(e.toString()))
            })
        }

        function c(e) {
            var t = [],
                i = [];
            return function e(n, r) {
                var a, o, s;
                switch (typeof n) {
                    case "object":
                        if (!n) return null;
                        for (a = 0; a < t.length; a += 1)
                            if (t[a] === n) return {
                                $ref: i[a]
                            };
                        if (t.push(n), i.push(r), "[object Array]" === Object.prototype.toString.apply(n))
                            for (s = [], a = 0; a < n.length; a += 1) s[a] = e(n[a], r + "[" + a + "]");
                        else
                            for (o in s = {}, n) Object.prototype.hasOwnProperty.call(n, o) && (s[o] = e(n[o], r + "[" + JSON.stringify(o) + "]"));
                        return s;
                    case "number":
                    case "string":
                    case "boolean":
                        return n
                }
            }(e, "$")
        }

        function u(e) {
            try {
                return JSON.stringify(e)
            } catch (t) {
                return JSON.stringify(c(e))
            }
        }
        var d = i(10),
            h = i(11);
        t.extend = function e(t) {
            for (var i = [], n = 1; n < arguments.length; n++) i[n - 1] = arguments[n];
            for (var r = 0; r < i.length; r++) {
                var a = i[r];
                for (var o in a) t[o] = a[o] && a[o].constructor && a[o].constructor === Object ? e(t[o] || {}, a[o]) : a[o]
            }
            return t
        }, t.stringify = function() {
            for (var e = ["Pusher"], t = 0; t < arguments.length; t++) e.push("string" == typeof arguments[t] ? arguments[t] : u(arguments[t]));
            return e.join(" : ")
        }, t.arrayIndexOf = function(e, t) {
            var i = Array.prototype.indexOf;
            if (null === e) return -1;
            if (i && e.indexOf === i) return e.indexOf(t);
            for (var n = 0, r = e.length; n < r; n++)
                if (e[n] === t) return n;
            return -1
        }, t.objectApply = n, t.keys = function(e) {
            var t = [];
            return n(e, function(e, i) {
                t.push(i)
            }), t
        }, t.values = function(e) {
            var t = [];
            return n(e, function(e) {
                t.push(e)
            }), t
        }, t.apply = function(e, t, i) {
            for (var n = 0; n < e.length; n++) t.call(i || window, e[n], n, e)
        }, t.map = r, t.mapObject = a, t.filter = function(e, t) {
            t = t || function(e) {
                return !!e
            };
            for (var i = [], n = 0; n < e.length; n++) t(e[n], n, e, i) && i.push(e[n]);
            return i
        }, t.filterObject = o, t.flatten = s, t.any = function(e, t) {
            for (var i = 0; i < e.length; i++)
                if (t(e[i], i, e)) return !0;
            return !1
        }, t.all = function(e, t) {
            for (var i = 0; i < e.length; i++)
                if (!t(e[i], i, e)) return !1;
            return !0
        }, t.encodeParamsObject = l, t.buildQueryString = function(e) {
            return r(s(l(o(e, function(e) {
                return void 0 !== e
            }))), h.default.method("join", "=")).join("&")
        }, t.decycleObject = c, t.safeJSONStringify = u
    }, function(e, t, i) {
        "use strict";
        t.__esModule = !0, t.default = function(e) {
            return d(c(e))
        };
        for (var n = String.fromCharCode, r = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", a = {}, o = 0, s = r.length; o < s; o++) a[r.charAt(o)] = o;
        var l = function(e) {
                var t = e.charCodeAt(0);
                return t < 128 ? e : t < 2048 ? n(192 | t >>> 6) + n(128 | 63 & t) : n(224 | t >>> 12 & 15) + n(128 | t >>> 6 & 63) + n(128 | 63 & t)
            },
            c = function(e) {
                return e.replace(/[^\x00-\x7F]/g, l)
            },
            u = function(e) {
                var t = [0, 2, 1][e.length % 3],
                    i = e.charCodeAt(0) << 16 | (e.length > 1 ? e.charCodeAt(1) : 0) << 8 | (e.length > 2 ? e.charCodeAt(2) : 0);
                return [r.charAt(i >>> 18), r.charAt(i >>> 12 & 63), t >= 2 ? "=" : r.charAt(i >>> 6 & 63), t >= 1 ? "=" : r.charAt(63 & i)].join("")
            },
            d = window.btoa || function(e) {
                return e.replace(/[\s\S]{1,3}/g, u)
            }
    }, function(e, t, i) {
        "use strict";
        var n = i(12),
            r = {
                now: function() {
                    return Date.now ? Date.now() : (new Date).valueOf()
                },
                defer: function(e) {
                    return new n.OneOffTimer(0, e)
                },
                method: function(e) {
                    for (var t = [], i = 1; i < arguments.length; i++) t[i - 1] = arguments[i];
                    var n = Array.prototype.slice.call(arguments, 1);
                    return function(t) {
                        return t[e].apply(t, n.concat(arguments))
                    }
                }
            };
        t.__esModule = !0, t.default = r
    }, function(e, t, i) {
        "use strict";

        function n(e) {
            window.clearTimeout(e)
        }

        function r(e) {
            window.clearInterval(e)
        }
        var a = this && this.__extends || function(e, t) {
                function i() {
                    this.constructor = e
                }
                for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
                e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i)
            },
            o = i(13),
            s = function(e) {
                function t(t, i) {
                    e.call(this, setTimeout, n, t, function(e) {
                        return i(), null
                    })
                }
                return a(t, e), t
            }(o.default);
        t.OneOffTimer = s;
        var l = function(e) {
            function t(t, i) {
                e.call(this, setInterval, r, t, function(e) {
                    return i(), e
                })
            }
            return a(t, e), t
        }(o.default);
        t.PeriodicTimer = l
    }, function(e, t) {
        "use strict";
        var i = function() {
            function e(e, t, i, n) {
                var r = this;
                this.clear = t, this.timer = e(function() {
                    r.timer && (r.timer = n(r.timer))
                }, i)
            }
            return e.prototype.isRunning = function() {
                return null !== this.timer
            }, e.prototype.ensureAborted = function() {
                this.timer && (this.clear(this.timer), this.timer = null)
            }, e
        }();
        t.__esModule = !0, t.default = i
    }, function(e, t) {
        "use strict";
        var i = {
            baseUrl: "https://pusher.com",
            urls: {
                authenticationEndpoint: {
                    path: "/docs/authenticating_users"
                },
                javascriptQuickStart: {
                    path: "/docs/javascript_quick_start"
                }
            }
        };
        t.__esModule = !0, t.default = {
            buildLogSuffix: function(e) {
                var t, n = i.urls[e];
                return n ? (n.fullUrl ? t = n.fullUrl : n.path && (t = i.baseUrl + n.path), t ? "See: " + t : "") : ""
            }
        }
    }, function(e, t, i) {
        "use strict";
        var n = i(8);
        t.__esModule = !0, t.default = function(e, t, i) {
            void 0 !== this.authOptions.headers && n.default.warn("Warn", "To send headers with the auth request, you must use AJAX, rather than JSONP.");
            var r = e.nextAuthCallbackID.toString();
            e.nextAuthCallbackID++;
            var a = e.getDocument(),
                o = a.createElement("script");
            e.auth_callbacks[r] = function(e) {
                i(!1, e)
            }, o.src = this.options.authEndpoint + "?callback=" + encodeURIComponent("Pusher.auth_callbacks['" + r + "']") + "&" + this.composeQuery(t);
            var s = a.getElementsByTagName("head")[0] || a.documentElement;
            s.insertBefore(o, s.firstChild)
        }
    }, function(e, t) {
        "use strict";
        var i = function() {
            function e(e) {
                this.src = e
            }
            return e.prototype.send = function(e) {
                var t = this,
                    i = "Error loading " + t.src;
                t.script = document.createElement("script"), t.script.id = e.id, t.script.src = t.src, t.script.type = "text/javascript", t.script.charset = "UTF-8", t.script.addEventListener ? (t.script.onerror = function() {
                    e.callback(i)
                }, t.script.onload = function() {
                    e.callback(null)
                }) : t.script.onreadystatechange = function() {
                    "loaded" !== t.script.readyState && "complete" !== t.script.readyState || e.callback(null)
                }, void 0 === t.script.async && document.attachEvent && /opera/i.test(navigator.userAgent) ? (t.errorScript = document.createElement("script"), t.errorScript.id = e.id + "_error", t.errorScript.text = e.name + "('" + i + "');", t.script.async = t.errorScript.async = !1) : t.script.async = !0;
                var n = document.getElementsByTagName("head")[0];
                n.insertBefore(t.script, n.firstChild), t.errorScript && n.insertBefore(t.errorScript, t.script.nextSibling)
            }, e.prototype.cleanup = function() {
                this.script && (this.script.onload = this.script.onerror = null, this.script.onreadystatechange = null), this.script && this.script.parentNode && this.script.parentNode.removeChild(this.script), this.errorScript && this.errorScript.parentNode && this.errorScript.parentNode.removeChild(this.errorScript), this.script = null, this.errorScript = null
            }, e
        }();
        t.__esModule = !0, t.default = i
    }, function(e, t, i) {
        "use strict";
        var n = i(9),
            r = i(2),
            a = function() {
                function e(e, t) {
                    this.url = e, this.data = t
                }
                return e.prototype.send = function(e) {
                    if (!this.request) {
                        var t = n.buildQueryString(this.data);
                        this.request = r.default.createScriptRequest(this.url + "/" + e.number + "?" + t), this.request.send(e)
                    }
                }, e.prototype.cleanup = function() {
                    this.request && this.request.cleanup()
                }, e
            }();
        t.__esModule = !0, t.default = a
    }, function(e, t, i) {
        "use strict";
        var n = i(2),
            r = i(4),
            a = {
                name: "jsonp",
                getAgent: function(e, t) {
                    return function(i, a) {
                        var o = n.default.createJSONPRequest("http" + (t ? "s" : "") + "://" + (e.host || e.options.host) + e.options.path, i),
                            s = n.default.ScriptReceivers.create(function(t, i) {
                                r.ScriptReceivers.remove(s), o.cleanup(), i && i.host && (e.host = i.host), a && a(t, i)
                            });
                        o.send(s)
                    }
                }
            };
        t.__esModule = !0, t.default = a
    }, function(e, t, i) {
        "use strict";
        var n = i(20),
            r = i(22),
            a = i(21),
            o = i(2),
            s = i(3),
            l = i(9),
            c = new r.default({
                file: "sockjs",
                urls: a.sockjs,
                handlesActivityChecks: !0,
                supportsPing: !1,
                isSupported: function() {
                    return !0
                },
                isInitialized: function() {
                    return void 0 !== window.SockJS
                },
                getSocket: function(e, t) {
                    return new window.SockJS(e, null, {
                        js_path: s.Dependencies.getPath("sockjs", {
                            useTLS: t.useTLS
                        }),
                        ignore_null_origin: t.ignoreNullOrigin
                    })
                },
                beforeOpen: function(e, t) {
                    e.send(JSON.stringify({
                        path: t
                    }))
                }
            }),
            u = {
                isSupported: function(e) {
                    return o.default.isXDRSupported(e.useTLS)
                }
            },
            d = new r.default(l.extend({}, n.streamingConfiguration, u)),
            h = new r.default(l.extend({}, n.pollingConfiguration, u));
        n.default.xdr_streaming = d, n.default.xdr_polling = h, n.default.sockjs = c, t.__esModule = !0, t.default = n.default
    }, function(e, t, i) {
        "use strict";
        var n = i(21),
            r = i(22),
            a = i(9),
            o = i(2),
            s = new r.default({
                urls: n.ws,
                handlesActivityChecks: !1,
                supportsPing: !1,
                isInitialized: function() {
                    return Boolean(o.default.getWebSocketAPI())
                },
                isSupported: function() {
                    return Boolean(o.default.getWebSocketAPI())
                },
                getSocket: function(e) {
                    return o.default.createWebSocket(e)
                }
            }),
            l = {
                urls: n.http,
                handlesActivityChecks: !1,
                supportsPing: !0,
                isInitialized: function() {
                    return !0
                }
            };
        t.streamingConfiguration = a.extend({
            getSocket: function(e) {
                return o.default.HTTPFactory.createStreamingSocket(e)
            }
        }, l), t.pollingConfiguration = a.extend({
            getSocket: function(e) {
                return o.default.HTTPFactory.createPollingSocket(e)
            }
        }, l);
        var c = {
                isSupported: function() {
                    return o.default.isXHRSupported()
                }
            },
            u = {
                ws: s,
                xhr_streaming: new r.default(a.extend({}, t.streamingConfiguration, c)),
                xhr_polling: new r.default(a.extend({}, t.pollingConfiguration, c))
            };
        t.__esModule = !0, t.default = u
    }, function(e, t, i) {
        "use strict";

        function n(e, t, i) {
            return e + (t.useTLS ? "s" : "") + "://" + (t.useTLS ? t.hostTLS : t.hostNonTLS) + i
        }

        function r(e, t) {
            return "/app/" + e + "?protocol=" + a.default.PROTOCOL + "&client=js&version=" + a.default.VERSION + (t ? "&" + t : "")
        }
        var a = i(5);
        t.ws = {
            getInitial: function(e, t) {
                return n("ws", t, (t.httpPath || "") + r(e, "flash=false"))
            }
        }, t.http = {
            getInitial: function(e, t) {
                return n("http", t, (t.httpPath || "/pusher") + r(e))
            }
        }, t.sockjs = {
            getInitial: function(e, t) {
                return n("http", t, t.httpPath || "/pusher")
            },
            getPath: function(e, t) {
                return r(e)
            }
        }
    }, function(e, t, i) {
        "use strict";
        var n = i(23),
            r = function() {
                function e(e) {
                    this.hooks = e
                }
                return e.prototype.isSupported = function(e) {
                    return this.hooks.isSupported(e)
                }, e.prototype.createConnection = function(e, t, i, r) {
                    return new n.default(this.hooks, e, t, i, r)
                }, e
            }();
        t.__esModule = !0, t.default = r
    }, function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
                function i() {
                    this.constructor = e
                }
                for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
                e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i)
            },
            r = i(11),
            a = i(9),
            o = i(24),
            s = i(8),
            l = i(2),
            c = function(e) {
                function t(t, i, n, r, a) {
                    e.call(this), this.initialize = l.default.transportConnectionInitializer, this.hooks = t, this.name = i, this.priority = n, this.key = r, this.options = a, this.state = "new", this.timeline = a.timeline, this.activityTimeout = a.activityTimeout, this.id = this.timeline.generateUniqueID()
                }
                return n(t, e), t.prototype.handlesActivityChecks = function() {
                    return Boolean(this.hooks.handlesActivityChecks)
                }, t.prototype.supportsPing = function() {
                    return Boolean(this.hooks.supportsPing)
                }, t.prototype.connect = function() {
                    var e = this;
                    if (this.socket || "initialized" !== this.state) return !1;
                    var t = this.hooks.urls.getInitial(this.key, this.options);
                    try {
                        this.socket = this.hooks.getSocket(t, this.options)
                    } catch (t) {
                        return r.default.defer(function() {
                            e.onError(t), e.changeState("closed")
                        }), !1
                    }
                    return this.bindListeners(), s.default.debug("Connecting", {
                        transport: this.name,
                        url: t
                    }), this.changeState("connecting"), !0
                }, t.prototype.close = function() {
                    return !!this.socket && (this.socket.close(), !0)
                }, t.prototype.send = function(e) {
                    var t = this;
                    return "open" === this.state && (r.default.defer(function() {
                        t.socket && t.socket.send(e)
                    }), !0)
                }, t.prototype.ping = function() {
                    "open" === this.state && this.supportsPing() && this.socket.ping()
                }, t.prototype.onOpen = function() {
                    this.hooks.beforeOpen && this.hooks.beforeOpen(this.socket, this.hooks.urls.getPath(this.key, this.options)), this.changeState("open"), this.socket.onopen = void 0
                }, t.prototype.onError = function(e) {
                    this.emit("error", {
                        type: "WebSocketError",
                        error: e
                    }), this.timeline.error(this.buildTimelineMessage({
                        error: e.toString()
                    }))
                }, t.prototype.onClose = function(e) {
                    e ? this.changeState("closed", {
                        code: e.code,
                        reason: e.reason,
                        wasClean: e.wasClean
                    }) : this.changeState("closed"), this.unbindListeners(), this.socket = void 0
                }, t.prototype.onMessage = function(e) {
                    this.emit("message", e)
                }, t.prototype.onActivity = function() {
                    this.emit("activity")
                }, t.prototype.bindListeners = function() {
                    var e = this;
                    this.socket.onopen = function() {
                        e.onOpen()
                    }, this.socket.onerror = function(t) {
                        e.onError(t)
                    }, this.socket.onclose = function(t) {
                        e.onClose(t)
                    }, this.socket.onmessage = function(t) {
                        e.onMessage(t)
                    }, this.supportsPing() && (this.socket.onactivity = function() {
                        e.onActivity()
                    })
                }, t.prototype.unbindListeners = function() {
                    this.socket && (this.socket.onopen = void 0, this.socket.onerror = void 0, this.socket.onclose = void 0, this.socket.onmessage = void 0, this.supportsPing() && (this.socket.onactivity = void 0))
                }, t.prototype.changeState = function(e, t) {
                    this.state = e, this.timeline.info(this.buildTimelineMessage({
                        state: e,
                        params: t
                    })), this.emit(e, t)
                }, t.prototype.buildTimelineMessage = function(e) {
                    return a.extend({
                        cid: this.id
                    }, e)
                }, t
            }(o.default);
        t.__esModule = !0, t.default = c
    }, function(e, t, i) {
        "use strict";
        var n = i(9),
            r = i(25),
            a = function() {
                function e(e) {
                    this.callbacks = new r.default, this.global_callbacks = [], this.failThrough = e
                }
                return e.prototype.bind = function(e, t, i) {
                    return this.callbacks.add(e, t, i), this
                }, e.prototype.bind_global = function(e) {
                    return this.global_callbacks.push(e), this
                }, e.prototype.unbind = function(e, t, i) {
                    return this.callbacks.remove(e, t, i), this
                }, e.prototype.unbind_global = function(e) {
                    return e ? (this.global_callbacks = n.filter(this.global_callbacks || [], function(t) {
                        return t !== e
                    }), this) : (this.global_callbacks = [], this)
                }, e.prototype.unbind_all = function() {
                    return this.unbind(), this.unbind_global(), this
                }, e.prototype.emit = function(e, t) {
                    var i;
                    for (i = 0; i < this.global_callbacks.length; i++) this.global_callbacks[i](e, t);
                    var n = this.callbacks.get(e);
                    if (n && n.length > 0)
                        for (i = 0; i < n.length; i++) n[i].fn.call(n[i].context || window, t);
                    else this.failThrough && this.failThrough(e, t);
                    return this
                }, e
            }();
        t.__esModule = !0, t.default = a
    }, function(e, t, i) {
        "use strict";

        function n(e) {
            return "_" + e
        }
        var r = i(9),
            a = function() {
                function e() {
                    this._callbacks = {}
                }
                return e.prototype.get = function(e) {
                    return this._callbacks[n(e)]
                }, e.prototype.add = function(e, t, i) {
                    var r = n(e);
                    this._callbacks[r] = this._callbacks[r] || [], this._callbacks[r].push({
                        fn: t,
                        context: i
                    })
                }, e.prototype.remove = function(e, t, i) {
                    if (e || t || i) {
                        var a = e ? [n(e)] : r.keys(this._callbacks);
                        t || i ? this.removeCallback(a, t, i) : this.removeAllCallbacks(a)
                    } else this._callbacks = {}
                }, e.prototype.removeCallback = function(e, t, i) {
                    r.apply(e, function(e) {
                        this._callbacks[e] = r.filter(this._callbacks[e] || [], function(e) {
                            return t && t !== e.fn || i && i !== e.context
                        }), 0 === this._callbacks[e].length && delete this._callbacks[e]
                    }, this)
                }, e.prototype.removeAllCallbacks = function(e) {
                    r.apply(e, function(e) {
                        delete this._callbacks[e]
                    }, this)
                }, e
            }();
        t.__esModule = !0, t.default = a
    }, function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
                function i() {
                    this.constructor = e
                }
                for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
                e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i)
            },
            r = function(e) {
                function t() {
                    e.call(this);
                    var t = this;
                    void 0 !== window.addEventListener && (window.addEventListener("online", function() {
                        t.emit("online")
                    }, !1), window.addEventListener("offline", function() {
                        t.emit("offline")
                    }, !1))
                }
                return n(t, e), t.prototype.isOnline = function() {
                    return void 0 === window.navigator.onLine || window.navigator.onLine
                }, t
            }(i(24).default);
        t.NetInfo = r, t.Network = new r
    }, function(e, t) {
        "use strict";
        t.__esModule = !0, t.default = function(e) {
            return [
                [":def", "ws_options", {
                    hostNonTLS: e.wsHost + ":" + e.wsPort,
                    hostTLS: e.wsHost + ":" + e.wssPort,
                    httpPath: e.wsPath
                }],
                [":def", "wss_options", [":extend", ":ws_options", {
                    useTLS: !0
                }]],
                [":def", "sockjs_options", {
                    hostNonTLS: e.httpHost + ":" + e.httpPort,
                    hostTLS: e.httpHost + ":" + e.httpsPort,
                    httpPath: e.httpPath
                }],
                [":def", "timeouts", {
                    loop: !0,
                    timeout: 15e3,
                    timeoutLimit: 6e4
                }],
                [":def", "ws_manager", [":transport_manager", {
                    lives: 2,
                    minPingDelay: 1e4,
                    maxPingDelay: e.activity_timeout
                }]],
                [":def", "streaming_manager", [":transport_manager", {
                    lives: 2,
                    minPingDelay: 1e4,
                    maxPingDelay: e.activity_timeout
                }]],
                [":def_transport", "ws", "ws", 3, ":ws_options", ":ws_manager"],
                [":def_transport", "wss", "ws", 3, ":wss_options", ":ws_manager"],
                [":def_transport", "sockjs", "sockjs", 1, ":sockjs_options"],
                [":def_transport", "xhr_streaming", "xhr_streaming", 1, ":sockjs_options", ":streaming_manager"],
                [":def_transport", "xdr_streaming", "xdr_streaming", 1, ":sockjs_options", ":streaming_manager"],
                [":def_transport", "xhr_polling", "xhr_polling", 1, ":sockjs_options"],
                [":def_transport", "xdr_polling", "xdr_polling", 1, ":sockjs_options"],
                [":def", "ws_loop", [":sequential", ":timeouts", ":ws"]],
                [":def", "wss_loop", [":sequential", ":timeouts", ":wss"]],
                [":def", "sockjs_loop", [":sequential", ":timeouts", ":sockjs"]],
                [":def", "streaming_loop", [":sequential", ":timeouts", [":if", [":is_supported", ":xhr_streaming"], ":xhr_streaming", ":xdr_streaming"]]],
                [":def", "polling_loop", [":sequential", ":timeouts", [":if", [":is_supported", ":xhr_polling"], ":xhr_polling", ":xdr_polling"]]],
                [":def", "http_loop", [":if", [":is_supported", ":streaming_loop"],
                    [":best_connected_ever", ":streaming_loop", [":delayed", 4e3, [":polling_loop"]]],
                    [":polling_loop"]
                ]],
                [":def", "http_fallback_loop", [":if", [":is_supported", ":http_loop"],
                    [":http_loop"],
                    [":sockjs_loop"]
                ]],
                [":def", "strategy", [":cached", 18e5, [":first_connected", [":if", [":is_supported", ":ws"], e.useTLS ? [":best_connected_ever", ":ws_loop", [":delayed", 2e3, [":http_fallback_loop"]]] : [":best_connected_ever", ":ws_loop", [":delayed", 2e3, [":wss_loop"]],
                    [":delayed", 5e3, [":http_fallback_loop"]]
                ], ":http_fallback_loop"]]]]
            ]
        }
    }, function(e, t, i) {
        "use strict";
        var n = i(3);
        t.__esModule = !0, t.default = function() {
            var e = this;
            e.timeline.info(e.buildTimelineMessage({
                transport: e.name + (e.options.useTLS ? "s" : "")
            })), e.hooks.isInitialized() ? e.changeState("initialized") : e.hooks.file ? (e.changeState("initializing"), n.Dependencies.load(e.hooks.file, {
                useTLS: e.options.useTLS
            }, function(t, i) {
                e.hooks.isInitialized() ? (e.changeState("initialized"), i(!0)) : (t && e.onError(t), e.onClose(), i(!1))
            })) : e.onClose()
        }
    }, function(e, t, i) {
        "use strict";
        var n = i(30),
            r = i(32);
        r.default.createXDR = function(e, t) {
            return this.createRequest(n.default, e, t)
        }, t.__esModule = !0, t.default = r.default
    }, function(e, t, i) {
        "use strict";
        var n = i(31),
            r = {
                getRequest: function(e) {
                    var t = new window.XDomainRequest;
                    return t.ontimeout = function() {
                        e.emit("error", new n.RequestTimedOut), e.close()
                    }, t.onerror = function(t) {
                        e.emit("error", t), e.close()
                    }, t.onprogress = function() {
                        t.responseText && t.responseText.length > 0 && e.onChunk(200, t.responseText)
                    }, t.onload = function() {
                        t.responseText && t.responseText.length > 0 && e.onChunk(200, t.responseText), e.emit("finished", 200), e.close()
                    }, t
                },
                abortRequest: function(e) {
                    e.ontimeout = e.onerror = e.onprogress = e.onload = null, e.abort()
                }
            };
        t.__esModule = !0, t.default = r
    }, function(e, t) {
        "use strict";
        var i = this && this.__extends || function(e, t) {
                function i() {
                    this.constructor = e
                }
                for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
                e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i)
            },
            n = function(e) {
                function t() {
                    e.apply(this, arguments)
                }
                return i(t, e), t
            }(Error);
        t.BadEventName = n;
        var r = function(e) {
            function t() {
                e.apply(this, arguments)
            }
            return i(t, e), t
        }(Error);
        t.RequestTimedOut = r;
        var a = function(e) {
            function t() {
                e.apply(this, arguments)
            }
            return i(t, e), t
        }(Error);
        t.TransportPriorityTooLow = a;
        var o = function(e) {
            function t() {
                e.apply(this, arguments)
            }
            return i(t, e), t
        }(Error);
        t.TransportClosed = o;
        var s = function(e) {
            function t() {
                e.apply(this, arguments)
            }
            return i(t, e), t
        }(Error);
        t.UnsupportedFeature = s;
        var l = function(e) {
            function t() {
                e.apply(this, arguments)
            }
            return i(t, e), t
        }(Error);
        t.UnsupportedTransport = l;
        var c = function(e) {
            function t() {
                e.apply(this, arguments)
            }
            return i(t, e), t
        }(Error);
        t.UnsupportedStrategy = c
    }, function(e, t, i) {
        "use strict";
        var n = i(33),
            r = i(34),
            a = i(36),
            o = i(37),
            s = i(38),
            l = {
                createStreamingSocket: function(e) {
                    return this.createSocket(a.default, e)
                },
                createPollingSocket: function(e) {
                    return this.createSocket(o.default, e)
                },
                createSocket: function(e, t) {
                    return new r.default(e, t)
                },
                createXHR: function(e, t) {
                    return this.createRequest(s.default, e, t)
                },
                createRequest: function(e, t, i) {
                    return new n.default(e, t, i)
                }
            };
        t.__esModule = !0, t.default = l
    }, function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
                function i() {
                    this.constructor = e
                }
                for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
                e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i)
            },
            r = i(2),
            a = function(e) {
                function t(t, i, n) {
                    e.call(this), this.hooks = t, this.method = i, this.url = n
                }
                return n(t, e), t.prototype.start = function(e) {
                    var t = this;
                    this.position = 0, this.xhr = this.hooks.getRequest(this), this.unloader = function() {
                        t.close()
                    }, r.default.addUnloadListener(this.unloader), this.xhr.open(this.method, this.url, !0), this.xhr.setRequestHeader && this.xhr.setRequestHeader("Content-Type", "application/json"), this.xhr.send(e)
                }, t.prototype.close = function() {
                    this.unloader && (r.default.removeUnloadListener(this.unloader), this.unloader = null), this.xhr && (this.hooks.abortRequest(this.xhr), this.xhr = null)
                }, t.prototype.onChunk = function(e, t) {
                    for (;;) {
                        var i = this.advanceBuffer(t);
                        if (!i) break;
                        this.emit("chunk", {
                            status: e,
                            data: i
                        })
                    }
                    this.isBufferTooLong(t) && this.emit("buffer_too_long")
                }, t.prototype.advanceBuffer = function(e) {
                    var t = e.slice(this.position),
                        i = t.indexOf("\n");
                    return -1 !== i ? (this.position += i + 1, t.slice(0, i)) : null
                }, t.prototype.isBufferTooLong = function(e) {
                    return this.position === e.length && e.length > 262144
                }, t
            }(i(24).default);
        t.__esModule = !0, t.default = a
    }, function(e, t, i) {
        "use strict";

        function n(e) {
            var t = -1 === e.indexOf("?") ? "?" : "&";
            return e + t + "t=" + +new Date + "&n=" + l++
        }

        function r(e) {
            return Math.floor(Math.random() * e)
        }
        var a = i(35),
            o = i(11),
            s = i(2),
            l = 1,
            c = function() {
                function e(e, t) {
                    this.hooks = e, this.session = r(1e3) + "/" + function(e) {
                        for (var t = [], i = 0; i < 8; i++) t.push(r(32).toString(32));
                        return t.join("")
                    }(), this.location = function(e) {
                        var t = /([^\?]*)\/*(\??.*)/.exec(e);
                        return {
                            base: t[1],
                            queryString: t[2]
                        }
                    }(t), this.readyState = a.default.CONNECTING, this.openStream()
                }
                return e.prototype.send = function(e) {
                    return this.sendRaw(JSON.stringify([e]))
                }, e.prototype.ping = function() {
                    this.hooks.sendHeartbeat(this)
                }, e.prototype.close = function(e, t) {
                    this.onClose(e, t, !0)
                }, e.prototype.sendRaw = function(e) {
                    if (this.readyState !== a.default.OPEN) return !1;
                    try {
                        return s.default.createSocketRequest("POST", n(function(e, t) {
                            return e.base + "/" + t + "/xhr_send"
                        }(this.location, this.session))).start(e), !0
                    } catch (e) {
                        return !1
                    }
                }, e.prototype.reconnect = function() {
                    this.closeStream(), this.openStream()
                }, e.prototype.onClose = function(e, t, i) {
                    this.closeStream(), this.readyState = a.default.CLOSED, this.onclose && this.onclose({
                        code: e,
                        reason: t,
                        wasClean: i
                    })
                }, e.prototype.onChunk = function(e) {
                    var t;
                    if (200 === e.status) switch (this.readyState === a.default.OPEN && this.onActivity(), e.data.slice(0, 1)) {
                        case "o":
                            t = JSON.parse(e.data.slice(1) || "{}"), this.onOpen(t);
                            break;
                        case "a":
                            t = JSON.parse(e.data.slice(1) || "[]");
                            for (var i = 0; i < t.length; i++) this.onEvent(t[i]);
                            break;
                        case "m":
                            t = JSON.parse(e.data.slice(1) || "null"), this.onEvent(t);
                            break;
                        case "h":
                            this.hooks.onHeartbeat(this);
                            break;
                        case "c":
                            t = JSON.parse(e.data.slice(1) || "[]"), this.onClose(t[0], t[1], !0)
                    }
                }, e.prototype.onOpen = function(e) {
                    this.readyState === a.default.CONNECTING ? (e && e.hostname && (this.location.base = function(e, t) {
                        var i = /(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(e);
                        return i[1] + t + i[3]
                    }(this.location.base, e.hostname)), this.readyState = a.default.OPEN, this.onopen && this.onopen()) : this.onClose(1006, "Server lost session", !0)
                }, e.prototype.onEvent = function(e) {
                    this.readyState === a.default.OPEN && this.onmessage && this.onmessage({
                        data: e
                    })
                }, e.prototype.onActivity = function() {
                    this.onactivity && this.onactivity()
                }, e.prototype.onError = function(e) {
                    this.onerror && this.onerror(e)
                }, e.prototype.openStream = function() {
                    var e = this;
                    this.stream = s.default.createSocketRequest("POST", n(this.hooks.getReceiveURL(this.location, this.session))), this.stream.bind("chunk", function(t) {
                        e.onChunk(t)
                    }), this.stream.bind("finished", function(t) {
                        e.hooks.onFinished(e, t)
                    }), this.stream.bind("buffer_too_long", function() {
                        e.reconnect()
                    });
                    try {
                        this.stream.start()
                    } catch (t) {
                        o.default.defer(function() {
                            e.onError(t), e.onClose(1006, "Could not start streaming", !1)
                        })
                    }
                }, e.prototype.closeStream = function() {
                    this.stream && (this.stream.unbind_all(), this.stream.close(), this.stream = null)
                }, e
            }();
        t.__esModule = !0, t.default = c
    }, function(e, t) {
        "use strict";
        var i;
        ! function(e) {
            e[e.CONNECTING = 0] = "CONNECTING", e[e.OPEN = 1] = "OPEN", e[e.CLOSED = 3] = "CLOSED"
        }(i || (i = {})), t.__esModule = !0, t.default = i
    }, function(e, t) {
        "use strict";
        t.__esModule = !0, t.default = {
            getReceiveURL: function(e, t) {
                return e.base + "/" + t + "/xhr_streaming" + e.queryString
            },
            onHeartbeat: function(e) {
                e.sendRaw("[]")
            },
            sendHeartbeat: function(e) {
                e.sendRaw("[]")
            },
            onFinished: function(e, t) {
                e.onClose(1006, "Connection interrupted (" + t + ")", !1)
            }
        }
    }, function(e, t) {
        "use strict";
        t.__esModule = !0, t.default = {
            getReceiveURL: function(e, t) {
                return e.base + "/" + t + "/xhr" + e.queryString
            },
            onHeartbeat: function() {},
            sendHeartbeat: function(e) {
                e.sendRaw("[]")
            },
            onFinished: function(e, t) {
                200 === t ? e.reconnect() : e.onClose(1006, "Connection interrupted (" + t + ")", !1)
            }
        }
    }, function(e, t, i) {
        "use strict";
        var n = i(2),
            r = {
                getRequest: function(e) {
                    var t = new(n.default.getXHRAPI());
                    return t.onreadystatechange = t.onprogress = function() {
                        switch (t.readyState) {
                            case 3:
                                t.responseText && t.responseText.length > 0 && e.onChunk(t.status, t.responseText);
                                break;
                            case 4:
                                t.responseText && t.responseText.length > 0 && e.onChunk(t.status, t.responseText), e.emit("finished", t.status), e.close()
                        }
                    }, t
                },
                abortRequest: function(e) {
                    e.onreadystatechange = null, e.abort()
                }
            };
        t.__esModule = !0, t.default = r
    }, function(e, t, i) {
        "use strict";
        var n = i(9),
            r = i(11),
            a = i(40),
            o = function() {
                function e(e, t, i) {
                    this.key = e, this.session = t, this.events = [], this.options = i || {}, this.sent = 0, this.uniqueID = 0
                }
                return e.prototype.log = function(e, t) {
                    e <= this.options.level && (this.events.push(n.extend({}, t, {
                        timestamp: r.default.now()
                    })), this.options.limit && this.events.length > this.options.limit && this.events.shift())
                }, e.prototype.error = function(e) {
                    this.log(a.default.ERROR, e)
                }, e.prototype.info = function(e) {
                    this.log(a.default.INFO, e)
                }, e.prototype.debug = function(e) {
                    this.log(a.default.DEBUG, e)
                }, e.prototype.isEmpty = function() {
                    return 0 === this.events.length
                }, e.prototype.send = function(e, t) {
                    var i = this,
                        r = n.extend({
                            session: this.session,
                            bundle: this.sent + 1,
                            key: this.key,
                            lib: "js",
                            version: this.options.version,
                            cluster: this.options.cluster,
                            features: this.options.features,
                            timeline: this.events
                        }, this.options.params);
                    return this.events = [], e(r, function(e, n) {
                        e || i.sent++, t && t(e, n)
                    }), !0
                }, e.prototype.generateUniqueID = function() {
                    return this.uniqueID++, this.uniqueID
                }, e
            }();
        t.__esModule = !0, t.default = o
    }, function(e, t) {
        "use strict";
        var i;
        ! function(e) {
            e[e.ERROR = 3] = "ERROR", e[e.INFO = 6] = "INFO", e[e.DEBUG = 7] = "DEBUG"
        }(i || (i = {})), t.__esModule = !0, t.default = i
    }, function(e, t, i) {
        "use strict";

        function n(e) {
            return function(t) {
                return [e.apply(this, arguments), t]
            }
        }

        function r(e) {
            return "string" == typeof e && ":" === e.charAt(0)
        }

        function a(e, t) {
            return t[e.slice(1)]
        }
        var o = i(9),
            s = i(11),
            l = i(42),
            c = i(31),
            u = i(64),
            d = i(65),
            h = i(66),
            p = i(67),
            f = i(68),
            m = i(69),
            g = i(70),
            y = i(2).default.Transports;
        t.build = function(e, t) {
            return function e(t, i) {
                return "string" == typeof t ? function(e, t) {
                    if (!r(e)) return [e, t];
                    var i = a(e, t);
                    if (void 0 === i) throw "Undefined symbol " + e;
                    return [i, t]
                }(t, i) : "object" == typeof t && t instanceof Array && t.length > 0 ? function(t, i) {
                    if (r(t[0])) {
                        var n = a(t[0], i);
                        if (t.length > 1) {
                            if ("function" != typeof n) throw "Calling non-function " + t[0];
                            var s = [o.extend({}, i)].concat(o.map(t.slice(1), function(t) {
                                return e(t, o.extend({}, i))[0]
                            }));
                            return n.apply(this, s)
                        }
                        return [n, i]
                    }
                    return function t(i, n) {
                        if (0 === i.length) return [
                            [], n
                        ];
                        var r = e(i[0], n),
                            a = t(i.slice(1), r[1]);
                        return [
                            [r[0]].concat(a[0]), a[1]
                        ]
                    }(t, i)
                }(t, i) : [t, i]
            }(e, o.extend({}, b, t))[1].strategy
        };
        var v = {
                isSupported: function() {
                    return !1
                },
                connect: function(e, t) {
                    var i = s.default.defer(function() {
                        t(new c.UnsupportedStrategy)
                    });
                    return {
                        abort: function() {
                            i.ensureAborted()
                        },
                        forceMinPriority: function() {}
                    }
                }
            },
            b = {
                extend: function(e, t, i) {
                    return [o.extend({}, t, i), e]
                },
                def: function(e, t, i) {
                    if (void 0 !== e[t]) throw "Redefining symbol " + t;
                    return e[t] = i, [void 0, e]
                },
                def_transport: function(e, t, i, n, r, a) {
                    var s, l = y[i];
                    if (!l) throw new c.UnsupportedTransport(i);
                    s = e.enabledTransports && -1 === o.arrayIndexOf(e.enabledTransports, t) || e.disabledTransports && -1 !== o.arrayIndexOf(e.disabledTransports, t) ? v : new u.default(t, n, a ? a.getAssistant(l) : l, o.extend({
                        key: e.key,
                        useTLS: e.useTLS,
                        timeline: e.timeline,
                        ignoreNullOrigin: e.ignoreNullOrigin
                    }, r));
                    var d = e.def(e, t, s)[1];
                    return d.Transports = e.Transports || {}, d.Transports[t] = s, [void 0, d]
                },
                transport_manager: n(function(e, t) {
                    return new l.default(t)
                }),
                sequential: n(function(e, t) {
                    var i = Array.prototype.slice.call(arguments, 2);
                    return new d.default(i, t)
                }),
                cached: n(function(e, t, i) {
                    return new p.default(i, e.Transports, {
                        ttl: t,
                        timeline: e.timeline,
                        useTLS: e.useTLS
                    })
                }),
                first_connected: n(function(e, t) {
                    return new g.default(t)
                }),
                best_connected_ever: n(function() {
                    var e = Array.prototype.slice.call(arguments, 1);
                    return new h.default(e)
                }),
                delayed: n(function(e, t, i) {
                    return new f.default(i, {
                        delay: t
                    })
                }),
                if: n(function(e, t, i, n) {
                    return new m.default(t, i, n)
                }),
                is_supported: n(function(e, t) {
                    return function() {
                        return t.isSupported()
                    }
                })
            }
    }, function(e, t, i) {
        "use strict";
        var n = i(43),
            r = function() {
                function e(e) {
                    this.options = e || {}, this.livesLeft = this.options.lives || 1 / 0
                }
                return e.prototype.getAssistant = function(e) {
                    return n.default.createAssistantToTheTransportManager(this, e, {
                        minPingDelay: this.options.minPingDelay,
                        maxPingDelay: this.options.maxPingDelay
                    })
                }, e.prototype.isAlive = function() {
                    return this.livesLeft > 0
                }, e.prototype.reportDeath = function() {
                    this.livesLeft -= 1
                }, e
            }();
        t.__esModule = !0, t.default = r
    }, function(e, t, i) {
        "use strict";
        var n = i(44),
            r = i(45),
            a = i(48),
            o = i(49),
            s = i(50),
            l = i(51),
            c = i(54),
            u = i(52),
            d = i(62),
            h = i(63),
            p = {
                createChannels: function() {
                    return new h.default
                },
                createConnectionManager: function(e, t) {
                    return new d.default(e, t)
                },
                createChannel: function(e, t) {
                    return new u.default(e, t)
                },
                createPrivateChannel: function(e, t) {
                    return new l.default(e, t)
                },
                createPresenceChannel: function(e, t) {
                    return new s.default(e, t)
                },
                createEncryptedChannel: function(e, t) {
                    return new c.default(e, t)
                },
                createTimelineSender: function(e, t) {
                    return new o.default(e, t)
                },
                createAuthorizer: function(e, t) {
                    return t.authorizer ? t.authorizer(e, t) : new a.default(e, t)
                },
                createHandshake: function(e, t) {
                    return new r.default(e, t)
                },
                createAssistantToTheTransportManager: function(e, t, i) {
                    return new n.default(e, t, i)
                }
            };
        t.__esModule = !0, t.default = p
    }, function(e, t, i) {
        "use strict";
        var n = i(11),
            r = i(9),
            a = function() {
                function e(e, t, i) {
                    this.manager = e, this.transport = t, this.minPingDelay = i.minPingDelay, this.maxPingDelay = i.maxPingDelay, this.pingDelay = void 0
                }
                return e.prototype.createConnection = function(e, t, i, a) {
                    var o = this;
                    a = r.extend({}, a, {
                        activityTimeout: this.pingDelay
                    });
                    var s = this.transport.createConnection(e, t, i, a),
                        l = null,
                        c = function() {
                            s.unbind("open", c), s.bind("closed", u), l = n.default.now()
                        },
                        u = function(e) {
                            if (s.unbind("closed", u), 1002 === e.code || 1003 === e.code) o.manager.reportDeath();
                            else if (!e.wasClean && l) {
                                var t = n.default.now() - l;
                                t < 2 * o.maxPingDelay && (o.manager.reportDeath(), o.pingDelay = Math.max(t / 2, o.minPingDelay))
                            }
                        };
                    return s.bind("open", c), s
                }, e.prototype.isSupported = function(e) {
                    return this.manager.isAlive() && this.transport.isSupported(e)
                }, e
            }();
        t.__esModule = !0, t.default = a
    }, function(e, t, i) {
        "use strict";
        var n = i(9),
            r = i(46),
            a = i(47),
            o = function() {
                function e(e, t) {
                    this.transport = e, this.callback = t, this.bindListeners()
                }
                return e.prototype.close = function() {
                    this.unbindListeners(), this.transport.close()
                }, e.prototype.bindListeners = function() {
                    var e = this;
                    this.onMessage = function(t) {
                        var i;
                        e.unbindListeners();
                        try {
                            i = r.processHandshake(t)
                        } catch (t) {
                            return e.finish("error", {
                                error: t
                            }), void e.transport.close()
                        }
                        "connected" === i.action ? e.finish("connected", {
                            connection: new a.default(i.id, e.transport),
                            activityTimeout: i.activityTimeout
                        }) : (e.finish(i.action, {
                            error: i.error
                        }), e.transport.close())
                    }, this.onClosed = function(t) {
                        e.unbindListeners();
                        var i = r.getCloseAction(t) || "backoff",
                            n = r.getCloseError(t);
                        e.finish(i, {
                            error: n
                        })
                    }, this.transport.bind("message", this.onMessage), this.transport.bind("closed", this.onClosed)
                }, e.prototype.unbindListeners = function() {
                    this.transport.unbind("message", this.onMessage), this.transport.unbind("closed", this.onClosed)
                }, e.prototype.finish = function(e, t) {
                    this.callback(n.extend({
                        transport: this.transport,
                        action: e
                    }, t))
                }, e
            }();
        t.__esModule = !0, t.default = o
    }, function(e, t) {
        "use strict";
        t.decodeMessage = function(e) {
            try {
                var t = JSON.parse(e.data);
                if ("string" == typeof t.data) try {
                    t.data = JSON.parse(t.data)
                } catch (e) {
                    if (!(e instanceof SyntaxError)) throw e
                }
                return t
            } catch (t) {
                throw {
                    type: "MessageParseError",
                    error: t,
                    data: e.data
                }
            }
        }, t.encodeMessage = function(e) {
            return JSON.stringify(e)
        }, t.processHandshake = function(e) {
            if ("pusher:connection_established" === (e = t.decodeMessage(e)).event) {
                if (!e.data.activity_timeout) throw "No activity timeout specified in handshake";
                return {
                    action: "connected",
                    id: e.data.socket_id,
                    activityTimeout: 1e3 * e.data.activity_timeout
                }
            }
            if ("pusher:error" === e.event) return {
                action: this.getCloseAction(e.data),
                error: this.getCloseError(e.data)
            };
            throw "Invalid handshake"
        }, t.getCloseAction = function(e) {
            return e.code < 4e3 ? e.code >= 1002 && e.code <= 1004 ? "backoff" : null : 4e3 === e.code ? "tls_only" : e.code < 4100 ? "refused" : e.code < 4200 ? "backoff" : e.code < 4300 ? "retry" : "refused"
        }, t.getCloseError = function(e) {
            return 1e3 !== e.code && 1001 !== e.code ? {
                type: "PusherError",
                data: {
                    code: e.code,
                    message: e.reason || e.message
                }
            } : null
        }
    }, function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
                function i() {
                    this.constructor = e
                }
                for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
                e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i)
            },
            r = i(9),
            a = i(24),
            o = i(46),
            s = i(8),
            l = function(e) {
                function t(t, i) {
                    e.call(this), this.id = t, this.transport = i, this.activityTimeout = i.activityTimeout, this.bindListeners()
                }
                return n(t, e), t.prototype.handlesActivityChecks = function() {
                    return this.transport.handlesActivityChecks()
                }, t.prototype.send = function(e) {
                    return this.transport.send(e)
                }, t.prototype.send_event = function(e, t, i) {
                    var n = {
                        event: e,
                        data: t
                    };
                    return i && (n.channel = i), s.default.debug("Event sent", n), this.send(o.encodeMessage(n))
                }, t.prototype.ping = function() {
                    this.transport.supportsPing() ? this.transport.ping() : this.send_event("pusher:ping", {})
                }, t.prototype.close = function() {
                    this.transport.close()
                }, t.prototype.bindListeners = function() {
                    var e = this,
                        t = {
                            message: function(t) {
                                var i;
                                try {
                                    i = o.decodeMessage(t)
                                } catch (i) {
                                    e.emit("error", {
                                        type: "MessageParseError",
                                        error: i,
                                        data: t.data
                                    })
                                }
                                if (void 0 !== i) {
                                    switch (s.default.debug("Event recd", i), i.event) {
                                        case "pusher:error":
                                            e.emit("error", {
                                                type: "PusherError",
                                                data: i.data
                                            });
                                            break;
                                        case "pusher:ping":
                                            e.emit("ping");
                                            break;
                                        case "pusher:pong":
                                            e.emit("pong")
                                    }
                                    e.emit("message", i)
                                }
                            },
                            activity: function() {
                                e.emit("activity")
                            },
                            error: function(t) {
                                e.emit("error", {
                                    type: "WebSocketError",
                                    error: t
                                })
                            },
                            closed: function(t) {
                                i(), t && t.code && e.handleCloseEvent(t), e.transport = null, e.emit("closed")
                            }
                        },
                        i = function() {
                            r.objectApply(t, function(t, i) {
                                e.transport.unbind(i, t)
                            })
                        };
                    r.objectApply(t, function(t, i) {
                        e.transport.bind(i, t)
                    })
                }, t.prototype.handleCloseEvent = function(e) {
                    var t = o.getCloseAction(e),
                        i = o.getCloseError(e);
                    i && this.emit("error", i), t && this.emit(t, {
                        action: t,
                        error: i
                    })
                }, t
            }(a.default);
        t.__esModule = !0, t.default = l
    }, function(e, t, i) {
        "use strict";
        var n = i(2),
            r = function() {
                function e(e, t) {
                    this.channel = e;
                    var i = t.authTransport;
                    if (void 0 === n.default.getAuthorizers()[i]) throw "'" + i + "' is not a recognized auth transport";
                    this.type = i, this.options = t, this.authOptions = (t || {}).auth || {}
                }
                return e.prototype.composeQuery = function(e) {
                    var t = "socket_id=" + encodeURIComponent(e) + "&channel_name=" + encodeURIComponent(this.channel.name);
                    for (var i in this.authOptions.params) t += "&" + encodeURIComponent(i) + "=" + encodeURIComponent(this.authOptions.params[i]);
                    return t
                }, e.prototype.authorize = function(t, i) {
                    return (e.authorizers = e.authorizers || n.default.getAuthorizers())[this.type].call(this, n.default, t, i)
                }, e
            }();
        t.__esModule = !0, t.default = r
    }, function(e, t, i) {
        "use strict";
        var n = i(2),
            r = function() {
                function e(e, t) {
                    this.timeline = e, this.options = t || {}
                }
                return e.prototype.send = function(e, t) {
                    this.timeline.isEmpty() || this.timeline.send(n.default.TimelineTransport.getAgent(this, e), t)
                }, e
            }();
        t.__esModule = !0, t.default = r
    }, function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
                function i() {
                    this.constructor = e
                }
                for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
                e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i)
            },
            r = i(51),
            a = i(8),
            o = i(53),
            s = i(14),
            l = function(e) {
                function t(t, i) {
                    e.call(this, t, i), this.members = new o.default
                }
                return n(t, e), t.prototype.authorize = function(t, i) {
                    var n = this;
                    e.prototype.authorize.call(this, t, function(e, t) {
                        if (!e) {
                            if (void 0 === t.channel_data) {
                                var r = s.default.buildLogSuffix("authenticationEndpoint");
                                return a.default.warn("Invalid auth response for channel '" + n.name + "',expected 'channel_data' field. " + r), void i("Invalid auth response")
                            }
                            var o = JSON.parse(t.channel_data);
                            n.members.setMyID(o.user_id)
                        }
                        i(e, t)
                    })
                }, t.prototype.handleEvent = function(e, t) {
                    switch (e) {
                        case "pusher_internal:subscription_succeeded":
                            this.subscriptionPending = !1, this.subscribed = !0, this.subscriptionCancelled ? this.pusher.unsubscribe(this.name) : (this.members.onSubscription(t), this.emit("pusher:subscription_succeeded", this.members));
                            break;
                        case "pusher_internal:member_added":
                            var i = this.members.addMember(t);
                            this.emit("pusher:member_added", i);
                            break;
                        case "pusher_internal:member_removed":
                            var n = this.members.removeMember(t);
                            n && this.emit("pusher:member_removed", n);
                            break;
                        default:
                            r.default.prototype.handleEvent.call(this, e, t)
                    }
                }, t.prototype.disconnect = function() {
                    this.members.reset(), e.prototype.disconnect.call(this)
                }, t
            }(r.default);
        t.__esModule = !0, t.default = l
    }, function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
                function i() {
                    this.constructor = e
                }
                for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
                e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i)
            },
            r = i(43),
            a = function(e) {
                function t() {
                    e.apply(this, arguments)
                }
                return n(t, e), t.prototype.authorize = function(e, t) {
                    return r.default.createAuthorizer(this, this.pusher.config).authorize(e, t)
                }, t
            }(i(52).default);
        t.__esModule = !0, t.default = a
    }, function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
                function i() {
                    this.constructor = e
                }
                for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
                e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i)
            },
            r = i(24),
            a = i(31),
            o = i(8),
            s = function(e) {
                function t(t, i) {
                    e.call(this, function(e, i) {
                        o.default.debug("No callbacks on " + t + " for " + e)
                    }), this.name = t, this.pusher = i, this.subscribed = !1, this.subscriptionPending = !1, this.subscriptionCancelled = !1
                }
                return n(t, e), t.prototype.authorize = function(e, t) {
                    return t(!1, {})
                }, t.prototype.trigger = function(e, t) {
                    if (0 !== e.indexOf("client-")) throw new a.BadEventName("Event '" + e + "' does not start with 'client-'");
                    return this.pusher.send_event(e, t, this.name)
                }, t.prototype.disconnect = function() {
                    this.subscribed = !1, this.subscriptionPending = !1
                }, t.prototype.handleEvent = function(e, t) {
                    0 === e.indexOf("pusher_internal:") ? "pusher_internal:subscription_succeeded" === e && (this.subscriptionPending = !1, this.subscribed = !0, this.subscriptionCancelled ? this.pusher.unsubscribe(this.name) : this.emit("pusher:subscription_succeeded", t)) : this.emit(e, t)
                }, t.prototype.subscribe = function() {
                    var e = this;
                    this.subscribed || (this.subscriptionPending = !0, this.subscriptionCancelled = !1, this.authorize(this.pusher.connection.socket_id, function(t, i) {
                        t ? e.handleEvent("pusher:subscription_error", i) : e.pusher.send_event("pusher:subscribe", {
                            auth: i.auth,
                            channel_data: i.channel_data,
                            channel: e.name
                        })
                    }))
                }, t.prototype.unsubscribe = function() {
                    this.subscribed = !1, this.pusher.send_event("pusher:unsubscribe", {
                        channel: this.name
                    })
                }, t.prototype.cancelSubscription = function() {
                    this.subscriptionCancelled = !0
                }, t.prototype.reinstateSubscription = function() {
                    this.subscriptionCancelled = !1
                }, t
            }(r.default);
        t.__esModule = !0, t.default = s
    }, function(e, t, i) {
        "use strict";
        var n = i(9),
            r = function() {
                function e() {
                    this.reset()
                }
                return e.prototype.get = function(e) {
                    return Object.prototype.hasOwnProperty.call(this.members, e) ? {
                        id: e,
                        info: this.members[e]
                    } : null
                }, e.prototype.each = function(e) {
                    var t = this;
                    n.objectApply(this.members, function(i, n) {
                        e(t.get(n))
                    })
                }, e.prototype.setMyID = function(e) {
                    this.myID = e
                }, e.prototype.onSubscription = function(e) {
                    this.members = e.presence.hash, this.count = e.presence.count, this.me = this.get(this.myID)
                }, e.prototype.addMember = function(e) {
                    return null === this.get(e.user_id) && this.count++, this.members[e.user_id] = e.user_info, this.get(e.user_id)
                }, e.prototype.removeMember = function(e) {
                    var t = this.get(e.user_id);
                    return t && (delete this.members[e.user_id], this.count--), t
                }, e.prototype.reset = function() {
                    this.members = {}, this.count = 0, this.myID = null, this.me = null
                }, e
            }();
        t.__esModule = !0, t.default = r
    }, function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
                function i() {
                    this.constructor = e
                }
                for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
                e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i)
            },
            r = i(51),
            a = i(31),
            o = i(8),
            s = i(55),
            l = i(57),
            c = function(e) {
                function t() {
                    e.apply(this, arguments), this.key = null
                }
                return n(t, e), t.prototype.authorize = function(t, i) {
                    var n = this;
                    e.prototype.authorize.call(this, t, function(e, t) {
                        if (e) i(!0, t);
                        else {
                            var r = t.shared_secret;
                            if (!r) {
                                var a = "No shared_secret key in auth payload for encrypted channel: " + n.name;
                                return i(!0, a), void o.default.warn("Error: " + a)
                            }
                            n.key = l.decodeBase64(r), delete t.shared_secret, i(!1, t)
                        }
                    })
                }, t.prototype.trigger = function(e, t) {
                    throw new a.UnsupportedFeature("Client events are not currently supported for encrypted channels")
                }, t.prototype.handleEvent = function(t, i) {
                    return 0 === t.indexOf("pusher_internal:") || 0 === t.indexOf("pusher:") ? void e.prototype.handleEvent.call(this, t, i) : void this.handleEncryptedEvent(t, i)
                }, t.prototype.handleEncryptedEvent = function(e, t) {
                    var i = this;
                    if (this.key)
                        if (t.ciphertext && t.nonce) {
                            var n = l.decodeBase64(t.ciphertext);
                            if (n.length < s.secretbox.overheadLength) o.default.warn("Expected encrypted event ciphertext length to be " + s.secretbox.overheadLength + ", got: " + n.length);
                            else {
                                var r = l.decodeBase64(t.nonce);
                                if (!(r.length < s.secretbox.nonceLength)) {
                                    var a = s.secretbox.open(n, r, this.key);
                                    return null === a ? (o.default.debug("Failed to decrypted an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."), void this.authorize(this.pusher.connection.socket_id, function(t, c) {
                                        return t ? void o.default.warn("Failed to make a request to the authEndpoint: " + c + ". Unable to fetch new key, so dropping encrypted event") : null === (a = s.secretbox.open(n, r, i.key)) ? void o.default.warn("Failed to decrypt event with new key. Dropping encrypted event") : void i.emitJSON(e, l.encodeUTF8(a))
                                    })) : void this.emitJSON(e, l.encodeUTF8(a))
                                }
                                o.default.warn("Expected encrypted event nonce length to be " + s.secretbox.nonceLength + ", got: " + r.length)
                            }
                        } else o.default.warn("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: " + t);
                    else o.default.debug("Received encrypted event before key has been retrieved from the authEndpoint")
                }, t.prototype.emitJSON = function(e, t) {
                    try {
                        this.emit(e, JSON.parse(t))
                    } catch (i) {
                        this.emit(e, t)
                    }
                    return this
                }, t
            }(r.default);
        t.__esModule = !0, t.default = c
    }, function(e, t, i) {
        ! function(e) {
            "use strict";

            function t(e, t, i, n) {
                e[t] = i >> 24 & 255, e[t + 1] = i >> 16 & 255, e[t + 2] = i >> 8 & 255, e[t + 3] = 255 & i, e[t + 4] = n >> 24 & 255, e[t + 5] = n >> 16 & 255, e[t + 6] = n >> 8 & 255, e[t + 7] = 255 & n
            }

            function n(e, t, i, n, r) {
                var a, o = 0;
                for (a = 0; a < r; a++) o |= e[t + a] ^ i[n + a];
                return (1 & o - 1 >>> 8) - 1
            }

            function r(e, t, i, r) {
                return n(e, t, i, r, 16)
            }

            function a(e, t, i, r) {
                return n(e, t, i, r, 32)
            }

            function o(e, t, i, n) {
                ! function(e, t, i, n) {
                    for (var r, a = 255 & n[0] | (255 & n[1]) << 8 | (255 & n[2]) << 16 | (255 & n[3]) << 24, o = 255 & i[0] | (255 & i[1]) << 8 | (255 & i[2]) << 16 | (255 & i[3]) << 24, s = 255 & i[4] | (255 & i[5]) << 8 | (255 & i[6]) << 16 | (255 & i[7]) << 24, l = 255 & i[8] | (255 & i[9]) << 8 | (255 & i[10]) << 16 | (255 & i[11]) << 24, c = 255 & i[12] | (255 & i[13]) << 8 | (255 & i[14]) << 16 | (255 & i[15]) << 24, u = 255 & n[4] | (255 & n[5]) << 8 | (255 & n[6]) << 16 | (255 & n[7]) << 24, d = 255 & t[0] | (255 & t[1]) << 8 | (255 & t[2]) << 16 | (255 & t[3]) << 24, h = 255 & t[4] | (255 & t[5]) << 8 | (255 & t[6]) << 16 | (255 & t[7]) << 24, p = 255 & t[8] | (255 & t[9]) << 8 | (255 & t[10]) << 16 | (255 & t[11]) << 24, f = 255 & t[12] | (255 & t[13]) << 8 | (255 & t[14]) << 16 | (255 & t[15]) << 24, m = 255 & n[8] | (255 & n[9]) << 8 | (255 & n[10]) << 16 | (255 & n[11]) << 24, g = 255 & i[16] | (255 & i[17]) << 8 | (255 & i[18]) << 16 | (255 & i[19]) << 24, y = 255 & i[20] | (255 & i[21]) << 8 | (255 & i[22]) << 16 | (255 & i[23]) << 24, v = 255 & i[24] | (255 & i[25]) << 8 | (255 & i[26]) << 16 | (255 & i[27]) << 24, b = 255 & i[28] | (255 & i[29]) << 8 | (255 & i[30]) << 16 | (255 & i[31]) << 24, _ = 255 & n[12] | (255 & n[13]) << 8 | (255 & n[14]) << 16 | (255 & n[15]) << 24, T = a, S = o, E = s, w = l, C = c, k = u, P = d, A = h, I = p, L = f, O = m, D = g, R = y, x = v, M = b, U = _, N = 0; N < 20; N += 2) T ^= (r = (R ^= (r = (I ^= (r = (C ^= (r = T + R | 0) << 7 | r >>> 25) + T | 0) << 9 | r >>> 23) + C | 0) << 13 | r >>> 19) + I | 0) << 18 | r >>> 14, k ^= (r = (S ^= (r = (x ^= (r = (L ^= (r = k + S | 0) << 7 | r >>> 25) + k | 0) << 9 | r >>> 23) + L | 0) << 13 | r >>> 19) + x | 0) << 18 | r >>> 14, O ^= (r = (P ^= (r = (E ^= (r = (M ^= (r = O + P | 0) << 7 | r >>> 25) + O | 0) << 9 | r >>> 23) + M | 0) << 13 | r >>> 19) + E | 0) << 18 | r >>> 14, U ^= (r = (D ^= (r = (A ^= (r = (w ^= (r = U + D | 0) << 7 | r >>> 25) + U | 0) << 9 | r >>> 23) + w | 0) << 13 | r >>> 19) + A | 0) << 18 | r >>> 14, T ^= (r = (w ^= (r = (E ^= (r = (S ^= (r = T + w | 0) << 7 | r >>> 25) + T | 0) << 9 | r >>> 23) + S | 0) << 13 | r >>> 19) + E | 0) << 18 | r >>> 14, k ^= (r = (C ^= (r = (A ^= (r = (P ^= (r = k + C | 0) << 7 | r >>> 25) + k | 0) << 9 | r >>> 23) + P | 0) << 13 | r >>> 19) + A | 0) << 18 | r >>> 14, O ^= (r = (L ^= (r = (I ^= (r = (D ^= (r = O + L | 0) << 7 | r >>> 25) + O | 0) << 9 | r >>> 23) + D | 0) << 13 | r >>> 19) + I | 0) << 18 | r >>> 14, U ^= (r = (M ^= (r = (x ^= (r = (R ^= (r = U + M | 0) << 7 | r >>> 25) + U | 0) << 9 | r >>> 23) + R | 0) << 13 | r >>> 19) + x | 0) << 18 | r >>> 14;
                    S = S + o | 0, E = E + s | 0, w = w + l | 0, C = C + c | 0, k = k + u | 0, P = P + d | 0, A = A + h | 0, I = I + p | 0, L = L + f | 0, O = O + m | 0, D = D + g | 0, R = R + y | 0, x = x + v | 0, M = M + b | 0, U = U + _ | 0, e[0] = (T = T + a | 0) >>> 0 & 255, e[1] = T >>> 8 & 255, e[2] = T >>> 16 & 255, e[3] = T >>> 24 & 255, e[4] = S >>> 0 & 255, e[5] = S >>> 8 & 255, e[6] = S >>> 16 & 255, e[7] = S >>> 24 & 255, e[8] = E >>> 0 & 255, e[9] = E >>> 8 & 255, e[10] = E >>> 16 & 255, e[11] = E >>> 24 & 255, e[12] = w >>> 0 & 255, e[13] = w >>> 8 & 255, e[14] = w >>> 16 & 255, e[15] = w >>> 24 & 255, e[16] = C >>> 0 & 255, e[17] = C >>> 8 & 255, e[18] = C >>> 16 & 255, e[19] = C >>> 24 & 255, e[20] = k >>> 0 & 255, e[21] = k >>> 8 & 255, e[22] = k >>> 16 & 255, e[23] = k >>> 24 & 255, e[24] = P >>> 0 & 255, e[25] = P >>> 8 & 255, e[26] = P >>> 16 & 255, e[27] = P >>> 24 & 255, e[28] = A >>> 0 & 255, e[29] = A >>> 8 & 255, e[30] = A >>> 16 & 255, e[31] = A >>> 24 & 255, e[32] = I >>> 0 & 255, e[33] = I >>> 8 & 255, e[34] = I >>> 16 & 255, e[35] = I >>> 24 & 255, e[36] = L >>> 0 & 255, e[37] = L >>> 8 & 255, e[38] = L >>> 16 & 255, e[39] = L >>> 24 & 255, e[40] = O >>> 0 & 255, e[41] = O >>> 8 & 255, e[42] = O >>> 16 & 255, e[43] = O >>> 24 & 255, e[44] = D >>> 0 & 255, e[45] = D >>> 8 & 255, e[46] = D >>> 16 & 255, e[47] = D >>> 24 & 255, e[48] = R >>> 0 & 255, e[49] = R >>> 8 & 255, e[50] = R >>> 16 & 255, e[51] = R >>> 24 & 255, e[52] = x >>> 0 & 255, e[53] = x >>> 8 & 255, e[54] = x >>> 16 & 255, e[55] = x >>> 24 & 255, e[56] = M >>> 0 & 255, e[57] = M >>> 8 & 255, e[58] = M >>> 16 & 255, e[59] = M >>> 24 & 255, e[60] = U >>> 0 & 255, e[61] = U >>> 8 & 255, e[62] = U >>> 16 & 255, e[63] = U >>> 24 & 255
                }(e, t, i, n)
            }

            function s(e, t, i, n) {
                ! function(e, t, i, n) {
                    for (var r, a = 255 & n[0] | (255 & n[1]) << 8 | (255 & n[2]) << 16 | (255 & n[3]) << 24, o = 255 & i[0] | (255 & i[1]) << 8 | (255 & i[2]) << 16 | (255 & i[3]) << 24, s = 255 & i[4] | (255 & i[5]) << 8 | (255 & i[6]) << 16 | (255 & i[7]) << 24, l = 255 & i[8] | (255 & i[9]) << 8 | (255 & i[10]) << 16 | (255 & i[11]) << 24, c = 255 & i[12] | (255 & i[13]) << 8 | (255 & i[14]) << 16 | (255 & i[15]) << 24, u = 255 & n[4] | (255 & n[5]) << 8 | (255 & n[6]) << 16 | (255 & n[7]) << 24, d = 255 & t[0] | (255 & t[1]) << 8 | (255 & t[2]) << 16 | (255 & t[3]) << 24, h = 255 & t[4] | (255 & t[5]) << 8 | (255 & t[6]) << 16 | (255 & t[7]) << 24, p = 255 & t[8] | (255 & t[9]) << 8 | (255 & t[10]) << 16 | (255 & t[11]) << 24, f = 255 & t[12] | (255 & t[13]) << 8 | (255 & t[14]) << 16 | (255 & t[15]) << 24, m = 255 & n[8] | (255 & n[9]) << 8 | (255 & n[10]) << 16 | (255 & n[11]) << 24, g = 255 & i[16] | (255 & i[17]) << 8 | (255 & i[18]) << 16 | (255 & i[19]) << 24, y = 255 & i[20] | (255 & i[21]) << 8 | (255 & i[22]) << 16 | (255 & i[23]) << 24, v = 255 & i[24] | (255 & i[25]) << 8 | (255 & i[26]) << 16 | (255 & i[27]) << 24, b = 255 & i[28] | (255 & i[29]) << 8 | (255 & i[30]) << 16 | (255 & i[31]) << 24, _ = 255 & n[12] | (255 & n[13]) << 8 | (255 & n[14]) << 16 | (255 & n[15]) << 24, T = 0; T < 20; T += 2) a ^= (r = (y ^= (r = (p ^= (r = (c ^= (r = a + y | 0) << 7 | r >>> 25) + a | 0) << 9 | r >>> 23) + c | 0) << 13 | r >>> 19) + p | 0) << 18 | r >>> 14, u ^= (r = (o ^= (r = (v ^= (r = (f ^= (r = u + o | 0) << 7 | r >>> 25) + u | 0) << 9 | r >>> 23) + f | 0) << 13 | r >>> 19) + v | 0) << 18 | r >>> 14, m ^= (r = (d ^= (r = (s ^= (r = (b ^= (r = m + d | 0) << 7 | r >>> 25) + m | 0) << 9 | r >>> 23) + b | 0) << 13 | r >>> 19) + s | 0) << 18 | r >>> 14, _ ^= (r = (g ^= (r = (h ^= (r = (l ^= (r = _ + g | 0) << 7 | r >>> 25) + _ | 0) << 9 | r >>> 23) + l | 0) << 13 | r >>> 19) + h | 0) << 18 | r >>> 14, a ^= (r = (l ^= (r = (s ^= (r = (o ^= (r = a + l | 0) << 7 | r >>> 25) + a | 0) << 9 | r >>> 23) + o | 0) << 13 | r >>> 19) + s | 0) << 18 | r >>> 14, u ^= (r = (c ^= (r = (h ^= (r = (d ^= (r = u + c | 0) << 7 | r >>> 25) + u | 0) << 9 | r >>> 23) + d | 0) << 13 | r >>> 19) + h | 0) << 18 | r >>> 14, m ^= (r = (f ^= (r = (p ^= (r = (g ^= (r = m + f | 0) << 7 | r >>> 25) + m | 0) << 9 | r >>> 23) + g | 0) << 13 | r >>> 19) + p | 0) << 18 | r >>> 14, _ ^= (r = (b ^= (r = (v ^= (r = (y ^= (r = _ + b | 0) << 7 | r >>> 25) + _ | 0) << 9 | r >>> 23) + y | 0) << 13 | r >>> 19) + v | 0) << 18 | r >>> 14;
                    e[0] = a >>> 0 & 255, e[1] = a >>> 8 & 255, e[2] = a >>> 16 & 255, e[3] = a >>> 24 & 255, e[4] = u >>> 0 & 255, e[5] = u >>> 8 & 255, e[6] = u >>> 16 & 255, e[7] = u >>> 24 & 255, e[8] = m >>> 0 & 255, e[9] = m >>> 8 & 255, e[10] = m >>> 16 & 255, e[11] = m >>> 24 & 255, e[12] = _ >>> 0 & 255, e[13] = _ >>> 8 & 255, e[14] = _ >>> 16 & 255, e[15] = _ >>> 24 & 255, e[16] = d >>> 0 & 255, e[17] = d >>> 8 & 255, e[18] = d >>> 16 & 255, e[19] = d >>> 24 & 255, e[20] = h >>> 0 & 255, e[21] = h >>> 8 & 255, e[22] = h >>> 16 & 255, e[23] = h >>> 24 & 255, e[24] = p >>> 0 & 255, e[25] = p >>> 8 & 255, e[26] = p >>> 16 & 255, e[27] = p >>> 24 & 255, e[28] = f >>> 0 & 255, e[29] = f >>> 8 & 255, e[30] = f >>> 16 & 255, e[31] = f >>> 24 & 255
                }(e, t, i, n)
            }

            function l(e, t, i, n, r, a, s) {
                var l, c, u = new Uint8Array(16),
                    d = new Uint8Array(64);
                for (c = 0; c < 16; c++) u[c] = 0;
                for (c = 0; c < 8; c++) u[c] = a[c];
                for (; r >= 64;) {
                    for (o(d, u, s, ae), c = 0; c < 64; c++) e[t + c] = i[n + c] ^ d[c];
                    for (l = 1, c = 8; c < 16; c++) u[c] = 255 & (l = l + (255 & u[c]) | 0), l >>>= 8;
                    r -= 64, t += 64, n += 64
                }
                if (r > 0)
                    for (o(d, u, s, ae), c = 0; c < r; c++) e[t + c] = i[n + c] ^ d[c];
                return 0
            }

            function c(e, t, i, n, r) {
                var a, s, l = new Uint8Array(16),
                    c = new Uint8Array(64);
                for (s = 0; s < 16; s++) l[s] = 0;
                for (s = 0; s < 8; s++) l[s] = n[s];
                for (; i >= 64;) {
                    for (o(c, l, r, ae), s = 0; s < 64; s++) e[t + s] = c[s];
                    for (a = 1, s = 8; s < 16; s++) l[s] = 255 & (a = a + (255 & l[s]) | 0), a >>>= 8;
                    i -= 64, t += 64
                }
                if (i > 0)
                    for (o(c, l, r, ae), s = 0; s < i; s++) e[t + s] = c[s];
                return 0
            }

            function u(e, t, i, n, r) {
                var a = new Uint8Array(32);
                s(a, n, r, ae);
                for (var o = new Uint8Array(8), l = 0; l < 8; l++) o[l] = n[l + 16];
                return c(e, t, i, o, a)
            }

            function d(e, t, i, n, r, a, o) {
                var c = new Uint8Array(32);
                s(c, a, o, ae);
                for (var u = new Uint8Array(8), d = 0; d < 8; d++) u[d] = a[d + 16];
                return l(e, t, i, n, r, u, c)
            }

            function h(e, t, i, n, r, a) {
                var o = new oe(a);
                return o.update(i, n, r), o.finish(e, t), 0
            }

            function p(e, t, i, n, a, o) {
                var s = new Uint8Array(16);
                return h(s, 0, i, n, a, o), r(e, t, s, 0)
            }

            function f(e, t, i, n, r) {
                var a;
                if (i < 32) return -1;
                for (d(e, 0, t, 0, i, n, r), h(e, 16, e, 32, i - 32, e), a = 0; a < 16; a++) e[a] = 0;
                return 0
            }

            function m(e, t, i, n, r) {
                var a, o = new Uint8Array(32);
                if (i < 32) return -1;
                if (u(o, 0, 32, n, r), 0 !== p(t, 16, t, 32, i - 32, o)) return -1;
                for (d(e, 0, t, 0, i, n, r), a = 0; a < 32; a++) e[a] = 0;
                return 0
            }

            function g(e, t) {
                var i;
                for (i = 0; i < 16; i++) e[i] = 0 | t[i]
            }

            function y(e) {
                var t, i, n = 1;
                for (t = 0; t < 16; t++) i = e[t] + n + 65535, n = Math.floor(i / 65536), e[t] = i - 65536 * n;
                e[0] += n - 1 + 37 * (n - 1)
            }

            function v(e, t, i) {
                for (var n, r = ~(i - 1), a = 0; a < 16; a++) e[a] ^= n = r & (e[a] ^ t[a]), t[a] ^= n
            }

            function b(e, t) {
                var i, n, r, a = Y(),
                    o = Y();
                for (i = 0; i < 16; i++) o[i] = t[i];
                for (y(o), y(o), y(o), n = 0; n < 2; n++) {
                    for (a[0] = o[0] - 65517, i = 1; i < 15; i++) a[i] = o[i] - 65535 - (a[i - 1] >> 16 & 1), a[i - 1] &= 65535;
                    a[15] = o[15] - 32767 - (a[14] >> 16 & 1), r = a[15] >> 16 & 1, a[14] &= 65535, v(o, a, 1 - r)
                }
                for (i = 0; i < 16; i++) e[2 * i] = 255 & o[i], e[2 * i + 1] = o[i] >> 8
            }

            function _(e, t) {
                var i = new Uint8Array(32),
                    n = new Uint8Array(32);
                return b(i, e), b(n, t), a(i, 0, n, 0)
            }

            function T(e) {
                var t = new Uint8Array(32);
                return b(t, e), 1 & t[0]
            }

            function S(e, t) {
                var i;
                for (i = 0; i < 16; i++) e[i] = t[2 * i] + (t[2 * i + 1] << 8);
                e[15] &= 32767
            }

            function E(e, t, i) {
                for (var n = 0; n < 16; n++) e[n] = t[n] + i[n]
            }

            function w(e, t, i) {
                for (var n = 0; n < 16; n++) e[n] = t[n] - i[n]
            }

            function C(e, t, i) {
                var n, r, a = 0,
                    o = 0,
                    s = 0,
                    l = 0,
                    c = 0,
                    u = 0,
                    d = 0,
                    h = 0,
                    p = 0,
                    f = 0,
                    m = 0,
                    g = 0,
                    y = 0,
                    v = 0,
                    b = 0,
                    _ = 0,
                    T = 0,
                    S = 0,
                    E = 0,
                    w = 0,
                    C = 0,
                    k = 0,
                    P = 0,
                    A = 0,
                    I = 0,
                    L = 0,
                    O = 0,
                    D = 0,
                    R = 0,
                    x = 0,
                    M = 0,
                    U = i[0],
                    N = i[1],
                    F = i[2],
                    B = i[3],
                    V = i[4],
                    j = i[5],
                    z = i[6],
                    q = i[7],
                    H = i[8],
                    G = i[9],
                    W = i[10],
                    Y = i[11],
                    K = i[12],
                    X = i[13],
                    J = i[14],
                    $ = i[15];
                a += (n = t[0]) * U, o += n * N, s += n * F, l += n * B, c += n * V, u += n * j, d += n * z, h += n * q, p += n * H, f += n * G, m += n * W, g += n * Y, y += n * K, v += n * X, b += n * J, _ += n * $, o += (n = t[1]) * U, s += n * N, l += n * F, c += n * B, u += n * V, d += n * j, h += n * z, p += n * q, f += n * H, m += n * G, g += n * W, y += n * Y, v += n * K, b += n * X, _ += n * J, T += n * $, s += (n = t[2]) * U, l += n * N, c += n * F, u += n * B, d += n * V, h += n * j, p += n * z, f += n * q, m += n * H, g += n * G, y += n * W, v += n * Y, b += n * K, _ += n * X, T += n * J, S += n * $, l += (n = t[3]) * U, c += n * N, u += n * F, d += n * B, h += n * V, p += n * j, f += n * z, m += n * q, g += n * H, y += n * G, v += n * W, b += n * Y, _ += n * K, T += n * X, S += n * J, E += n * $, c += (n = t[4]) * U, u += n * N, d += n * F, h += n * B, p += n * V, f += n * j, m += n * z, g += n * q, y += n * H, v += n * G, b += n * W, _ += n * Y, T += n * K, S += n * X, E += n * J, w += n * $, u += (n = t[5]) * U, d += n * N, h += n * F, p += n * B, f += n * V, m += n * j, g += n * z, y += n * q, v += n * H, b += n * G, _ += n * W, T += n * Y, S += n * K, E += n * X, w += n * J, C += n * $, d += (n = t[6]) * U, h += n * N, p += n * F, f += n * B, m += n * V, g += n * j, y += n * z, v += n * q, b += n * H, _ += n * G, T += n * W, S += n * Y, E += n * K, w += n * X, C += n * J, k += n * $, h += (n = t[7]) * U, p += n * N, f += n * F, m += n * B, g += n * V, y += n * j, v += n * z, b += n * q, _ += n * H, T += n * G, S += n * W, E += n * Y, w += n * K, C += n * X, k += n * J, P += n * $, p += (n = t[8]) * U, f += n * N, m += n * F, g += n * B, y += n * V, v += n * j, b += n * z, _ += n * q, T += n * H, S += n * G, E += n * W, w += n * Y, C += n * K, k += n * X, P += n * J, A += n * $, f += (n = t[9]) * U, m += n * N, g += n * F, y += n * B, v += n * V, b += n * j, _ += n * z, T += n * q, S += n * H, E += n * G, w += n * W, C += n * Y, k += n * K, P += n * X, A += n * J, I += n * $, m += (n = t[10]) * U, g += n * N, y += n * F, v += n * B, b += n * V, _ += n * j, T += n * z, S += n * q, E += n * H, w += n * G, C += n * W, k += n * Y, P += n * K, A += n * X, I += n * J, L += n * $, g += (n = t[11]) * U, y += n * N, v += n * F, b += n * B, _ += n * V, T += n * j, S += n * z, E += n * q, w += n * H, C += n * G, k += n * W, P += n * Y, A += n * K, I += n * X, L += n * J, O += n * $, y += (n = t[12]) * U, v += n * N, b += n * F, _ += n * B, T += n * V, S += n * j, E += n * z, w += n * q, C += n * H, k += n * G, P += n * W, A += n * Y, I += n * K, L += n * X, O += n * J, D += n * $, v += (n = t[13]) * U, b += n * N, _ += n * F, T += n * B, S += n * V, E += n * j, w += n * z, C += n * q, k += n * H, P += n * G, A += n * W, I += n * Y, L += n * K, O += n * X, D += n * J, R += n * $, b += (n = t[14]) * U, _ += n * N, T += n * F, S += n * B, E += n * V, w += n * j, C += n * z, k += n * q, P += n * H, A += n * G, I += n * W, L += n * Y, O += n * K, D += n * X, R += n * J, x += n * $, _ += (n = t[15]) * U, o += 38 * (S += n * F), s += 38 * (E += n * B), l += 38 * (w += n * V), c += 38 * (C += n * j), u += 38 * (k += n * z), d += 38 * (P += n * q), h += 38 * (A += n * H), p += 38 * (I += n * G), f += 38 * (L += n * W), m += 38 * (O += n * Y), g += 38 * (D += n * K), y += 38 * (R += n * X), v += 38 * (x += n * J), b += 38 * (M += n * $), a = (n = (a += 38 * (T += n * N)) + (r = 1) + 65535) - 65536 * (r = Math.floor(n / 65536)), o = (n = o + r + 65535) - 65536 * (r = Math.floor(n / 65536)), s = (n = s + r + 65535) - 65536 * (r = Math.floor(n / 65536)), l = (n = l + r + 65535) - 65536 * (r = Math.floor(n / 65536)), c = (n = c + r + 65535) - 65536 * (r = Math.floor(n / 65536)), u = (n = u + r + 65535) - 65536 * (r = Math.floor(n / 65536)), d = (n = d + r + 65535) - 65536 * (r = Math.floor(n / 65536)), h = (n = h + r + 65535) - 65536 * (r = Math.floor(n / 65536)), p = (n = p + r + 65535) - 65536 * (r = Math.floor(n / 65536)), f = (n = f + r + 65535) - 65536 * (r = Math.floor(n / 65536)), m = (n = m + r + 65535) - 65536 * (r = Math.floor(n / 65536)), g = (n = g + r + 65535) - 65536 * (r = Math.floor(n / 65536)), y = (n = y + r + 65535) - 65536 * (r = Math.floor(n / 65536)), v = (n = v + r + 65535) - 65536 * (r = Math.floor(n / 65536)), b = (n = b + r + 65535) - 65536 * (r = Math.floor(n / 65536)), _ = (n = _ + r + 65535) - 65536 * (r = Math.floor(n / 65536)), a = (n = (a += r - 1 + 37 * (r - 1)) + (r = 1) + 65535) - 65536 * (r = Math.floor(n / 65536)), o = (n = o + r + 65535) - 65536 * (r = Math.floor(n / 65536)), s = (n = s + r + 65535) - 65536 * (r = Math.floor(n / 65536)), l = (n = l + r + 65535) - 65536 * (r = Math.floor(n / 65536)), c = (n = c + r + 65535) - 65536 * (r = Math.floor(n / 65536)), u = (n = u + r + 65535) - 65536 * (r = Math.floor(n / 65536)), d = (n = d + r + 65535) - 65536 * (r = Math.floor(n / 65536)), h = (n = h + r + 65535) - 65536 * (r = Math.floor(n / 65536)), p = (n = p + r + 65535) - 65536 * (r = Math.floor(n / 65536)), f = (n = f + r + 65535) - 65536 * (r = Math.floor(n / 65536)), m = (n = m + r + 65535) - 65536 * (r = Math.floor(n / 65536)), g = (n = g + r + 65535) - 65536 * (r = Math.floor(n / 65536)), y = (n = y + r + 65535) - 65536 * (r = Math.floor(n / 65536)), v = (n = v + r + 65535) - 65536 * (r = Math.floor(n / 65536)), b = (n = b + r + 65535) - 65536 * (r = Math.floor(n / 65536)), _ = (n = _ + r + 65535) - 65536 * (r = Math.floor(n / 65536)), e[0] = a += r - 1 + 37 * (r - 1), e[1] = o, e[2] = s, e[3] = l, e[4] = c, e[5] = u, e[6] = d, e[7] = h, e[8] = p, e[9] = f, e[10] = m, e[11] = g, e[12] = y, e[13] = v, e[14] = b, e[15] = _
            }

            function k(e, t) {
                C(e, t, t)
            }

            function P(e, t) {
                var i, n = Y();
                for (i = 0; i < 16; i++) n[i] = t[i];
                for (i = 253; i >= 0; i--) k(n, n), 2 !== i && 4 !== i && C(n, n, t);
                for (i = 0; i < 16; i++) e[i] = n[i]
            }

            function A(e, t, i) {
                var n, r, a = new Uint8Array(32),
                    o = new Float64Array(80),
                    s = Y(),
                    l = Y(),
                    c = Y(),
                    u = Y(),
                    d = Y(),
                    h = Y();
                for (r = 0; r < 31; r++) a[r] = t[r];
                for (a[31] = 127 & t[31] | 64, a[0] &= 248, S(o, i), r = 0; r < 16; r++) l[r] = o[r], u[r] = s[r] = c[r] = 0;
                for (s[0] = u[0] = 1, r = 254; r >= 0; --r) v(s, l, n = a[r >>> 3] >>> (7 & r) & 1), v(c, u, n), E(d, s, c), w(s, s, c), E(c, l, u), w(l, l, u), k(u, d), k(h, s), C(s, c, s), C(c, l, d), E(d, s, c), w(s, s, c), k(l, s), w(c, u, h), C(s, c, Z), E(s, s, u), C(c, c, s), C(s, u, h), C(u, l, o), k(l, d), v(s, l, n), v(c, u, n);
                for (r = 0; r < 16; r++) o[r + 16] = s[r], o[r + 32] = c[r], o[r + 48] = l[r], o[r + 64] = u[r];
                var p = o.subarray(32),
                    f = o.subarray(16);
                return P(p, p), C(f, f, p), b(e, f), 0
            }

            function I(e, t) {
                return A(e, t, J)
            }

            function L(e, t) {
                return K(t, 32), I(e, t)
            }

            function O(e, t, i) {
                var n = new Uint8Array(32);
                return A(n, i, t), s(e, X, n, ae)
            }

            function D(e, t, i, n) {
                for (var r, a, o, s, l, c, u, d, h, p, f, m, g, y, v, b, _, T, S, E, w, C, k = new Int32Array(16), P = new Int32Array(16), A = e[0], I = e[1], L = e[2], O = e[3], D = e[4], R = e[5], x = e[6], M = e[7], U = t[0], N = t[1], F = t[2], B = t[3], V = t[4], j = t[5], z = t[6], q = t[7], H = 0; n >= 128;) {
                    for (v = 0; v < 16; v++) k[v] = i[(b = 8 * v + H) + 0] << 24 | i[b + 1] << 16 | i[b + 2] << 8 | i[b + 3], P[v] = i[b + 4] << 24 | i[b + 5] << 16 | i[b + 6] << 8 | i[b + 7];
                    for (v = 0; v < 80; v++)
                        if (r = I, a = L, o = D, s = R, l = x, u = N, d = F, h = V, p = j, f = z, S = 65535 & (T = q), E = T >>> 16, w = 65535 & (_ = M), C = _ >>> 16, S += 65535 & (T = (V >>> 14 | D << 18) ^ (V >>> 18 | D << 14) ^ (D >>> 9 | V << 23)), E += T >>> 16, w += 65535 & (_ = (D >>> 14 | V << 18) ^ (D >>> 18 | V << 14) ^ (V >>> 9 | D << 23)), C += _ >>> 16, S += 65535 & (T = V & j ^ ~V & z), E += T >>> 16, w += 65535 & (_ = D & R ^ ~D & x), C += _ >>> 16, S += 65535 & (T = ce[2 * v + 1]), E += T >>> 16, w += 65535 & (_ = ce[2 * v]), C += _ >>> 16, E += (T = P[v % 16]) >>> 16, w += 65535 & (_ = k[v % 16]), C += _ >>> 16, w += (E += (S += 65535 & T) >>> 16) >>> 16, S = 65535 & (T = y = 65535 & S | E << 16), E = T >>> 16, w = 65535 & (_ = g = 65535 & w | (C += w >>> 16) << 16), C = _ >>> 16, S += 65535 & (T = (U >>> 28 | A << 4) ^ (A >>> 2 | U << 30) ^ (A >>> 7 | U << 25)), E += T >>> 16, w += 65535 & (_ = (A >>> 28 | U << 4) ^ (U >>> 2 | A << 30) ^ (U >>> 7 | A << 25)), C += _ >>> 16, E += (T = U & N ^ U & F ^ N & F) >>> 16, w += 65535 & (_ = A & I ^ A & L ^ I & L), C += _ >>> 16, c = 65535 & (w += (E += (S += 65535 & T) >>> 16) >>> 16) | (C += w >>> 16) << 16, m = 65535 & S | E << 16, S = 65535 & (T = B), E = T >>> 16, w = 65535 & (_ = O), C = _ >>> 16, E += (T = y) >>> 16, w += 65535 & (_ = g), C += _ >>> 16, I = A, L = r, O = a, D = 65535 & (w += (E += (S += 65535 & T) >>> 16) >>> 16) | (C += w >>> 16) << 16, R = o, x = s, M = l, A = c, N = U, F = u, B = d, V = 65535 & S | E << 16, j = h, z = p, q = f, U = m, v % 16 == 15)
                            for (b = 0; b < 16; b++) S = 65535 & (T = P[b]), E = T >>> 16, w = 65535 & (_ = k[b]), C = _ >>> 16, S += 65535 & (T = P[(b + 9) % 16]), E += T >>> 16, w += 65535 & (_ = k[(b + 9) % 16]), C += _ >>> 16, S += 65535 & (T = ((y = P[(b + 1) % 16]) >>> 1 | (g = k[(b + 1) % 16]) << 31) ^ (y >>> 8 | g << 24) ^ (y >>> 7 | g << 25)), E += T >>> 16, w += 65535 & (_ = (g >>> 1 | y << 31) ^ (g >>> 8 | y << 24) ^ g >>> 7), C += _ >>> 16, E += (T = ((y = P[(b + 14) % 16]) >>> 19 | (g = k[(b + 14) % 16]) << 13) ^ (g >>> 29 | y << 3) ^ (y >>> 6 | g << 26)) >>> 16, w += 65535 & (_ = (g >>> 19 | y << 13) ^ (y >>> 29 | g << 3) ^ g >>> 6), C += _ >>> 16, k[b] = 65535 & (w += (E += (S += 65535 & T) >>> 16) >>> 16) | (C += w >>> 16) << 16, P[b] = 65535 & S | E << 16;
                    S = 65535 & (T = U), E = T >>> 16, w = 65535 & (_ = A), C = _ >>> 16, E += (T = t[0]) >>> 16, w += 65535 & (_ = e[0]), C += _ >>> 16, e[0] = A = 65535 & (w += (E += (S += 65535 & T) >>> 16) >>> 16) | (C += w >>> 16) << 16, t[0] = U = 65535 & S | E << 16, S = 65535 & (T = N), E = T >>> 16, w = 65535 & (_ = I), C = _ >>> 16, E += (T = t[1]) >>> 16, w += 65535 & (_ = e[1]), C += _ >>> 16, e[1] = I = 65535 & (w += (E += (S += 65535 & T) >>> 16) >>> 16) | (C += w >>> 16) << 16, t[1] = N = 65535 & S | E << 16, S = 65535 & (T = F), E = T >>> 16, w = 65535 & (_ = L), C = _ >>> 16, E += (T = t[2]) >>> 16, w += 65535 & (_ = e[2]), C += _ >>> 16, e[2] = L = 65535 & (w += (E += (S += 65535 & T) >>> 16) >>> 16) | (C += w >>> 16) << 16, t[2] = F = 65535 & S | E << 16, S = 65535 & (T = B), E = T >>> 16, w = 65535 & (_ = O), C = _ >>> 16, E += (T = t[3]) >>> 16, w += 65535 & (_ = e[3]), C += _ >>> 16, e[3] = O = 65535 & (w += (E += (S += 65535 & T) >>> 16) >>> 16) | (C += w >>> 16) << 16, t[3] = B = 65535 & S | E << 16, S = 65535 & (T = V), E = T >>> 16, w = 65535 & (_ = D), C = _ >>> 16, E += (T = t[4]) >>> 16, w += 65535 & (_ = e[4]), C += _ >>> 16, e[4] = D = 65535 & (w += (E += (S += 65535 & T) >>> 16) >>> 16) | (C += w >>> 16) << 16, t[4] = V = 65535 & S | E << 16, S = 65535 & (T = j), E = T >>> 16, w = 65535 & (_ = R), C = _ >>> 16, E += (T = t[5]) >>> 16, w += 65535 & (_ = e[5]), C += _ >>> 16, e[5] = R = 65535 & (w += (E += (S += 65535 & T) >>> 16) >>> 16) | (C += w >>> 16) << 16, t[5] = j = 65535 & S | E << 16, S = 65535 & (T = z), E = T >>> 16, w = 65535 & (_ = x), C = _ >>> 16, E += (T = t[6]) >>> 16, w += 65535 & (_ = e[6]), C += _ >>> 16, e[6] = x = 65535 & (w += (E += (S += 65535 & T) >>> 16) >>> 16) | (C += w >>> 16) << 16, t[6] = z = 65535 & S | E << 16, S = 65535 & (T = q), E = T >>> 16, w = 65535 & (_ = M), C = _ >>> 16, E += (T = t[7]) >>> 16, w += 65535 & (_ = e[7]), C += _ >>> 16, e[7] = M = 65535 & (w += (E += (S += 65535 & T) >>> 16) >>> 16) | (C += w >>> 16) << 16, t[7] = q = 65535 & S | E << 16, H += 128, n -= 128
                }
                return n
            }

            function R(e, i, n) {
                var r, a = new Int32Array(8),
                    o = new Int32Array(8),
                    s = new Uint8Array(256),
                    l = n;
                for (a[0] = 1779033703, a[1] = 3144134277, a[2] = 1013904242, a[3] = 2773480762, a[4] = 1359893119, a[5] = 2600822924, a[6] = 528734635, a[7] = 1541459225, o[0] = 4089235720, o[1] = 2227873595, o[2] = 4271175723, o[3] = 1595750129, o[4] = 2917565137, o[5] = 725511199, o[6] = 4215389547, o[7] = 327033209, D(a, o, i, n), n %= 128, r = 0; r < n; r++) s[r] = i[l - n + r];
                for (s[n] = 128, s[(n = 256 - 128 * (n < 112 ? 1 : 0)) - 9] = 0, t(s, n - 8, l / 536870912 | 0, l << 3), D(a, o, s, n), r = 0; r < 8; r++) t(e, 8 * r, a[r], o[r]);
                return 0
            }

            function x(e, t) {
                var i = Y(),
                    n = Y(),
                    r = Y(),
                    a = Y(),
                    o = Y(),
                    s = Y(),
                    l = Y(),
                    c = Y(),
                    u = Y();
                w(i, e[1], e[0]), w(u, t[1], t[0]), C(i, i, u), E(n, e[0], e[1]), E(u, t[0], t[1]), C(n, n, u), C(r, e[3], t[3]), C(r, r, te), C(a, e[2], t[2]), E(a, a, a), w(o, n, i), w(s, a, r), E(l, a, r), E(c, n, i), C(e[0], o, s), C(e[1], c, l), C(e[2], l, s), C(e[3], o, c)
            }

            function M(e, t, i) {
                var n;
                for (n = 0; n < 4; n++) v(e[n], t[n], i)
            }

            function U(e, t) {
                var i = Y(),
                    n = Y(),
                    r = Y();
                P(r, t[2]), C(i, t[0], r), C(n, t[1], r), b(e, n), e[31] ^= T(i) << 7
            }

            function N(e, t, i) {
                var n, r;
                for (g(e[0], $), g(e[1], Q), g(e[2], Q), g(e[3], $), r = 255; r >= 0; --r) M(e, t, n = i[r / 8 | 0] >> (7 & r) & 1), x(t, e), x(e, e), M(e, t, n)
            }

            function F(e, t) {
                var i = [Y(), Y(), Y(), Y()];
                g(i[0], ie), g(i[1], ne), g(i[2], Q), C(i[3], ie, ne), N(e, i, t)
            }

            function B(e, t, i) {
                var n, r = new Uint8Array(64),
                    a = [Y(), Y(), Y(), Y()];
                for (i || K(t, 32), R(r, t, 32), r[0] &= 248, r[31] &= 127, r[31] |= 64, F(a, r), U(e, a), n = 0; n < 32; n++) t[n + 32] = e[n];
                return 0
            }

            function V(e, t) {
                var i, n, r, a;
                for (n = 63; n >= 32; --n) {
                    for (i = 0, r = n - 32, a = n - 12; r < a; ++r) t[r] += i - 16 * t[n] * ue[r - (n - 32)], t[r] -= 256 * (i = t[r] + 128 >> 8);
                    t[r] += i, t[n] = 0
                }
                for (i = 0, r = 0; r < 32; r++) t[r] += i - (t[31] >> 4) * ue[r], i = t[r] >> 8, t[r] &= 255;
                for (r = 0; r < 32; r++) t[r] -= i * ue[r];
                for (n = 0; n < 32; n++) t[n + 1] += t[n] >> 8, e[n] = 255 & t[n]
            }

            function j(e) {
                var t, i = new Float64Array(64);
                for (t = 0; t < 64; t++) i[t] = e[t];
                for (t = 0; t < 64; t++) e[t] = 0;
                V(e, i)
            }

            function z(e, t, i, n) {
                var r, a, o = new Uint8Array(64),
                    s = new Uint8Array(64),
                    l = new Uint8Array(64),
                    c = new Float64Array(64),
                    u = [Y(), Y(), Y(), Y()];
                R(o, n, 32), o[0] &= 248, o[31] &= 127, o[31] |= 64;
                var d = i + 64;
                for (r = 0; r < i; r++) e[64 + r] = t[r];
                for (r = 0; r < 32; r++) e[32 + r] = o[32 + r];
                for (R(l, e.subarray(32), i + 32), j(l), F(u, l), U(e, u), r = 32; r < 64; r++) e[r] = n[r];
                for (R(s, e, i + 64), j(s), r = 0; r < 64; r++) c[r] = 0;
                for (r = 0; r < 32; r++) c[r] = l[r];
                for (r = 0; r < 32; r++)
                    for (a = 0; a < 32; a++) c[r + a] += s[r] * o[a];
                return V(e.subarray(32), c), d
            }

            function q(e, t, i, n) {
                var r, o = new Uint8Array(32),
                    s = new Uint8Array(64),
                    l = [Y(), Y(), Y(), Y()],
                    c = [Y(), Y(), Y(), Y()];
                if (i < 64) return -1;
                if (function(e, t) {
                        var i = Y(),
                            n = Y(),
                            r = Y(),
                            a = Y(),
                            o = Y(),
                            s = Y(),
                            l = Y();
                        return g(e[2], Q), S(e[1], t), k(r, e[1]), C(a, r, ee), w(r, r, e[2]), E(a, e[2], a), k(o, a), k(s, o), C(l, s, o), C(i, l, r), C(i, i, a),
                            function(e, t) {
                                var i, n = Y();
                                for (i = 0; i < 16; i++) n[i] = t[i];
                                for (i = 250; i >= 0; i--) k(n, n), 1 !== i && C(n, n, t);
                                for (i = 0; i < 16; i++) e[i] = n[i]
                            }(i, i), C(i, i, r), C(i, i, a), C(i, i, a), C(e[0], i, a), k(n, e[0]), C(n, n, a), _(n, r) && C(e[0], e[0], re), k(n, e[0]), C(n, n, a), _(n, r) ? -1 : (T(e[0]) === t[31] >> 7 && w(e[0], $, e[0]), C(e[3], e[0], e[1]), 0)
                    }(c, n)) return -1;
                for (r = 0; r < i; r++) e[r] = t[r];
                for (r = 0; r < 32; r++) e[r + 32] = n[r];
                if (R(s, e, i), j(s), N(l, c, s), F(c, t.subarray(32)), x(l, c), U(o, l), i -= 64, a(t, 0, o, 0)) {
                    for (r = 0; r < i; r++) e[r] = 0;
                    return -1
                }
                for (r = 0; r < i; r++) e[r] = t[r + 64];
                return i
            }

            function H(e, t) {
                if (e.length !== de) throw new Error("bad key size");
                if (t.length !== he) throw new Error("bad nonce size")
            }

            function G() {
                for (var e = 0; e < arguments.length; e++)
                    if (!(arguments[e] instanceof Uint8Array)) throw new TypeError("unexpected type, use Uint8Array")
            }

            function W(e) {
                for (var t = 0; t < e.length; t++) e[t] = 0
            }
            var Y = function(e) {
                    var t, i = new Float64Array(16);
                    if (e)
                        for (t = 0; t < e.length; t++) i[t] = e[t];
                    return i
                },
                K = function() {
                    throw new Error("no PRNG")
                },
                X = new Uint8Array(16),
                J = new Uint8Array(32);
            J[0] = 9;
            var $ = Y(),
                Q = Y([1]),
                Z = Y([56129, 1]),
                ee = Y([30883, 4953, 19914, 30187, 55467, 16705, 2637, 112, 59544, 30585, 16505, 36039, 65139, 11119, 27886, 20995]),
                te = Y([61785, 9906, 39828, 60374, 45398, 33411, 5274, 224, 53552, 61171, 33010, 6542, 64743, 22239, 55772, 9222]),
                ie = Y([54554, 36645, 11616, 51542, 42930, 38181, 51040, 26924, 56412, 64982, 57905, 49316, 21502, 52590, 14035, 8553]),
                ne = Y([26200, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214]),
                re = Y([41136, 18958, 6951, 50414, 58488, 44335, 6150, 12099, 55207, 15867, 153, 11085, 57099, 20417, 9344, 11139]),
                ae = new Uint8Array([101, 120, 112, 97, 110, 100, 32, 51, 50, 45, 98, 121, 116, 101, 32, 107]),
                oe = function(e) {
                    var t, i, n, r, a, o, s, l;
                    this.buffer = new Uint8Array(16), this.r = new Uint16Array(10), this.h = new Uint16Array(10), this.pad = new Uint16Array(8), this.leftover = 0, this.fin = 0, this.r[0] = 8191 & (t = 255 & e[0] | (255 & e[1]) << 8), this.r[1] = 8191 & (t >>> 13 | (i = 255 & e[2] | (255 & e[3]) << 8) << 3), this.r[2] = 7939 & (i >>> 10 | (n = 255 & e[4] | (255 & e[5]) << 8) << 6), this.r[3] = 8191 & (n >>> 7 | (r = 255 & e[6] | (255 & e[7]) << 8) << 9), this.r[4] = 255 & (r >>> 4 | (a = 255 & e[8] | (255 & e[9]) << 8) << 12), this.r[5] = a >>> 1 & 8190, this.r[6] = 8191 & (a >>> 14 | (o = 255 & e[10] | (255 & e[11]) << 8) << 2), this.r[7] = 8065 & (o >>> 11 | (s = 255 & e[12] | (255 & e[13]) << 8) << 5), this.r[8] = 8191 & (s >>> 8 | (l = 255 & e[14] | (255 & e[15]) << 8) << 8), this.r[9] = l >>> 5 & 127, this.pad[0] = 255 & e[16] | (255 & e[17]) << 8, this.pad[1] = 255 & e[18] | (255 & e[19]) << 8, this.pad[2] = 255 & e[20] | (255 & e[21]) << 8, this.pad[3] = 255 & e[22] | (255 & e[23]) << 8, this.pad[4] = 255 & e[24] | (255 & e[25]) << 8, this.pad[5] = 255 & e[26] | (255 & e[27]) << 8, this.pad[6] = 255 & e[28] | (255 & e[29]) << 8, this.pad[7] = 255 & e[30] | (255 & e[31]) << 8
                };
            oe.prototype.blocks = function(e, t, i) {
                for (var n, r, a, o, s, l, c, u, d, h, p, f, m, g, y, v, b, _, T, S = this.fin ? 0 : 2048, E = this.h[0], w = this.h[1], C = this.h[2], k = this.h[3], P = this.h[4], A = this.h[5], I = this.h[6], L = this.h[7], O = this.h[8], D = this.h[9], R = this.r[0], x = this.r[1], M = this.r[2], U = this.r[3], N = this.r[4], F = this.r[5], B = this.r[6], V = this.r[7], j = this.r[8], z = this.r[9]; i >= 16;) h = d = 0, h += (E += 8191 & (n = 255 & e[t + 0] | (255 & e[t + 1]) << 8)) * R, h += (w += 8191 & (n >>> 13 | (r = 255 & e[t + 2] | (255 & e[t + 3]) << 8) << 3)) * (5 * z), h += (C += 8191 & (r >>> 10 | (a = 255 & e[t + 4] | (255 & e[t + 5]) << 8) << 6)) * (5 * j), h += (k += 8191 & (a >>> 7 | (o = 255 & e[t + 6] | (255 & e[t + 7]) << 8) << 9)) * (5 * V), d = (h += (P += 8191 & (o >>> 4 | (s = 255 & e[t + 8] | (255 & e[t + 9]) << 8) << 12)) * (5 * B)) >>> 13, h &= 8191, h += (A += s >>> 1 & 8191) * (5 * F), h += (I += 8191 & (s >>> 14 | (l = 255 & e[t + 10] | (255 & e[t + 11]) << 8) << 2)) * (5 * N), h += (L += 8191 & (l >>> 11 | (c = 255 & e[t + 12] | (255 & e[t + 13]) << 8) << 5)) * (5 * U), h += (O += 8191 & (c >>> 8 | (u = 255 & e[t + 14] | (255 & e[t + 15]) << 8) << 8)) * (5 * M), p = d += (h += (D += u >>> 5 | S) * (5 * x)) >>> 13, p += E * x, p += w * R, p += C * (5 * z), p += k * (5 * j), d = (p += P * (5 * V)) >>> 13, p &= 8191, p += A * (5 * B), p += I * (5 * F), p += L * (5 * N), p += O * (5 * U), d += (p += D * (5 * M)) >>> 13, p &= 8191, f = d, f += E * M, f += w * x, f += C * R, f += k * (5 * z), d = (f += P * (5 * j)) >>> 13, f &= 8191, f += A * (5 * V), f += I * (5 * B), f += L * (5 * F), f += O * (5 * N), m = d += (f += D * (5 * U)) >>> 13, m += E * U, m += w * M, m += C * x, m += k * R, d = (m += P * (5 * z)) >>> 13, m &= 8191, m += A * (5 * j), m += I * (5 * V), m += L * (5 * B), m += O * (5 * F), g = d += (m += D * (5 * N)) >>> 13, g += E * N, g += w * U, g += C * M, g += k * x, d = (g += P * R) >>> 13, g &= 8191, g += A * (5 * z), g += I * (5 * j), g += L * (5 * V), g += O * (5 * B), y = d += (g += D * (5 * F)) >>> 13, y += E * F, y += w * N, y += C * U, y += k * M, d = (y += P * x) >>> 13, y &= 8191, y += A * R, y += I * (5 * z), y += L * (5 * j), y += O * (5 * V), v = d += (y += D * (5 * B)) >>> 13, v += E * B, v += w * F, v += C * N, v += k * U, d = (v += P * M) >>> 13, v &= 8191, v += A * x, v += I * R, v += L * (5 * z), v += O * (5 * j), b = d += (v += D * (5 * V)) >>> 13, b += E * V, b += w * B, b += C * F, b += k * N, d = (b += P * U) >>> 13, b &= 8191, b += A * M, b += I * x, b += L * R, b += O * (5 * z), _ = d += (b += D * (5 * j)) >>> 13, _ += E * j, _ += w * V, _ += C * B, _ += k * F, d = (_ += P * N) >>> 13, _ &= 8191, _ += A * U, _ += I * M, _ += L * x, _ += O * R, T = d += (_ += D * (5 * z)) >>> 13, T += E * z, T += w * j, T += C * V, T += k * B, d = (T += P * F) >>> 13, T &= 8191, T += A * N, T += I * U, T += L * M, T += O * x, E = h = 8191 & (d = (d = ((d += (T += D * R) >>> 13) << 2) + d | 0) + (h &= 8191) | 0), w = p += d >>>= 13, C = f &= 8191, k = m &= 8191, P = g &= 8191, A = y &= 8191, I = v &= 8191, L = b &= 8191, O = _ &= 8191, D = T &= 8191, t += 16, i -= 16;
                this.h[0] = E, this.h[1] = w, this.h[2] = C, this.h[3] = k, this.h[4] = P, this.h[5] = A, this.h[6] = I, this.h[7] = L, this.h[8] = O, this.h[9] = D
            }, oe.prototype.finish = function(e, t) {
                var i, n, r, a, o = new Uint16Array(10);
                if (this.leftover) {
                    for (a = this.leftover, this.buffer[a++] = 1; a < 16; a++) this.buffer[a] = 0;
                    this.fin = 1, this.blocks(this.buffer, 0, 16)
                }
                for (i = this.h[1] >>> 13, this.h[1] &= 8191, a = 2; a < 10; a++) this.h[a] += i, i = this.h[a] >>> 13, this.h[a] &= 8191;
                for (this.h[0] += 5 * i, i = this.h[0] >>> 13, this.h[0] &= 8191, this.h[1] += i, i = this.h[1] >>> 13, this.h[1] &= 8191, this.h[2] += i, o[0] = this.h[0] + 5, i = o[0] >>> 13, o[0] &= 8191, a = 1; a < 10; a++) o[a] = this.h[a] + i, i = o[a] >>> 13, o[a] &= 8191;
                for (o[9] -= 8192, n = (1 ^ i) - 1, a = 0; a < 10; a++) o[a] &= n;
                for (n = ~n, a = 0; a < 10; a++) this.h[a] = this.h[a] & n | o[a];
                for (this.h[0] = 65535 & (this.h[0] | this.h[1] << 13), this.h[1] = 65535 & (this.h[1] >>> 3 | this.h[2] << 10), this.h[2] = 65535 & (this.h[2] >>> 6 | this.h[3] << 7), this.h[3] = 65535 & (this.h[3] >>> 9 | this.h[4] << 4), this.h[4] = 65535 & (this.h[4] >>> 12 | this.h[5] << 1 | this.h[6] << 14), this.h[5] = 65535 & (this.h[6] >>> 2 | this.h[7] << 11), this.h[6] = 65535 & (this.h[7] >>> 5 | this.h[8] << 8), this.h[7] = 65535 & (this.h[8] >>> 8 | this.h[9] << 5), this.h[0] = 65535 & (r = this.h[0] + this.pad[0]), a = 1; a < 8; a++) this.h[a] = 65535 & (r = (this.h[a] + this.pad[a] | 0) + (r >>> 16) | 0);
                e[t + 0] = this.h[0] >>> 0 & 255, e[t + 1] = this.h[0] >>> 8 & 255, e[t + 2] = this.h[1] >>> 0 & 255, e[t + 3] = this.h[1] >>> 8 & 255, e[t + 4] = this.h[2] >>> 0 & 255, e[t + 5] = this.h[2] >>> 8 & 255, e[t + 6] = this.h[3] >>> 0 & 255, e[t + 7] = this.h[3] >>> 8 & 255, e[t + 8] = this.h[4] >>> 0 & 255, e[t + 9] = this.h[4] >>> 8 & 255, e[t + 10] = this.h[5] >>> 0 & 255, e[t + 11] = this.h[5] >>> 8 & 255, e[t + 12] = this.h[6] >>> 0 & 255, e[t + 13] = this.h[6] >>> 8 & 255, e[t + 14] = this.h[7] >>> 0 & 255, e[t + 15] = this.h[7] >>> 8 & 255
            }, oe.prototype.update = function(e, t, i) {
                var n, r;
                if (this.leftover) {
                    for ((r = 16 - this.leftover) > i && (r = i), n = 0; n < r; n++) this.buffer[this.leftover + n] = e[t + n];
                    if (i -= r, t += r, this.leftover += r, this.leftover < 16) return;
                    this.blocks(this.buffer, 0, 16), this.leftover = 0
                }
                if (i >= 16 && (this.blocks(e, t, r = i - i % 16), t += r, i -= r), i) {
                    for (n = 0; n < i; n++) this.buffer[this.leftover + n] = e[t + n];
                    this.leftover += i
                }
            };
            var se = f,
                le = m,
                ce = [1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399, 3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265, 2453635748, 2937671579, 2870763221, 3664609560, 3624381080, 2734883394, 310598401, 1164996542, 607225278, 1323610764, 1426881987, 3590304994, 1925078388, 4068182383, 2162078206, 991336113, 2614888103, 633803317, 3248222580, 3479774868, 3835390401, 2666613458, 4022224774, 944711139, 264347078, 2341262773, 604807628, 2007800933, 770255983, 1495990901, 1249150122, 1856431235, 1555081692, 3175218132, 1996064986, 2198950837, 2554220882, 3999719339, 2821834349, 766784016, 2952996808, 2566594879, 3210313671, 3203337956, 3336571891, 1034457026, 3584528711, 2466948901, 113926993, 3758326383, 338241895, 168717936, 666307205, 1188179964, 773529912, 1546045734, 1294757372, 1522805485, 1396182291, 2643833823, 1695183700, 2343527390, 1986661051, 1014477480, 2177026350, 1206759142, 2456956037, 344077627, 2730485921, 1290863460, 2820302411, 3158454273, 3259730800, 3505952657, 3345764771, 106217008, 3516065817, 3606008344, 3600352804, 1432725776, 4094571909, 1467031594, 275423344, 851169720, 430227734, 3100823752, 506948616, 1363258195, 659060556, 3750685593, 883997877, 3785050280, 958139571, 3318307427, 1322822218, 3812723403, 1537002063, 2003034995, 1747873779, 3602036899, 1955562222, 1575990012, 2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044, 2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573, 3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711, 3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554, 174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315, 685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100, 1126000580, 2618297676, 1288033470, 3409855158, 1501505948, 4234509866, 1607167915, 987167468, 1816402316, 1246189591],
                ue = new Float64Array([237, 211, 245, 92, 26, 99, 18, 88, 214, 156, 247, 162, 222, 249, 222, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 16]),
                de = 32,
                he = 24,
                pe = he;
            e.lowlevel = {
                    crypto_core_hsalsa20: s,
                    crypto_stream_xor: d,
                    crypto_stream: u,
                    crypto_stream_salsa20_xor: l,
                    crypto_stream_salsa20: c,
                    crypto_onetimeauth: h,
                    crypto_onetimeauth_verify: p,
                    crypto_verify_16: r,
                    crypto_verify_32: a,
                    crypto_secretbox: f,
                    crypto_secretbox_open: m,
                    crypto_scalarmult: A,
                    crypto_scalarmult_base: I,
                    crypto_box_beforenm: O,
                    crypto_box_afternm: se,
                    crypto_box: function(e, t, i, n, r, a) {
                        var o = new Uint8Array(32);
                        return O(o, r, a), se(e, t, i, n, o)
                    },
                    crypto_box_open: function(e, t, i, n, r, a) {
                        var o = new Uint8Array(32);
                        return O(o, r, a), le(e, t, i, n, o)
                    },
                    crypto_box_keypair: L,
                    crypto_hash: R,
                    crypto_sign: z,
                    crypto_sign_keypair: B,
                    crypto_sign_open: q,
                    crypto_secretbox_KEYBYTES: de,
                    crypto_secretbox_NONCEBYTES: he,
                    crypto_secretbox_ZEROBYTES: 32,
                    crypto_secretbox_BOXZEROBYTES: 16,
                    crypto_scalarmult_BYTES: 32,
                    crypto_scalarmult_SCALARBYTES: 32,
                    crypto_box_PUBLICKEYBYTES: 32,
                    crypto_box_SECRETKEYBYTES: 32,
                    crypto_box_BEFORENMBYTES: 32,
                    crypto_box_NONCEBYTES: pe,
                    crypto_box_ZEROBYTES: 32,
                    crypto_box_BOXZEROBYTES: 16,
                    crypto_sign_BYTES: 64,
                    crypto_sign_PUBLICKEYBYTES: 32,
                    crypto_sign_SECRETKEYBYTES: 64,
                    crypto_sign_SEEDBYTES: 32,
                    crypto_hash_BYTES: 64
                }, e.randomBytes = function(e) {
                    var t = new Uint8Array(e);
                    return K(t, e), t
                }, e.secretbox = function(e, t, i) {
                    G(e, t, i), H(i, t);
                    for (var n = new Uint8Array(32 + e.length), r = new Uint8Array(n.length), a = 0; a < e.length; a++) n[a + 32] = e[a];
                    return f(r, n, n.length, t, i), r.subarray(16)
                }, e.secretbox.open = function(e, t, i) {
                    G(e, t, i), H(i, t);
                    for (var n = new Uint8Array(16 + e.length), r = new Uint8Array(n.length), a = 0; a < e.length; a++) n[a + 16] = e[a];
                    return n.length < 32 ? null : 0 !== m(r, n, n.length, t, i) ? null : r.subarray(32)
                }, e.secretbox.keyLength = de, e.secretbox.nonceLength = he, e.secretbox.overheadLength = 16, e.scalarMult = function(e, t) {
                    if (G(e, t), 32 !== e.length) throw new Error("bad n size");
                    if (32 !== t.length) throw new Error("bad p size");
                    var i = new Uint8Array(32);
                    return A(i, e, t), i
                }, e.scalarMult.base = function(e) {
                    if (G(e), 32 !== e.length) throw new Error("bad n size");
                    var t = new Uint8Array(32);
                    return I(t, e), t
                }, e.scalarMult.scalarLength = 32, e.scalarMult.groupElementLength = 32, e.box = function(t, i, n, r) {
                    var a = e.box.before(n, r);
                    return e.secretbox(t, i, a)
                }, e.box.before = function(e, t) {
                    G(e, t),
                        function(e, t) {
                            if (32 !== e.length) throw new Error("bad public key size");
                            if (32 !== t.length) throw new Error("bad secret key size")
                        }(e, t);
                    var i = new Uint8Array(32);
                    return O(i, e, t), i
                }, e.box.after = e.secretbox, e.box.open = function(t, i, n, r) {
                    var a = e.box.before(n, r);
                    return e.secretbox.open(t, i, a)
                }, e.box.open.after = e.secretbox.open, e.box.keyPair = function() {
                    var e = new Uint8Array(32),
                        t = new Uint8Array(32);
                    return L(e, t), {
                        publicKey: e,
                        secretKey: t
                    }
                }, e.box.keyPair.fromSecretKey = function(e) {
                    if (G(e), 32 !== e.length) throw new Error("bad secret key size");
                    var t = new Uint8Array(32);
                    return I(t, e), {
                        publicKey: t,
                        secretKey: new Uint8Array(e)
                    }
                }, e.box.publicKeyLength = 32, e.box.secretKeyLength = 32, e.box.sharedKeyLength = 32, e.box.nonceLength = pe, e.box.overheadLength = e.secretbox.overheadLength, e.sign = function(e, t) {
                    if (G(e, t), 64 !== t.length) throw new Error("bad secret key size");
                    var i = new Uint8Array(64 + e.length);
                    return z(i, e, e.length, t), i
                }, e.sign.open = function(e, t) {
                    if (G(e, t), 32 !== t.length) throw new Error("bad public key size");
                    var i = new Uint8Array(e.length),
                        n = q(i, e, e.length, t);
                    if (n < 0) return null;
                    for (var r = new Uint8Array(n), a = 0; a < r.length; a++) r[a] = i[a];
                    return r
                }, e.sign.detached = function(t, i) {
                    for (var n = e.sign(t, i), r = new Uint8Array(64), a = 0; a < r.length; a++) r[a] = n[a];
                    return r
                }, e.sign.detached.verify = function(e, t, i) {
                    if (G(e, t, i), 64 !== t.length) throw new Error("bad signature size");
                    if (32 !== i.length) throw new Error("bad public key size");
                    var n, r = new Uint8Array(64 + e.length),
                        a = new Uint8Array(64 + e.length);
                    for (n = 0; n < 64; n++) r[n] = t[n];
                    for (n = 0; n < e.length; n++) r[n + 64] = e[n];
                    return q(a, r, r.length, i) >= 0
                }, e.sign.keyPair = function() {
                    var e = new Uint8Array(32),
                        t = new Uint8Array(64);
                    return B(e, t), {
                        publicKey: e,
                        secretKey: t
                    }
                }, e.sign.keyPair.fromSecretKey = function(e) {
                    if (G(e), 64 !== e.length) throw new Error("bad secret key size");
                    for (var t = new Uint8Array(32), i = 0; i < t.length; i++) t[i] = e[32 + i];
                    return {
                        publicKey: t,
                        secretKey: new Uint8Array(e)
                    }
                }, e.sign.keyPair.fromSeed = function(e) {
                    if (G(e), 32 !== e.length) throw new Error("bad seed size");
                    for (var t = new Uint8Array(32), i = new Uint8Array(64), n = 0; n < 32; n++) i[n] = e[n];
                    return B(t, i, !0), {
                        publicKey: t,
                        secretKey: i
                    }
                }, e.sign.publicKeyLength = 32, e.sign.secretKeyLength = 64, e.sign.seedLength = 32, e.sign.signatureLength = 64, e.hash = function(e) {
                    G(e);
                    var t = new Uint8Array(64);
                    return R(t, e, e.length), t
                }, e.hash.hashLength = 64, e.verify = function(e, t) {
                    return G(e, t), 0 !== e.length && 0 !== t.length && e.length === t.length && 0 === n(e, 0, t, 0, e.length)
                }, e.setPRNG = function(e) {
                    K = e
                },
                function() {
                    var t = "undefined" != typeof self ? self.crypto || self.msCrypto : null;
                    t && t.getRandomValues ? e.setPRNG(function(e, i) {
                        var n, r = new Uint8Array(i);
                        for (n = 0; n < i; n += 65536) t.getRandomValues(r.subarray(n, n + Math.min(i - n, 65536)));
                        for (n = 0; n < i; n++) e[n] = r[n];
                        W(r)
                    }) : (t = i(56)) && t.randomBytes && e.setPRNG(function(e, i) {
                        var n, r = t.randomBytes(i);
                        for (n = 0; n < i; n++) e[n] = r[n];
                        W(r)
                    })
                }()
        }(void 0 !== e && e.exports ? e.exports : self.nacl = self.nacl || {})
    }, function(e, t) {}, function(e, t, i) {
        (function(t) {
            ! function(t, i) {
                "use strict";
                void 0 !== e && e.exports ? e.exports = i() : t.nacl ? t.nacl.util = i() : (t.nacl = {}, t.nacl.util = i())
            }(this, function() {
                "use strict";

                function e(e) {
                    if (!/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e)) throw new TypeError("invalid encoding")
                }
                var i = {
                    decodeUTF8: function(e) {
                        if ("string" != typeof e) throw new TypeError("expected string");
                        var t, i = unescape(encodeURIComponent(e)),
                            n = new Uint8Array(i.length);
                        for (t = 0; t < i.length; t++) n[t] = i.charCodeAt(t);
                        return n
                    },
                    encodeUTF8: function(e) {
                        var t, i = [];
                        for (t = 0; t < e.length; t++) i.push(String.fromCharCode(e[t]));
                        return decodeURIComponent(escape(i.join("")))
                    }
                };
                return "undefined" == typeof atob ? void 0 !== t.from ? (i.encodeBase64 = function(e) {
                    return t.from(e).toString("base64")
                }, i.decodeBase64 = function(i) {
                    return e(i), new Uint8Array(Array.prototype.slice.call(t.from(i, "base64"), 0))
                }) : (i.encodeBase64 = function(e) {
                    return new t(e).toString("base64")
                }, i.decodeBase64 = function(i) {
                    return e(i), new Uint8Array(Array.prototype.slice.call(new t(i, "base64"), 0))
                }) : (i.encodeBase64 = function(e) {
                    var t, i = [],
                        n = e.length;
                    for (t = 0; t < n; t++) i.push(String.fromCharCode(e[t]));
                    return btoa(i.join(""))
                }, i.decodeBase64 = function(t) {
                    e(t);
                    var i, n = atob(t),
                        r = new Uint8Array(n.length);
                    for (i = 0; i < n.length; i++) r[i] = n.charCodeAt(i);
                    return r
                }), i
            })
        }).call(t, i(58).Buffer)
    }, function(e, t, i) {
        "use strict";

        function n() {
            return a.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823
        }

        function r(e, t) {
            if (n() < t) throw new RangeError("Invalid typed array length");
            return a.TYPED_ARRAY_SUPPORT ? (e = new Uint8Array(t)).__proto__ = a.prototype : (null === e && (e = new a(t)), e.length = t), e
        }

        function a(e, t, i) {
            if (!(a.TYPED_ARRAY_SUPPORT || this instanceof a)) return new a(e, t, i);
            if ("number" == typeof e) {
                if ("string" == typeof t) throw new Error("If encoding is specified then the first argument must be a string");
                return l(this, e)
            }
            return o(this, e, t, i)
        }

        function o(e, t, i, n) {
            if ("number" == typeof t) throw new TypeError('"value" argument must not be a number');
            return "undefined" != typeof ArrayBuffer && t instanceof ArrayBuffer ? function(e, t, i, n) {
                if (i < 0 || t.byteLength < i) throw new RangeError("'offset' is out of bounds");
                if (t.byteLength < i + (n || 0)) throw new RangeError("'length' is out of bounds");
                return t = void 0 === i && void 0 === n ? new Uint8Array(t) : void 0 === n ? new Uint8Array(t, i) : new Uint8Array(t, i, n), a.TYPED_ARRAY_SUPPORT ? (e = t).__proto__ = a.prototype : e = c(e, t), e
            }(e, t, i, n) : "string" == typeof t ? function(e, t, i) {
                if ("string" == typeof i && "" !== i || (i = "utf8"), !a.isEncoding(i)) throw new TypeError('"encoding" must be a valid string encoding');
                var n = 0 | d(t, i),
                    o = (e = r(e, n)).write(t, i);
                return o !== n && (e = e.slice(0, o)), e
            }(e, t, i) : function(e, t) {
                if (a.isBuffer(t)) {
                    var i = 0 | u(t.length);
                    return 0 === (e = r(e, i)).length ? e : (t.copy(e, 0, 0, i), e)
                }
                if (t) {
                    if ("undefined" != typeof ArrayBuffer && t.buffer instanceof ArrayBuffer || "length" in t) return "number" != typeof t.length || function(e) {
                        return e != e
                    }(t.length) ? r(e, 0) : c(e, t);
                    if ("Buffer" === t.type && V(t.data)) return c(e, t.data)
                }
                throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")
            }(e, t)
        }

        function s(e) {
            if ("number" != typeof e) throw new TypeError('"size" argument must be a number');
            if (e < 0) throw new RangeError('"size" argument must not be negative')
        }

        function l(e, t) {
            if (s(t), e = r(e, t < 0 ? 0 : 0 | u(t)), !a.TYPED_ARRAY_SUPPORT)
                for (var i = 0; i < t; ++i) e[i] = 0;
            return e
        }

        function c(e, t) {
            var i = t.length < 0 ? 0 : 0 | u(t.length);
            e = r(e, i);
            for (var n = 0; n < i; n += 1) e[n] = 255 & t[n];
            return e
        }

        function u(e) {
            if (e >= n()) throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + n().toString(16) + " bytes");
            return 0 | e
        }

        function d(e, t) {
            if (a.isBuffer(e)) return e.length;
            if ("undefined" != typeof ArrayBuffer && "function" == typeof ArrayBuffer.isView && (ArrayBuffer.isView(e) || e instanceof ArrayBuffer)) return e.byteLength;
            "string" != typeof e && (e = "" + e);
            var i = e.length;
            if (0 === i) return 0;
            for (var n = !1;;) switch (t) {
                case "ascii":
                case "latin1":
                case "binary":
                    return i;
                case "utf8":
                case "utf-8":
                case void 0:
                    return M(e).length;
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                    return 2 * i;
                case "hex":
                    return i >>> 1;
                case "base64":
                    return U(e).length;
                default:
                    if (n) return M(e).length;
                    t = ("" + t).toLowerCase(), n = !0
            }
        }

        function h(e, t, i) {
            var n = e[t];
            e[t] = e[i], e[i] = n
        }

        function p(e, t, i, n, r) {
            if (0 === e.length) return -1;
            if ("string" == typeof i ? (n = i, i = 0) : i > 2147483647 ? i = 2147483647 : i < -2147483648 && (i = -2147483648), i = +i, isNaN(i) && (i = r ? 0 : e.length - 1), i < 0 && (i = e.length + i), i >= e.length) {
                if (r) return -1;
                i = e.length - 1
            } else if (i < 0) {
                if (!r) return -1;
                i = 0
            }
            if ("string" == typeof t && (t = a.from(t, n)), a.isBuffer(t)) return 0 === t.length ? -1 : f(e, t, i, n, r);
            if ("number" == typeof t) return t &= 255, a.TYPED_ARRAY_SUPPORT && "function" == typeof Uint8Array.prototype.indexOf ? r ? Uint8Array.prototype.indexOf.call(e, t, i) : Uint8Array.prototype.lastIndexOf.call(e, t, i) : f(e, [t], i, n, r);
            throw new TypeError("val must be string, number or Buffer")
        }

        function f(e, t, i, n, r) {
            function a(e, t) {
                return 1 === s ? e[t] : e.readUInt16BE(t * s)
            }
            var o, s = 1,
                l = e.length,
                c = t.length;
            if (void 0 !== n && ("ucs2" === (n = String(n).toLowerCase()) || "ucs-2" === n || "utf16le" === n || "utf-16le" === n)) {
                if (e.length < 2 || t.length < 2) return -1;
                s = 2, l /= 2, c /= 2, i /= 2
            }
            if (r) {
                var u = -1;
                for (o = i; o < l; o++)
                    if (a(e, o) === a(t, -1 === u ? 0 : o - u)) {
                        if (-1 === u && (u = o), o - u + 1 === c) return u * s
                    } else -1 !== u && (o -= o - u), u = -1
            } else
                for (i + c > l && (i = l - c), o = i; o >= 0; o--) {
                    for (var d = !0, h = 0; h < c; h++)
                        if (a(e, o + h) !== a(t, h)) {
                            d = !1;
                            break
                        } if (d) return o
                }
            return -1
        }

        function m(e, t, i, n) {
            i = Number(i) || 0;
            var r = e.length - i;
            n ? (n = Number(n)) > r && (n = r) : n = r;
            var a = t.length;
            if (a % 2 != 0) throw new TypeError("Invalid hex string");
            n > a / 2 && (n = a / 2);
            for (var o = 0; o < n; ++o) {
                var s = parseInt(t.substr(2 * o, 2), 16);
                if (isNaN(s)) return o;
                e[i + o] = s
            }
            return o
        }

        function g(e, t, i, n) {
            return N(M(t, e.length - i), e, i, n)
        }

        function y(e, t, i, n) {
            return N(function(e) {
                for (var t = [], i = 0; i < e.length; ++i) t.push(255 & e.charCodeAt(i));
                return t
            }(t), e, i, n)
        }

        function v(e, t, i, n) {
            return y(e, t, i, n)
        }

        function b(e, t, i, n) {
            return N(U(t), e, i, n)
        }

        function _(e, t, i, n) {
            return N(function(e, t) {
                for (var i, n, r = [], a = 0; a < e.length && !((t -= 2) < 0); ++a) n = (i = e.charCodeAt(a)) >> 8, r.push(i % 256), r.push(n);
                return r
            }(t, e.length - i), e, i, n)
        }

        function T(e, t, i) {
            return F.fromByteArray(0 === t && i === e.length ? e : e.slice(t, i))
        }

        function S(e, t, i) {
            i = Math.min(e.length, i);
            for (var n = [], r = t; r < i;) {
                var a, o, s, l, c = e[r],
                    u = null,
                    d = c > 239 ? 4 : c > 223 ? 3 : c > 191 ? 2 : 1;
                if (r + d <= i) switch (d) {
                    case 1:
                        c < 128 && (u = c);
                        break;
                    case 2:
                        128 == (192 & (a = e[r + 1])) && (l = (31 & c) << 6 | 63 & a) > 127 && (u = l);
                        break;
                    case 3:
                        o = e[r + 2], 128 == (192 & (a = e[r + 1])) && 128 == (192 & o) && (l = (15 & c) << 12 | (63 & a) << 6 | 63 & o) > 2047 && (l < 55296 || l > 57343) && (u = l);
                        break;
                    case 4:
                        o = e[r + 2], s = e[r + 3], 128 == (192 & (a = e[r + 1])) && 128 == (192 & o) && 128 == (192 & s) && (l = (15 & c) << 18 | (63 & a) << 12 | (63 & o) << 6 | 63 & s) > 65535 && l < 1114112 && (u = l)
                }
                null === u ? (u = 65533, d = 1) : u > 65535 && (n.push((u -= 65536) >>> 10 & 1023 | 55296), u = 56320 | 1023 & u), n.push(u), r += d
            }
            return function(e) {
                var t = e.length;
                if (t <= j) return String.fromCharCode.apply(String, e);
                for (var i = "", n = 0; n < t;) i += String.fromCharCode.apply(String, e.slice(n, n += j));
                return i
            }(n)
        }

        function E(e, t, i) {
            var n = "";
            i = Math.min(e.length, i);
            for (var r = t; r < i; ++r) n += String.fromCharCode(127 & e[r]);
            return n
        }

        function w(e, t, i) {
            var n = "";
            i = Math.min(e.length, i);
            for (var r = t; r < i; ++r) n += String.fromCharCode(e[r]);
            return n
        }

        function C(e, t, i) {
            var n = e.length;
            (!t || t < 0) && (t = 0), (!i || i < 0 || i > n) && (i = n);
            for (var r = "", a = t; a < i; ++a) r += x(e[a]);
            return r
        }

        function k(e, t, i) {
            for (var n = e.slice(t, i), r = "", a = 0; a < n.length; a += 2) r += String.fromCharCode(n[a] + 256 * n[a + 1]);
            return r
        }

        function P(e, t, i) {
            if (e % 1 != 0 || e < 0) throw new RangeError("offset is not uint");
            if (e + t > i) throw new RangeError("Trying to access beyond buffer length")
        }

        function A(e, t, i, n, r, o) {
            if (!a.isBuffer(e)) throw new TypeError('"buffer" argument must be a Buffer instance');
            if (t > r || t < o) throw new RangeError('"value" argument is out of bounds');
            if (i + n > e.length) throw new RangeError("Index out of range")
        }

        function I(e, t, i, n) {
            t < 0 && (t = 65535 + t + 1);
            for (var r = 0, a = Math.min(e.length - i, 2); r < a; ++r) e[i + r] = (t & 255 << 8 * (n ? r : 1 - r)) >>> 8 * (n ? r : 1 - r)
        }

        function L(e, t, i, n) {
            t < 0 && (t = 4294967295 + t + 1);
            for (var r = 0, a = Math.min(e.length - i, 4); r < a; ++r) e[i + r] = t >>> 8 * (n ? r : 3 - r) & 255
        }

        function O(e, t, i, n, r, a) {
            if (i + n > e.length) throw new RangeError("Index out of range");
            if (i < 0) throw new RangeError("Index out of range")
        }

        function D(e, t, i, n, r) {
            return r || O(e, 0, i, 4), B.write(e, t, i, n, 23, 4), i + 4
        }

        function R(e, t, i, n, r) {
            return r || O(e, 0, i, 8), B.write(e, t, i, n, 52, 8), i + 8
        }

        function x(e) {
            return e < 16 ? "0" + e.toString(16) : e.toString(16)
        }

        function M(e, t) {
            t = t || 1 / 0;
            for (var i, n = e.length, r = null, a = [], o = 0; o < n; ++o) {
                if ((i = e.charCodeAt(o)) > 55295 && i < 57344) {
                    if (!r) {
                        if (i > 56319) {
                            (t -= 3) > -1 && a.push(239, 191, 189);
                            continue
                        }
                        if (o + 1 === n) {
                            (t -= 3) > -1 && a.push(239, 191, 189);
                            continue
                        }
                        r = i;
                        continue
                    }
                    if (i < 56320) {
                        (t -= 3) > -1 && a.push(239, 191, 189), r = i;
                        continue
                    }
                    i = 65536 + (r - 55296 << 10 | i - 56320)
                } else r && (t -= 3) > -1 && a.push(239, 191, 189);
                if (r = null, i < 128) {
                    if ((t -= 1) < 0) break;
                    a.push(i)
                } else if (i < 2048) {
                    if ((t -= 2) < 0) break;
                    a.push(i >> 6 | 192, 63 & i | 128)
                } else if (i < 65536) {
                    if ((t -= 3) < 0) break;
                    a.push(i >> 12 | 224, i >> 6 & 63 | 128, 63 & i | 128)
                } else {
                    if (!(i < 1114112)) throw new Error("Invalid code point");
                    if ((t -= 4) < 0) break;
                    a.push(i >> 18 | 240, i >> 12 & 63 | 128, i >> 6 & 63 | 128, 63 & i | 128)
                }
            }
            return a
        }

        function U(e) {
            return F.toByteArray(function(e) {
                if ((e = function(e) {
                        return e.trim ? e.trim() : e.replace(/^\s+|\s+$/g, "")
                    }(e).replace(z, "")).length < 2) return "";
                for (; e.length % 4 != 0;) e += "=";
                return e
            }(e))
        }

        function N(e, t, i, n) {
            for (var r = 0; r < n && !(r + i >= t.length || r >= e.length); ++r) t[r + i] = e[r];
            return r
        }
        var F = i(59),
            B = i(60),
            V = i(61);
        t.Buffer = a, t.SlowBuffer = function(e) {
            return +e != e && (e = 0), a.alloc(+e)
        }, t.INSPECT_MAX_BYTES = 50, a.TYPED_ARRAY_SUPPORT = void 0 !== window.TYPED_ARRAY_SUPPORT ? window.TYPED_ARRAY_SUPPORT : function() {
            try {
                var e = new Uint8Array(1);
                return e.__proto__ = {
                    __proto__: Uint8Array.prototype,
                    foo: function() {
                        return 42
                    }
                }, 42 === e.foo() && "function" == typeof e.subarray && 0 === e.subarray(1, 1).byteLength
            } catch (e) {
                return !1
            }
        }(), t.kMaxLength = n(), a.poolSize = 8192, a._augment = function(e) {
            return e.__proto__ = a.prototype, e
        }, a.from = function(e, t, i) {
            return o(null, e, t, i)
        }, a.TYPED_ARRAY_SUPPORT && (a.prototype.__proto__ = Uint8Array.prototype, a.__proto__ = Uint8Array, "undefined" != typeof Symbol && Symbol.species && a[Symbol.species] === a && Object.defineProperty(a, Symbol.species, {
            value: null,
            configurable: !0
        })), a.alloc = function(e, t, i) {
            return function(e, t, i, n) {
                return s(t), t <= 0 ? r(e, t) : void 0 !== i ? "string" == typeof n ? r(e, t).fill(i, n) : r(e, t).fill(i) : r(e, t)
            }(null, e, t, i)
        }, a.allocUnsafe = function(e) {
            return l(null, e)
        }, a.allocUnsafeSlow = function(e) {
            return l(null, e)
        }, a.isBuffer = function(e) {
            return !(null == e || !e._isBuffer)
        }, a.compare = function(e, t) {
            if (!a.isBuffer(e) || !a.isBuffer(t)) throw new TypeError("Arguments must be Buffers");
            if (e === t) return 0;
            for (var i = e.length, n = t.length, r = 0, o = Math.min(i, n); r < o; ++r)
                if (e[r] !== t[r]) {
                    i = e[r], n = t[r];
                    break
                } return i < n ? -1 : n < i ? 1 : 0
        }, a.isEncoding = function(e) {
            switch (String(e).toLowerCase()) {
                case "hex":
                case "utf8":
                case "utf-8":
                case "ascii":
                case "latin1":
                case "binary":
                case "base64":
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                    return !0;
                default:
                    return !1
            }
        }, a.concat = function(e, t) {
            if (!V(e)) throw new TypeError('"list" argument must be an Array of Buffers');
            if (0 === e.length) return a.alloc(0);
            var i;
            if (void 0 === t)
                for (t = 0, i = 0; i < e.length; ++i) t += e[i].length;
            var n = a.allocUnsafe(t),
                r = 0;
            for (i = 0; i < e.length; ++i) {
                var o = e[i];
                if (!a.isBuffer(o)) throw new TypeError('"list" argument must be an Array of Buffers');
                o.copy(n, r), r += o.length
            }
            return n
        }, a.byteLength = d, a.prototype._isBuffer = !0, a.prototype.swap16 = function() {
            var e = this.length;
            if (e % 2 != 0) throw new RangeError("Buffer size must be a multiple of 16-bits");
            for (var t = 0; t < e; t += 2) h(this, t, t + 1);
            return this
        }, a.prototype.swap32 = function() {
            var e = this.length;
            if (e % 4 != 0) throw new RangeError("Buffer size must be a multiple of 32-bits");
            for (var t = 0; t < e; t += 4) h(this, t, t + 3), h(this, t + 1, t + 2);
            return this
        }, a.prototype.swap64 = function() {
            var e = this.length;
            if (e % 8 != 0) throw new RangeError("Buffer size must be a multiple of 64-bits");
            for (var t = 0; t < e; t += 8) h(this, t, t + 7), h(this, t + 1, t + 6), h(this, t + 2, t + 5), h(this, t + 3, t + 4);
            return this
        }, a.prototype.toString = function() {
            var e = 0 | this.length;
            return 0 === e ? "" : 0 === arguments.length ? S(this, 0, e) : (function(e, t, i) {
                var n = !1;
                if ((void 0 === t || t < 0) && (t = 0), t > this.length) return "";
                if ((void 0 === i || i > this.length) && (i = this.length), i <= 0) return "";
                if ((i >>>= 0) <= (t >>>= 0)) return "";
                for (e || (e = "utf8");;) switch (e) {
                    case "hex":
                        return C(this, t, i);
                    case "utf8":
                    case "utf-8":
                        return S(this, t, i);
                    case "ascii":
                        return E(this, t, i);
                    case "latin1":
                    case "binary":
                        return w(this, t, i);
                    case "base64":
                        return T(this, t, i);
                    case "ucs2":
                    case "ucs-2":
                    case "utf16le":
                    case "utf-16le":
                        return k(this, t, i);
                    default:
                        if (n) throw new TypeError("Unknown encoding: " + e);
                        e = (e + "").toLowerCase(), n = !0
                }
            }).apply(this, arguments)
        }, a.prototype.equals = function(e) {
            if (!a.isBuffer(e)) throw new TypeError("Argument must be a Buffer");
            return this === e || 0 === a.compare(this, e)
        }, a.prototype.inspect = function() {
            var e = "",
                i = t.INSPECT_MAX_BYTES;
            return this.length > 0 && (e = this.toString("hex", 0, i).match(/.{2}/g).join(" "), this.length > i && (e += " ... ")), "<Buffer " + e + ">"
        }, a.prototype.compare = function(e, t, i, n, r) {
            if (!a.isBuffer(e)) throw new TypeError("Argument must be a Buffer");
            if (void 0 === t && (t = 0), void 0 === i && (i = e ? e.length : 0), void 0 === n && (n = 0), void 0 === r && (r = this.length), t < 0 || i > e.length || n < 0 || r > this.length) throw new RangeError("out of range index");
            if (n >= r && t >= i) return 0;
            if (n >= r) return -1;
            if (t >= i) return 1;
            if (this === e) return 0;
            for (var o = (r >>>= 0) - (n >>>= 0), s = (i >>>= 0) - (t >>>= 0), l = Math.min(o, s), c = this.slice(n, r), u = e.slice(t, i), d = 0; d < l; ++d)
                if (c[d] !== u[d]) {
                    o = c[d], s = u[d];
                    break
                } return o < s ? -1 : s < o ? 1 : 0
        }, a.prototype.includes = function(e, t, i) {
            return -1 !== this.indexOf(e, t, i)
        }, a.prototype.indexOf = function(e, t, i) {
            return p(this, e, t, i, !0)
        }, a.prototype.lastIndexOf = function(e, t, i) {
            return p(this, e, t, i, !1)
        }, a.prototype.write = function(e, t, i, n) {
            if (void 0 === t) n = "utf8", i = this.length, t = 0;
            else if (void 0 === i && "string" == typeof t) n = t, i = this.length, t = 0;
            else {
                if (!isFinite(t)) throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
                t |= 0, isFinite(i) ? (i |= 0, void 0 === n && (n = "utf8")) : (n = i, i = void 0)
            }
            var r = this.length - t;
            if ((void 0 === i || i > r) && (i = r), e.length > 0 && (i < 0 || t < 0) || t > this.length) throw new RangeError("Attempt to write outside buffer bounds");
            n || (n = "utf8");
            for (var a = !1;;) switch (n) {
                case "hex":
                    return m(this, e, t, i);
                case "utf8":
                case "utf-8":
                    return g(this, e, t, i);
                case "ascii":
                    return y(this, e, t, i);
                case "latin1":
                case "binary":
                    return v(this, e, t, i);
                case "base64":
                    return b(this, e, t, i);
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                    return _(this, e, t, i);
                default:
                    if (a) throw new TypeError("Unknown encoding: " + n);
                    n = ("" + n).toLowerCase(), a = !0
            }
        }, a.prototype.toJSON = function() {
            return {
                type: "Buffer",
                data: Array.prototype.slice.call(this._arr || this, 0)
            }
        };
        var j = 4096;
        a.prototype.slice = function(e, t) {
            var i, n = this.length;
            if ((e = ~~e) < 0 ? (e += n) < 0 && (e = 0) : e > n && (e = n), (t = void 0 === t ? n : ~~t) < 0 ? (t += n) < 0 && (t = 0) : t > n && (t = n), t < e && (t = e), a.TYPED_ARRAY_SUPPORT)(i = this.subarray(e, t)).__proto__ = a.prototype;
            else {
                var r = t - e;
                i = new a(r, void 0);
                for (var o = 0; o < r; ++o) i[o] = this[o + e]
            }
            return i
        }, a.prototype.readUIntLE = function(e, t, i) {
            e |= 0, t |= 0, i || P(e, t, this.length);
            for (var n = this[e], r = 1, a = 0; ++a < t && (r *= 256);) n += this[e + a] * r;
            return n
        }, a.prototype.readUIntBE = function(e, t, i) {
            e |= 0, t |= 0, i || P(e, t, this.length);
            for (var n = this[e + --t], r = 1; t > 0 && (r *= 256);) n += this[e + --t] * r;
            return n
        }, a.prototype.readUInt8 = function(e, t) {
            return t || P(e, 1, this.length), this[e]
        }, a.prototype.readUInt16LE = function(e, t) {
            return t || P(e, 2, this.length), this[e] | this[e + 1] << 8
        }, a.prototype.readUInt16BE = function(e, t) {
            return t || P(e, 2, this.length), this[e] << 8 | this[e + 1]
        }, a.prototype.readUInt32LE = function(e, t) {
            return t || P(e, 4, this.length), (this[e] | this[e + 1] << 8 | this[e + 2] << 16) + 16777216 * this[e + 3]
        }, a.prototype.readUInt32BE = function(e, t) {
            return t || P(e, 4, this.length), 16777216 * this[e] + (this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3])
        }, a.prototype.readIntLE = function(e, t, i) {
            e |= 0, t |= 0, i || P(e, t, this.length);
            for (var n = this[e], r = 1, a = 0; ++a < t && (r *= 256);) n += this[e + a] * r;
            return n >= (r *= 128) && (n -= Math.pow(2, 8 * t)), n
        }, a.prototype.readIntBE = function(e, t, i) {
            e |= 0, t |= 0, i || P(e, t, this.length);
            for (var n = t, r = 1, a = this[e + --n]; n > 0 && (r *= 256);) a += this[e + --n] * r;
            return a >= (r *= 128) && (a -= Math.pow(2, 8 * t)), a
        }, a.prototype.readInt8 = function(e, t) {
            return t || P(e, 1, this.length), 128 & this[e] ? -1 * (255 - this[e] + 1) : this[e]
        }, a.prototype.readInt16LE = function(e, t) {
            t || P(e, 2, this.length);
            var i = this[e] | this[e + 1] << 8;
            return 32768 & i ? 4294901760 | i : i
        }, a.prototype.readInt16BE = function(e, t) {
            t || P(e, 2, this.length);
            var i = this[e + 1] | this[e] << 8;
            return 32768 & i ? 4294901760 | i : i
        }, a.prototype.readInt32LE = function(e, t) {
            return t || P(e, 4, this.length), this[e] | this[e + 1] << 8 | this[e + 2] << 16 | this[e + 3] << 24
        }, a.prototype.readInt32BE = function(e, t) {
            return t || P(e, 4, this.length), this[e] << 24 | this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3]
        }, a.prototype.readFloatLE = function(e, t) {
            return t || P(e, 4, this.length), B.read(this, e, !0, 23, 4)
        }, a.prototype.readFloatBE = function(e, t) {
            return t || P(e, 4, this.length), B.read(this, e, !1, 23, 4)
        }, a.prototype.readDoubleLE = function(e, t) {
            return t || P(e, 8, this.length), B.read(this, e, !0, 52, 8)
        }, a.prototype.readDoubleBE = function(e, t) {
            return t || P(e, 8, this.length), B.read(this, e, !1, 52, 8)
        }, a.prototype.writeUIntLE = function(e, t, i, n) {
            e = +e, t |= 0, i |= 0, n || A(this, e, t, i, Math.pow(2, 8 * i) - 1, 0);
            var r = 1,
                a = 0;
            for (this[t] = 255 & e; ++a < i && (r *= 256);) this[t + a] = e / r & 255;
            return t + i
        }, a.prototype.writeUIntBE = function(e, t, i, n) {
            e = +e, t |= 0, i |= 0, n || A(this, e, t, i, Math.pow(2, 8 * i) - 1, 0);
            var r = i - 1,
                a = 1;
            for (this[t + r] = 255 & e; --r >= 0 && (a *= 256);) this[t + r] = e / a & 255;
            return t + i
        }, a.prototype.writeUInt8 = function(e, t, i) {
            return e = +e, t |= 0, i || A(this, e, t, 1, 255, 0), a.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)), this[t] = 255 & e, t + 1
        }, a.prototype.writeUInt16LE = function(e, t, i) {
            return e = +e, t |= 0, i || A(this, e, t, 2, 65535, 0), a.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, this[t + 1] = e >>> 8) : I(this, e, t, !0), t + 2
        }, a.prototype.writeUInt16BE = function(e, t, i) {
            return e = +e, t |= 0, i || A(this, e, t, 2, 65535, 0), a.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8, this[t + 1] = 255 & e) : I(this, e, t, !1), t + 2
        }, a.prototype.writeUInt32LE = function(e, t, i) {
            return e = +e, t |= 0, i || A(this, e, t, 4, 4294967295, 0), a.TYPED_ARRAY_SUPPORT ? (this[t + 3] = e >>> 24, this[t + 2] = e >>> 16, this[t + 1] = e >>> 8, this[t] = 255 & e) : L(this, e, t, !0), t + 4
        }, a.prototype.writeUInt32BE = function(e, t, i) {
            return e = +e, t |= 0, i || A(this, e, t, 4, 4294967295, 0), a.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e) : L(this, e, t, !1), t + 4
        }, a.prototype.writeIntLE = function(e, t, i, n) {
            if (e = +e, t |= 0, !n) {
                var r = Math.pow(2, 8 * i - 1);
                A(this, e, t, i, r - 1, -r)
            }
            var a = 0,
                o = 1,
                s = 0;
            for (this[t] = 255 & e; ++a < i && (o *= 256);) e < 0 && 0 === s && 0 !== this[t + a - 1] && (s = 1), this[t + a] = (e / o >> 0) - s & 255;
            return t + i
        }, a.prototype.writeIntBE = function(e, t, i, n) {
            if (e = +e, t |= 0, !n) {
                var r = Math.pow(2, 8 * i - 1);
                A(this, e, t, i, r - 1, -r)
            }
            var a = i - 1,
                o = 1,
                s = 0;
            for (this[t + a] = 255 & e; --a >= 0 && (o *= 256);) e < 0 && 0 === s && 0 !== this[t + a + 1] && (s = 1), this[t + a] = (e / o >> 0) - s & 255;
            return t + i
        }, a.prototype.writeInt8 = function(e, t, i) {
            return e = +e, t |= 0, i || A(this, e, t, 1, 127, -128), a.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)), e < 0 && (e = 255 + e + 1), this[t] = 255 & e, t + 1
        }, a.prototype.writeInt16LE = function(e, t, i) {
            return e = +e, t |= 0, i || A(this, e, t, 2, 32767, -32768), a.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, this[t + 1] = e >>> 8) : I(this, e, t, !0), t + 2
        }, a.prototype.writeInt16BE = function(e, t, i) {
            return e = +e, t |= 0, i || A(this, e, t, 2, 32767, -32768), a.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8, this[t + 1] = 255 & e) : I(this, e, t, !1), t + 2
        }, a.prototype.writeInt32LE = function(e, t, i) {
            return e = +e, t |= 0, i || A(this, e, t, 4, 2147483647, -2147483648), a.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, this[t + 1] = e >>> 8, this[t + 2] = e >>> 16, this[t + 3] = e >>> 24) : L(this, e, t, !0), t + 4
        }, a.prototype.writeInt32BE = function(e, t, i) {
            return e = +e, t |= 0, i || A(this, e, t, 4, 2147483647, -2147483648), e < 0 && (e = 4294967295 + e + 1), a.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e) : L(this, e, t, !1), t + 4
        }, a.prototype.writeFloatLE = function(e, t, i) {
            return D(this, e, t, !0, i)
        }, a.prototype.writeFloatBE = function(e, t, i) {
            return D(this, e, t, !1, i)
        }, a.prototype.writeDoubleLE = function(e, t, i) {
            return R(this, e, t, !0, i)
        }, a.prototype.writeDoubleBE = function(e, t, i) {
            return R(this, e, t, !1, i)
        }, a.prototype.copy = function(e, t, i, n) {
            if (i || (i = 0), n || 0 === n || (n = this.length), t >= e.length && (t = e.length), t || (t = 0), n > 0 && n < i && (n = i), n === i) return 0;
            if (0 === e.length || 0 === this.length) return 0;
            if (t < 0) throw new RangeError("targetStart out of bounds");
            if (i < 0 || i >= this.length) throw new RangeError("sourceStart out of bounds");
            if (n < 0) throw new RangeError("sourceEnd out of bounds");
            n > this.length && (n = this.length), e.length - t < n - i && (n = e.length - t + i);
            var r, o = n - i;
            if (this === e && i < t && t < n)
                for (r = o - 1; r >= 0; --r) e[r + t] = this[r + i];
            else if (o < 1e3 || !a.TYPED_ARRAY_SUPPORT)
                for (r = 0; r < o; ++r) e[r + t] = this[r + i];
            else Uint8Array.prototype.set.call(e, this.subarray(i, i + o), t);
            return o
        }, a.prototype.fill = function(e, t, i, n) {
            if ("string" == typeof e) {
                if ("string" == typeof t ? (n = t, t = 0, i = this.length) : "string" == typeof i && (n = i, i = this.length), 1 === e.length) {
                    var r = e.charCodeAt(0);
                    r < 256 && (e = r)
                }
                if (void 0 !== n && "string" != typeof n) throw new TypeError("encoding must be a string");
                if ("string" == typeof n && !a.isEncoding(n)) throw new TypeError("Unknown encoding: " + n)
            } else "number" == typeof e && (e &= 255);
            if (t < 0 || this.length < t || this.length < i) throw new RangeError("Out of range index");
            if (i <= t) return this;
            var o;
            if (t >>>= 0, i = void 0 === i ? this.length : i >>> 0, e || (e = 0), "number" == typeof e)
                for (o = t; o < i; ++o) this[o] = e;
            else {
                var s = a.isBuffer(e) ? e : M(new a(e, n).toString()),
                    l = s.length;
                for (o = 0; o < i - t; ++o) this[o + t] = s[o % l]
            }
            return this
        };
        var z = /[^+\/0-9A-Za-z-_]/g
    }, function(e, t) {
        "use strict";

        function i(e) {
            var t = e.length;
            if (t % 4 > 0) throw new Error("Invalid string. Length must be a multiple of 4");
            var i = e.indexOf("=");
            return -1 === i && (i = t), [i, i === t ? 0 : 4 - i % 4]
        }

        function n(e) {
            return a[e >> 18 & 63] + a[e >> 12 & 63] + a[e >> 6 & 63] + a[63 & e]
        }

        function r(e, t, i) {
            for (var r = [], a = t; a < i; a += 3) r.push(n((e[a] << 16 & 16711680) + (e[a + 1] << 8 & 65280) + (255 & e[a + 2])));
            return r.join("")
        }
        t.byteLength = function(e) {
            var t = i(e),
                n = t[1];
            return 3 * (t[0] + n) / 4 - n
        }, t.toByteArray = function(e) {
            for (var t, n = i(e), r = n[0], a = n[1], l = new s(3 * (r + a) / 4 - a), c = 0, u = a > 0 ? r - 4 : r, d = 0; d < u; d += 4) t = o[e.charCodeAt(d)] << 18 | o[e.charCodeAt(d + 1)] << 12 | o[e.charCodeAt(d + 2)] << 6 | o[e.charCodeAt(d + 3)], l[c++] = t >> 16 & 255, l[c++] = t >> 8 & 255, l[c++] = 255 & t;
            return 2 === a && (t = o[e.charCodeAt(d)] << 2 | o[e.charCodeAt(d + 1)] >> 4, l[c++] = 255 & t), 1 === a && (t = o[e.charCodeAt(d)] << 10 | o[e.charCodeAt(d + 1)] << 4 | o[e.charCodeAt(d + 2)] >> 2, l[c++] = t >> 8 & 255, l[c++] = 255 & t), l
        }, t.fromByteArray = function(e) {
            for (var t, i = e.length, n = i % 3, o = [], s = 16383, l = 0, c = i - n; l < c; l += s) o.push(r(e, l, l + s > c ? c : l + s));
            return 1 === n ? o.push(a[(t = e[i - 1]) >> 2] + a[t << 4 & 63] + "==") : 2 === n && o.push(a[(t = (e[i - 2] << 8) + e[i - 1]) >> 10] + a[t >> 4 & 63] + a[t << 2 & 63] + "="), o.join("")
        };
        for (var a = [], o = [], s = "undefined" != typeof Uint8Array ? Uint8Array : Array, l = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", c = 0, u = l.length; c < u; ++c) a[c] = l[c], o[l.charCodeAt(c)] = c;
        o["-".charCodeAt(0)] = 62, o["_".charCodeAt(0)] = 63
    }, function(e, t) {
        t.read = function(e, t, i, n, r) {
            var a, o, s = 8 * r - n - 1,
                l = (1 << s) - 1,
                c = l >> 1,
                u = -7,
                d = i ? r - 1 : 0,
                h = i ? -1 : 1,
                p = e[t + d];
            for (d += h, a = p & (1 << -u) - 1, p >>= -u, u += s; u > 0; a = 256 * a + e[t + d], d += h, u -= 8);
            for (o = a & (1 << -u) - 1, a >>= -u, u += n; u > 0; o = 256 * o + e[t + d], d += h, u -= 8);
            if (0 === a) a = 1 - c;
            else {
                if (a === l) return o ? NaN : 1 / 0 * (p ? -1 : 1);
                o += Math.pow(2, n), a -= c
            }
            return (p ? -1 : 1) * o * Math.pow(2, a - n)
        }, t.write = function(e, t, i, n, r, a) {
            var o, s, l, c = 8 * a - r - 1,
                u = (1 << c) - 1,
                d = u >> 1,
                h = 23 === r ? Math.pow(2, -24) - Math.pow(2, -77) : 0,
                p = n ? 0 : a - 1,
                f = n ? 1 : -1,
                m = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0;
            for (t = Math.abs(t), isNaN(t) || t === 1 / 0 ? (s = isNaN(t) ? 1 : 0, o = u) : (o = Math.floor(Math.log(t) / Math.LN2), t * (l = Math.pow(2, -o)) < 1 && (o--, l *= 2), (t += o + d >= 1 ? h / l : h * Math.pow(2, 1 - d)) * l >= 2 && (o++, l /= 2), o + d >= u ? (s = 0, o = u) : o + d >= 1 ? (s = (t * l - 1) * Math.pow(2, r), o += d) : (s = t * Math.pow(2, d - 1) * Math.pow(2, r), o = 0)); r >= 8; e[i + p] = 255 & s, p += f, s /= 256, r -= 8);
            for (o = o << r | s, c += r; c > 0; e[i + p] = 255 & o, p += f, o /= 256, c -= 8);
            e[i + p - f] |= 128 * m
        }
    }, function(e, t) {
        var i = {}.toString;
        e.exports = Array.isArray || function(e) {
            return "[object Array]" == i.call(e)
        }
    }, function(e, t, i) {
        "use strict";
        var n = this && this.__extends || function(e, t) {
                function i() {
                    this.constructor = e
                }
                for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
                e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i)
            },
            r = i(24),
            a = i(12),
            o = i(8),
            s = i(9),
            l = i(2),
            c = function(e) {
                function t(t, i) {
                    var n = this;
                    e.call(this), this.key = t, this.options = i || {}, this.state = "initialized", this.connection = null, this.usingTLS = !!i.useTLS, this.timeline = this.options.timeline, this.errorCallbacks = this.buildErrorCallbacks(), this.connectionCallbacks = this.buildConnectionCallbacks(this.errorCallbacks), this.handshakeCallbacks = this.buildHandshakeCallbacks(this.errorCallbacks);
                    var r = l.default.getNetwork();
                    r.bind("online", function() {
                        n.timeline.info({
                            netinfo: "online"
                        }), "connecting" !== n.state && "unavailable" !== n.state || n.retryIn(0)
                    }), r.bind("offline", function() {
                        n.timeline.info({
                            netinfo: "offline"
                        }), n.connection && n.sendActivityCheck()
                    }), this.updateStrategy()
                }
                return n(t, e), t.prototype.connect = function() {
                    if (!this.connection && !this.runner) {
                        if (!this.strategy.isSupported()) return void this.updateState("failed");
                        this.updateState("connecting"), this.startConnecting(), this.setUnavailableTimer()
                    }
                }, t.prototype.send = function(e) {
                    return !!this.connection && this.connection.send(e)
                }, t.prototype.send_event = function(e, t, i) {
                    return !!this.connection && this.connection.send_event(e, t, i)
                }, t.prototype.disconnect = function() {
                    this.disconnectInternally(), this.updateState("disconnected")
                }, t.prototype.isUsingTLS = function() {
                    return this.usingTLS
                }, t.prototype.startConnecting = function() {
                    var e = this,
                        t = function(i, n) {
                            i ? e.runner = e.strategy.connect(0, t) : "error" === n.action ? (e.emit("error", {
                                type: "HandshakeError",
                                error: n.error
                            }), e.timeline.error({
                                handshakeError: n.error
                            })) : (e.abortConnecting(), e.handshakeCallbacks[n.action](n))
                        };
                    this.runner = this.strategy.connect(0, t)
                }, t.prototype.abortConnecting = function() {
                    this.runner && (this.runner.abort(), this.runner = null)
                }, t.prototype.disconnectInternally = function() {
                    this.abortConnecting(), this.clearRetryTimer(), this.clearUnavailableTimer(), this.connection && this.abandonConnection().close()
                }, t.prototype.updateStrategy = function() {
                    this.strategy = this.options.getStrategy({
                        key: this.key,
                        timeline: this.timeline,
                        useTLS: this.usingTLS
                    })
                }, t.prototype.retryIn = function(e) {
                    var t = this;
                    this.timeline.info({
                        action: "retry",
                        delay: e
                    }), e > 0 && this.emit("connecting_in", Math.round(e / 1e3)), this.retryTimer = new a.OneOffTimer(e || 0, function() {
                        t.disconnectInternally(), t.connect()
                    })
                }, t.prototype.clearRetryTimer = function() {
                    this.retryTimer && (this.retryTimer.ensureAborted(), this.retryTimer = null)
                }, t.prototype.setUnavailableTimer = function() {
                    var e = this;
                    this.unavailableTimer = new a.OneOffTimer(this.options.unavailableTimeout, function() {
                        e.updateState("unavailable")
                    })
                }, t.prototype.clearUnavailableTimer = function() {
                    this.unavailableTimer && this.unavailableTimer.ensureAborted()
                }, t.prototype.sendActivityCheck = function() {
                    var e = this;
                    this.stopActivityCheck(), this.connection.ping(), this.activityTimer = new a.OneOffTimer(this.options.pongTimeout, function() {
                        e.timeline.error({
                            pong_timed_out: e.options.pongTimeout
                        }), e.retryIn(0)
                    })
                }, t.prototype.resetActivityCheck = function() {
                    var e = this;
                    this.stopActivityCheck(), this.connection && !this.connection.handlesActivityChecks() && (this.activityTimer = new a.OneOffTimer(this.activityTimeout, function() {
                        e.sendActivityCheck()
                    }))
                }, t.prototype.stopActivityCheck = function() {
                    this.activityTimer && this.activityTimer.ensureAborted()
                }, t.prototype.buildConnectionCallbacks = function(e) {
                    var t = this;
                    return s.extend({}, e, {
                        message: function(e) {
                            t.resetActivityCheck(), t.emit("message", e)
                        },
                        ping: function() {
                            t.send_event("pusher:pong", {})
                        },
                        activity: function() {
                            t.resetActivityCheck()
                        },
                        error: function(e) {
                            t.emit("error", {
                                type: "WebSocketError",
                                error: e
                            })
                        },
                        closed: function() {
                            t.abandonConnection(), t.shouldRetry() && t.retryIn(1e3)
                        }
                    })
                }, t.prototype.buildHandshakeCallbacks = function(e) {
                    var t = this;
                    return s.extend({}, e, {
                        connected: function(e) {
                            t.activityTimeout = Math.min(t.options.activityTimeout, e.activityTimeout, e.connection.activityTimeout || 1 / 0), t.clearUnavailableTimer(), t.setConnection(e.connection), t.socket_id = t.connection.id, t.updateState("connected", {
                                socket_id: t.socket_id
                            })
                        }
                    })
                }, t.prototype.buildErrorCallbacks = function() {
                    var e = this,
                        t = function(t) {
                            return function(i) {
                                i.error && e.emit("error", {
                                    type: "WebSocketError",
                                    error: i.error
                                }), t(i)
                            }
                        };
                    return {
                        tls_only: t(function() {
                            e.usingTLS = !0, e.updateStrategy(), e.retryIn(0)
                        }),
                        refused: t(function() {
                            e.disconnect()
                        }),
                        backoff: t(function() {
                            e.retryIn(1e3)
                        }),
                        retry: t(function() {
                            e.retryIn(0)
                        })
                    }
                }, t.prototype.setConnection = function(e) {
                    for (var t in this.connection = e, this.connectionCallbacks) this.connection.bind(t, this.connectionCallbacks[t]);
                    this.resetActivityCheck()
                }, t.prototype.abandonConnection = function() {
                    if (this.connection) {
                        for (var e in this.stopActivityCheck(), this.connectionCallbacks) this.connection.unbind(e, this.connectionCallbacks[e]);
                        var t = this.connection;
                        return this.connection = null, t
                    }
                }, t.prototype.updateState = function(e, t) {
                    var i = this.state;
                    if (this.state = e, i !== e) {
                        var n = e;
                        "connected" === n && (n += " with new socket ID " + t.socket_id), o.default.debug("State changed", i + " -> " + n), this.timeline.info({
                            state: e,
                            params: t
                        }), this.emit("state_change", {
                            previous: i,
                            current: e
                        }), this.emit(e, t)
                    }
                }, t.prototype.shouldRetry = function() {
                    return "connecting" === this.state || "connected" === this.state
                }, t
            }(r.default);
        t.__esModule = !0, t.default = c
    }, function(e, t, i) {
        "use strict";
        var n = i(9),
            r = i(43),
            a = i(31),
            o = function() {
                function e() {
                    this.channels = {}
                }
                return e.prototype.add = function(e, t) {
                    return this.channels[e] || (this.channels[e] = function(e, t) {
                        if (0 === e.indexOf("private-encrypted-")) {
                            if ("ReactNative" == navigator.product) throw new a.UnsupportedFeature("Encrypted channels are not yet supported when using React Native builds.");
                            return r.default.createEncryptedChannel(e, t)
                        }
                        return 0 === e.indexOf("private-") ? r.default.createPrivateChannel(e, t) : 0 === e.indexOf("presence-") ? r.default.createPresenceChannel(e, t) : r.default.createChannel(e, t)
                    }(e, t)), this.channels[e]
                }, e.prototype.all = function() {
                    return n.values(this.channels)
                }, e.prototype.find = function(e) {
                    return this.channels[e]
                }, e.prototype.remove = function(e) {
                    var t = this.channels[e];
                    return delete this.channels[e], t
                }, e.prototype.disconnect = function() {
                    n.objectApply(this.channels, function(e) {
                        e.disconnect()
                    })
                }, e
            }();
        t.__esModule = !0, t.default = o
    }, function(e, t, i) {
        "use strict";

        function n(e, t) {
            return a.default.defer(function() {
                t(e)
            }), {
                abort: function() {},
                forceMinPriority: function() {}
            }
        }
        var r = i(43),
            a = i(11),
            o = i(31),
            s = i(9),
            l = function() {
                function e(e, t, i, n) {
                    this.name = e, this.priority = t, this.transport = i, this.options = n || {}
                }
                return e.prototype.isSupported = function() {
                    return this.transport.isSupported({
                        useTLS: this.options.useTLS
                    })
                }, e.prototype.connect = function(e, t) {
                    var i = this;
                    if (!this.isSupported()) return n(new o.UnsupportedStrategy, t);
                    if (this.priority < e) return n(new o.TransportPriorityTooLow, t);
                    var a = !1,
                        l = this.transport.createConnection(this.name, this.priority, this.options.key, this.options),
                        c = null,
                        u = function() {
                            l.unbind("initialized", u), l.connect()
                        },
                        d = function() {
                            c = r.default.createHandshake(l, function(e) {
                                a = !0, f(), t(null, e)
                            })
                        },
                        h = function(e) {
                            f(), t(e)
                        },
                        p = function() {
                            var e;
                            f(), e = s.safeJSONStringify(l), t(new o.TransportClosed(e))
                        },
                        f = function() {
                            l.unbind("initialized", u), l.unbind("open", d), l.unbind("error", h), l.unbind("closed", p)
                        };
                    return l.bind("initialized", u), l.bind("open", d), l.bind("error", h), l.bind("closed", p), l.initialize(), {
                        abort: function() {
                            a || (f(), c ? c.close() : l.close())
                        },
                        forceMinPriority: function(e) {
                            a || i.priority < e && (c ? c.close() : l.close())
                        }
                    }
                }, e
            }();
        t.__esModule = !0, t.default = l
    }, function(e, t, i) {
        "use strict";
        var n = i(9),
            r = i(11),
            a = i(12),
            o = function() {
                function e(e, t) {
                    this.strategies = e, this.loop = Boolean(t.loop), this.failFast = Boolean(t.failFast), this.timeout = t.timeout, this.timeoutLimit = t.timeoutLimit
                }
                return e.prototype.isSupported = function() {
                    return n.any(this.strategies, r.default.method("isSupported"))
                }, e.prototype.connect = function(e, t) {
                    var i = this,
                        n = this.strategies,
                        r = 0,
                        a = this.timeout,
                        o = null,
                        s = function(l, c) {
                            c ? t(null, c) : (r += 1, i.loop && (r %= n.length), r < n.length ? (a && (a *= 2, i.timeoutLimit && (a = Math.min(a, i.timeoutLimit))), o = i.tryStrategy(n[r], e, {
                                timeout: a,
                                failFast: i.failFast
                            }, s)) : t(!0))
                        };
                    return o = this.tryStrategy(n[r], e, {
                        timeout: a,
                        failFast: this.failFast
                    }, s), {
                        abort: function() {
                            o.abort()
                        },
                        forceMinPriority: function(t) {
                            e = t, o && o.forceMinPriority(t)
                        }
                    }
                }, e.prototype.tryStrategy = function(e, t, i, n) {
                    var r = null,
                        o = null;
                    return i.timeout > 0 && (r = new a.OneOffTimer(i.timeout, function() {
                        o.abort(), n(!0)
                    })), o = e.connect(t, function(e, t) {
                        e && r && r.isRunning() && !i.failFast || (r && r.ensureAborted(), n(e, t))
                    }), {
                        abort: function() {
                            r && r.ensureAborted(), o.abort()
                        },
                        forceMinPriority: function(e) {
                            o.forceMinPriority(e)
                        }
                    }
                }, e
            }();
        t.__esModule = !0, t.default = o
    }, function(e, t, i) {
        "use strict";

        function n(e) {
            e.error || e.aborted || (e.abort(), e.aborted = !0)
        }
        var r = i(9),
            a = i(11),
            o = function() {
                function e(e) {
                    this.strategies = e
                }
                return e.prototype.isSupported = function() {
                    return r.any(this.strategies, a.default.method("isSupported"))
                }, e.prototype.connect = function(e, t) {
                    return function(e, t, i) {
                        var a = r.map(e, function(e, n, r, a) {
                            return e.connect(t, i(n, a))
                        });
                        return {
                            abort: function() {
                                r.apply(a, n)
                            },
                            forceMinPriority: function(e) {
                                r.apply(a, function(t) {
                                    t.forceMinPriority(e)
                                })
                            }
                        }
                    }(this.strategies, e, function(e, i) {
                        return function(n, a) {
                            return i[e].error = n, n ? void(r.all(i, function(e) {
                                return Boolean(e.error)
                            }) && t(!0)) : (r.apply(i, function(e) {
                                e.forceMinPriority(a.transport.priority)
                            }), void t(null, a))
                        }
                    })
                }, e
            }();
        t.__esModule = !0, t.default = o
    }, function(e, t, i) {
        "use strict";

        function n(e) {
            return "pusherTransport" + (e ? "TLS" : "NonTLS")
        }

        function r(e) {
            var t = l.default.getLocalStorage();
            if (t) try {
                var i = t[n(e)];
                if (i) return JSON.parse(i)
            } catch (t) {
                o(e)
            }
            return null
        }

        function a(e, t, i) {
            var r = l.default.getLocalStorage();
            if (r) try {
                r[n(e)] = u.safeJSONStringify({
                    timestamp: s.default.now(),
                    transport: t,
                    latency: i
                })
            } catch (e) {}
        }

        function o(e) {
            var t = l.default.getLocalStorage();
            if (t) try {
                delete t[n(e)]
            } catch (e) {}
        }
        var s = i(11),
            l = i(2),
            c = i(65),
            u = i(9),
            d = function() {
                function e(e, t, i) {
                    this.strategy = e, this.transports = t, this.ttl = i.ttl || 18e5, this.usingTLS = i.useTLS, this.timeline = i.timeline
                }
                return e.prototype.isSupported = function() {
                    return this.strategy.isSupported()
                }, e.prototype.connect = function(e, t) {
                    var i = this.usingTLS,
                        n = r(i),
                        l = [this.strategy];
                    if (n && n.timestamp + this.ttl >= s.default.now()) {
                        var u = this.transports[n.transport];
                        u && (this.timeline.info({
                            cached: !0,
                            transport: n.transport,
                            latency: n.latency
                        }), l.push(new c.default([u], {
                            timeout: 2 * n.latency + 1e3,
                            failFast: !0
                        })))
                    }
                    var d = s.default.now(),
                        h = l.pop().connect(e, function n(r, c) {
                            r ? (o(i), l.length > 0 ? (d = s.default.now(), h = l.pop().connect(e, n)) : t(r)) : (a(i, c.transport.name, s.default.now() - d), t(null, c))
                        });
                    return {
                        abort: function() {
                            h.abort()
                        },
                        forceMinPriority: function(t) {
                            e = t, h && h.forceMinPriority(t)
                        }
                    }
                }, e
            }();
        t.__esModule = !0, t.default = d
    }, function(e, t, i) {
        "use strict";
        var n = i(12),
            r = function() {
                function e(e, t) {
                    var i = t.delay;
                    this.strategy = e, this.options = {
                        delay: i
                    }
                }
                return e.prototype.isSupported = function() {
                    return this.strategy.isSupported()
                }, e.prototype.connect = function(e, t) {
                    var i, r = this.strategy,
                        a = new n.OneOffTimer(this.options.delay, function() {
                            i = r.connect(e, t)
                        });
                    return {
                        abort: function() {
                            a.ensureAborted(), i && i.abort()
                        },
                        forceMinPriority: function(t) {
                            e = t, i && i.forceMinPriority(t)
                        }
                    }
                }, e
            }();
        t.__esModule = !0, t.default = r
    }, function(e, t) {
        "use strict";
        var i = function() {
            function e(e, t, i) {
                this.test = e, this.trueBranch = t, this.falseBranch = i
            }
            return e.prototype.isSupported = function() {
                return (this.test() ? this.trueBranch : this.falseBranch).isSupported()
            }, e.prototype.connect = function(e, t) {
                return (this.test() ? this.trueBranch : this.falseBranch).connect(e, t)
            }, e
        }();
        t.__esModule = !0, t.default = i
    }, function(e, t) {
        "use strict";
        var i = function() {
            function e(e) {
                this.strategy = e
            }
            return e.prototype.isSupported = function() {
                return this.strategy.isSupported()
            }, e.prototype.connect = function(e, t) {
                var i = this.strategy.connect(e, function(e, n) {
                    n && i.abort(), t(e, n)
                });
                return i
            }, e
        }();
        t.__esModule = !0, t.default = i
    }, function(e, t, i) {
        "use strict";
        var n = i(5);
        t.getGlobalConfig = function() {
            return {
                wsHost: n.default.host,
                wsPort: n.default.ws_port,
                wssPort: n.default.wss_port,
                wsPath: n.default.ws_path,
                httpHost: n.default.sockjs_host,
                httpPort: n.default.sockjs_http_port,
                httpsPort: n.default.sockjs_https_port,
                httpPath: n.default.sockjs_path,
                statsHost: n.default.stats_host,
                authEndpoint: n.default.channel_auth_endpoint,
                authTransport: n.default.channel_auth_transport,
                activity_timeout: n.default.activity_timeout,
                pong_timeout: n.default.pong_timeout,
                unavailable_timeout: n.default.unavailable_timeout
            }
        }, t.getClusterConfig = function(e) {
            return {
                wsHost: "ws-" + e + ".pusher.com",
                httpHost: "sockjs-" + e + ".pusher.com"
            }
        }
    }])
}),
function(e, t) {
    "use strict";
    var i = "model",
        n = "name",
        r = "type",
        a = "vendor",
        o = "version",
        s = "mobile",
        l = "tablet",
        c = {
            extend: function(e, t) {
                var i = {};
                for (var n in e) i[n] = t[n] && t[n].length % 2 == 0 ? t[n].concat(e[n]) : e[n];
                return i
            },
            has: function(e, t) {
                return "string" == typeof e && -1 !== t.toLowerCase().indexOf(e.toLowerCase())
            },
            lowerize: function(e) {
                return e.toLowerCase()
            },
            major: function(e) {
                return "string" == typeof e ? e.replace(/[^\d\.]/g, "").split(".")[0] : void 0
            },
            trim: function(e) {
                return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "")
            }
        },
        u = {
            rgx: function(e, t) {
                for (var i, n, r, a, o, s, l = 0; l < t.length && !o;) {
                    var c = t[l],
                        u = t[l + 1];
                    for (i = n = 0; i < c.length && !o;)
                        if (o = c[i++].exec(e))
                            for (r = 0; r < u.length; r++) s = o[++n], "object" == typeof(a = u[r]) && a.length > 0 ? 2 == a.length ? this[a[0]] = "function" == typeof a[1] ? a[1].call(this, s) : a[1] : 3 == a.length ? this[a[0]] = "function" != typeof a[1] || a[1].exec && a[1].test ? s ? s.replace(a[1], a[2]) : void 0 : s ? a[1].call(this, s, a[2]) : void 0 : 4 == a.length && (this[a[0]] = s ? a[3].call(this, s.replace(a[1], a[2])) : void 0) : this[a] = s || void 0;
                    l += 2
                }
            },
            str: function(e, t) {
                for (var i in t)
                    if ("object" == typeof t[i] && t[i].length > 0) {
                        for (var n = 0; n < t[i].length; n++)
                            if (c.has(t[i][n], e)) return "?" === i ? void 0 : i
                    } else if (c.has(t[i], e)) return "?" === i ? void 0 : i;
                return e
            }
        },
        d = {
            browser: {
                oldsafari: {
                    version: {
                        "1.0": "/8",
                        1.2: "/1",
                        1.3: "/3",
                        "2.0": "/412",
                        "2.0.2": "/416",
                        "2.0.3": "/417",
                        "2.0.4": "/419",
                        "?": "/"
                    }
                }
            },
            device: {
                amazon: {
                    model: {
                        "Fire Phone": ["SD", "KF"]
                    }
                },
                sprint: {
                    model: {
                        "Evo Shift 4G": "7373KT"
                    },
                    vendor: {
                        HTC: "APA",
                        Sprint: "Sprint"
                    }
                }
            },
            os: {
                windows: {
                    version: {
                        ME: "4.90",
                        "NT 3.11": "NT3.51",
                        "NT 4.0": "NT4.0",
                        2000: "NT 5.0",
                        XP: ["NT 5.1", "NT 5.2"],
                        Vista: "NT 6.0",
                        7: "NT 6.1",
                        8: "NT 6.2",
                        8.1: "NT 6.3",
                        10: ["NT 6.4", "NT 10.0"],
                        RT: "ARM"
                    }
                }
            }
        },
        h = {
            browser: [
                [/(opera\smini)\/([\w\.-]+)/i, /(opera\s[mobiletab]+).+version\/([\w\.-]+)/i, /(opera).+version\/([\w\.]+)/i, /(opera)[\/\s]+([\w\.]+)/i],
                [n, o],
                [/(opios)[\/\s]+([\w\.]+)/i],
                [
                    [n, "Opera Mini"], o
                ],
                [/\s(opr)\/([\w\.]+)/i],
                [
                    [n, "Opera"], o
                ],
                [/(kindle)\/([\w\.]+)/i, /(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i, /(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i, /(?:ms|\()(ie)\s([\w\.]+)/i, /(rekonq)\/([\w\.]*)/i, /(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\/([\w\.-]+)/i],
                [n, o],
                [/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],
                [
                    [n, "IE"], o
                ],
                [/(edge|edgios|edga)\/((\d+)?[\w\.]+)/i],
                [
                    [n, "Edge"], o
                ],
                [/(yabrowser)\/([\w\.]+)/i],
                [
                    [n, "Yandex"], o
                ],
                [/(puffin)\/([\w\.]+)/i],
                [
                    [n, "Puffin"], o
                ],
                [/(focus)\/([\w\.]+)/i],
                [
                    [n, "Firefox Focus"], o
                ],
                [/(opt)\/([\w\.]+)/i],
                [
                    [n, "Opera Touch"], o
                ],
                [/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],
                [
                    [n, "UCBrowser"], o
                ],
                [/(comodo_dragon)\/([\w\.]+)/i],
                [
                    [n, /_/g, " "], o
                ],
                [/(micromessenger)\/([\w\.]+)/i],
                [
                    [n, "WeChat"], o
                ],
                [/(brave)\/([\w\.]+)/i],
                [
                    [n, "Brave"], o
                ],
                [/(qqbrowserlite)\/([\w\.]+)/i],
                [n, o],
                [/(QQ)\/([\d\.]+)/i],
                [n, o],
                [/m?(qqbrowser)[\/\s]?([\w\.]+)/i],
                [n, o],
                [/(BIDUBrowser)[\/\s]?([\w\.]+)/i],
                [n, o],
                [/(2345Explorer)[\/\s]?([\w\.]+)/i],
                [n, o],
                [/(MetaSr)[\/\s]?([\w\.]+)/i],
                [n],
                [/(LBBROWSER)/i],
                [n],
                [/xiaomi\/miuibrowser\/([\w\.]+)/i],
                [o, [n, "MIUI Browser"]],
                [/;fbav\/([\w\.]+);/i],
                [o, [n, "Facebook"]],
                [/safari\s(line)\/([\w\.]+)/i, /android.+(line)\/([\w\.]+)\/iab/i],
                [n, o],
                [/headlesschrome(?:\/([\w\.]+)|\s)/i],
                [o, [n, "Chrome Headless"]],
                [/\swv\).+(chrome)\/([\w\.]+)/i],
                [
                    [n, /(.+)/, "$1 WebView"], o
                ],
                [/((?:oculus|samsung)browser)\/([\w\.]+)/i],
                [
                    [n, /(.+(?:g|us))(.+)/, "$1 $2"], o
                ],
                [/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],
                [o, [n, "Android Browser"]],
                [/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],
                [n, o],
                [/(dolfin)\/([\w\.]+)/i],
                [
                    [n, "Dolphin"], o
                ],
                [/((?:android.+)crmo|crios)\/([\w\.]+)/i],
                [
                    [n, "Chrome"], o
                ],
                [/(coast)\/([\w\.]+)/i],
                [
                    [n, "Opera Coast"], o
                ],
                [/fxios\/([\w\.-]+)/i],
                [o, [n, "Firefox"]],
                [/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],
                [o, [n, "Mobile Safari"]],
                [/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],
                [o, n],
                [/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],
                [
                    [n, "GSA"], o
                ],
                [/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],
                [n, [o, u.str, d.browser.oldsafari.version]],
                [/(konqueror)\/([\w\.]+)/i, /(webkit|khtml)\/([\w\.]+)/i],
                [n, o],
                [/(navigator|netscape)\/([\w\.-]+)/i],
                [
                    [n, "Netscape"], o
                ],
                [/(swiftfox)/i, /(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i, /(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i, /(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i, /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i, /(links)\s\(([\w\.]+)/i, /(gobrowser)\/?([\w\.]*)/i, /(ice\s?browser)\/v?([\w\._]+)/i, /(mosaic)[\/\s]([\w\.]+)/i],
                [n, o]
            ],
            cpu: [
                [/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],
                [
                    ["architecture", "amd64"]
                ],
                [/(ia32(?=;))/i],
                [
                    ["architecture", c.lowerize]
                ],
                [/((?:i[346]|x)86)[;\)]/i],
                [
                    ["architecture", "ia32"]
                ],
                [/windows\s(ce|mobile);\sppc;/i],
                [
                    ["architecture", "arm"]
                ],
                [/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],
                [
                    ["architecture", /ower/, "", c.lowerize]
                ],
                [/(sun4\w)[;\)]/i],
                [
                    ["architecture", "sparc"]
                ],
                [/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],
                [
                    ["architecture", c.lowerize]
                ]
            ],
            device: [
                [/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],
                [i, a, [r, l]],
                [/applecoremedia\/[\w\.]+ \((ipad)/],
                [i, [a, "Apple"],
                    [r, l]
                ],
                [/(apple\s{0,1}tv)/i],
                [
                    [i, "Apple TV"],
                    [a, "Apple"]
                ],
                [/(archos)\s(gamepad2?)/i, /(hp).+(touchpad)/i, /(hp).+(tablet)/i, /(kindle)\/([\w\.]+)/i, /\s(nook)[\w\s]+build\/(\w+)/i, /(dell)\s(strea[kpr\s\d]*[\dko])/i],
                [a, i, [r, l]],
                [/(kf[A-z]+)\sbuild\/.+silk\//i],
                [i, [a, "Amazon"],
                    [r, l]
                ],
                [/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],
                [
                    [i, u.str, d.device.amazon.model],
                    [a, "Amazon"],
                    [r, s]
                ],
                [/android.+aft([bms])\sbuild/i],
                [i, [a, "Amazon"],
                    [r, "smarttv"]
                ],
                [/\((ip[honed|\s\w*]+);.+(apple)/i],
                [i, a, [r, s]],
                [/\((ip[honed|\s\w*]+);/i],
                [i, [a, "Apple"],
                    [r, s]
                ],
                [/(blackberry)[\s-]?(\w+)/i, /(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i, /(hp)\s([\w\s]+\w)/i, /(asus)-?(\w+)/i],
                [a, i, [r, s]],
                [/\(bb10;\s(\w+)/i],
                [i, [a, "BlackBerry"],
                    [r, s]
                ],
                [/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],
                [i, [a, "Asus"],
                    [r, l]
                ],
                [/(sony)\s(tablet\s[ps])\sbuild\//i, /(sony)?(?:sgp.+)\sbuild\//i],
                [
                    [a, "Sony"],
                    [i, "Xperia Tablet"],
                    [r, l]
                ],
                [/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],
                [i, [a, "Sony"],
                    [r, s]
                ],
                [/\s(ouya)\s/i, /(nintendo)\s([wids3u]+)/i],
                [a, i, [r, "console"]],
                [/android.+;\s(shield)\sbuild/i],
                [i, [a, "Nvidia"],
                    [r, "console"]
                ],
                [/(playstation\s[34portablevi]+)/i],
                [i, [a, "Sony"],
                    [r, "console"]
                ],
                [/(sprint\s(\w+))/i],
                [
                    [a, u.str, d.device.sprint.vendor],
                    [i, u.str, d.device.sprint.model],
                    [r, s]
                ],
                [/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],
                [a, i, [r, l]],
                [/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i, /(zte)-(\w*)/i, /(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],
                [a, [i, /_/g, " "],
                    [r, s]
                ],
                [/(nexus\s9)/i],
                [i, [a, "HTC"],
                    [r, l]
                ],
                [/d\/huawei([\w\s-]+)[;\)]/i, /(nexus\s6p)/i],
                [i, [a, "Huawei"],
                    [r, s]
                ],
                [/(microsoft);\s(lumia[\s\w]+)/i],
                [a, i, [r, s]],
                [/[\s\(;](xbox(?:\sone)?)[\s\);]/i],
                [i, [a, "Microsoft"],
                    [r, "console"]
                ],
                [/(kin\.[onetw]{3})/i],
                [
                    [i, /\./g, " "],
                    [a, "Microsoft"],
                    [r, s]
                ],
                [/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i, /mot[\s-]?(\w*)/i, /(XT\d{3,4}) build\//i, /(nexus\s6)/i],
                [i, [a, "Motorola"],
                    [r, s]
                ],
                [/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],
                [i, [a, "Motorola"],
                    [r, l]
                ],
                [/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],
                [
                    [a, c.trim],
                    [i, c.trim],
                    [r, "smarttv"]
                ],
                [/hbbtv.+maple;(\d+)/i],
                [
                    [i, /^/, "SmartTV"],
                    [a, "Samsung"],
                    [r, "smarttv"]
                ],
                [/\(dtv[\);].+(aquos)/i],
                [i, [a, "Sharp"],
                    [r, "smarttv"]
                ],
                [/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i, /((SM-T\w+))/i],
                [
                    [a, "Samsung"], i, [r, l]
                ],
                [/smart-tv.+(samsung)/i],
                [a, [r, "smarttv"], i],
                [/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i, /(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i, /sec-((sgh\w+))/i],
                [
                    [a, "Samsung"], i, [r, s]
                ],
                [/sie-(\w*)/i],
                [i, [a, "Siemens"],
                    [r, s]
                ],
                [/(maemo|nokia).*(n900|lumia\s\d+)/i, /(nokia)[\s_-]?([\w-]*)/i],
                [
                    [a, "Nokia"], i, [r, s]
                ],
                [/android\s3\.[\s\w;-]{10}(a\d{3})/i],
                [i, [a, "Acer"],
                    [r, l]
                ],
                [/android.+([vl]k\-?\d{3})\s+build/i],
                [i, [a, "LG"],
                    [r, l]
                ],
                [/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],
                [
                    [a, "LG"], i, [r, l]
                ],
                [/(lg) netcast\.tv/i],
                [a, i, [r, "smarttv"]],
                [/(nexus\s[45])/i, /lg[e;\s\/-]+(\w*)/i, /android.+lg(\-?[\d\w]+)\s+build/i],
                [i, [a, "LG"],
                    [r, s]
                ],
                [/android.+(ideatab[a-z0-9\-\s]+)/i],
                [i, [a, "Lenovo"],
                    [r, l]
                ],
                [/linux;.+((jolla));/i],
                [a, i, [r, s]],
                [/((pebble))app\/[\d\.]+\s/i],
                [a, i, [r, "wearable"]],
                [/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],
                [a, i, [r, s]],
                [/crkey/i],
                [
                    [i, "Chromecast"],
                    [a, "Google"]
                ],
                [/android.+;\s(glass)\s\d/i],
                [i, [a, "Google"],
                    [r, "wearable"]
                ],
                [/android.+;\s(pixel c)[\s)]/i],
                [i, [a, "Google"],
                    [r, l]
                ],
                [/android.+;\s(pixel( [23])?( xl)?)\s/i],
                [i, [a, "Google"],
                    [r, s]
                ],
                [/android.+;\s(\w+)\s+build\/hm\1/i, /android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i, /android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i, /android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],
                [
                    [i, /_/g, " "],
                    [a, "Xiaomi"],
                    [r, s]
                ],
                [/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],
                [
                    [i, /_/g, " "],
                    [a, "Xiaomi"],
                    [r, l]
                ],
                [/android.+;\s(m[1-5]\snote)\sbuild/i],
                [i, [a, "Meizu"],
                    [r, l]
                ],
                [/(mz)-([\w-]{2,})/i],
                [
                    [a, "Meizu"], i, [r, s]
                ],
                [/android.+a000(1)\s+build/i, /android.+oneplus\s(a\d{4})\s+build/i],
                [i, [a, "OnePlus"],
                    [r, s]
                ],
                [/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],
                [i, [a, "RCA"],
                    [r, l]
                ],
                [/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],
                [i, [a, "Dell"],
                    [r, l]
                ],
                [/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],
                [i, [a, "Verizon"],
                    [r, l]
                ],
                [/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],
                [
                    [a, "Barnes & Noble"], i, [r, l]
                ],
                [/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],
                [i, [a, "NuVision"],
                    [r, l]
                ],
                [/android.+;\s(k88)\sbuild/i],
                [i, [a, "ZTE"],
                    [r, l]
                ],
                [/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],
                [i, [a, "Swiss"],
                    [r, s]
                ],
                [/android.+[;\/]\s*(zur\d{3})\s+build/i],
                [i, [a, "Swiss"],
                    [r, l]
                ],
                [/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],
                [i, [a, "Zeki"],
                    [r, l]
                ],
                [/(android).+[;\/]\s+([YR]\d{2})\s+build/i, /android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],
                [
                    [a, "Dragon Touch"], i, [r, l]
                ],
                [/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],
                [i, [a, "Insignia"],
                    [r, l]
                ],
                [/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],
                [i, [a, "NextBook"],
                    [r, l]
                ],
                [/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],
                [
                    [a, "Voice"], i, [r, s]
                ],
                [/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],
                [
                    [a, "LvTel"], i, [r, s]
                ],
                [/android.+;\s(PH-1)\s/i],
                [i, [a, "Essential"],
                    [r, s]
                ],
                [/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],
                [i, [a, "Envizen"],
                    [r, l]
                ],
                [/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],
                [a, i, [r, l]],
                [/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],
                [i, [a, "MachSpeed"],
                    [r, l]
                ],
                [/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],
                [a, i, [r, l]],
                [/android.+[;\/]\s*TU_(1491)\s+build/i],
                [i, [a, "Rotor"],
                    [r, l]
                ],
                [/android.+(KS(.+))\s+build/i],
                [i, [a, "Amazon"],
                    [r, l]
                ],
                [/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],
                [a, i, [r, l]],
                [/\s(tablet|tab)[;\/]/i, /\s(mobile)(?:[;\/]|\ssafari)/i],
                [
                    [r, c.lowerize], a, i
                ],
                [/(android[\w\.\s\-]{0,9});.+build/i],
                [i, [a, "Generic"]]
            ],
            engine: [
                [/windows.+\sedge\/([\w\.]+)/i],
                [o, [n, "EdgeHTML"]],
                [/(presto)\/([\w\.]+)/i, /(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i, /(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i, /(icab)[\/\s]([23]\.[\d\.]+)/i],
                [n, o],
                [/rv\:([\w\.]{1,9}).+(gecko)/i],
                [o, n]
            ],
            os: [
                [/microsoft\s(windows)\s(vista|xp)/i],
                [n, o],
                [/(windows)\snt\s6\.2;\s(arm)/i, /(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i, /(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],
                [n, [o, u.str, d.os.windows.version]],
                [/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],
                [
                    [n, "Windows"],
                    [o, u.str, d.os.windows.version]
                ],
                [/\((bb)(10);/i],
                [
                    [n, "BlackBerry"], o
                ],
                [/(blackberry)\w*\/?([\w\.]*)/i, /(tizen)[\/\s]([\w\.]+)/i, /(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i, /linux;.+(sailfish);/i],
                [n, o],
                [/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],
                [
                    [n, "Symbian"], o
                ],
                [/\((series40);/i],
                [n],
                [/mozilla.+\(mobile;.+gecko.+firefox/i],
                [
                    [n, "Firefox OS"], o
                ],
                [/(nintendo|playstation)\s([wids34portablevu]+)/i, /(mint)[\/\s\(]?(\w*)/i, /(mageia|vectorlinux)[;\s]/i, /(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i, /(hurd|linux)\s?([\w\.]*)/i, /(gnu)\s?([\w\.]*)/i],
                [n, o],
                [/(cros)\s[\w]+\s([\w\.]+\w)/i],
                [
                    [n, "Chromium OS"], o
                ],
                [/(sunos)\s?([\w\.\d]*)/i],
                [
                    [n, "Solaris"], o
                ],
                [/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],
                [n, o],
                [/(haiku)\s(\w+)/i],
                [n, o],
                [/cfnetwork\/.+darwin/i, /ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],
                [
                    [o, /_/g, "."],
                    [n, "iOS"]
                ],
                [/(mac\sos\sx)\s?([\w\s\.]*)/i, /(macintosh|mac(?=_powerpc)\s)/i],
                [
                    [n, "Mac OS"],
                    [o, /_/g, "."]
                ],
                [/((?:open)?solaris)[\/\s-]?([\w\.]*)/i, /(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i, /(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i, /(unix)\s?([\w\.]*)/i],
                [n, o]
            ]
        },
        p = function(t, i) {
            if ("object" == typeof t && (i = t, t = void 0), !(this instanceof p)) return new p(t, i).getResult();
            var n = t || (e && e.navigator && e.navigator.userAgent ? e.navigator.userAgent : ""),
                r = i ? c.extend(h, i) : h;
            return this.getBrowser = function() {
                var e = {
                    name: void 0,
                    version: void 0
                };
                return u.rgx.call(e, n, r.browser), e.major = c.major(e.version), e
            }, this.getCPU = function() {
                var e = {
                    architecture: void 0
                };
                return u.rgx.call(e, n, r.cpu), e
            }, this.getDevice = function() {
                var e = {
                    vendor: void 0,
                    model: void 0,
                    type: void 0
                };
                return u.rgx.call(e, n, r.device), e
            }, this.getEngine = function() {
                var e = {
                    name: void 0,
                    version: void 0
                };
                return u.rgx.call(e, n, r.engine), e
            }, this.getOS = function() {
                var e = {
                    name: void 0,
                    version: void 0
                };
                return u.rgx.call(e, n, r.os), e
            }, this.getResult = function() {
                return {
                    ua: this.getUA(),
                    browser: this.getBrowser(),
                    engine: this.getEngine(),
                    os: this.getOS(),
                    device: this.getDevice(),
                    cpu: this.getCPU()
                }
            }, this.getUA = function() {
                return n
            }, this.setUA = function(e) {
                return n = e, this
            }, this
        };
    p.VERSION = "0.7.19", p.BROWSER = {
        NAME: n,
        MAJOR: "major",
        VERSION: o
    }, p.CPU = {
        ARCHITECTURE: "architecture"
    }, p.DEVICE = {
        MODEL: i,
        VENDOR: a,
        TYPE: r,
        CONSOLE: "console",
        MOBILE: s,
        SMARTTV: "smarttv",
        TABLET: l,
        WEARABLE: "wearable",
        EMBEDDED: "embedded"
    }, p.ENGINE = {
        NAME: n,
        VERSION: o
    }, p.OS = {
        NAME: n,
        VERSION: o
    }, "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = p), exports.UAParser = p) : "function" == typeof define && define.amd ? define(function() {
        return p
    }) : e && (e.UAParser = p);
    var f = e && (e.jQuery || e.Zepto);
    if (void 0 !== f && !f.ua) {
        var m = new p;
        f.ua = m.getResult(), f.ua.get = function() {
            return m.getUA()
        }, f.ua.set = function(e) {
            m.setUA(e);
            var t = m.getResult();
            for (var i in t) f.ua[i] = t[i]
        }
    }
}("object" == typeof window ? window : this), Object.create || (Object.create = function() {
    function e() {}
    return function(t) {
        if (1 != arguments.length) throw new Error("Object.create implementation only accepts one parameter.");
        return e.prototype = t, new e
    }
}()), Object.keys || (Object.keys = function(e, t, i) {
    for (t in i = [], e) i.hasOwnProperty.call(e, t) && i.push(t);
    return i
}), Array.prototype.indexOf || (Array.prototype.indexOf = function(e) {
    for (var t = 0; t < this.length; t++)
        if (this[t] === e) return t;
    return -1
}), Array.prototype.forEach || (Array.prototype.forEach = function(e) {
    if (null == this) throw new TypeError;
    var t = Object(this),
        i = t.length >>> 0;
    if ("function" != typeof e) throw new TypeError;
    for (var n = arguments.length >= 2 ? arguments[1] : void 0, r = 0; r < i; r++) r in t && e.call(n, t[r], r, t);
    return this
}), Array.prototype.filter || (Array.prototype.filter = function(e, t) {
    var i = [];
    return this.forEach(function(n, r, a) {
        e.call(t || void 0, n, r, a) && i.push(n)
    }), i
}), Array.prototype.map || (Array.prototype.map = function(e, t) {
    var i = [];
    return this.forEach(function(n, r, a) {
        i.push(e.call(t || void 0, n, r, a))
    }), i
}), Array.isArray || (Array.isArray = function(e) {
    return "[object Array]" === Object.prototype.toString.call(e)
}), "object" != typeof window || "object" != typeof window.location || window.location.assign || (window.location.assign = function(e) {
    window.location = e
}), Function.prototype.bind || (Function.prototype.bind = function(e) {
    if ("function" != typeof this) throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");

    function t() {}
    var i = [].slice,
        n = i.call(arguments, 1),
        r = this,
        a = function() {
            return r.apply(this instanceof t ? this : e || window, n.concat(i.call(arguments)))
        };
    return t.prototype = this.prototype, a.prototype = new t, a
});
var hello = function(e) {
    return hello.use(e)
};
hello.utils = {
        extend: function(e) {
            return Array.prototype.slice.call(arguments, 1).forEach(function(t) {
                if (Array.isArray(e) && Array.isArray(t)) Array.prototype.push.apply(e, t);
                else if (e && (e instanceof Object || "object" == typeof e) && t && (t instanceof Object || "object" == typeof t) && e !== t)
                    for (var i in t) e[i] = hello.utils.extend(e[i], t[i]);
                else Array.isArray(t) && (t = t.slice(0)), e = t
            }), e
        }
    }, hello.utils.extend(hello, {
        settings: {
            redirect_uri: window.location.href.split("#")[0],
            response_type: "token",
            display: "popup",
            state: "",
            oauth_proxy: "https://auth-server.herokuapp.com/proxy",
            timeout: 2e4,
            popup: {
                resizable: 1,
                scrollbars: 1,
                width: 500,
                height: 550
            },
            scope: ["basic"],
            scope_map: {
                basic: ""
            },
            default_service: null,
            force: null,
            page_uri: window.location.href
        },
        services: {},
        use: function(e) {
            var t = Object.create(this);
            return t.settings = Object.create(this.settings), e && (t.settings.default_service = e), t.utils.Event.call(t), t
        },
        init: function(e, t) {
            var i = this.utils;
            if (!e) return this.services;
            for (var n in e) e.hasOwnProperty(n) && "object" != typeof e[n] && (e[n] = {
                id: e[n]
            });
            return i.extend(this.services, e), t && (i.extend(this.settings, t), "redirect_uri" in t && (this.settings.redirect_uri = i.url(t.redirect_uri).href)), this
        },
        login: function() {
            var e, t = this,
                i = t.utils,
                n = i.error,
                r = i.Promise(),
                a = i.args({
                    network: "s",
                    options: "o",
                    callback: "f"
                }, arguments),
                o = i.diffKey(a.options, t.settings),
                s = a.options = i.merge(t.settings, a.options || {});

            function l(e, t) {
                hello.emit(e, t)
            }
            if (s.popup = i.merge(t.settings.popup, a.options.popup || {}), a.network = a.network || t.settings.default_service, r.proxy.then(a.callback, a.callback), r.proxy.then(l.bind(this, "auth.login auth"), l.bind(this, "auth.failed auth")), "string" != typeof a.network || !(a.network in t.services)) return r.reject(n("invalid_network", "The provided network was not recognized"));
            var c = t.services[a.network],
                u = i.globalEvent(function(e) {
                    var t;
                    (t = e ? JSON.parse(e) : n("cancelled", "The authentication was not completed")).error ? r.reject(t) : (i.store(t.network, t), r.fulfill({
                        network: t.network,
                        authResponse: t
                    }))
                }),
                d = i.url(s.redirect_uri).href,
                h = c.oauth.response_type || s.response_type;
            /\bcode\b/.test(h) && !c.oauth.grant && (h = h.replace(/\bcode\b/, "token")), a.qs = i.merge(o, {
                client_id: encodeURIComponent(c.id),
                response_type: encodeURIComponent(h),
                redirect_uri: encodeURIComponent(d),
                state: {
                    client_id: c.id,
                    network: a.network,
                    display: s.display,
                    callback: u,
                    state: s.state,
                    redirect_uri: d
                }
            });
            var p = i.store(a.network),
                f = /[,\s]+/,
                m = t.settings.scope ? [t.settings.scope.toString()] : [],
                g = i.merge(t.settings.scope_map, c.scope || {});
            if (s.scope && m.push(s.scope.toString()), p && "scope" in p && p.scope instanceof String && m.push(p.scope), m = m.join(",").split(f), m = i.unique(m).filter(_), a.qs.state.scope = m.join(","), m = (m = m.map(function(e) {
                    return e in g ? g[e] : e
                })).join(",").split(f), m = i.unique(m).filter(_), a.qs.scope = m.join(c.scope_delim || ","), !1 === s.force && p && "access_token" in p && p.access_token && "expires" in p && p.expires > (new Date).getTime() / 1e3 && 0 === i.diff((p.scope || "").split(f), (a.qs.state.scope || "").split(f)).length) return r.fulfill({
                unchanged: !0,
                network: a.network,
                authResponse: p
            }), r;
            if ("page" === s.display && s.page_uri && (a.qs.state.page_uri = i.url(s.page_uri).href), "login" in c && "function" == typeof c.login && c.login(a), (!/\btoken\b/.test(h) || parseInt(c.oauth.version, 10) < 2 || "none" === s.display && c.oauth.grant && p && p.refresh_token) && (a.qs.state.oauth = c.oauth, a.qs.state.oauth_proxy = s.oauth_proxy), a.qs.state = encodeURIComponent(JSON.stringify(a.qs.state)), 1 === parseInt(c.oauth.version, 10) ? e = i.qs(s.oauth_proxy, a.qs, b) : "none" === s.display && c.oauth.grant && p && p.refresh_token ? (a.qs.refresh_token = p.refresh_token, e = i.qs(s.oauth_proxy, a.qs, b)) : e = i.qs(c.oauth.auth, a.qs, b), l("auth.init", a), "none" === s.display) i.iframe(e, d);
            else if ("popup" === s.display) var y = i.popup(e, d, s.popup),
                v = setInterval(function() {
                    if ((!y || y.closed) && (clearInterval(v), !r.state)) {
                        var e = n("cancelled", "Login has been cancelled");
                        y || (e = n("blocked", "Popup was blocked")), e.network = a.network, r.reject(e)
                    }
                }, 100);
            else window.location = e;
            return r.proxy;

            function b(e) {
                return e
            }

            function _(e) {
                return !!e
            }
        },
        logout: function() {
            var e = this.utils,
                t = e.error,
                i = e.Promise(),
                n = e.args({
                    name: "s",
                    options: "o",
                    callback: "f"
                }, arguments);

            function r(e, t) {
                hello.emit(e, t)
            }
            if (n.options = n.options || {}, i.proxy.then(n.callback, n.callback), i.proxy.then(r.bind(this, "auth.logout auth"), r.bind(this, "error")), n.name = n.name || this.settings.default_service, n.authResponse = e.store(n.name), !n.name || n.name in this.services)
                if (n.name && n.authResponse) {
                    var a = function(t) {
                            e.store(n.name, null), i.fulfill(hello.utils.merge({
                                network: n.name
                            }, t || {}))
                        },
                        o = {};
                    if (n.options.force) {
                        var s = this.services[n.name].logout;
                        if (s)
                            if ("function" == typeof s && (s = s(a, n)), "string" == typeof s) e.iframe(s), o.force = null, o.message = "Logout success on providers site was indeterminate";
                            else if (void 0 === s) return i.proxy
                    }
                    a(o)
                } else i.reject(t("invalid_session", "There was no session to remove"));
            else i.reject(t("invalid_network", "The network was unrecognized"));
            return i.proxy
        },
        getAuthResponse: function(e) {
            return (e = e || this.settings.default_service) && e in this.services && this.utils.store(e) || null
        },
        events: {}
    }), hello.utils.extend(hello.utils, {
        error: function(e, t) {
            return {
                error: {
                    code: e,
                    message: t
                }
            }
        },
        qs: function(e, t, i) {
            if (t)
                for (var n in i = i || encodeURIComponent, t) {
                    var r = new RegExp("([\\?\\&])" + n + "=[^\\&]*");
                    e.match(r) && (e = e.replace(r, "$1" + n + "=" + i(t[n])), delete t[n])
                }
            return this.isEmpty(t) ? e : e + (e.indexOf("?") > -1 ? "&" : "?") + this.param(t, i)
        },
        param: function(e, t) {
            var i, n, r = {};
            if ("string" == typeof e) {
                if (t = t || decodeURIComponent, n = e.replace(/^[\#\?]/, "").match(/([^=\/\&]+)=([^\&]+)/g))
                    for (var a = 0; a < n.length; a++) r[(i = n[a].match(/([^=]+)=(.*)/))[1]] = t(i[2]);
                return r
            }
            t = t || encodeURIComponent;
            var o = e;
            for (var s in r = [], o) o.hasOwnProperty(s) && o.hasOwnProperty(s) && r.push([s, "?" === o[s] ? "?" : t(o[s])].join("="));
            return r.join("&")
        },
        store: function() {
            for (var e, t = ["localStorage", "sessionStorage"], i = -1; t[++i];) try {
                (e = window[t[i]]).setItem("test" + i, i), e.removeItem("test" + i);
                break
            } catch (t) {
                e = null
            }
            if (!e) {
                var n = null;
                e = {
                    getItem: function(e) {
                        e += "=";
                        for (var t = document.cookie.split(";"), i = 0; i < t.length; i++) {
                            var r = t[i].replace(/(^\s+|\s+$)/, "");
                            if (r && 0 === r.indexOf(e)) return r.substr(e.length)
                        }
                        return n
                    },
                    setItem: function(e, t) {
                        n = t, document.cookie = e + "=" + t
                    }
                }, n = e.getItem("hello")
            }
            return function(t, i, n) {
                var r = function() {
                    var t = {};
                    try {
                        t = JSON.parse(e.getItem("hello")) || {}
                    } catch (e) {}
                    return t
                }();
                if (t && void 0 === i) return r[t] || null;
                if (t && null === i) try {
                    delete r[t]
                } catch (e) {
                    r[t] = null
                } else {
                    if (!t) return r;
                    r[t] = i
                }
                return e.setItem("hello", JSON.stringify(r)), r || null
            }
        }(),
        append: function(e, t, i) {
            var n = "string" == typeof e ? document.createElement(e) : e;
            if ("object" == typeof t)
                if ("tagName" in t) i = t;
                else
                    for (var r in t)
                        if (t.hasOwnProperty(r))
                            if ("object" == typeof t[r])
                                for (var a in t[r]) t[r].hasOwnProperty(a) && (n[r][a] = t[r][a]);
                            else "html" === r ? n.innerHTML = t[r] : /^on/.test(r) ? n[r] = t[r] : n.setAttribute(r, t[r]);
            return "body" === i ? function e() {
                document.body ? document.body.appendChild(n) : setTimeout(e, 16)
            }() : "object" == typeof i ? i.appendChild(n) : "string" == typeof i && document.getElementsByTagName(i)[0].appendChild(n), n
        },
        iframe: function(e) {
            this.append("iframe", {
                src: e,
                style: {
                    position: "absolute",
                    left: "-1000px",
                    bottom: 0,
                    height: "1px",
                    width: "1px"
                }
            }, "body")
        },
        merge: function() {
            var e = Array.prototype.slice.call(arguments);
            return e.unshift({}), this.extend.apply(null, e)
        },
        args: function(e, t) {
            var i = {},
                n = 0,
                r = null,
                a = null;
            for (a in e)
                if (e.hasOwnProperty(a)) break;
            if (1 === t.length && "object" == typeof t[0] && "o!" != e[a])
                for (a in t[0])
                    if (e.hasOwnProperty(a) && a in e) return t[0];
            for (a in e)
                if (e.hasOwnProperty(a))
                    if (r = typeof t[n], "function" == typeof e[a] && e[a].test(t[n]) || "string" == typeof e[a] && (e[a].indexOf("s") > -1 && "string" === r || e[a].indexOf("o") > -1 && "object" === r || e[a].indexOf("i") > -1 && "number" === r || e[a].indexOf("a") > -1 && "object" === r || e[a].indexOf("f") > -1 && "function" === r)) i[a] = t[n++];
                    else if ("string" == typeof e[a] && e[a].indexOf("!") > -1) return !1;
            return i
        },
        url: function(e) {
            if (e) {
                if (window.URL && URL instanceof Function && 0 !== URL.length) return new URL(e, window.location);
                var t = document.createElement("a");
                return t.href = e, t.cloneNode(!1)
            }
            return window.location
        },
        diff: function(e, t) {
            return t.filter(function(t) {
                return -1 === e.indexOf(t)
            })
        },
        diffKey: function(e, t) {
            if (e || !t) {
                var i = {};
                for (var n in e) n in t || (i[n] = e[n]);
                return i
            }
            return e
        },
        unique: function(e) {
            return Array.isArray(e) ? e.filter(function(t, i) {
                return e.indexOf(t) === i
            }) : []
        },
        isEmpty: function(e) {
            if (!e) return !0;
            if (Array.isArray(e)) return !e.length;
            if ("object" == typeof e)
                for (var t in e)
                    if (e.hasOwnProperty(t)) return !1;
            return !0
        },
        Promise: function() {
            var e = function(t) {
                if (!(this instanceof e)) return new e(t);
                this.id = "Thenable/1.0.6", this.state = 0, this.fulfillValue = void 0, this.rejectReason = void 0, this.onFulfilled = [], this.onRejected = [], this.proxy = {
                    then: this.then.bind(this)
                }, "function" == typeof t && t.call(this, this.fulfill.bind(this), this.reject.bind(this))
            };
            e.prototype = {
                fulfill: function(e) {
                    return t(this, 1, "fulfillValue", e)
                },
                reject: function(e) {
                    return t(this, 2, "rejectReason", e)
                },
                then: function(t, n) {
                    var a = new e;
                    return this.onFulfilled.push(r(t, a, "fulfill")), this.onRejected.push(r(n, a, "reject")), i(this), a.proxy
                }
            };
            var t = function(e, t, n, r) {
                    return 0 === e.state && (e.state = t, e[n] = r, i(e)), e
                },
                i = function(e) {
                    1 === e.state ? n(e, "onFulfilled", e.fulfillValue) : 2 === e.state && n(e, "onRejected", e.rejectReason)
                },
                n = function(e, t, i) {
                    if (0 !== e[t].length) {
                        var n = e[t];
                        e[t] = [];
                        var r = function() {
                            for (var e = 0; e < n.length; e++) n[e](i)
                        };
                        "object" == typeof process && "function" == typeof process.nextTick ? process.nextTick(r) : "function" == typeof setImmediate ? setImmediate(r) : setTimeout(r, 0)
                    }
                },
                r = function(e, t, i) {
                    return function(n) {
                        if ("function" != typeof e) t[i].call(t, n);
                        else {
                            var r;
                            try {
                                r = e(n)
                            } catch (e) {
                                return void t.reject(e)
                            }
                            a(t, r)
                        }
                    }
                },
                a = function(e, t) {
                    if (e !== t && e.proxy !== t) {
                        var i;
                        if ("object" == typeof t && null !== t || "function" == typeof t) try {
                            i = t.then
                        } catch (t) {
                            return void e.reject(t)
                        }
                        if ("function" != typeof i) e.fulfill(t);
                        else {
                            var n = !1;
                            try {
                                i.call(t, function(i) {
                                    n || (n = !0, i === t ? e.reject(new TypeError("circular thenable chain")) : a(e, i))
                                }, function(t) {
                                    n || (n = !0, e.reject(t))
                                })
                            } catch (t) {
                                n || e.reject(t)
                            }
                        }
                    } else e.reject(new TypeError("cannot resolve promise with itself"))
                };
            return e
        }(),
        Event: function() {
            var e = /[\s\,]+/;
            return this.parent = {
                events: this.events,
                findEvents: this.findEvents,
                parent: this.parent,
                utils: this.utils
            }, this.events = {}, this.on = function(t, i) {
                if (i && "function" == typeof i)
                    for (var n = t.split(e), r = 0; r < n.length; r++) this.events[n[r]] = [i].concat(this.events[n[r]] || []);
                return this
            }, this.off = function(e, t) {
                return this.findEvents(e, function(e, i) {
                    t && this.events[e][i] !== t || (this.events[e][i] = null)
                }), this
            }, this.emit = function(e) {
                var t = Array.prototype.slice.call(arguments, 1);
                t.push(e);
                for (var i = function(i, n) {
                        t[t.length - 1] = "*" === i ? e : i, this.events[i][n].apply(this, t)
                    }, n = this; n && n.findEvents;) n.findEvents(e + ",*", i), n = n.parent;
                return this
            }, this.emitAfter = function() {
                var e = this,
                    t = arguments;
                return setTimeout(function() {
                    e.emit.apply(e, t)
                }, 0), this
            }, this.findEvents = function(t, i) {
                var n = t.split(e);
                for (var r in this.events)
                    if (this.events.hasOwnProperty(r) && n.indexOf(r) > -1)
                        for (var a = 0; a < this.events[r].length; a++) this.events[r][a] && i.call(this, r, a)
            }, this
        },
        globalEvent: function(e, t) {
            return t = t || "_hellojs_" + parseInt(1e12 * Math.random(), 10).toString(36), window[t] = function() {
                try {
                    e.apply(this, arguments) && delete window[t]
                } catch (e) {
                    console.error(e)
                }
            }, t
        },
        popup: function(e, t, i) {
            var n = document.documentElement;
            if (i.height && void 0 === i.top) {
                var r = void 0 !== window.screenTop ? window.screenTop : screen.top,
                    a = screen.height || window.innerHeight || n.clientHeight;
                i.top = parseInt((a - i.height) / 2, 10) + r
            }
            if (i.width && void 0 === i.left) {
                var o = void 0 !== window.screenLeft ? window.screenLeft : screen.left,
                    s = screen.width || window.innerWidth || n.clientWidth;
                i.left = parseInt((s - i.width) / 2, 10) + o
            }
            var l = [];
            Object.keys(i).forEach(function(e) {
                var t = i[e];
                l.push(e + (null !== t ? "=" + t : ""))
            }), -1 !== navigator.userAgent.indexOf("Safari") && -1 === navigator.userAgent.indexOf("Chrome") && (e = t + "#oauth_redirect=" + encodeURIComponent(encodeURIComponent(e)));
            var c = window.open(e, "_blank", l.join(","));
            return c && c.focus && c.focus(), c
        },
        responseHandler: function(e, t) {
            var i, n = this,
                r = e.location;
            if ((i = n.param(r.search)) && i.state && (i.code || i.oauth_token)) {
                var a = JSON.parse(i.state);
                i.redirect_uri = a.redirect_uri || r.href.replace(/[\?\#].*$/, "");
                var o = n.qs(a.oauth_proxy, i);
                r.assign(o)
            } else if ((i = n.merge(n.param(r.search || ""), n.param(r.hash || ""))) && "state" in i) {
                try {
                    var s = JSON.parse(i.state);
                    n.extend(i, s)
                } catch (e) {
                    var l = decodeURIComponent(i.state);
                    try {
                        var c = JSON.parse(l);
                        n.extend(i, c)
                    } catch (e) {
                        console.error("Could not decode state parameter")
                    }
                }
                if ("access_token" in i && i.access_token && i.network) i.expires_in && 0 !== parseInt(i.expires_in, 10) || (i.expires_in = 0), i.expires_in = parseInt(i.expires_in, 10), i.expires = (new Date).getTime() / 1e3 + (i.expires_in || 31536e3), d(i, 0, t);
                else if ("error" in i && i.error && i.network) i.error = {
                    code: i.error,
                    message: i.error_message || i.error_description
                }, d(i, 0, t);
                else if (i.callback && i.callback in t) {
                    var u = !!("result" in i && i.result) && JSON.parse(i.result);
                    h(t, i.callback)(u), p()
                }
                i.page_uri && r.assign(i.page_uri)
            } else if ("oauth_redirect" in i) return void r.assign(decodeURIComponent(i.oauth_redirect));

            function d(e, t, i) {
                var r = e.callback,
                    a = e.network;
                if (n.store(a, e), !("display" in e && "page" === e.display)) {
                    if (i && r && r in i) {
                        try {
                            delete e.callback
                        } catch (e) {}
                        n.store(a, e);
                        var o = JSON.stringify(e);
                        try {
                            h(i, r)(o)
                        } catch (e) {}
                    }
                    p()
                }
            }

            function h(e, t) {
                return 0 !== t.indexOf("_hellojs_") ? function() {
                    throw "Could not execute callback " + t
                } : e[t]
            }

            function p() {
                if (e.frameElement) t.document.body.removeChild(e.frameElement);
                else {
                    try {
                        e.close()
                    } catch (e) {}
                    e.addEventListener && e.addEventListener("load", function() {
                        e.close()
                    })
                }
            }
        }
    }), hello.utils.Event.call(hello),
    function(e) {
        var t = {},
            i = {};
        e.on("auth.login, auth.logout", function(i) {
                i && "object" == typeof i && i.network && (t[i.network] = e.utils.store(i.network) || {})
            }),
            function n() {
                var r = (new Date).getTime() / 1e3,
                    a = function(t) {
                        e.emit("auth." + t, {
                            network: o,
                            authResponse: s
                        })
                    };
                for (var o in e.services)
                    if (e.services.hasOwnProperty(o)) {
                        if (!e.services[o].id) continue;
                        var s = e.utils.store(o) || {},
                            l = e.services[o],
                            c = t[o] || {};
                        if (s && "callback" in s) {
                            var u = s.callback;
                            try {
                                delete s.callback
                            } catch (e) {}
                            e.utils.store(o, s);
                            try {
                                window[u](s)
                            } catch (e) {}
                        }
                        if (s && "expires" in s && s.expires < r) {
                            var d = l.refresh || s.refresh_token;
                            !d || o in i && !(i[o] < r) ? d || o in i || (a("expired"), i[o] = !0) : (e.emit("notice", o + " has expired trying to resignin"), e.login(o, {
                                display: "none",
                                force: !1
                            }), i[o] = r + 600);
                            continue
                        }
                        if (c.access_token === s.access_token && c.expires === s.expires) continue;
                        !s.access_token && c.access_token ? a("logout") : s.access_token && !c.access_token ? a("login") : s.expires !== c.expires && a("update"), t[o] = s, o in i && delete i[o]
                    } setTimeout(n, 1e3)
            }()
    }(hello), hello.api = function() {
        var e = this,
            t = e.utils,
            i = t.error,
            n = t.Promise(),
            r = t.args({
                path: "s!",
                query: "o",
                method: "s",
                data: "o",
                timeout: "i",
                callback: "f"
            }, arguments);
        r.method = (r.method || "get").toLowerCase(), r.headers = r.headers || {}, r.query = r.query || {}, "get" !== r.method && "delete" !== r.method || (t.extend(r.query, r.data), r.data = {});
        var a = r.data = r.data || {};
        if (n.then(r.callback, r.callback), !r.path) return n.reject(i("invalid_path", "Missing the path parameter from the request"));
        r.path = r.path.replace(/^\/+/, "");
        var o = (r.path.split(/[\/\:]/, 2) || [])[0].toLowerCase();
        if (o in e.services) {
            r.network = o;
            var s = new RegExp("^" + o + ":?/?");
            r.path = r.path.replace(s, "")
        }
        r.network = e.settings.default_service = r.network || e.settings.default_service;
        var l = e.services[r.network];
        if (!l) return n.reject(i("invalid_network", "Could not match the service requested: " + r.network));
        if (r.method in l && r.path in l[r.method] && !1 === l[r.method][r.path]) return n.reject(i("invalid_path", "The provided path is not available on the selected network"));
        r.oauth_proxy || (r.oauth_proxy = e.settings.oauth_proxy), "proxy" in r || (r.proxy = r.oauth_proxy && l.oauth && 1 === parseInt(l.oauth.version, 10)), "timeout" in r || (r.timeout = e.settings.timeout), "formatResponse" in r || (r.formatResponse = !0), r.authResponse = e.getAuthResponse(r.network), r.authResponse && r.authResponse.access_token && (r.query.access_token = r.authResponse.access_token);
        var c, u = r.path;
        r.options = t.clone(r.query), r.data = t.clone(a);
        var d = l[{
            delete: "del"
        } [r.method] || r.method] || {};
        if ("get" === r.method) {
            var h = u.split(/[\?#]/)[1];
            h && (t.extend(r.query, t.param(h)), u = u.replace(/\?.*?(#|$)/, "$1"))
        }
        return (c = u.match(/#(.+)/, "")) ? (u = u.split("#")[0], r.path = c[1]) : u in d ? (r.path = u, u = d[u]) : "default" in d && (u = d.default), r.redirect_uri = e.settings.redirect_uri, r.xhr = l.xhr, r.jsonp = l.jsonp, r.form = l.form, "function" == typeof u ? u(r, p) : p(u), n.proxy;

        function p(e) {
            (e = e.replace(/\@\{([a-z\_\-]+)(\|.*?)?\}/gi, function(e, t, a) {
                var o = a ? a.replace(/^\|/, "") : "";
                return t in r.query ? (o = r.query[t], delete r.query[t]) : r.data && t in r.data ? (o = r.data[t], delete r.data[t]) : a || n.reject(i("missing_attribute", "The attribute " + t + " is missing from the request")), o
            })).match(/^https?:\/\//) || (e = l.base + e), r.url = e, t.request(r, function(e, i) {
                if (r.formatResponse) {
                    if (!0 === e ? e = {
                            success: !0
                        } : e || (e = {}), "delete" === r.method && (e = !e || t.isEmpty(e) ? {
                            success: !0
                        } : e), l.wrap && (r.path in l.wrap || "default" in l.wrap)) {
                        var a = r.path in l.wrap ? r.path : "default",
                            o = ((new Date).getTime(), l.wrap[a](e, i, r));
                        o && (e = o)
                    }
                    e && "paging" in e && e.paging.next && ("?" === e.paging.next[0] ? e.paging.next = r.path + e.paging.next : e.paging.next += "#" + r.path), !e || "error" in e ? n.reject(e) : n.fulfill(e)
                } else("object" == typeof i ? i.statusCode >= 400 : "object" == typeof e && "error" in e) ? n.reject(e) : n.fulfill(e)
            })
        }
    }, hello.utils.extend(hello.utils, {
        request: function(e, t) {
            var i = this,
                n = i.error;
            if (i.isEmpty(e.data) || "FileList" in window || !i.hasBinary(e.data) || (e.xhr = !1, e.jsonp = !1), this.request_cors(function() {
                    return void 0 === e.xhr || e.xhr && ("function" != typeof e.xhr || e.xhr(e, e.query))
                })) o(e, function(n) {
                var r = i.xhr(e.method, n, e.headers, e.data, t);
                r.onprogress = e.onprogress || null, r.upload && e.onuploadprogress && (r.upload.onprogress = e.onuploadprogress)
            });
            else {
                var r, a = e.query;
                if (e.query = i.clone(e.query), e.callbackID = i.globalEvent(), !1 !== e.jsonp) {
                    if (e.query.callback = e.callbackID, "function" == typeof e.jsonp && e.jsonp(e, e.query), "get" === e.method) return void o(e, function(n) {
                        i.jsonp(n, t, e.callbackID, e.timeout)
                    });
                    e.query = a
                }
                if (!1 !== e.form && (e.query.redirect_uri = e.redirect_uri, e.query.state = JSON.stringify({
                        callback: e.callbackID
                    }), "function" == typeof e.form && (r = e.form(e, e.query)), "post" === e.method && !1 !== r)) return void o(e, function(n) {
                    i.post(n, e.data, r, t, e.callbackID, e.timeout)
                });
                t(n("invalid_request", "There was no mechanism for handling this request"))
            }

            function o(e, t) {
                var n;
                e.authResponse && e.authResponse.oauth && 1 === parseInt(e.authResponse.oauth.version, 10) && (n = e.query.access_token, delete e.query.access_token, e.proxy = !0), !e.data || "get" !== e.method && "delete" !== e.method || (i.extend(e.query, e.data), e.data = null);
                var r = i.qs(e.url, e.query);
                e.proxy && (r = i.qs(e.oauth_proxy, {
                    path: r,
                    access_token: n || "",
                    then: e.proxy_response_type || ("get" === e.method.toLowerCase() ? "redirect" : "proxy"),
                    method: e.method.toLowerCase(),
                    suppress_response_codes: !0
                })), t(r)
            }
        },
        request_cors: function(e) {
            return "withCredentials" in new XMLHttpRequest && e()
        },
        domInstance: function(e, t) {
            var i = "HTML" + (e || "").replace(/^[a-z]/, function(e) {
                return e.toUpperCase()
            }) + "Element";
            return !!t && (window[i] ? t instanceof window[i] : window.Element ? t instanceof window.Element && (!e || t.tagName && t.tagName.toLowerCase() === e) : !(t instanceof Object || t instanceof Array || t instanceof String || t instanceof Number) && t.tagName && t.tagName.toLowerCase() === e)
        },
        clone: function(e) {
            if (null === e || "object" != typeof e || e instanceof Date || "nodeName" in e || this.isBinary(e) || "function" == typeof FormData && e instanceof FormData) return e;
            if (Array.isArray(e)) return e.map(this.clone.bind(this));
            var t = {};
            for (var i in e) t[i] = this.clone(e[i]);
            return t
        },
        xhr: function(e, t, i, n, r) {
            var a, o = new XMLHttpRequest,
                s = this.error,
                l = !1;
            if ("blob" === e && (l = e, e = "GET"), e = e.toUpperCase(), o.onload = function(t) {
                    var i = o.response;
                    try {
                        i = JSON.parse(o.responseText)
                    } catch (e) {
                        401 === o.status && (i = s("access_denied", o.statusText))
                    }
                    var n = function(e) {
                        for (var t, i = {}, n = /([a-z\-]+):\s?(.*);?/gi; t = n.exec(e);) i[t[1]] = t[2];
                        return i
                    }(o.getAllResponseHeaders());
                    n.statusCode = o.status, r(i || ("GET" === e ? s("empty_response", "Could not get resource") : {}), n)
                }, o.onerror = function(e) {
                    var t = o.responseText;
                    try {
                        t = JSON.parse(o.responseText)
                    } catch (e) {}
                    r(t || s("access_denied", "Could not get resource"))
                }, "GET" === e || "DELETE" === e) n = null;
            else if (n && "string" != typeof n && !(n instanceof FormData) && !(n instanceof File) && !(n instanceof Blob)) {
                var c = new FormData;
                for (a in n) n.hasOwnProperty(a) && (n[a] instanceof HTMLInputElement ? "files" in n[a] && n[a].files.length > 0 && c.append(a, n[a].files[0]) : n[a] instanceof Blob ? c.append(a, n[a], n.name) : c.append(a, n[a]));
                n = c
            }
            if (o.open(e, t, !0), l && ("responseType" in o ? o.responseType = l : o.overrideMimeType("text/plain; charset=x-user-defined")), i)
                for (a in i) o.setRequestHeader(a, i[a]);
            return o.send(n), o
        },
        jsonp: function(e, t, i, n) {
            var r, a = this.error,
                o = 0,
                s = document.getElementsByTagName("head")[0],
                l = a("server_error", "server_error"),
                c = function() {
                    o++ || window.setTimeout(function() {
                        t(l), s.removeChild(u)
                    }, 0)
                };
            i = this.globalEvent(function(e) {
                return l = e, !0
            }, i), e = e.replace(new RegExp("=\\?(&|$)"), "=" + i + "$1");
            var u = this.append("script", {
                id: i,
                name: i,
                src: e,
                async: !0,
                onload: c,
                onerror: c,
                onreadystatechange: function() {
                    /loaded|complete/i.test(this.readyState) && c()
                }
            });
            window.navigator.userAgent.toLowerCase().indexOf("opera") > -1 && (r = this.append("script", {
                text: "document.getElementById('" + i + "').onerror();"
            }), u.async = !1), n && window.setTimeout(function() {
                l = a("timeout", "timeout"), c()
            }, n), s.appendChild(u), r && s.appendChild(r)
        },
        post: function(e, t, i, n, r, a) {
            var o, s, l = this,
                c = l.error,
                u = document,
                d = null,
                h = [],
                p = 0,
                f = null,
                m = 0,
                g = function(e) {
                    m++ || n(e)
                };
            l.globalEvent(g, r);
            try {
                s = u.createElement('<iframe name="' + r + '">')
            } catch (e) {
                s = u.createElement("iframe")
            }
            if (s.name = r, s.id = r, s.style.display = "none", i && i.callbackonload && (s.onload = function() {
                    g({
                        response: "posted",
                        message: "Content was posted"
                    })
                }), a && setTimeout(function() {
                    g(c("timeout", "The post operation timed out"))
                }, a), u.body.appendChild(s), l.domInstance("form", t)) {
                for (d = t.form, p = 0; p < d.elements.length; p++) d.elements[p] !== t && d.elements[p].setAttribute("disabled", !0);
                t = d
            }
            if (l.domInstance("form", t))
                for (d = t, p = 0; p < d.elements.length; p++) d.elements[p].disabled || "file" !== d.elements[p].type || (d.encoding = d.enctype = "multipart/form-data", d.elements[p].setAttribute("name", "file"));
            else {
                for (f in t) t.hasOwnProperty(f) && l.domInstance("input", t[f]) && "file" === t[f].type && ((d = t[f].form).encoding = d.enctype = "multipart/form-data");
                var y;
                for (f in d || (d = u.createElement("form"), u.body.appendChild(d), o = d), t)
                    if (t.hasOwnProperty(f)) {
                        var v = l.domInstance("input", t[f]) || l.domInstance("textArea", t[f]) || l.domInstance("select", t[f]);
                        if (v && t[f].form === d) v && t[f].name !== f && (t[f].setAttribute("name", f), t[f].name = f);
                        else {
                            var b = d.elements[f];
                            if (y)
                                for (b instanceof NodeList || (b = [b]), p = 0; p < b.length; p++) b[p].parentNode.removeChild(b[p]);
                            (y = u.createElement("input")).setAttribute("type", "hidden"), y.setAttribute("name", f), y.value = v ? t[f].value : l.domInstance(null, t[f]) ? t[f].innerHTML || t[f].innerText : t[f], d.appendChild(y)
                        }
                    } for (p = 0; p < d.elements.length; p++)(y = d.elements[p]).name in t || !0 === y.getAttribute("disabled") || (y.setAttribute("disabled", !0), h.push(y))
            }
            d.setAttribute("method", "POST"), d.setAttribute("target", r), d.target = r, d.setAttribute("action", e), setTimeout(function() {
                d.submit(), setTimeout(function() {
                    try {
                        o && o.parentNode.removeChild(o)
                    } catch (e) {
                        try {
                            console.error("HelloJS: could not remove iframe")
                        } catch (e) {}
                    }
                    for (var e = 0; e < h.length; e++) h[e] && (h[e].setAttribute("disabled", !1), h[e].disabled = !1)
                }, 0)
            }, 100)
        },
        hasBinary: function(e) {
            for (var t in e)
                if (e.hasOwnProperty(t) && this.isBinary(e[t])) return !0;
            return !1
        },
        isBinary: function(e) {
            return e instanceof Object && (this.domInstance("input", e) && "file" === e.type || "FileList" in window && e instanceof window.FileList || "File" in window && e instanceof window.File || "Blob" in window && e instanceof window.Blob)
        },
        toBlob: function(e) {
            var t = /^data\:([^;,]+(\;charset=[^;,]+)?)(\;base64)?,/i,
                i = e.match(t);
            if (!i) return e;
            for (var n = atob(e.replace(t, "")), r = [], a = 0; a < n.length; a++) r.push(n.charCodeAt(a));
            return new Blob([new Uint8Array(r)], {
                type: i[1]
            })
        }
    }),
    function(e) {
        var t = e.api,
            i = e.utils;
        i.extend(i, {
            dataToJSON: function(e) {
                var t = this,
                    i = window,
                    n = e.data;
                if (t.domInstance("form", n) ? n = t.nodeListToJSON(n.elements) : "NodeList" in i && n instanceof NodeList ? n = t.nodeListToJSON(n) : t.domInstance("input", n) && (n = t.nodeListToJSON([n])), ("File" in i && n instanceof i.File || "Blob" in i && n instanceof i.Blob || "FileList" in i && n instanceof i.FileList) && (n = {
                        file: n
                    }), !("FormData" in i && n instanceof i.FormData))
                    for (var r in n)
                        if (n.hasOwnProperty(r))
                            if ("FileList" in i && n[r] instanceof i.FileList) 1 === n[r].length && (n[r] = n[r][0]);
                            else {
                                if (t.domInstance("input", n[r]) && "file" === n[r].type) continue;
                                t.domInstance("input", n[r]) || t.domInstance("select", n[r]) || t.domInstance("textArea", n[r]) ? n[r] = n[r].value : t.domInstance(null, n[r]) && (n[r] = n[r].innerHTML || n[r].innerText)
                            } return e.data = n, n
            },
            nodeListToJSON: function(e) {
                for (var t = {}, i = 0; i < e.length; i++) {
                    var n = e[i];
                    !n.disabled && n.name && (t[n.name] = "file" === n.type ? n : n.value || n.innerHTML)
                }
                return t
            }
        }), e.api = function() {
            var e = i.args({
                path: "s!",
                method: "s",
                data: "o",
                timeout: "i",
                callback: "f"
            }, arguments);
            return e.data && i.dataToJSON(e), t.call(this, e)
        }
    }(hello), hello.utils.responseHandler(window, window.opener || window.parent), "object" == typeof chrome && "object" == typeof chrome.identity && chrome.identity.launchWebAuthFlow && function() {
        hello.utils.popup = function(e) {
            return t(e, !0)
        }, hello.utils.iframe = function(e) {
            t(e, !1)
        }, hello.utils.request_cors = function(e) {
            return e(), !0
        };
        var e = {};

        function t(e, i) {
            var n = {
                closed: !1
            };
            return chrome.identity.launchWebAuthFlow({
                url: e,
                interactive: i
            }, function(e) {
                if (void 0 !== e) {
                    var i = hello.utils.url(e);
                    hello.utils.responseHandler({
                        location: {
                            assign: function(e) {
                                t(e, !1)
                            },
                            search: i.search,
                            hash: i.hash,
                            href: i.href
                        },
                        close: function() {}
                    }, window)
                } else n.closed = !0
            }), n
        }
        chrome.storage.local.get("hello", function(t) {
            e = t.hello || {}
        }), hello.utils.store = function(t, i) {
            return 0 === arguments.length ? e : 1 === arguments.length ? e[t] || null : i ? (e[t] = i, chrome.storage.local.set({
                hello: e
            }), i) : null === i ? (delete e[t], chrome.storage.local.set({
                hello: e
            }), null) : void 0
        }
    }(),
    function() {
        if (/^file:\/{3}[^\/]/.test(window.location.href) && window.cordova) {
            hello.utils.iframe = function(e, t) {
                hello.utils.popup(e, t, {
                    hidden: "yes"
                })
            };
            var e = hello.utils.popup;
            hello.utils.popup = function(t, i, n) {
                var r = e.call(this, t, i, n);
                try {
                    if (r && r.addEventListener) {
                        var a = hello.utils.url(i),
                            o = a.origin || a.protocol + "//" + a.hostname;
                        r.addEventListener("loadstart", function(e) {
                            var t = e.url;
                            if (0 === t.indexOf(o)) {
                                var i = hello.utils.url(t);
                                hello.utils.responseHandler({
                                    location: {
                                        assign: function(e) {
                                            r.executeScript({
                                                code: 'window.location.href = "' + e + ';"'
                                            })
                                        },
                                        search: i.search,
                                        hash: i.hash,
                                        href: i.href
                                    },
                                    close: function() {
                                        if (r.close) {
                                            r.close();
                                            try {
                                                r.closed = !0
                                            } catch (e) {}
                                        }
                                    }
                                }, window)
                            }
                        })
                    }
                } catch (e) {}
                return r
            }
        }
    }(),
    function(e) {
        var t = {
                version: "1.0",
                auth: "https://www.dropbox.com/1/oauth/authorize",
                request: "https://api.dropbox.com/1/oauth/request_token",
                token: "https://api.dropbox.com/1/oauth/access_token"
            },
            i = {
                version: 2,
                auth: "https://www.dropbox.com/1/oauth2/authorize",
                grant: "https://api.dropbox.com/1/oauth2/token"
            };

        function n(e) {
            e && "error" in e && (e.error = {
                code: "server_error",
                message: e.error.message || e.error
            })
        }

        function r(t, i, n) {
            if (!("object" != typeof t || "undefined" != typeof Blob && t instanceof Blob || "undefined" != typeof ArrayBuffer && t instanceof ArrayBuffer || "error" in t)) {
                var r = ("app_folder" !== t.root ? t.root : "") + t.path.replace(/\&/g, "%26");
                r = r.replace(/^\//, ""), t.thumb_exists && (t.thumbnail = n.oauth_proxy + "?path=" + encodeURIComponent("https://api-content.dropbox.com/1/thumbnails/auto/" + r + "?format=jpeg&size=m") + "&access_token=" + n.options.access_token), t.type = t.is_dir ? "folder" : t.mime_type, t.name = t.path.replace(/.*\//g, ""), t.is_dir ? t.files = r.replace(/^\//, "") : (t.downloadLink = e.settings.oauth_proxy + "?path=" + encodeURIComponent("https://api-content.dropbox.com/1/files/auto/" + r) + "&access_token=" + n.options.access_token, t.file = "https://api-content.dropbox.com/1/files/auto/" + r), t.id || (t.id = t.path.replace(/^\//, ""))
            }
        }

        function a(e) {
            return function(t, i) {
                delete t.query.limit, i(e)
            }
        }
        e.init({
            dropbox: {
                name: "Dropbox",
                oauth: i,
                login: function(n) {
                    n.qs.scope = "";
                    var r = decodeURIComponent(n.qs.redirect_uri);
                    e.services.dropbox.oauth = 0 === r.indexOf("http:") && 0 !== r.indexOf("http://localhost/") ? t : i, n.options.popup.width = 1e3, n.options.popup.height = 1e3
                },
                base: "https://api.dropbox.com/1/",
                root: "sandbox",
                get: {
                    me: "account/info",
                    "me/files": a("metadata/auto/@{parent|}"),
                    "me/folder": a("metadata/auto/@{id}"),
                    "me/folders": a("metadata/auto/"),
                    default: function(e, t) {
                        e.path.match("https://api-content.dropbox.com/1/files/") && (e.method = "blob"), t(e.path)
                    }
                },
                post: {
                    "me/files": function(t, i) {
                        var n = t.data.parent,
                            r = t.data.name;
                        t.data = {
                            file: t.data.file
                        }, "string" == typeof t.data.file && (t.data.file = e.utils.toBlob(t.data.file)), i("https://api-content.dropbox.com/1/files_put/auto/" + n + "/" + r)
                    },
                    "me/folders": function(t, i) {
                        var n = t.data.name;
                        t.data = {}, i("fileops/create_folder?root=@{root|sandbox}&" + e.utils.param({
                            path: n
                        }))
                    }
                },
                del: {
                    "me/files": "fileops/delete?root=@{root|sandbox}&path=@{id}",
                    "me/folder": "fileops/delete?root=@{root|sandbox}&path=@{id}"
                },
                wrap: {
                    me: function(e) {
                        if (n(e), !e.uid) return e;
                        e.name = e.display_name;
                        var t = e.name.split(" ");
                        return e.first_name = t.shift(), e.last_name = t.join(" "), e.id = e.uid, delete e.uid, delete e.display_name, e
                    },
                    default: function(e, t, i) {
                        return n(e), e.is_dir && e.contents && (e.data = e.contents, delete e.contents, e.data.forEach(function(t) {
                            t.root = e.root, r(t, 0, i)
                        })), r(e, 0, i), e.is_deleted && (e.success = !0), e
                    }
                },
                xhr: function(e) {
                    if (e.data && e.data.file) {
                        var t = e.data.file;
                        t && (e.data = t.files ? t.files[0] : t)
                    }
                    return "delete" === e.method && (e.method = "post"), !0
                },
                form: function(e, t) {
                    delete t.state, delete t.redirect_uri
                }
            }
        })
    }(hello),
    function(e) {
        e.init({
            facebook: {
                name: "Facebook",
                oauth: {
                    version: 2,
                    auth: "https://www.facebook.com/v2.9/dialog/oauth/",
                    grant: "https://graph.facebook.com/oauth/access_token"
                },
                scope: {
                    basic: "public_profile",
                    email: "email",
                    share: "user_posts",
                    birthday: "user_birthday",
                    events: "user_events",
                    photos: "user_photos",
                    videos: "user_videos",
                    friends: "user_friends",
                    files: "user_photos,user_videos",
                    publish_files: "user_photos,user_videos,publish_actions",
                    publish: "publish_actions",
                    offline_access: ""
                },
                refresh: !1,
                login: function(e) {
                    e.options.force && (e.qs.auth_type = "reauthenticate"), e.qs.display = e.options.display || "popup"
                },
                logout: function(t, i) {
                    var n = e.utils.globalEvent(t),
                        r = encodeURIComponent(e.settings.redirect_uri + "?" + e.utils.param({
                            callback: n,
                            result: JSON.stringify({
                                force: !0
                            }),
                            state: "{}"
                        })),
                        a = (i.authResponse || {}).access_token;
                    if (e.utils.iframe("https://www.facebook.com/logout.php?next=" + r + "&access_token=" + a), !a) return !1
                },
                base: "https://graph.facebook.com/v2.9/",
                get: {
                    me: "me?fields=email,first_name,last_name,name,timezone,verified",
                    "me/friends": "me/friends",
                    "me/following": "me/friends",
                    "me/followers": "me/friends",
                    "me/share": "me/feed",
                    "me/like": "me/likes",
                    "me/files": "me/albums",
                    "me/albums": "me/albums?fields=cover_photo,name",
                    "me/album": "@{id}/photos?fields=picture",
                    "me/photos": "me/photos",
                    "me/photo": "@{id}",
                    "friend/albums": "@{id}/albums",
                    "friend/photos": "@{id}/photos"
                },
                post: {
                    "me/share": "me/feed",
                    "me/photo": "@{id}"
                },
                wrap: {
                    me: i,
                    "me/friends": n,
                    "me/following": n,
                    "me/followers": n,
                    "me/albums": r,
                    "me/photos": r,
                    "me/files": r,
                    default: r
                },
                xhr: function(t, i) {
                    return "get" !== t.method && "post" !== t.method || (i.suppress_response_codes = !0), "post" === t.method && t.data && "string" == typeof t.data.file && (t.data.file = e.utils.toBlob(t.data.file)), !0
                },
                jsonp: function(t, i) {
                    var n = t.method;
                    "get" === n || e.utils.hasBinary(t.data) ? "delete" === t.method && (i.method = "delete", t.method = "post") : (t.data.method = n, t.method = "get")
                },
                form: function(e) {
                    return {
                        callbackonload: !0
                    }
                }
            }
        });
        var t = "https://graph.facebook.com/";

        function i(e) {
            return e.id && (e.thumbnail = e.picture = "https://graph.facebook.com/" + e.id + "/picture"), e
        }

        function n(e) {
            return "data" in e && e.data.forEach(i), e
        }

        function r(e, i, n) {
            if ("boolean" == typeof e && (e = {
                    success: e
                }), e && "data" in e) {
                var r = n.query.access_token;
                if (!(e.data instanceof Array)) {
                    var a = e.data;
                    delete e.data, e.data = [a]
                }
                e.data.forEach(function(e) {
                    e.picture && (e.thumbnail = e.picture), e.pictures = (e.images || []).sort(function(e, t) {
                        return e.width - t.width
                    }), e.cover_photo && e.cover_photo.id && (e.thumbnail = t + e.cover_photo.id + "/picture?access_token=" + r), "album" === e.type && (e.files = e.photos = t + e.id + "/photos"), e.can_upload && (e.upload_location = t + e.id + "/photos")
                })
            }
            return e
        }
    }(hello),
    function(e) {
        function t(t, i, n) {
            var r = (n ? "" : "flickr:") + "?method=" + t + "&api_key=" + e.services.flickr.id + "&format=json";
            for (var a in i) i.hasOwnProperty(a) && (r += "&" + a + "=" + i[a]);
            return r
        }

        function i(i, n) {
            return n || (n = {}),
                function(r, a) {
                    var o;
                    ! function(e) {
                        n.user_id = e, a(t(i, n, !0))
                    }((o = e.getAuthResponse("flickr")) && o.user_nsid ? o.user_nsid : null)
                }
        }

        function n(e, t) {
            var i = "https://www.flickr.com/images/buddyicon.gif";
            return e.nsid && e.iconserver && e.iconfarm && (i = "https://farm" + e.iconfarm + ".staticflickr.com/" + e.iconserver + "/buddyicons/" + e.nsid + (t ? "_" + t : "") + ".jpg"), i
        }

        function r(e, t, i, n, r) {
            return "https://farm" + t + ".staticflickr.com/" + i + "/" + e + "_" + n + (r = r ? "_" + r : "") + ".jpg"
        }

        function a(e) {
            e && e.stat && "ok" != e.stat.toLowerCase() && (e.error = {
                code: "invalid_request",
                message: e.message
            })
        }

        function o(e) {
            if (e.photoset || e.photos) {
                u(e = l(e, "photoset" in e ? "photoset" : "photos")), e.data = e.photo, delete e.photo;
                for (var t = 0; t < e.data.length; t++) {
                    var i = e.data[t];
                    i.name = i.title, i.picture = r(i.id, i.farm, i.server, i.secret, ""), i.pictures = s(i.id, i.farm, i.server, i.secret), i.source = r(i.id, i.farm, i.server, i.secret, "b"), i.thumbnail = r(i.id, i.farm, i.server, i.secret, "m")
                }
            }
            return e
        }

        function s(e, t, i, n) {
            return [{
                id: "t",
                max: 100
            }, {
                id: "m",
                max: 240
            }, {
                id: "n",
                max: 320
            }, {
                id: "",
                max: 500
            }, {
                id: "z",
                max: 640
            }, {
                id: "c",
                max: 800
            }, {
                id: "b",
                max: 1024
            }, {
                id: "h",
                max: 1600
            }, {
                id: "k",
                max: 2048
            }, {
                id: "o",
                max: 2048
            }].map(function(a) {
                return {
                    source: r(e, t, i, n, a.id),
                    width: a.max,
                    height: a.max
                }
            })
        }

        function l(e, t) {
            return t in e ? e = e[t] : "error" in e || (e.error = {
                code: "invalid_request",
                message: e.message || "Failed to get data from Flickr"
            }), e
        }

        function c(e) {
            if (a(e), e.contacts) {
                u(e = l(e, "contacts")), e.data = e.contact, delete e.contact;
                for (var t = 0; t < e.data.length; t++) {
                    var i = e.data[t];
                    i.id = i.nsid, i.name = i.realname || i.username, i.thumbnail = n(i, "m")
                }
            }
            return e
        }

        function u(e) {
            e.page && e.pages && e.page !== e.pages && (e.paging = {
                next: "?page=" + ++e.page
            })
        }
        e.init({
            flickr: {
                name: "Flickr",
                oauth: {
                    version: "1.0a",
                    auth: "https://www.flickr.com/services/oauth/authorize?perms=read",
                    request: "https://www.flickr.com/services/oauth/request_token",
                    token: "https://www.flickr.com/services/oauth/access_token"
                },
                base: "https://api.flickr.com/services/rest",
                get: {
                    me: i("flickr.people.getInfo"),
                    "me/friends": i("flickr.contacts.getList", {
                        per_page: "@{limit|50}"
                    }),
                    "me/following": i("flickr.contacts.getList", {
                        per_page: "@{limit|50}"
                    }),
                    "me/followers": i("flickr.contacts.getList", {
                        per_page: "@{limit|50}"
                    }),
                    "me/albums": i("flickr.photosets.getList", {
                        per_page: "@{limit|50}"
                    }),
                    "me/album": i("flickr.photosets.getPhotos", {
                        photoset_id: "@{id}"
                    }),
                    "me/photos": i("flickr.people.getPhotos", {
                        per_page: "@{limit|50}"
                    })
                },
                wrap: {
                    me: function(e) {
                        if (a(e), (e = l(e, "person")).id) {
                            if (e.realname) {
                                e.name = e.realname._content;
                                var t = e.name.split(" ");
                                e.first_name = t.shift(), e.last_name = t.join(" ")
                            }
                            e.thumbnail = n(e, "l"), e.picture = n(e, "l")
                        }
                        return e
                    },
                    "me/friends": c,
                    "me/followers": c,
                    "me/following": c,
                    "me/albums": function(e) {
                        return a(e), u(e = l(e, "photosets")), e.photoset && (e.data = e.photoset, e.data.forEach(function(e) {
                            e.name = e.title._content, e.photos = "https://api.flickr.com/services/rest" + t("flickr.photosets.getPhotos", {
                                photoset_id: e.id
                            }, !0)
                        }), delete e.photoset), e
                    },
                    "me/photos": function(e) {
                        return a(e), o(e)
                    },
                    default: function(e) {
                        return a(e), o(e)
                    }
                },
                xhr: !1,
                jsonp: function(e, t) {
                    "get" == e.method && (delete t.callback, t.jsoncallback = e.callbackID)
                }
            }
        })
    }(hello),
    function(e) {
        function t(e) {
            !e.meta || 400 !== e.meta.code && 401 !== e.meta.code || (e.error = {
                code: "access_denied",
                message: e.meta.errorDetail
            })
        }

        function i(e) {
            e && e.id && (e.thumbnail = e.photo.prefix + "100x100" + e.photo.suffix, e.name = e.firstName + " " + e.lastName, e.first_name = e.firstName, e.last_name = e.lastName, e.contact && e.contact.email && (e.email = e.contact.email))
        }

        function n(e, t) {
            var i = t.access_token;
            return delete t.access_token, t.oauth_token = i, t.v = 20121125, !0
        }
        hello.init({
            foursquare: {
                name: "Foursquare",
                oauth: {
                    version: 2,
                    auth: "https://foursquare.com/oauth2/authenticate",
                    grant: "https://foursquare.com/oauth2/access_token"
                },
                refresh: !0,
                base: "https://api.foursquare.com/v2/",
                get: {
                    me: "users/self",
                    "me/friends": "users/self/friends",
                    "me/followers": "users/self/friends",
                    "me/following": "users/self/friends"
                },
                wrap: {
                    me: function(e) {
                        return t(e), e && e.response && i(e = e.response.user), e
                    },
                    default: function(e) {
                        return t(e), e && "response" in e && "friends" in e.response && "items" in e.response.friends && (e.data = e.response.friends.items, e.data.forEach(i), delete e.response), e
                    }
                },
                xhr: n,
                jsonp: n
            }
        })
    }(),
    function(e) {
        function t(e, t) {
            var i = t ? t.statusCode : e && "meta" in e && "status" in e.meta && e.meta.status;
            401 !== i && 403 !== i || (e.error = {
                code: "access_denied",
                message: e.message || (e.data ? e.data.message : "Could not get response")
            }, delete e.message)
        }

        function i(e) {
            e.id && (e.thumbnail = e.picture = e.avatar_url, e.name = e.login)
        }
        hello.init({
            github: {
                name: "GitHub",
                oauth: {
                    version: 2,
                    auth: "https://github.com/login/oauth/authorize",
                    grant: "https://github.com/login/oauth/access_token",
                    response_type: "code"
                },
                scope: {
                    email: "user:email"
                },
                base: "https://api.github.com/",
                get: {
                    me: "user",
                    "me/friends": "user/following?per_page=@{limit|100}",
                    "me/following": "user/following?per_page=@{limit|100}",
                    "me/followers": "user/followers?per_page=@{limit|100}",
                    "me/like": "user/starred?per_page=@{limit|100}"
                },
                wrap: {
                    me: function(e, n) {
                        return t(e, n), i(e), e
                    },
                    default: function(e, n, r) {
                        return t(e, n), Array.isArray(e) && (e = {
                            data: e
                        }), e.data && (function(e, t, i) {
                            if (e.data && e.data.length && t && t.Link) {
                                var n = t.Link.match(/<(.*?)>;\s*rel=\"next\"/);
                                n && (e.paging = {
                                    next: n[1]
                                })
                            }
                        }(e, n), e.data.forEach(i)), e
                    }
                },
                xhr: function(e) {
                    return "get" !== e.method && e.data && (e.headers = e.headers || {}, e.headers["Content-Type"] = "application/json", "object" == typeof e.data && (e.data = JSON.stringify(e.data))), !0
                }
            }
        })
    }(),
    function(e) {
        var t = "https://www.google.com/m8/feeds/contacts/default/full?v=3.0&alt=json&max-results=@{limit|1000}&start-index=@{start|1}";

        function i(e) {
            return parseInt(e, 10)
        }

        function n(e) {
            return u(e), e.data = e.items, delete e.items, e
        }

        function r(e) {
            if (!e.error) return e.name || (e.name = e.title || e.message), e.picture || (e.picture = e.thumbnailLink), e.thumbnail || (e.thumbnail = e.thumbnailLink), "application/vnd.google-apps.folder" === e.mimeType && (e.type = "folder", e.files = "https://www.googleapis.com/drive/v2/files?q=%22" + e.id + "%22+in+parents"), e
        }

        function a(e) {
            return {
                source: e.url,
                width: e.width,
                height: e.height
            }
        }

        function o(e) {
            if (u(e), "feed" in e && "entry" in e.feed) e.data = e.feed.entry.map(c), delete e.feed;
            else {
                if ("entry" in e) return c(e.entry);
                "items" in e ? (e.data = e.items.map(r), delete e.items) : r(e)
            }
            return e
        }

        function s(e) {
            e.name = e.displayName || e.name, e.picture = e.picture || (e.image ? e.image.url : null), e.thumbnail = e.picture
        }

        function l(e, t, i) {
            if (u(e), "feed" in e && "entry" in e.feed) {
                for (var n = i.query.access_token, r = 0; r < e.feed.entry.length; r++) {
                    var a = e.feed.entry[r];
                    if (a.id = a.id.$t, a.name = a.title.$t, delete a.title, a.gd$email && (a.email = a.gd$email && a.gd$email.length > 0 ? a.gd$email[0].address : null, a.emails = a.gd$email, delete a.gd$email), a.updated && (a.updated = a.updated.$t), a.link) {
                        var o = a.link.length > 0 ? a.link[0].href : null;
                        o && a.link[0].gd$etag && (o += (o.indexOf("?") > -1 ? "&" : "?") + "access_token=" + n, a.picture = o, a.thumbnail = o), delete a.link
                    }
                    a.category && delete a.category
                }
                e.data = e.feed.entry, delete e.feed
            }
            return e
        }

        function c(e) {
            var t, i = e.media$group,
                n = i.media$content.length ? i.media$content[0] : {},
                r = (i.media$content || []).concat(i.media$thumbnail || []).map(a).sort(function(e, t) {
                    return e.width - t.width
                }),
                o = 0,
                s = {
                    id: e.id.$t,
                    name: e.title.$t,
                    description: e.summary.$t,
                    updated_time: e.updated.$t,
                    created_time: e.published.$t,
                    picture: n ? n.url : null,
                    pictures: r,
                    images: [],
                    thumbnail: n ? n.url : null,
                    width: n.width,
                    height: n.height
                };
            if ("link" in e)
                for (o = 0; o < e.link.length; o++) {
                    var l = e.link[o];
                    if (l.rel.match(/\#feed$/)) {
                        s.upload_location = s.files = s.photos = l.href;
                        break
                    }
                }
            if ("category" in e && e.category.length)
                for (t = e.category, o = 0; o < t.length; o++) t[o].scheme && t[o].scheme.match(/\#kind$/) && (s.type = t[o].term.replace(/^.*?\#/, ""));
            return "media$thumbnail" in i && i.media$thumbnail.length && (s.thumbnail = (t = i.media$thumbnail)[0].url, s.images = t.map(a)), (t = i.media$content) && t.length && s.images.push(a(t[0])), s
        }

        function u(e) {
            if ("feed" in e && e.feed.openSearch$itemsPerPage) {
                var t = i(e.feed.openSearch$itemsPerPage.$t),
                    n = i(e.feed.openSearch$startIndex.$t);
                n + t < i(e.feed.openSearch$totalResults.$t) && (e.paging = {
                    next: "?start=" + (n + t)
                })
            } else "nextPageToken" in e && (e.paging = {
                next: "?pageToken=" + e.nextPageToken
            })
        }

        function d(e, t) {
            var i, n = {};
            if (e.data && "undefined" != typeof HTMLInputElement && e.data instanceof HTMLInputElement && (e.data = {
                    file: e.data
                }), !e.data.name && Object(Object(e.data.file).files).length && "post" === e.method && (e.data.name = e.data.file.files[0].name), "post" === e.method ? e.data = {
                    title: e.data.name,
                    parents: [{
                        id: e.data.parent || "root"
                    }],
                    file: e.data.file
                } : (n = e.data, e.data = {}, n.parent && (e.data.parents = [{
                    id: e.data.parent || "root"
                }]), n.file && (e.data.file = n.file), n.name && (e.data.title = n.name)), "file" in e.data && (i = e.data.file, delete e.data.file, "object" == typeof i && "files" in i && (i = i.files), !i || !i.length)) t({
                error: {
                    code: "request_invalid",
                    message: "There were no files attached with this request to upload"
                }
            });
            else {
                var r = new function() {
                    var e = [],
                        t = (1e10 * Math.random()).toString(32),
                        i = 0,
                        n = "\r\n",
                        r = n + "--" + t,
                        a = function() {},
                        o = /^data\:([^;,]+(\;charset=[^;,]+)?)(\;base64)?,/i;

                    function s(e) {
                        var t = new FileReader;
                        t.onload = function(t) {
                            l(btoa(t.target.result), e.type + n + "Content-Transfer-Encoding: base64")
                        }, t.readAsBinaryString(e)
                    }

                    function l(t, r) {
                        e.push(n + "Content-Type: " + r + n + n + t), i--, a()
                    }
                    this.append = function(e, t) {
                        "string" != typeof e && "length" in Object(e) || (e = [e]);
                        for (var r = 0; r < e.length; r++) {
                            i++;
                            var a = e[r];
                            if ("undefined" != typeof File && a instanceof File || "undefined" != typeof Blob && a instanceof Blob) s(a);
                            else if ("string" == typeof a && a.match(o)) {
                                var c = a.match(o);
                                l(a.replace(o, ""), c[1] + n + "Content-Transfer-Encoding: base64")
                            } else l(a, t)
                        }
                    }, this.onready = function(n) {
                        (a = function() {
                            0 === i && (e.unshift(""), e.push("--"), n(e.join(r), t), e = [])
                        })()
                    }
                };
                r.append(JSON.stringify(e.data), "application/json"), i && r.append(i), r.onready(function(i, r) {
                    e.headers["content-type"] = 'multipart/related; boundary="' + r + '"', e.data = i, t("upload/drive/v2/files" + (n.id ? "/" + n.id : "") + "?uploadType=multipart")
                })
            }
        }
        e.init({
            google: {
                name: "Google Plus",
                oauth: {
                    version: 2,
                    auth: "https://accounts.google.com/o/oauth2/auth",
                    grant: "https://accounts.google.com/o/oauth2/token"
                },
                scope: {
                    basic: "https://www.googleapis.com/auth/plus.me profile",
                    email: "email",
                    birthday: "",
                    events: "",
                    photos: "https://picasaweb.google.com/data/",
                    videos: "http://gdata.youtube.com",
                    friends: "https://www.google.com/m8/feeds, https://www.googleapis.com/auth/plus.login",
                    files: "https://www.googleapis.com/auth/drive.readonly",
                    publish: "",
                    publish_files: "https://www.googleapis.com/auth/drive",
                    share: "",
                    create_event: "",
                    offline_access: ""
                },
                scope_delim: " ",
                login: function(e) {
                    "code" === e.qs.response_type && (e.qs.access_type = "offline"), e.options.force && (e.qs.approval_prompt = "force")
                },
                base: "https://www.googleapis.com/",
                get: {
                    me: "plus/v1/people/me",
                    "me/friends": "plus/v1/people/me/people/visible?maxResults=@{limit|100}",
                    "me/following": t,
                    "me/followers": t,
                    "me/contacts": t,
                    "me/share": "plus/v1/people/me/activities/public?maxResults=@{limit|100}",
                    "me/feed": "plus/v1/people/me/activities/public?maxResults=@{limit|100}",
                    "me/albums": "https://picasaweb.google.com/data/feed/api/user/default?alt=json&max-results=@{limit|100}&start-index=@{start|1}",
                    "me/album": function(e, t) {
                        var i = e.query.id;
                        delete e.query.id, t(i.replace("/entry/", "/feed/"))
                    },
                    "me/photos": "https://picasaweb.google.com/data/feed/api/user/default?alt=json&kind=photo&max-results=@{limit|100}&start-index=@{start|1}",
                    "me/file": "drive/v2/files/@{id}",
                    "me/files": "drive/v2/files?q=%22@{parent|root}%22+in+parents+and+trashed=false&maxResults=@{limit|100}",
                    "me/folders": "drive/v2/files?q=%22@{id|root}%22+in+parents+and+mimeType+=+%22application/vnd.google-apps.folder%22+and+trashed=false&maxResults=@{limit|100}",
                    "me/folder": "drive/v2/files?q=%22@{id|root}%22+in+parents+and+trashed=false&maxResults=@{limit|100}"
                },
                post: {
                    "me/files": d,
                    "me/folders": function(e, t) {
                        e.data = {
                            title: e.data.name,
                            parents: [{
                                id: e.data.parent || "root"
                            }],
                            mimeType: "application/vnd.google-apps.folder"
                        }, t("drive/v2/files")
                    }
                },
                put: {
                    "me/files": d
                },
                del: {
                    "me/files": "drive/v2/files/@{id}",
                    "me/folder": "drive/v2/files/@{id}"
                },
                patch: {
                    "me/file": "drive/v2/files/@{id}"
                },
                wrap: {
                    me: function(e) {
                        return e.id && (e.last_name = e.family_name || (e.name ? e.name.familyName : null), e.first_name = e.given_name || (e.name ? e.name.givenName : null), e.emails && e.emails.length && (e.email = e.emails[0].value), s(e)), e
                    },
                    "me/friends": function(e) {
                        return e.items && (u(e), e.data = e.items, e.data.forEach(s), delete e.items), e
                    },
                    "me/contacts": l,
                    "me/followers": l,
                    "me/following": l,
                    "me/share": n,
                    "me/feed": n,
                    "me/albums": o,
                    "me/photos": function(e) {
                        return "feed" in e && (e.data = "entry" in e.feed ? e.feed.entry.map(c) : [], delete e.feed), e
                    },
                    default: o
                },
                xhr: function(t) {
                    return "post" === t.method || "put" === t.method ? function(e) {
                        if ("object" == typeof e.data) try {
                            e.data = JSON.stringify(e.data), e.headers["content-type"] = "application/json"
                        } catch (e) {}
                    }(t) : "patch" === t.method && (e.utils.extend(t.query, t.data), t.data = null), !0
                },
                form: !1
            }
        })
    }(hello),
    function(e) {
        function t(e) {
            return "string" == typeof e ? {
                error: {
                    code: "invalid_request",
                    message: e
                }
            } : (e && "meta" in e && "error_type" in e.meta && (e.error = {
                code: e.meta.error_type,
                message: e.meta.error_message
            }), e)
        }

        function i(e) {
            return r(e), e && "data" in e && e.data.forEach(n), e
        }

        function n(e) {
            e.id && (e.thumbnail = e.profile_picture, e.name = e.full_name || e.username)
        }

        function r(e) {
            "pagination" in e && (e.paging = {
                next: e.pagination.next_url
            }, delete e.pagination)
        }
        hello.init({
            instagram: {
                name: "Instagram",
                oauth: {
                    version: 2,
                    auth: "https://instagram.com/oauth/authorize/",
                    grant: "https://api.instagram.com/oauth/access_token"
                },
                refresh: !0,
                scope: {
                    basic: "basic",
                    photos: "",
                    friends: "relationships",
                    publish: "likes comments",
                    email: "",
                    share: "",
                    publish_files: "",
                    files: "",
                    videos: "",
                    offline_access: ""
                },
                scope_delim: " ",
                base: "https://api.instagram.com/v1/",
                get: {
                    me: "users/self",
                    "me/feed": "users/self/feed?count=@{limit|100}",
                    "me/photos": "users/self/media/recent?min_id=0&count=@{limit|100}",
                    "me/friends": "users/self/follows?count=@{limit|100}",
                    "me/following": "users/self/follows?count=@{limit|100}",
                    "me/followers": "users/self/followed-by?count=@{limit|100}",
                    "friend/photos": "users/@{id}/media/recent?min_id=0&count=@{limit|100}"
                },
                post: {
                    "me/like": function(e, t) {
                        var i = e.data.id;
                        e.data = {}, t("media/" + i + "/likes")
                    }
                },
                del: {
                    "me/like": "media/@{id}/likes"
                },
                wrap: {
                    me: function(e) {
                        return t(e), "data" in e && (e.id = e.data.id, e.thumbnail = e.data.profile_picture, e.name = e.data.full_name || e.data.username), e
                    },
                    "me/friends": i,
                    "me/following": i,
                    "me/followers": i,
                    "me/photos": function(e) {
                        return t(e), r(e), "data" in e && (e.data = e.data.filter(function(e) {
                            return "image" === e.type
                        }), e.data.forEach(function(e) {
                            e.name = e.caption ? e.caption.text : null, e.thumbnail = e.images.thumbnail.url, e.picture = e.images.standard_resolution.url, e.pictures = Object.keys(e.images).map(function(t) {
                                var i;
                                return {
                                    source: (i = e.images[t]).url,
                                    width: i.width,
                                    height: i.height
                                }
                            }).sort(function(e, t) {
                                return e.width - t.width
                            })
                        })), e
                    },
                    default: function(e) {
                        return r(e = t(e)), e
                    }
                },
                xhr: function(e, t) {
                    var i = e.method,
                        n = "get" !== i;
                    return n && ("post" !== i && "put" !== i || !e.query.access_token || (e.data.access_token = e.query.access_token, delete e.query.access_token), e.proxy = n), n
                },
                form: !1
            }
        })
    }(),
    function(e) {
        function t(e, t) {
            var i, n;
            return e && "Message" in e && (n = e.Message, delete e.Message, "ErrorCode" in e ? (i = e.ErrorCode, delete e.ErrorCode) : i = function(e) {
                switch (t.statusCode) {
                    case 400:
                        return "invalid_request";
                    case 403:
                        return "stale_token";
                    case 401:
                        return "invalid_token";
                    case 500:
                    default:
                        return "server_error"
                }
            }(), e.error = {
                code: i,
                message: n,
                details: e
            }), e
        }
        hello.init({
            joinme: {
                name: "join.me",
                oauth: {
                    version: 2,
                    auth: "https://secure.join.me/api/public/v1/auth/oauth2",
                    grant: "https://secure.join.me/api/public/v1/auth/oauth2"
                },
                refresh: !1,
                scope: {
                    basic: "user_info",
                    user: "user_info",
                    scheduler: "scheduler",
                    start: "start_meeting",
                    email: "",
                    friends: "",
                    share: "",
                    publish: "",
                    photos: "",
                    publish_files: "",
                    files: "",
                    videos: "",
                    offline_access: ""
                },
                scope_delim: " ",
                login: function(e) {
                    e.options.popup.width = 400, e.options.popup.height = 700
                },
                base: "https://api.join.me/v1/",
                get: {
                    me: "user",
                    meetings: "meetings",
                    "meetings/info": "meetings/@{id}"
                },
                post: {
                    "meetings/start/adhoc": function(e, t) {
                        t("meetings/start")
                    },
                    "meetings/start/scheduled": function(e, t) {
                        var i = e.data.meetingId;
                        e.data = {}, t("meetings/" + i + "/start")
                    },
                    "meetings/schedule": function(e, t) {
                        t("meetings")
                    }
                },
                patch: {
                    "meetings/update": function(e, t) {
                        t("meetings/" + e.data.meetingId)
                    }
                },
                del: {
                    "meetings/delete": "meetings/@{id}"
                },
                wrap: {
                    me: function(e, i) {
                        return t(e, i), e.email ? (e.name = e.fullName, e.first_name = e.name.split(" ")[0], e.last_name = e.name.split(" ")[1], e.id = e.email, e) : e
                    },
                    default: function(e, i) {
                        return t(e, i), e
                    }
                },
                xhr: function(e, t) {
                    var i = t.access_token;
                    return delete t.access_token, e.headers.Authorization = "Bearer " + i, "get" !== e.method && e.data && (e.headers["Content-Type"] = "application/json", "object" == typeof e.data && (e.data = JSON.stringify(e.data))), "put" === e.method && (e.method = "patch"), !0
                }
            }
        })
    }(),
    function(e) {
        function t(e) {
            e && "errorCode" in e && (e.error = {
                code: e.status,
                message: e.message
            })
        }

        function i(e) {
            if (!e.error) return e.first_name = e.firstName, e.last_name = e.lastName, e.name = e.formattedName || e.first_name + " " + e.last_name, e.thumbnail = e.pictureUrl, e.email = e.emailAddress, e
        }

        function n(e) {
            return t(e), r(e), e.values && (e.data = e.values.map(i), delete e.values), e
        }

        function r(e) {
            "_count" in e && "_start" in e && e._count + e._start < e._total && (e.paging = {
                next: "?start=" + (e._start + e._count) + "&count=" + e._count
            })
        }

        function a(e) {
            e.access_token && (e.oauth2_access_token = e.access_token, delete e.access_token)
        }

        function o(e, t) {
            e.headers["x-li-format"] = "json";
            var i = e.data.id;
            e.data = ("delete" !== e.method).toString(), e.method = "put", t("people/~/network/updates/key=" + i + "/is-liked")
        }
        hello.init({
            linkedin: {
                oauth: {
                    version: 2,
                    response_type: "code",
                    auth: "https://www.linkedin.com/uas/oauth2/authorization",
                    grant: "https://www.linkedin.com/uas/oauth2/accessToken"
                },
                refresh: !0,
                scope: {
                    basic: "r_basicprofile",
                    email: "r_emailaddress",
                    files: "",
                    friends: "",
                    photos: "",
                    publish: "w_share",
                    publish_files: "w_share",
                    share: "",
                    videos: "",
                    offline_access: ""
                },
                scope_delim: " ",
                base: "https://api.linkedin.com/v1/",
                get: {
                    me: "people/~:(picture-url,first-name,last-name,id,formatted-name,email-address)",
                    "me/share": "people/~/network/updates?count=@{limit|250}"
                },
                post: {
                    "me/share": function(e, t) {
                        var i = {
                            visibility: {
                                code: "anyone"
                            }
                        };
                        e.data.id ? i.attribution = {
                            share: {
                                id: e.data.id
                            }
                        } : (i.comment = e.data.message, e.data.picture && e.data.link && (i.content = {
                            "submitted-url": e.data.link,
                            "submitted-image-url": e.data.picture
                        })), e.data = JSON.stringify(i), t("people/~/shares?format=json")
                    },
                    "me/like": o
                },
                del: {
                    "me/like": o
                },
                wrap: {
                    me: function(e) {
                        return t(e), i(e), e
                    },
                    "me/friends": n,
                    "me/following": n,
                    "me/followers": n,
                    "me/share": function(e) {
                        return t(e), r(e), e.values && (e.data = e.values.map(i), e.data.forEach(function(e) {
                            e.message = e.headline
                        }), delete e.values), e
                    },
                    default: function(e, i) {
                        var n, a;
                        t(e), n = e, a = i, "{}" === JSON.stringify(n) && 200 === a.statusCode && (n.success = !0), r(e)
                    }
                },
                jsonp: function(e, t) {
                    a(t), "get" === e.method && (t.format = "jsonp", t["error-callback"] = e.callbackID)
                },
                xhr: function(e, t) {
                    return "get" !== e.method && (a(t), e.headers["Content-Type"] = "application/json", e.headers["x-li-format"] = "json", e.proxy = !0, !0)
                }
            }
        })
    }(),
    function(e) {
        function t(e, t) {
            var i = t.access_token;
            return delete t.access_token, t.oauth_token = i, t["_status_code_map[302]"] = 200, !0
        }

        function i(e) {
            return e.id && (e.picture = e.avatar_url, e.thumbnail = e.avatar_url, e.name = e.username || e.full_name), e
        }
        hello.init({
            soundcloud: {
                name: "SoundCloud",
                oauth: {
                    version: 2,
                    auth: "https://soundcloud.com/connect",
                    grant: "https://soundcloud.com/oauth2/token"
                },
                base: "https://api.soundcloud.com/",
                get: {
                    me: "me.json",
                    "me/friends": "me/followings.json",
                    "me/followers": "me/followers.json",
                    "me/following": "me/followings.json",
                    default: function(e, t) {
                        t(e.path + ".json")
                    }
                },
                wrap: {
                    me: function(e) {
                        return i(e), e
                    },
                    default: function(e) {
                        var t;
                        return Array.isArray(e) && (e = {
                            data: e.map(i)
                        }), "next_href" in (t = e) && (t.paging = {
                            next: t.next_href
                        }), e
                    }
                },
                xhr: t,
                jsonp: t
            }
        })
    }(),
    function(e) {
        function t(e) {
            return e.id && (e.name = e.display_name, e.thumbnail = e.images.length ? e.images[0].url : null, e.picture = e.thumbnail), e
        }

        function i(e) {
            e && "next" in e && (e.paging = {
                next: e.next
            }, delete e.next)
        }
        hello.init({
            spotify: {
                name: "Spotify",
                oauth: {
                    version: 2,
                    auth: "https://accounts.spotify.com/authorize",
                    grant: "https://accounts.spotify.com/api/token"
                },
                scope_delim: " ",
                scope: {
                    basic: "",
                    photos: "",
                    friends: "user-follow-read",
                    publish: "user-library-read",
                    email: "user-read-email",
                    share: "",
                    publish_files: "",
                    files: "",
                    videos: "",
                    offline_access: ""
                },
                base: "https://api.spotify.com",
                get: {
                    me: "/v1/me",
                    "me/following": "/v1/me/following?type=artist",
                    "me/like": "/v1/me/tracks"
                },
                wrap: {
                    me: t,
                    "me/following": function(e) {
                        return i(e), e && "artists" in e && (e.data = e.artists.items.forEach(t)), e
                    },
                    "me/like": function(e) {
                        return i(e), e.data = e.items, e
                    }
                },
                xhr: function(e, t) {
                    var i = t.access_token;
                    return delete t.access_token, e.headers.Authorization = "Bearer " + i, !0
                },
                jsonp: !1
            }
        })
    }(),
    function(e) {
        var t = "https://api.twitter.com/";

        function i(e) {
            if (e.id) {
                if (e.name) {
                    var t = e.name.split(" ");
                    e.first_name = t.shift(), e.last_name = t.join(" ")
                }
                e.thumbnail = e.profile_image_url_https || e.profile_image_url
            }
            return e
        }

        function n(e) {
            return r(e), a(e), e.users && (e.data = e.users.map(i), delete e.users), e
        }

        function r(e) {
            e.errors && (e.error = {
                code: "request_failed",
                message: e.errors[0].message
            })
        }

        function a(e) {
            "next_cursor_str" in e && (e.paging = {
                next: "?cursor=" + e.next_cursor_str
            })
        }
        e.init({
            twitter: {
                oauth: {
                    version: "1.0a",
                    auth: t + "oauth/authenticate",
                    request: t + "oauth/request_token",
                    token: t + "oauth/access_token"
                },
                login: function(e) {
                    var t = "?force_login=true";
                    this.oauth.auth = this.oauth.auth.replace(t, "") + (e.options.force ? t : "")
                },
                base: t + "1.1/",
                get: {
                    me: "account/verify_credentials.json",
                    "me/friends": "friends/list.json?count=@{limit|200}",
                    "me/following": "friends/list.json?count=@{limit|200}",
                    "me/followers": "followers/list.json?count=@{limit|200}",
                    "me/share": "statuses/user_timeline.json?count=@{limit|200}",
                    "me/like": "favorites/list.json?count=@{limit|200}"
                },
                post: {
                    "me/share": function(t, i) {
                        var n = t.data;
                        t.data = null;
                        var r = [];
                        n.message && (r.push(n.message), delete n.message), n.link && (r.push(n.link), delete n.link), n.picture && (r.push(n.picture), delete n.picture), r.length && (n.status = r.join(" ")), n.file ? (n["media[]"] = n.file, delete n.file, t.data = n, i("statuses/update_with_media.json")) : "id" in n ? i("statuses/retweet/" + n.id + ".json") : (e.utils.extend(t.query, n), i("statuses/update.json?include_entities=1"))
                    },
                    "me/like": function(e, t) {
                        var i = e.data.id;
                        e.data = null, t("favorites/create.json?id=" + i)
                    }
                },
                del: {
                    "me/like": function() {
                        p.method = "post";
                        var e = p.data.id;
                        p.data = null, callback("favorites/destroy.json?id=" + e)
                    }
                },
                wrap: {
                    me: function(e) {
                        return r(e), i(e), e
                    },
                    "me/friends": n,
                    "me/followers": n,
                    "me/following": n,
                    "me/share": function(e) {
                        return r(e), a(e), !e.error && "length" in e ? {
                            data: e
                        } : e
                    },
                    default: function(e) {
                        var t;
                        return t = e, a(e = Array.isArray(t) ? {
                            data: t
                        } : t), e
                    }
                },
                xhr: function(e) {
                    return "get" !== e.method
                }
            }
        })
    }(hello), hello.init({
        vk: {
            name: "Vk",
            oauth: {
                version: 2,
                auth: "https://oauth.vk.com/authorize",
                grant: "https://oauth.vk.com/access_token"
            },
            scope: {
                email: "email",
                friends: "friends",
                photos: "photos",
                videos: "video",
                share: "share",
                offline_access: "offline"
            },
            refresh: !0,
            login: function(e) {
                e.qs.display = window.navigator && window.navigator.userAgent && /ipad|phone|phone|android/.test(window.navigator.userAgent.toLowerCase()) ? "mobile" : "popup"
            },
            base: "https://api.vk.com/method/",
            get: {
                me: function(e, t) {
                    e.query.fields = "id,first_name,last_name,photo_max", t("users.get")
                }
            },
            wrap: {
                me: function(e, t, i) {
                    return function(e) {
                            if (e.error) {
                                var t = e.error;
                                e.error = {
                                    code: t.error_code,
                                    message: t.error_msg
                                }
                            }
                        }(e),
                        function(e, t) {
                            return null !== e && "response" in e && null !== e.response && e.response.length && ((e = e.response[0]).id = e.uid, e.thumbnail = e.picture = e.photo_max, e.name = e.first_name + " " + e.last_name, t.authResponse && null !== t.authResponse.email && (e.email = t.authResponse.email)), e
                        }(e, i)
                }
            },
            xhr: !1,
            jsonp: !0,
            form: !1
        }
    }),
    function(e) {
        function t(e) {
            return "data" in e && e.data.forEach(function(e) {
                e.picture && (e.thumbnail = e.picture), e.images && (e.pictures = e.images.map(i).sort(function(e, t) {
                    return e.width - t.width
                }))
            }), e
        }

        function i(e) {
            return {
                width: e.width,
                height: e.height,
                source: e.source
            }
        }

        function n(e, t, i) {
            if (e.id) {
                var n = i.query.access_token;
                e.emails && (e.email = e.emails.preferred), !1 !== e.is_friend && (e.thumbnail = e.picture = "https://apis.live.net/v5.0/" + (e.user_id || e.id) + "/picture?access_token=" + n)
            }
            return e
        }

        function r(e, t, i) {
            return "data" in e && e.data.forEach(function(e) {
                n(e, 0, i)
            }), e
        }
        e.init({
            windows: {
                name: "Windows live",
                oauth: {
                    version: 2,
                    auth: "https://login.live.com/oauth20_authorize.srf",
                    grant: "https://login.live.com/oauth20_token.srf"
                },
                refresh: !0,
                logout: function() {
                    return "http://login.live.com/oauth20_logout.srf?ts=" + (new Date).getTime()
                },
                scope: {
                    basic: "wl.signin,wl.basic",
                    email: "wl.emails",
                    birthday: "wl.birthday",
                    events: "wl.calendars",
                    photos: "wl.photos",
                    videos: "wl.photos",
                    friends: "wl.contacts_emails",
                    files: "wl.skydrive",
                    publish: "wl.share",
                    publish_files: "wl.skydrive_update",
                    share: "wl.share",
                    create_event: "wl.calendars_update,wl.events_create",
                    offline_access: "wl.offline_access"
                },
                base: "https://apis.live.net/v5.0/",
                get: {
                    me: "me",
                    "me/friends": "me/friends",
                    "me/following": "me/contacts",
                    "me/followers": "me/friends",
                    "me/contacts": "me/contacts",
                    "me/albums": "me/albums",
                    "me/album": "@{id}/files",
                    "me/photo": "@{id}",
                    "me/files": "@{parent|me/skydrive}/files",
                    "me/folders": "@{id|me/skydrive}/files",
                    "me/folder": "@{id|me/skydrive}/files"
                },
                post: {
                    "me/albums": "me/albums",
                    "me/album": "@{id}/files/",
                    "me/folders": "@{id|me/skydrive/}",
                    "me/files": "@{parent|me/skydrive}/files"
                },
                del: {
                    "me/album": "@{id}",
                    "me/photo": "@{id}",
                    "me/folder": "@{id}",
                    "me/files": "@{id}"
                },
                wrap: {
                    me: n,
                    "me/friends": r,
                    "me/contacts": r,
                    "me/followers": r,
                    "me/following": r,
                    "me/albums": function(e) {
                        return "data" in e && e.data.forEach(function(e) {
                            e.photos = e.files = "https://apis.live.net/v5.0/" + e.id + "/photos"
                        }), e
                    },
                    "me/photos": t,
                    default: t
                },
                xhr: function(t) {
                    return "get" === t.method || "delete" === t.method || e.utils.hasBinary(t.data) || ("string" == typeof t.data.file ? t.data.file = e.utils.toBlob(t.data.file) : (t.data = JSON.stringify(t.data), t.headers = {
                        "Content-Type": "application/json"
                    })), !0
                },
                jsonp: function(t) {
                    "get" === t.method || e.utils.hasBinary(t.data) || (t.data.method = t.method, t.method = "get")
                }
            }
        })
    }(hello),
    function(e) {
        function t(e) {
            e && "meta" in e && "error_type" in e.meta && (e.error = {
                code: e.meta.error_type,
                message: e.meta.error_message
            })
        }

        function i(e, i, a) {
            return t(e), r(e, 0, a), e.query && e.query.results && e.query.results.contact && (e.data = e.query.results.contact, delete e.query, Array.isArray(e.data) || (e.data = [e.data]), e.data.forEach(n)), e
        }

        function n(e) {
            e.id = null, !e.fields || e.fields instanceof Array || (e.fields = [e.fields]), (e.fields || []).forEach(function(t) {
                "email" === t.type && (e.email = t.value), "name" === t.type && (e.first_name = t.value.givenName, e.last_name = t.value.familyName, e.name = t.value.givenName + " " + t.value.familyName), "yahooid" === t.type && (e.id = t.value)
            })
        }

        function r(e, t, i) {
            return e.query && e.query.count && i.options && (e.paging = {
                next: "?start=" + (e.query.count + (+i.options.start || 1))
            }), e
        }

        function a(e) {
            return "https://query.yahooapis.com/v1/yql?q=" + (e + " limit @{limit|100} offset @{start|0}").replace(/\s/g, "%20") + "&format=json"
        }
        hello.init({
            yahoo: {
                oauth: {
                    version: "1.0a",
                    auth: "https://api.login.yahoo.com/oauth/v2/request_auth",
                    request: "https://api.login.yahoo.com/oauth/v2/get_request_token",
                    token: "https://api.login.yahoo.com/oauth/v2/get_token"
                },
                login: function(e) {
                    e.options.popup.width = 560;
                    try {
                        delete e.qs.state.scope
                    } catch (e) {}
                },
                base: "https://social.yahooapis.com/v1/",
                get: {
                    me: a("select * from social.profile(0) where guid=me"),
                    "me/friends": a("select * from social.contacts(0) where guid=me"),
                    "me/following": a("select * from social.contacts(0) where guid=me")
                },
                wrap: {
                    me: function(e) {
                        if (t(e), e.query && e.query.results && e.query.results.profile) {
                            (e = e.query.results.profile).id = e.guid, e.last_name = e.familyName, e.first_name = e.givenName || e.nickname;
                            var i = [];
                            e.first_name && i.push(e.first_name), e.last_name && i.push(e.last_name), e.name = i.join(" "), e.email = e.emails && e.emails[0] ? e.emails[0].handle : null, e.thumbnail = e.image ? e.image.imageUrl : null
                        }
                        return e
                    },
                    "me/friends": i,
                    "me/following": i,
                    default: r
                }
            }
        })
    }(), "function" == typeof define && define.amd && define(function() {
        return hello
    }), "object" == typeof module && module.exports && (module.exports = hello),
    function(e, t) {
        "object" == typeof exports && "undefined" != typeof module ? module.exports = t(require("global/document"), require("global/window")) : "function" == typeof define && define.amd ? define(["global/document", "global/window"], t) : e.videojs = t(e.document, e.window)
    }(this, function(t, i) {
        t = t && t.hasOwnProperty("default") ? t.default : t, i = i && i.hasOwnProperty("default") ? i.default : i;
        var n = "7.4.1";

        function r(e, t) {
            e.prototype = Object.create(t.prototype), (e.prototype.constructor = e).__proto__ = t
        }

        function a(e, t) {
            return (a = Object.setPrototypeOf || function(e, t) {
                return e.__proto__ = t, e
            })(e, t)
        }

        function o(e, t, i) {
            return (o = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                if (Reflect.construct.sham) return !1;
                if ("function" == typeof Proxy) return !0;
                try {
                    return Date.prototype.toString.call(Reflect.construct(Date, [], function() {})), !0
                } catch (e) {
                    return !1
                }
            }() ? Reflect.construct : function(e, t, i) {
                var n = [null];
                n.push.apply(n, t);
                var r = new(Function.bind.apply(e, n));
                return i && a(r, i.prototype), r
            }).apply(null, arguments)
        }

        function s(e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }

        function l(e, t) {
            return t || (t = e.slice(0)), e.raw = t, e
        }
        var c = [],
            u = function e(t) {
                var n, r, a, o = "info",
                    s = function() {
                        for (var e = arguments.length, t = new Array(e), i = 0; i < e; i++) t[i] = arguments[i];
                        n("log", o, t)
                    };
                return r = t, a = s, n = function(e, t, n) {
                    var o = a.levels[t],
                        s = new RegExp("^(" + o + ")$");
                    if ("log" !== e && n.unshift(e.toUpperCase() + ":"), n.unshift(r + ":"), c && c.push([].concat(n)), i.console) {
                        var l = i.console[e];
                        l || "debug" !== e || (l = i.console.info || i.console.log), l && o && s.test(e) && l[Array.isArray(n) ? "apply" : "call"](i.console, n)
                    }
                }, s.createLogger = function(i) {
                    return e(t + ": " + i)
                }, s.levels = {
                    all: "debug|log|warn|error",
                    off: "",
                    debug: "debug|log|warn|error",
                    info: "log|warn|error",
                    warn: "warn|error",
                    error: "error",
                    DEFAULT: o
                }, s.level = function(e) {
                    if ("string" == typeof e) {
                        if (!s.levels.hasOwnProperty(e)) throw new Error('"' + e + '" in not a valid log level');
                        o = e
                    }
                    return o
                }, (s.history = function() {
                    return c ? [].concat(c) : []
                }).filter = function(e) {
                    return (c || []).filter(function(t) {
                        return new RegExp(".*" + e + ".*").test(t[0])
                    })
                }, s.history.clear = function() {
                    c && (c.length = 0)
                }, s.history.disable = function() {
                    null !== c && (c.length = 0, c = null)
                }, s.history.enable = function() {
                    null === c && (c = [])
                }, s.error = function() {
                    for (var e = arguments.length, t = new Array(e), i = 0; i < e; i++) t[i] = arguments[i];
                    return n("error", o, t)
                }, s.warn = function() {
                    for (var e = arguments.length, t = new Array(e), i = 0; i < e; i++) t[i] = arguments[i];
                    return n("warn", o, t)
                }, s.debug = function() {
                    for (var e = arguments.length, t = new Array(e), i = 0; i < e; i++) t[i] = arguments[i];
                    return n("debug", o, t)
                }, s
            }("VIDEOJS"),
            d = u.createLogger,
            h = function(e) {
                for (var t = "", i = 0; i < arguments.length; i++) t += e[i].replace(/\n\r?\s*/g, "") + (arguments[i + 1] || "");
                return t
            },
            p = Object.prototype.toString,
            f = function(e) {
                return y(e) ? Object.keys(e) : []
            };

        function m(e, t) {
            f(e).forEach(function(i) {
                return t(e[i], i)
            })
        }

        function g(e) {
            for (var t = arguments.length, i = new Array(1 < t ? t - 1 : 0), n = 1; n < t; n++) i[n - 1] = arguments[n];
            return Object.assign ? Object.assign.apply(Object, [e].concat(i)) : (i.forEach(function(t) {
                t && m(t, function(t, i) {
                    e[i] = t
                })
            }), e)
        }

        function y(e) {
            return !!e && "object" == typeof e
        }

        function v(e) {
            return y(e) && "[object Object]" === p.call(e) && e.constructor === Object
        }

        function b(e, t) {
            if (!e || !t) return "";
            if ("function" != typeof i.getComputedStyle) return "";
            var n = i.getComputedStyle(e);
            return n ? n[t] : ""
        }

        function _() {
            var e = l(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set ", " to ", "."]);
            return _ = function() {
                return e
            }, e
        }

        function T(e) {
            return "string" == typeof e && /\S/.test(e)
        }

        function S(e) {
            if (/\s/.test(e)) throw new Error("class has illegal whitespace characters")
        }

        function E() {
            return t === i.document
        }

        function w(e) {
            return y(e) && 1 === e.nodeType
        }

        function C() {
            try {
                return i.parent !== i.self
            } catch (e) {
                return !0
            }
        }

        function k(e) {
            return function(i, n) {
                if (!T(i)) return t[e](null);
                T(n) && (n = t.querySelector(n));
                var r = w(n) ? n : t;
                return r[e] && r[e](i)
            }
        }

        function P(e, i, n, r) {
            void 0 === e && (e = "div"), void 0 === i && (i = {}), void 0 === n && (n = {});
            var a = t.createElement(e);
            return Object.getOwnPropertyNames(i).forEach(function(e) {
                var t = i[e]; - 1 !== e.indexOf("aria-") || "role" === e || "type" === e ? (u.warn(h(_(), e, t)), a.setAttribute(e, t)) : "textContent" === e ? A(a, t) : a[e] = t
            }), Object.getOwnPropertyNames(n).forEach(function(e) {
                a.setAttribute(e, n[e])
            }), r && Y(a, r), a
        }

        function A(e, t) {
            return void 0 === e.textContent ? e.innerText = t : e.textContent = t, e
        }

        function I(e, t) {
            t.firstChild ? t.insertBefore(e, t.firstChild) : t.appendChild(e)
        }

        function L(e, t) {
            return S(t), e.classList ? e.classList.contains(t) : (i = t, new RegExp("(^|\\s)" + i + "($|\\s)")).test(e.className);
            var i
        }

        function O(e, t) {
            return e.classList ? e.classList.add(t) : L(e, t) || (e.className = (e.className + " " + t).trim()), e
        }

        function D(e, t) {
            return e.classList ? e.classList.remove(t) : (S(t), e.className = e.className.split(/\s+/).filter(function(e) {
                return e !== t
            }).join(" ")), e
        }

        function R(e, t, i) {
            var n = L(e, t);
            if ("function" == typeof i && (i = i(e, t)), "boolean" != typeof i && (i = !n), i !== n) return i ? O(e, t) : D(e, t), e
        }

        function x(e, t) {
            Object.getOwnPropertyNames(t).forEach(function(i) {
                var n = t[i];
                null == n || !1 === n ? e.removeAttribute(i) : e.setAttribute(i, !0 === n ? "" : n)
            })
        }

        function M(e) {
            var t = {};
            if (e && e.attributes && 0 < e.attributes.length)
                for (var i = e.attributes, n = i.length - 1; 0 <= n; n--) {
                    var r = i[n].name,
                        a = i[n].value;
                    "boolean" != typeof e[r] && -1 === ",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf("," + r + ",") || (a = null !== a), t[r] = a
                }
            return t
        }

        function U(e, t) {
            return e.getAttribute(t)
        }

        function N(e, t, i) {
            e.setAttribute(t, i)
        }

        function F(e, t) {
            e.removeAttribute(t)
        }

        function B() {
            t.body.focus(), t.onselectstart = function() {
                return !1
            }
        }

        function V() {
            t.onselectstart = function() {
                return !0
            }
        }

        function j(e) {
            if (e && e.getBoundingClientRect && e.parentNode) {
                var t = e.getBoundingClientRect(),
                    i = {};
                return ["bottom", "height", "left", "right", "top", "width"].forEach(function(e) {
                    void 0 !== t[e] && (i[e] = t[e])
                }), i.height || (i.height = parseFloat(b(e, "height"))), i.width || (i.width = parseFloat(b(e, "width"))), i
            }
        }

        function z(e) {
            var n;
            if (e.getBoundingClientRect && e.parentNode && (n = e.getBoundingClientRect()), !n) return {
                left: 0,
                top: 0
            };
            var r = t.documentElement,
                a = t.body,
                o = n.top + (i.pageYOffset || a.scrollTop) - (r.clientTop || a.clientTop || 0);
            return {
                left: Math.round(n.left + (i.pageXOffset || a.scrollLeft) - (r.clientLeft || a.clientLeft || 0)),
                top: Math.round(o)
            }
        }

        function q(e, t) {
            var i = {},
                n = z(e),
                r = e.offsetWidth,
                a = e.offsetHeight,
                o = n.left,
                s = t.pageY,
                l = t.pageX;
            return t.changedTouches && (l = t.changedTouches[0].pageX, s = t.changedTouches[0].pageY), i.y = Math.max(0, Math.min(1, (n.top - s + a) / a)), i.x = Math.max(0, Math.min(1, (l - o) / r)), i
        }

        function H(e) {
            return y(e) && 3 === e.nodeType
        }

        function G(e) {
            for (; e.firstChild;) e.removeChild(e.firstChild);
            return e
        }

        function W(e) {
            return "function" == typeof e && (e = e()), (Array.isArray(e) ? e : [e]).map(function(e) {
                return "function" == typeof e && (e = e()), w(e) || H(e) ? e : "string" == typeof e && /\S/.test(e) ? t.createTextNode(e) : void 0
            }).filter(function(e) {
                return e
            })
        }

        function Y(e, t) {
            return W(t).forEach(function(t) {
                return e.appendChild(t)
            }), e
        }

        function K(e, t) {
            return Y(G(e), t)
        }

        function X(e) {
            return void 0 === e.button && void 0 === e.buttons || 0 === e.button && void 0 === e.buttons || 0 === e.button && 1 === e.buttons
        }
        var J = k("querySelector"),
            $ = k("querySelectorAll"),
            Q = Object.freeze({
                isReal: E,
                isEl: w,
                isInFrame: C,
                createEl: P,
                textContent: A,
                prependTo: I,
                hasClass: L,
                addClass: O,
                removeClass: D,
                toggleClass: R,
                setAttributes: x,
                getAttributes: M,
                getAttribute: U,
                setAttribute: N,
                removeAttribute: F,
                blockTextSelection: B,
                unblockTextSelection: V,
                getBoundingClientRect: j,
                findPosition: z,
                getPointerPosition: q,
                isTextNode: H,
                emptyEl: G,
                normalizeContent: W,
                appendContent: Y,
                insertContent: K,
                isSingleLeftClick: X,
                $: J,
                $$: $
            }),
            Z = 1;

        function ee() {
            return Z++
        }
        var te = {},
            ie = "vdata" + (new Date).getTime();

        function ne(e) {
            var t = e[ie];
            return t || (t = e[ie] = ee()), te[t] || (te[t] = {}), te[t]
        }

        function re(e) {
            var t = e[ie];
            return !!t && !!Object.getOwnPropertyNames(te[t]).length
        }

        function ae(e) {
            var t = e[ie];
            if (t) {
                delete te[t];
                try {
                    delete e[ie]
                } catch (t) {
                    e.removeAttribute ? e.removeAttribute(ie) : e[ie] = null
                }
            }
        }

        function oe(e, t) {
            var i = ne(e);
            0 === i.handlers[t].length && (delete i.handlers[t], e.removeEventListener ? e.removeEventListener(t, i.dispatcher, !1) : e.detachEvent && e.detachEvent("on" + t, i.dispatcher)), Object.getOwnPropertyNames(i.handlers).length <= 0 && (delete i.handlers, delete i.dispatcher, delete i.disabled), 0 === Object.getOwnPropertyNames(i).length && ae(e)
        }

        function se(e, t, i, n) {
            i.forEach(function(i) {
                e(t, i, n)
            })
        }

        function le(e) {
            function n() {
                return !0
            }

            function r() {
                return !1
            }
            if (!e || !e.isPropagationStopped) {
                var a = e || i.event;
                for (var o in e = {}, a) "layerX" !== o && "layerY" !== o && "keyLocation" !== o && "webkitMovementX" !== o && "webkitMovementY" !== o && ("returnValue" === o && a.preventDefault || (e[o] = a[o]));
                if (e.target || (e.target = e.srcElement || t), e.relatedTarget || (e.relatedTarget = e.fromElement === e.target ? e.toElement : e.fromElement), e.preventDefault = function() {
                        a.preventDefault && a.preventDefault(), e.returnValue = !1, a.returnValue = !1, e.defaultPrevented = !0
                    }, e.defaultPrevented = !1, e.stopPropagation = function() {
                        a.stopPropagation && a.stopPropagation(), e.cancelBubble = !0, a.cancelBubble = !0, e.isPropagationStopped = n
                    }, e.isPropagationStopped = r, e.stopImmediatePropagation = function() {
                        a.stopImmediatePropagation && a.stopImmediatePropagation(), e.isImmediatePropagationStopped = n, e.stopPropagation()
                    }, e.isImmediatePropagationStopped = r, null != e.clientX) {
                    var s = t.documentElement,
                        l = t.body;
                    e.pageX = e.clientX + (s && s.scrollLeft || l && l.scrollLeft || 0) - (s && s.clientLeft || l && l.clientLeft || 0), e.pageY = e.clientY + (s && s.scrollTop || l && l.scrollTop || 0) - (s && s.clientTop || l && l.clientTop || 0)
                }
                e.which = e.charCode || e.keyCode, null != e.button && (e.button = 1 & e.button ? 0 : 4 & e.button ? 1 : 2 & e.button ? 2 : 0)
            }
            return e
        }
        var ce = !1;
        ! function() {
            try {
                var e = Object.defineProperty({}, "passive", {
                    get: function() {
                        ce = !0
                    }
                });
                i.addEventListener("test", null, e), i.removeEventListener("test", null, e)
            } catch (e) {}
        }();
        var ue = ["touchstart", "touchmove"];

        function de(e, t, i) {
            if (Array.isArray(t)) return se(de, e, t, i);
            var n = ne(e);
            if (n.handlers || (n.handlers = {}), n.handlers[t] || (n.handlers[t] = []), i.guid || (i.guid = ee()), n.handlers[t].push(i), n.dispatcher || (n.disabled = !1, n.dispatcher = function(t, i) {
                    if (!n.disabled) {
                        t = le(t);
                        var r = n.handlers[t.type];
                        if (r)
                            for (var a = r.slice(0), o = 0, s = a.length; o < s && !t.isImmediatePropagationStopped(); o++) try {
                                a[o].call(e, t, i)
                            } catch (t) {
                                u.error(t)
                            }
                    }
                }), 1 === n.handlers[t].length)
                if (e.addEventListener) {
                    var r = !1;
                    ce && -1 < ue.indexOf(t) && (r = {
                        passive: !0
                    }), e.addEventListener(t, n.dispatcher, r)
                } else e.attachEvent && e.attachEvent("on" + t, n.dispatcher)
        }

        function he(e, t, i) {
            if (re(e)) {
                var n = ne(e);
                if (n.handlers) {
                    if (Array.isArray(t)) return se(he, e, t, i);
                    var r = function(e, t) {
                        n.handlers[t] = [], oe(e, t)
                    };
                    if (void 0 !== t) {
                        var a = n.handlers[t];
                        if (a)
                            if (i) {
                                if (i.guid)
                                    for (var o = 0; o < a.length; o++) a[o].guid === i.guid && a.splice(o--, 1);
                                oe(e, t)
                            } else r(e, t)
                    } else
                        for (var s in n.handlers) Object.prototype.hasOwnProperty.call(n.handlers || {}, s) && r(e, s)
                }
            }
        }

        function pe(e, t, i) {
            var n = re(e) ? ne(e) : {},
                r = e.parentNode || e.ownerDocument;
            if ("string" == typeof t ? t = {
                    type: t,
                    target: e
                } : t.target || (t.target = e), t = le(t), n.dispatcher && n.dispatcher.call(e, t, i), r && !t.isPropagationStopped() && !0 === t.bubbles) pe.call(null, r, t, i);
            else if (!r && !t.defaultPrevented) {
                var a = ne(t.target);
                t.target[t.type] && (a.disabled = !0, "function" == typeof t.target[t.type] && t.target[t.type](), a.disabled = !1)
            }
            return !t.defaultPrevented
        }

        function fe(e, t, i) {
            if (Array.isArray(t)) return se(fe, e, t, i);
            var n = function n() {
                he(e, t, n), i.apply(this, arguments)
            };
            n.guid = i.guid = i.guid || ee(), de(e, t, n)
        }
        var me, ge = Object.freeze({
                fixEvent: le,
                on: de,
                off: he,
                trigger: pe,
                one: fe
            }),
            ye = !1,
            ve = function() {
                if (E() && !1 !== me.options.autoSetup) {
                    var e = Array.prototype.slice.call(t.getElementsByTagName("video")),
                        i = Array.prototype.slice.call(t.getElementsByTagName("audio")),
                        n = Array.prototype.slice.call(t.getElementsByTagName("video-js")),
                        r = e.concat(i, n);
                    if (r && 0 < r.length)
                        for (var a = 0, o = r.length; a < o; a++) {
                            var s = r[a];
                            if (!s || !s.getAttribute) {
                                be(1);
                                break
                            }
                            void 0 === s.player && null !== s.getAttribute("data-setup") && me(s)
                        } else ye || be(1)
                }
            };

        function be(e, t) {
            t && (me = t), i.setTimeout(ve, e)
        }
        E() && "complete" === t.readyState ? ye = !0 : fe(i, "load", function() {
            ye = !0
        });
        var _e, Te = function(e) {
                var i = t.createElement("style");
                return i.className = e, i
            },
            Se = function(e, t) {
                e.styleSheet ? e.styleSheet.cssText = t : e.textContent = t
            },
            Ee = function(e, t, i) {
                t.guid || (t.guid = ee());
                var n = function() {
                    return t.apply(e, arguments)
                };
                return n.guid = i ? i + "_" + t.guid : t.guid, n
            },
            we = function(e, t) {
                var i = Date.now();
                return function() {
                    var n = Date.now();
                    t <= n - i && (e.apply(void 0, arguments), i = n)
                }
            },
            Ce = function() {};
        Ce.prototype.allowedEvents_ = {}, Ce.prototype.addEventListener = Ce.prototype.on = function(e, t) {
            var i = this.addEventListener;
            this.addEventListener = function() {}, de(this, e, t), this.addEventListener = i
        }, Ce.prototype.removeEventListener = Ce.prototype.off = function(e, t) {
            he(this, e, t)
        }, Ce.prototype.one = function(e, t) {
            var i = this.addEventListener;
            this.addEventListener = function() {}, fe(this, e, t), this.addEventListener = i
        }, Ce.prototype.dispatchEvent = Ce.prototype.trigger = function(e) {
            var t = e.type || e;
            "string" == typeof e && (e = {
                type: t
            }), e = le(e), this.allowedEvents_[t] && this["on" + t] && this["on" + t](e), pe(this, e)
        }, Ce.prototype.queueTrigger = function(e) {
            var t = this;
            _e || (_e = new Map);
            var n = e.type || e,
                r = _e.get(this);
            r || (r = new Map, _e.set(this, r));
            var a = r.get(n);
            r.delete(n), i.clearTimeout(a);
            var o = i.setTimeout(function() {
                0 === r.size && (r = null, _e.delete(t)), t.trigger(e)
            }, 0);
            r.set(n, o)
        };
        var ke = function(e) {
                return e instanceof Ce || !!e.eventBusEl_ && ["on", "one", "off", "trigger"].every(function(t) {
                    return "function" == typeof e[t]
                })
            },
            Pe = function(e) {
                return "string" == typeof e && /\S/.test(e) || Array.isArray(e) && !!e.length
            },
            Ae = function(e) {
                if (!e.nodeName && !ke(e)) throw new Error("Invalid target; must be a DOM node or evented object.")
            },
            Ie = function(e) {
                if (!Pe(e)) throw new Error("Invalid event type; must be a non-empty string or array.")
            },
            Le = function(e) {
                if ("function" != typeof e) throw new Error("Invalid listener; must be a function.")
            },
            Oe = function(e, t) {
                var i, n, r, a = t.length < 3 || t[0] === e || t[0] === e.eventBusEl_;
                return r = a ? (i = e.eventBusEl_, 3 <= t.length && t.shift(), n = t[0], t[1]) : (i = t[0], n = t[1], t[2]), Ae(i), Ie(n), Le(r), {
                    isTargetingSelf: a,
                    target: i,
                    type: n,
                    listener: r = Ee(e, r)
                }
            },
            De = function(e, t, i, n) {
                Ae(e), e.nodeName ? ge[t](e, i, n) : e[t](i, n)
            },
            Re = {
                on: function() {
                    for (var e = this, t = arguments.length, i = new Array(t), n = 0; n < t; n++) i[n] = arguments[n];
                    var r = Oe(this, i),
                        a = r.isTargetingSelf,
                        o = r.target,
                        s = r.type,
                        l = r.listener;
                    if (De(o, "on", s, l), !a) {
                        var c = function() {
                            return e.off(o, s, l)
                        };
                        c.guid = l.guid;
                        var u = function() {
                            return e.off("dispose", c)
                        };
                        u.guid = l.guid, De(this, "on", "dispose", c), De(o, "on", "dispose", u)
                    }
                },
                one: function() {
                    for (var e = this, t = arguments.length, i = new Array(t), n = 0; n < t; n++) i[n] = arguments[n];
                    var r = Oe(this, i),
                        a = r.target,
                        o = r.type,
                        s = r.listener;
                    if (r.isTargetingSelf) De(a, "one", o, s);
                    else {
                        var l = function t() {
                            e.off(a, o, t);
                            for (var i = arguments.length, n = new Array(i), r = 0; r < i; r++) n[r] = arguments[r];
                            s.apply(null, n)
                        };
                        l.guid = s.guid, De(a, "one", o, l)
                    }
                },
                off: function(e, t, i) {
                    if (!e || Pe(e)) he(this.eventBusEl_, e, t);
                    else {
                        var n = e,
                            r = t;
                        Ae(n), Ie(r), Le(i), i = Ee(this, i), this.off("dispose", i), n.nodeName ? (he(n, r, i), he(n, "dispose", i)) : ke(n) && (n.off(r, i), n.off("dispose", i))
                    }
                },
                trigger: function(e, t) {
                    return pe(this.eventBusEl_, e, t)
                }
            };

        function xe(e, t) {
            void 0 === t && (t = {});
            var n = t.eventBusKey;
            if (n) {
                if (!e[n].nodeName) throw new Error('The eventBusKey "' + n + '" does not refer to an element.');
                e.eventBusEl_ = e[n]
            } else e.eventBusEl_ = P("span", {
                className: "vjs-event-bus"
            });
            return g(e, Re), e.eventedCallbacks && e.eventedCallbacks.forEach(function(e) {
                e()
            }), e.on("dispose", function() {
                e.off(), i.setTimeout(function() {
                    e.eventBusEl_ = null
                }, 0)
            }), e
        }
        var Me = {
            state: {},
            setState: function(e) {
                var t, i = this;
                return "function" == typeof e && (e = e()), m(e, function(e, n) {
                    i.state[n] !== e && ((t = t || {})[n] = {
                        from: i.state[n],
                        to: e
                    }), i.state[n] = e
                }), t && ke(this) && this.trigger({
                    changes: t,
                    type: "statechanged"
                }), t
            }
        };

        function Ue(e, t) {
            return g(e, Me), e.state = g({}, e.state, t), "function" == typeof e.handleStateChanged && ke(e) && e.on("statechanged", e.handleStateChanged), e
        }

        function Ne(e) {
            return "string" != typeof e ? e : e.charAt(0).toUpperCase() + e.slice(1)
        }

        function Fe() {
            for (var e = {}, t = arguments.length, i = new Array(t), n = 0; n < t; n++) i[n] = arguments[n];
            return i.forEach(function(t) {
                t && m(t, function(t, i) {
                    v(t) ? (v(e[i]) || (e[i] = {}), e[i] = Fe(e[i], t)) : e[i] = t
                })
            }), e
        }
        var Be = function() {
            function e(e, t, i) {
                if (this.player_ = !e && this.play ? e = this : e, this.options_ = Fe({}, this.options_), t = this.options_ = Fe(this.options_, t), this.id_ = t.id || t.el && t.el.id, !this.id_) {
                    var n = e && e.id && e.id() || "no_player";
                    this.id_ = n + "_component_" + ee()
                }
                this.name_ = t.name || null, t.el ? this.el_ = t.el : !1 !== t.createEl && (this.el_ = this.createEl()), !1 !== t.evented && xe(this, {
                    eventBusKey: this.el_ ? "el_" : null
                }), Ue(this, this.constructor.defaultState), this.children_ = [], this.childIndex_ = {}, !(this.childNameIndex_ = {}) !== t.initChildren && this.initChildren(), this.ready(i), !1 !== t.reportTouchActivity && this.enableTouchActivity()
            }
            var t = e.prototype;
            return t.dispose = function() {
                if (this.trigger({
                        type: "dispose",
                        bubbles: !1
                    }), this.children_)
                    for (var e = this.children_.length - 1; 0 <= e; e--) this.children_[e].dispose && this.children_[e].dispose();
                this.children_ = null, this.childIndex_ = null, this.childNameIndex_ = null, this.el_ && (this.el_.parentNode && this.el_.parentNode.removeChild(this.el_), ae(this.el_), this.el_ = null), this.player_ = null
            }, t.player = function() {
                return this.player_
            }, t.options = function(e) {
                return u.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"), e && (this.options_ = Fe(this.options_, e)), this.options_
            }, t.el = function() {
                return this.el_
            }, t.createEl = function(e, t, i) {
                return P(e, t, i)
            }, t.localize = function(e, t, i) {
                void 0 === i && (i = e);
                var n = this.player_.language && this.player_.language(),
                    r = this.player_.languages && this.player_.languages(),
                    a = r && r[n],
                    o = n && n.split("-")[0],
                    s = r && r[o],
                    l = i;
                return a && a[e] ? l = a[e] : s && s[e] && (l = s[e]), t && (l = l.replace(/\{(\d+)\}/g, function(e, i) {
                    var n = t[i - 1],
                        r = n;
                    return void 0 === n && (r = e), r
                })), l
            }, t.contentEl = function() {
                return this.contentEl_ || this.el_
            }, t.id = function() {
                return this.id_
            }, t.name = function() {
                return this.name_
            }, t.children = function() {
                return this.children_
            }, t.getChildById = function(e) {
                return this.childIndex_[e]
            }, t.getChild = function(e) {
                if (e) return e = Ne(e), this.childNameIndex_[e]
            }, t.addChild = function(t, i, n) {
                var r, a;
                if (void 0 === i && (i = {}), void 0 === n && (n = this.children_.length), "string" == typeof t) {
                    a = Ne(t);
                    var o = i.componentClass || a;
                    i.name = a;
                    var s = e.getComponent(o);
                    if (!s) throw new Error("Component " + o + " does not exist");
                    if ("function" != typeof s) return null;
                    r = new s(this.player_ || this, i)
                } else r = t;
                if (this.children_.splice(n, 0, r), "function" == typeof r.id && (this.childIndex_[r.id()] = r), (a = a || r.name && Ne(r.name())) && (this.childNameIndex_[a] = r), "function" == typeof r.el && r.el()) {
                    var l = this.contentEl().children[n] || null;
                    this.contentEl().insertBefore(r.el(), l)
                }
                return r
            }, t.removeChild = function(e) {
                if ("string" == typeof e && (e = this.getChild(e)), e && this.children_) {
                    for (var t = !1, i = this.children_.length - 1; 0 <= i; i--)
                        if (this.children_[i] === e) {
                            t = !0, this.children_.splice(i, 1);
                            break
                        } if (t) {
                        this.childIndex_[e.id()] = null, this.childNameIndex_[e.name()] = null;
                        var n = e.el();
                        n && n.parentNode === this.contentEl() && this.contentEl().removeChild(e.el())
                    }
                }
            }, t.initChildren = function() {
                var t = this,
                    i = this.options_.children;
                if (i) {
                    var n, r = this.options_,
                        a = e.getComponent("Tech");
                    (n = Array.isArray(i) ? i : Object.keys(i)).concat(Object.keys(this.options_).filter(function(e) {
                        return !n.some(function(t) {
                            return "string" == typeof t ? e === t : e === t.name
                        })
                    })).map(function(e) {
                        var n, r;
                        return r = "string" == typeof e ? i[n = e] || t.options_[n] || {} : (n = e.name, e), {
                            name: n,
                            opts: r
                        }
                    }).filter(function(t) {
                        var i = e.getComponent(t.opts.componentClass || Ne(t.name));
                        return i && !a.isTech(i)
                    }).forEach(function(e) {
                        var i = e.name,
                            n = e.opts;
                        if (void 0 !== r[i] && (n = r[i]), !1 !== n) {
                            !0 === n && (n = {}), n.playerOptions = t.options_.playerOptions;
                            var a = t.addChild(i, n);
                            a && (t[i] = a)
                        }
                    })
                }
            }, t.buildCSSClass = function() {
                return ""
            }, t.ready = function(e, t) {
                if (void 0 === t && (t = !1), e) return this.isReady_ ? void(t ? e.call(this) : this.setTimeout(e, 1)) : (this.readyQueue_ = this.readyQueue_ || [], void this.readyQueue_.push(e))
            }, t.triggerReady = function() {
                this.isReady_ = !0, this.setTimeout(function() {
                    var e = this.readyQueue_;
                    this.readyQueue_ = [], e && 0 < e.length && e.forEach(function(e) {
                        e.call(this)
                    }, this), this.trigger("ready")
                }, 1)
            }, t.$ = function(e, t) {
                return J(e, t || this.contentEl())
            }, t.$$ = function(e, t) {
                return $(e, t || this.contentEl())
            }, t.hasClass = function(e) {
                return L(this.el_, e)
            }, t.addClass = function(e) {
                O(this.el_, e)
            }, t.removeClass = function(e) {
                D(this.el_, e)
            }, t.toggleClass = function(e, t) {
                R(this.el_, e, t)
            }, t.show = function() {
                this.removeClass("vjs-hidden")
            }, t.hide = function() {
                this.addClass("vjs-hidden")
            }, t.lockShowing = function() {
                this.addClass("vjs-lock-showing")
            }, t.unlockShowing = function() {
                this.removeClass("vjs-lock-showing")
            }, t.getAttribute = function(e) {
                return U(this.el_, e)
            }, t.setAttribute = function(e, t) {
                N(this.el_, e, t)
            }, t.removeAttribute = function(e) {
                F(this.el_, e)
            }, t.width = function(e, t) {
                return this.dimension("width", e, t)
            }, t.height = function(e, t) {
                return this.dimension("height", e, t)
            }, t.dimensions = function(e, t) {
                this.width(e, !0), this.height(t)
            }, t.dimension = function(e, t, i) {
                if (void 0 !== t) return null !== t && t == t || (t = 0), this.el_.style[e] = -1 !== ("" + t).indexOf("%") || -1 !== ("" + t).indexOf("px") ? t : "auto" === t ? "" : t + "px", void(i || this.trigger("componentresize"));
                if (!this.el_) return 0;
                var n = this.el_.style[e],
                    r = n.indexOf("px");
                return -1 !== r ? parseInt(n.slice(0, r), 10) : parseInt(this.el_["offset" + Ne(e)], 10)
            }, t.currentDimension = function(e) {
                var t = 0;
                if ("width" !== e && "height" !== e) throw new Error("currentDimension only accepts width or height value");
                if ("function" == typeof i.getComputedStyle) {
                    var n = i.getComputedStyle(this.el_);
                    t = n.getPropertyValue(e) || n[e]
                }
                if (0 === (t = parseFloat(t))) {
                    var r = "offset" + Ne(e);
                    t = this.el_[r]
                }
                return t
            }, t.currentDimensions = function() {
                return {
                    width: this.currentDimension("width"),
                    height: this.currentDimension("height")
                }
            }, t.currentWidth = function() {
                return this.currentDimension("width")
            }, t.currentHeight = function() {
                return this.currentDimension("height")
            }, t.focus = function() {
                this.el_.focus()
            }, t.blur = function() {
                this.el_.blur()
            }, t.emitTapEvents = function() {
                var e, t = 0,
                    i = null;
                this.on("touchstart", function(n) {
                    1 === n.touches.length && (i = {
                        pageX: n.touches[0].pageX,
                        pageY: n.touches[0].pageY
                    }, t = (new Date).getTime(), e = !0)
                }), this.on("touchmove", function(t) {
                    if (1 < t.touches.length) e = !1;
                    else if (i) {
                        var n = t.touches[0].pageX - i.pageX,
                            r = t.touches[0].pageY - i.pageY;
                        10 < Math.sqrt(n * n + r * r) && (e = !1)
                    }
                });
                var n = function() {
                    e = !1
                };
                this.on("touchleave", n), this.on("touchcancel", n), this.on("touchend", function(n) {
                    !(i = null) === e && (new Date).getTime() - t < 200 && (n.preventDefault(), this.trigger("tap"))
                })
            }, t.enableTouchActivity = function() {
                if (this.player() && this.player().reportUserActivity) {
                    var e, t = Ee(this.player(), this.player().reportUserActivity);
                    this.on("touchstart", function() {
                        t(), this.clearInterval(e), e = this.setInterval(t, 250)
                    });
                    var i = function(i) {
                        t(), this.clearInterval(e)
                    };
                    this.on("touchmove", t), this.on("touchend", i), this.on("touchcancel", i)
                }
            }, t.setTimeout = function(e, t) {
                var n, r, a = this;
                return e = Ee(this, e), n = i.setTimeout(function() {
                    a.off("dispose", r), e()
                }, t), (r = function() {
                    return a.clearTimeout(n)
                }).guid = "vjs-timeout-" + n, this.on("dispose", r), n
            }, t.clearTimeout = function(e) {
                i.clearTimeout(e);
                var t = function() {};
                return t.guid = "vjs-timeout-" + e, this.off("dispose", t), e
            }, t.setInterval = function(e, t) {
                var n = this;
                e = Ee(this, e);
                var r = i.setInterval(e, t),
                    a = function() {
                        return n.clearInterval(r)
                    };
                return a.guid = "vjs-interval-" + r, this.on("dispose", a), r
            }, t.clearInterval = function(e) {
                i.clearInterval(e);
                var t = function() {};
                return t.guid = "vjs-interval-" + e, this.off("dispose", t), e
            }, t.requestAnimationFrame = function(e) {
                var t, n, r = this;
                return this.supportsRaf_ ? (e = Ee(this, e), t = i.requestAnimationFrame(function() {
                    r.off("dispose", n), e()
                }), (n = function() {
                    return r.cancelAnimationFrame(t)
                }).guid = "vjs-raf-" + t, this.on("dispose", n), t) : this.setTimeout(e, 1e3 / 60)
            }, t.cancelAnimationFrame = function(e) {
                if (this.supportsRaf_) {
                    i.cancelAnimationFrame(e);
                    var t = function() {};
                    return t.guid = "vjs-raf-" + e, this.off("dispose", t), e
                }
                return this.clearTimeout(e)
            }, e.registerComponent = function(t, i) {
                if ("string" != typeof t || !t) throw new Error('Illegal component name, "' + t + '"; must be a non-empty string.');
                var n = e.getComponent("Tech"),
                    r = n && n.isTech(i),
                    a = e === i || e.prototype.isPrototypeOf(i.prototype);
                if (r || !a) throw new Error('Illegal component, "' + t + '"; ' + (r ? "techs must be registered using Tech.registerTech()" : "must be a Component subclass") + ".");
                t = Ne(t), e.components_ || (e.components_ = {});
                var o = e.getComponent("Player");
                if ("Player" === t && o && o.players) {
                    var s = o.players,
                        l = Object.keys(s);
                    if (s && 0 < l.length && l.map(function(e) {
                            return s[e]
                        }).every(Boolean)) throw new Error("Can not register Player component after player has been created.")
                }
                return e.components_[t] = i
            }, e.getComponent = function(t) {
                if (t) return t = Ne(t), e.components_ && e.components_[t] ? e.components_[t] : void 0
            }, e
        }();
        Be.prototype.supportsRaf_ = "function" == typeof i.requestAnimationFrame && "function" == typeof i.cancelAnimationFrame, Be.registerComponent("Component", Be);
        var Ve, je, ze, qe, He = i.navigator && i.navigator.userAgent || "",
            Ge = /AppleWebKit\/([\d.]+)/i.exec(He),
            We = Ge ? parseFloat(Ge.pop()) : null,
            Ye = /iPad/i.test(He),
            Ke = /iPhone/i.test(He) && !Ye,
            Xe = /iPod/i.test(He),
            Je = Ke || Ye || Xe,
            $e = (Ve = He.match(/OS (\d+)_/i)) && Ve[1] ? Ve[1] : null,
            Qe = /Android/i.test(He),
            Ze = function() {
                var e = He.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);
                if (!e) return null;
                var t = e[1] && parseFloat(e[1]),
                    i = e[2] && parseFloat(e[2]);
                return t && i ? parseFloat(e[1] + "." + e[2]) : t || null
            }(),
            et = Qe && Ze < 5 && We < 537,
            tt = /Firefox/i.test(He),
            it = /Edge/i.test(He),
            nt = !it && (/Chrome/i.test(He) || /CriOS/i.test(He)),
            rt = (je = He.match(/(Chrome|CriOS)\/(\d+)/)) && je[2] ? parseFloat(je[2]) : null,
            at = (!(qe = (ze = /MSIE\s(\d+)\.\d/.exec(He)) && parseFloat(ze[1])) && /Trident\/7.0/i.test(He) && /rv:11.0/.test(He) && (qe = 11), qe),
            ot = /Safari/i.test(He) && !nt && !Qe && !it,
            st = (ot || Je) && !nt,
            lt = E() && ("ontouchstart" in i || i.navigator.maxTouchPoints || i.DocumentTouch && i.document instanceof i.DocumentTouch),
            ct = Object.freeze({
                IS_IPAD: Ye,
                IS_IPHONE: Ke,
                IS_IPOD: Xe,
                IS_IOS: Je,
                IOS_VERSION: $e,
                IS_ANDROID: Qe,
                ANDROID_VERSION: Ze,
                IS_NATIVE_ANDROID: et,
                IS_FIREFOX: tt,
                IS_EDGE: it,
                IS_CHROME: nt,
                CHROME_VERSION: rt,
                IE_VERSION: at,
                IS_SAFARI: ot,
                IS_ANY_SAFARI: st,
                TOUCH_ENABLED: lt
            });

        function ut(e, t, i, n) {
            return function(e, t, i) {
                if ("number" != typeof n || n < 0 || i < n) throw new Error("Failed to execute '" + e + "' on 'TimeRanges': The index provided (" + n + ") is non-numeric or out of bounds (0-" + i + ").")
            }(e, 0, i.length - 1), i[n][t]
        }

        function dt(e) {
            return void 0 === e || 0 === e.length ? {
                length: 0,
                start: function() {
                    throw new Error("This TimeRanges object is empty")
                },
                end: function() {
                    throw new Error("This TimeRanges object is empty")
                }
            } : {
                length: e.length,
                start: ut.bind(null, "start", 0, e),
                end: ut.bind(null, "end", 1, e)
            }
        }

        function ht(e, t) {
            return Array.isArray(e) ? dt(e) : void 0 === e || void 0 === t ? dt() : dt([
                [e, t]
            ])
        }

        function pt(e, t) {
            var i, n, r = 0;
            if (!t) return 0;
            e && e.length || (e = ht(0, 0));
            for (var a = 0; a < e.length; a++) i = e.start(a), t < (n = e.end(a)) && (n = t), r += n - i;
            return r / t
        }
        for (var ft, mt = {}, gt = [
                ["requestFullscreen", "exitFullscreen", "fullscreenElement", "fullscreenEnabled", "fullscreenchange", "fullscreenerror"],
                ["webkitRequestFullscreen", "webkitExitFullscreen", "webkitFullscreenElement", "webkitFullscreenEnabled", "webkitfullscreenchange", "webkitfullscreenerror"],
                ["webkitRequestFullScreen", "webkitCancelFullScreen", "webkitCurrentFullScreenElement", "webkitCancelFullScreen", "webkitfullscreenchange", "webkitfullscreenerror"],
                ["mozRequestFullScreen", "mozCancelFullScreen", "mozFullScreenElement", "mozFullScreenEnabled", "mozfullscreenchange", "mozfullscreenerror"],
                ["msRequestFullscreen", "msExitFullscreen", "msFullscreenElement", "msFullscreenEnabled", "MSFullscreenChange", "MSFullscreenError"]
            ], yt = gt[0], vt = 0; vt < gt.length; vt++)
            if (gt[vt][1] in t) {
                ft = gt[vt];
                break
            } if (ft)
            for (var bt = 0; bt < ft.length; bt++) mt[yt[bt]] = ft[bt];

        function _t(e) {
            if (e instanceof _t) return e;
            "number" == typeof e ? this.code = e : "string" == typeof e ? this.message = e : y(e) && ("number" == typeof e.code && (this.code = e.code), g(this, e)), this.message || (this.message = _t.defaultMessages[this.code] || "")
        }
        _t.prototype.code = 0, _t.prototype.message = "", _t.prototype.status = null, _t.errorTypes = ["MEDIA_ERR_CUSTOM", "MEDIA_ERR_ABORTED", "MEDIA_ERR_NETWORK", "MEDIA_ERR_DECODE", "MEDIA_ERR_SRC_NOT_SUPPORTED", "MEDIA_ERR_ENCRYPTED"], _t.defaultMessages = {
            1: "You aborted the media playback",
            2: "A network error caused the media download to fail part-way.",
            3: "The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",
            4: "The media could not be loaded, either because the server or network failed or because the format is not supported.",
            5: "The media is encrypted and we do not have the keys to decrypt it."
        };
        for (var Tt = 0; Tt < _t.errorTypes.length; Tt++) _t[_t.errorTypes[Tt]] = Tt, _t.prototype[_t.errorTypes[Tt]] = Tt;

        function St(e) {
            return null != e && "function" == typeof e.then
        }

        function Et(e) {
            St(e) && e.then(null, function(e) {})
        }
        var wt = function(e) {
                return ["kind", "label", "language", "id", "inBandMetadataTrackDispatchType", "mode", "src"].reduce(function(t, i, n) {
                    return e[i] && (t[i] = e[i]), t
                }, {
                    cues: e.cues && Array.prototype.map.call(e.cues, function(e) {
                        return {
                            startTime: e.startTime,
                            endTime: e.endTime,
                            text: e.text,
                            id: e.id
                        }
                    })
                })
            },
            Ct = "vjs-modal-dialog",
            kt = function(e) {
                function n(t, i) {
                    var n;
                    return (n = e.call(this, t, i) || this).opened_ = n.hasBeenOpened_ = n.hasBeenFilled_ = !1, n.closeable(!n.options_.uncloseable), n.content(n.options_.content), n.contentEl_ = P("div", {
                        className: Ct + "-content"
                    }, {
                        role: "document"
                    }), n.descEl_ = P("p", {
                        className: Ct + "-description vjs-control-text",
                        id: n.el().getAttribute("aria-describedby")
                    }), A(n.descEl_, n.description()), n.el_.appendChild(n.descEl_), n.el_.appendChild(n.contentEl_), n
                }
                r(n, e);
                var a = n.prototype;
                return a.createEl = function() {
                    return e.prototype.createEl.call(this, "div", {
                        className: this.buildCSSClass(),
                        tabIndex: -1
                    }, {
                        "aria-describedby": this.id() + "_description",
                        "aria-hidden": "true",
                        "aria-label": this.label(),
                        role: "dialog"
                    })
                }, a.dispose = function() {
                    this.contentEl_ = null, this.descEl_ = null, this.previouslyActiveEl_ = null, e.prototype.dispose.call(this)
                }, a.buildCSSClass = function() {
                    return Ct + " vjs-hidden " + e.prototype.buildCSSClass.call(this)
                }, a.handleKeyPress = function(e) {
                    27 === e.which && this.closeable() && this.close()
                }, a.label = function() {
                    return this.localize(this.options_.label || "Modal Window")
                }, a.description = function() {
                    var e = this.options_.description || this.localize("This is a modal window.");
                    return this.closeable() && (e += " " + this.localize("This modal can be closed by pressing the Escape key or activating the close button.")), e
                }, a.open = function() {
                    if (!this.opened_) {
                        var e = this.player();
                        this.trigger("beforemodalopen"), this.opened_ = !0, (this.options_.fillAlways || !this.hasBeenOpened_ && !this.hasBeenFilled_) && this.fill(), this.wasPlaying_ = !e.paused(), this.options_.pauseOnOpen && this.wasPlaying_ && e.pause(), this.closeable() && this.on(this.el_.ownerDocument, "keydown", Ee(this, this.handleKeyPress)), this.hadControls_ = e.controls(), e.controls(!1), this.show(), this.conditionalFocus_(), this.el().setAttribute("aria-hidden", "false"), this.trigger("modalopen"), this.hasBeenOpened_ = !0
                    }
                }, a.opened = function(e) {
                    return "boolean" == typeof e && this[e ? "open" : "close"](), this.opened_
                }, a.close = function() {
                    if (this.opened_) {
                        var e = this.player();
                        this.trigger("beforemodalclose"), this.opened_ = !1, this.wasPlaying_ && this.options_.pauseOnOpen && e.play(), this.closeable() && this.off(this.el_.ownerDocument, "keydown", Ee(this, this.handleKeyPress)), this.hadControls_ && e.controls(!0), this.hide(), this.el().setAttribute("aria-hidden", "true"), this.trigger("modalclose"), this.conditionalBlur_(), this.options_.temporary && this.dispose()
                    }
                }, a.closeable = function(e) {
                    if ("boolean" == typeof e) {
                        var t = this.closeable_ = !!e,
                            i = this.getChild("closeButton");
                        if (t && !i) {
                            var n = this.contentEl_;
                            this.contentEl_ = this.el_, i = this.addChild("closeButton", {
                                controlText: "Close Modal Dialog"
                            }), this.contentEl_ = n, this.on(i, "close", this.close)
                        }!t && i && (this.off(i, "close", this.close), this.removeChild(i), i.dispose())
                    }
                    return this.closeable_
                }, a.fill = function() {
                    this.fillWith(this.content())
                }, a.fillWith = function(e) {
                    var t = this.contentEl(),
                        i = t.parentNode,
                        n = t.nextSibling;
                    this.trigger("beforemodalfill"), this.hasBeenFilled_ = !0, i.removeChild(t), this.empty(), K(t, e), this.trigger("modalfill"), n ? i.insertBefore(t, n) : i.appendChild(t);
                    var r = this.getChild("closeButton");
                    r && i.appendChild(r.el_)
                }, a.empty = function() {
                    this.trigger("beforemodalempty"), G(this.contentEl()), this.trigger("modalempty")
                }, a.content = function(e) {
                    return void 0 !== e && (this.content_ = e), this.content_
                }, a.conditionalFocus_ = function() {
                    var e = t.activeElement,
                        i = this.player_.el_;
                    this.previouslyActiveEl_ = null, (i.contains(e) || i === e) && (this.previouslyActiveEl_ = e, this.focus(), this.on(t, "keydown", this.handleKeyDown))
                }, a.conditionalBlur_ = function() {
                    this.previouslyActiveEl_ && (this.previouslyActiveEl_.focus(), this.previouslyActiveEl_ = null), this.off(t, "keydown", this.handleKeyDown)
                }, a.handleKeyDown = function(e) {
                    if (9 === e.which) {
                        for (var i, n = this.focusableEls_(), r = this.el_.querySelector(":focus"), a = 0; a < n.length; a++)
                            if (r === n[a]) {
                                i = a;
                                break
                            } t.activeElement === this.el_ && (i = 0), e.shiftKey && 0 === i ? (n[n.length - 1].focus(), e.preventDefault()) : e.shiftKey || i !== n.length - 1 || (n[0].focus(), e.preventDefault())
                    }
                }, a.focusableEls_ = function() {
                    var e = this.el_.querySelectorAll("*");
                    return Array.prototype.filter.call(e, function(e) {
                        return (e instanceof i.HTMLAnchorElement || e instanceof i.HTMLAreaElement) && e.hasAttribute("href") || (e instanceof i.HTMLInputElement || e instanceof i.HTMLSelectElement || e instanceof i.HTMLTextAreaElement || e instanceof i.HTMLButtonElement) && !e.hasAttribute("disabled") || e instanceof i.HTMLIFrameElement || e instanceof i.HTMLObjectElement || e instanceof i.HTMLEmbedElement || e.hasAttribute("tabindex") && -1 !== e.getAttribute("tabindex") || e.hasAttribute("contenteditable")
                    })
                }, n
            }(Be);
        kt.prototype.options_ = {
            pauseOnOpen: !0,
            temporary: !0
        }, Be.registerComponent("ModalDialog", kt);
        var Pt = function(e) {
            function t(t) {
                var i;
                void 0 === t && (t = []), (i = e.call(this) || this).tracks_ = [], Object.defineProperty(s(s(i)), "length", {
                    get: function() {
                        return this.tracks_.length
                    }
                });
                for (var n = 0; n < t.length; n++) i.addTrack(t[n]);
                return i
            }
            r(t, e);
            var i = t.prototype;
            return i.addTrack = function(e) {
                var t = this.tracks_.length;
                "" + t in this || Object.defineProperty(this, t, {
                    get: function() {
                        return this.tracks_[t]
                    }
                }), -1 === this.tracks_.indexOf(e) && (this.tracks_.push(e), this.trigger({
                    track: e,
                    type: "addtrack"
                }))
            }, i.removeTrack = function(e) {
                for (var t, i = 0, n = this.length; i < n; i++)
                    if (this[i] === e) {
                        (t = this[i]).off && t.off(), this.tracks_.splice(i, 1);
                        break
                    } t && this.trigger({
                    track: t,
                    type: "removetrack"
                })
            }, i.getTrackById = function(e) {
                for (var t = null, i = 0, n = this.length; i < n; i++) {
                    var r = this[i];
                    if (r.id === e) {
                        t = r;
                        break
                    }
                }
                return t
            }, t
        }(Ce);
        for (var At in Pt.prototype.allowedEvents_ = {
                change: "change",
                addtrack: "addtrack",
                removetrack: "removetrack"
            }, Pt.prototype.allowedEvents_) Pt.prototype["on" + At] = null;
        var It = function(e, t) {
                for (var i = 0; i < e.length; i++) Object.keys(e[i]).length && t.id !== e[i].id && (e[i].enabled = !1)
            },
            Lt = function(e) {
                function t(t) {
                    var i;
                    void 0 === t && (t = []);
                    for (var n = t.length - 1; 0 <= n; n--)
                        if (t[n].enabled) {
                            It(t, t[n]);
                            break
                        } return (i = e.call(this, t) || this).changing_ = !1, i
                }
                return r(t, e), t.prototype.addTrack = function(t) {
                    var i = this;
                    t.enabled && It(this, t), e.prototype.addTrack.call(this, t), t.addEventListener && t.addEventListener("enabledchange", function() {
                        i.changing_ || (i.changing_ = !0, It(i, t), i.changing_ = !1, i.trigger("change"))
                    })
                }, t
            }(Pt),
            Ot = function(e, t) {
                for (var i = 0; i < e.length; i++) Object.keys(e[i]).length && t.id !== e[i].id && (e[i].selected = !1)
            },
            Dt = function(e) {
                function t(t) {
                    var i;
                    void 0 === t && (t = []);
                    for (var n = t.length - 1; 0 <= n; n--)
                        if (t[n].selected) {
                            Ot(t, t[n]);
                            break
                        } return (i = e.call(this, t) || this).changing_ = !1, Object.defineProperty(s(s(i)), "selectedIndex", {
                        get: function() {
                            for (var e = 0; e < this.length; e++)
                                if (this[e].selected) return e;
                            return -1
                        },
                        set: function() {}
                    }), i
                }
                return r(t, e), t.prototype.addTrack = function(t) {
                    var i = this;
                    t.selected && Ot(this, t), e.prototype.addTrack.call(this, t), t.addEventListener && t.addEventListener("selectedchange", function() {
                        i.changing_ || (i.changing_ = !0, Ot(i, t), i.changing_ = !1, i.trigger("change"))
                    })
                }, t
            }(Pt),
            Rt = function(e) {
                function t() {
                    return e.apply(this, arguments) || this
                }
                return r(t, e), t.prototype.addTrack = function(t) {
                    e.prototype.addTrack.call(this, t), t.addEventListener("modechange", Ee(this, function() {
                        this.queueTrigger("change")
                    })), -1 === ["metadata", "chapters"].indexOf(t.kind) && t.addEventListener("modechange", Ee(this, function() {
                        this.trigger("selectedlanguagechange")
                    }))
                }, t
            }(Pt),
            xt = function() {
                function e(e) {
                    void 0 === e && (e = []), this.trackElements_ = [], Object.defineProperty(this, "length", {
                        get: function() {
                            return this.trackElements_.length
                        }
                    });
                    for (var t = 0, i = e.length; t < i; t++) this.addTrackElement_(e[t])
                }
                var t = e.prototype;
                return t.addTrackElement_ = function(e) {
                    var t = this.trackElements_.length;
                    "" + t in this || Object.defineProperty(this, t, {
                        get: function() {
                            return this.trackElements_[t]
                        }
                    }), -1 === this.trackElements_.indexOf(e) && this.trackElements_.push(e)
                }, t.getTrackElementByTrack_ = function(e) {
                    for (var t, i = 0, n = this.trackElements_.length; i < n; i++)
                        if (e === this.trackElements_[i].track) {
                            t = this.trackElements_[i];
                            break
                        } return t
                }, t.removeTrackElement_ = function(e) {
                    for (var t = 0, i = this.trackElements_.length; t < i; t++)
                        if (e === this.trackElements_[t]) {
                            this.trackElements_.splice(t, 1);
                            break
                        }
                }, e
            }(),
            Mt = function() {
                function e(t) {
                    e.prototype.setCues_.call(this, t), Object.defineProperty(this, "length", {
                        get: function() {
                            return this.length_
                        }
                    })
                }
                var t = e.prototype;
                return t.setCues_ = function(e) {
                    var t = this.length || 0,
                        i = 0,
                        n = e.length;
                    this.cues_ = e, this.length_ = e.length;
                    var r = function(e) {
                        "" + e in this || Object.defineProperty(this, "" + e, {
                            get: function() {
                                return this.cues_[e]
                            }
                        })
                    };
                    if (t < n)
                        for (i = t; i < n; i++) r.call(this, i)
                }, t.getCueById = function(e) {
                    for (var t = null, i = 0, n = this.length; i < n; i++) {
                        var r = this[i];
                        if (r.id === e) {
                            t = r;
                            break
                        }
                    }
                    return t
                }, e
            }(),
            Ut = {
                alternative: "alternative",
                captions: "captions",
                main: "main",
                sign: "sign",
                subtitles: "subtitles",
                commentary: "commentary"
            },
            Nt = {
                alternative: "alternative",
                descriptions: "descriptions",
                main: "main",
                "main-desc": "main-desc",
                translation: "translation",
                commentary: "commentary"
            },
            Ft = {
                subtitles: "subtitles",
                captions: "captions",
                descriptions: "descriptions",
                chapters: "chapters",
                metadata: "metadata"
            },
            Bt = {
                disabled: "disabled",
                hidden: "hidden",
                showing: "showing"
            },
            Vt = function(e) {
                function t(t) {
                    var i;
                    void 0 === t && (t = {}), i = e.call(this) || this;
                    var n = {
                            id: t.id || "vjs_track_" + ee(),
                            kind: t.kind || "",
                            label: t.label || "",
                            language: t.language || ""
                        },
                        r = function(e) {
                            Object.defineProperty(s(s(i)), e, {
                                get: function() {
                                    return n[e]
                                },
                                set: function() {}
                            })
                        };
                    for (var a in n) r(a);
                    return i
                }
                return r(t, e), t
            }(Ce),
            jt = function(e) {
                var n = ["protocol", "hostname", "port", "pathname", "search", "hash", "host"],
                    r = t.createElement("a");
                r.href = e;
                var a, o = "" === r.host && "file:" !== r.protocol;
                o && ((a = t.createElement("div")).innerHTML = '<a href="' + e + '"></a>', r = a.firstChild, a.setAttribute("style", "display:none; position:absolute;"), t.body.appendChild(a));
                for (var s = {}, l = 0; l < n.length; l++) s[n[l]] = r[n[l]];
                return "http:" === s.protocol && (s.host = s.host.replace(/:80$/, "")), "https:" === s.protocol && (s.host = s.host.replace(/:443$/, "")), s.protocol || (s.protocol = i.location.protocol), o && t.body.removeChild(a), s
            },
            zt = function(e) {
                if (!e.match(/^https?:\/\//)) {
                    var i = t.createElement("div");
                    i.innerHTML = '<a href="' + e + '">x</a>', e = i.firstChild.href
                }
                return e
            },
            qt = function(e) {
                if ("string" == typeof e) {
                    var t = /^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(e);
                    if (t) return t.pop().toLowerCase()
                }
                return ""
            },
            Ht = function(e) {
                var t = i.location,
                    n = jt(e);
                return (":" === n.protocol ? t.protocol : n.protocol) + n.host !== t.protocol + t.host
            },
            Gt = Object.freeze({
                parseUrl: jt,
                getAbsoluteURL: zt,
                getFileExtension: qt,
                isCrossOrigin: Ht
            }),
            Wt = function(e) {
                var t = Yt.call(e);
                return "[object Function]" === t || "function" == typeof e && "[object RegExp]" !== t || "undefined" != typeof window && (e === window.setTimeout || e === window.alert || e === window.confirm || e === window.prompt)
            },
            Yt = Object.prototype.toString;

        function Kt(e, t) {
            return e(t = {
                exports: {}
            }, t.exports), t.exports
        }
        "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self && self;
        var Xt = Kt(function(e, t) {
                (t = e.exports = function(e) {
                    return e.replace(/^\s*|\s*$/g, "")
                }).left = function(e) {
                    return e.replace(/^\s*/, "")
                }, t.right = function(e) {
                    return e.replace(/\s*$/, "")
                }
            }),
            Jt = Function.prototype.toString,
            $t = /^\s*class\b/,
            Qt = function(e) {
                try {
                    var t = Jt.call(e);
                    return $t.test(t)
                } catch (e) {
                    return !1
                }
            },
            Zt = Object.prototype.toString,
            ei = "function" == typeof Symbol && "symbol" == typeof Symbol.toStringTag,
            ti = Object.prototype.toString,
            ii = Object.prototype.hasOwnProperty,
            ni = function(e) {
                if (!e) return {};
                var t = {};
                return function(e, t, i) {
                    if (! function(e) {
                            if (!e) return !1;
                            if ("function" != typeof e && "object" != typeof e) return !1;
                            if ("function" == typeof e && !e.prototype) return !0;
                            if (ei) return function(e) {
                                try {
                                    return !Qt(e) && (Jt.call(e), !0)
                                } catch (e) {
                                    return !1
                                }
                            }(e);
                            if (Qt(e)) return !1;
                            var t = Zt.call(e);
                            return "[object Function]" === t || "[object GeneratorFunction]" === t
                        }(t)) throw new TypeError("iterator must be a function");
                    var n;
                    3 <= arguments.length && (n = i), "[object Array]" === ti.call(e) ? function(e, t, i) {
                        for (var n = 0, r = e.length; n < r; n++) ii.call(e, n) && (null == i ? t(e[n], n, e) : t.call(i, e[n], n, e))
                    }(e, t, n) : "string" == typeof e ? function(e, t, i) {
                        for (var n = 0, r = e.length; n < r; n++) null == i ? t(e.charAt(n), n, e) : t.call(i, e.charAt(n), n, e)
                    }(e, t, n) : function(e, t, i) {
                        for (var n in e) ii.call(e, n) && (null == i ? t(e[n], n, e) : t.call(i, e[n], n, e))
                    }(e, t, n)
                }(Xt(e).split("\n"), function(e) {
                    var i = e.indexOf(":"),
                        n = Xt(e.slice(0, i)).toLowerCase(),
                        r = Xt(e.slice(i + 1));
                    void 0 === t[n] ? t[n] = r : "[object Array]" === Object.prototype.toString.call(t[n]) ? t[n].push(r) : t[n] = [t[n], r]
                }), t
            },
            ri = function() {
                for (var e = {}, t = 0; t < arguments.length; t++) {
                    var i = arguments[t];
                    for (var n in i) ai.call(i, n) && (e[n] = i[n])
                }
                return e
            },
            ai = Object.prototype.hasOwnProperty,
            oi = li;

        function si(e, t, i) {
            var n = e;
            return Wt(t) ? (i = t, "string" == typeof e && (n = {
                uri: e
            })) : n = ri(t, {
                uri: e
            }), n.callback = i, n
        }

        function li(e, t, i) {
            return ci(t = si(e, t, i))
        }

        function ci(e) {
            if (void 0 === e.callback) throw new Error("callback argument missing");
            var t = !1,
                i = function(i, n, r) {
                    t || (t = !0, e.callback(i, n, r))
                };

            function n(e) {
                return clearTimeout(l), e instanceof Error || (e = new Error("" + (e || "Unknown XMLHttpRequest Error"))), e.statusCode = 0, i(e, m)
            }

            function r() {
                if (!o) {
                    var t;
                    clearTimeout(l);
                    var n = m,
                        r = null;
                    return 0 !== (t = e.useXDR && void 0 === s.status ? 200 : 1223 === s.status ? 204 : s.status) ? (n = {
                        body: function() {
                            var e = void 0;
                            if (e = s.response ? s.response : s.responseText || ("document" === s.responseType ? s.responseXML : "" !== s.responseType || s.responseXML && "parsererror" === s.responseXML.documentElement.nodeName ? null : s.responseXML), f) try {
                                e = JSON.parse(e)
                            } catch (e) {}
                            return e
                        }(),
                        statusCode: t,
                        method: u,
                        headers: {},
                        url: c,
                        rawRequest: s
                    }, s.getAllResponseHeaders && (n.headers = ni(s.getAllResponseHeaders()))) : r = new Error("Internal XMLHttpRequest Error"), i(r, n, n.body)
                }
            }
            var a, o, s = e.xhr || null;
            s || (s = e.cors || e.useXDR ? new li.XDomainRequest : new li.XMLHttpRequest);
            var l, c = s.url = e.uri || e.url,
                u = s.method = e.method || "GET",
                d = e.body || e.data,
                h = s.headers = e.headers || {},
                p = !!e.sync,
                f = !1,
                m = {
                    body: void 0,
                    headers: {},
                    statusCode: 0,
                    method: u,
                    url: c,
                    rawRequest: s
                };
            if ("json" in e && !1 !== e.json && (f = !0, h.accept || h.Accept || (h.Accept = "application/json"), "GET" !== u && "HEAD" !== u && (h["content-type"] || h["Content-Type"] || (h["Content-Type"] = "application/json"), d = JSON.stringify(!0 === e.json ? d : e.json))), s.onreadystatechange = function() {
                    4 === s.readyState && setTimeout(r, 0)
                }, s.onload = r, s.onerror = n, s.onprogress = function() {}, s.onabort = function() {
                    o = !0
                }, s.ontimeout = n, s.open(u, c, !p, e.username, e.password), p || (s.withCredentials = !!e.withCredentials), !p && 0 < e.timeout && (l = setTimeout(function() {
                    if (!o) {
                        o = !0, s.abort("timeout");
                        var e = new Error("XMLHttpRequest timeout");
                        e.code = "ETIMEDOUT", n(e)
                    }
                }, e.timeout)), s.setRequestHeader)
                for (a in h) h.hasOwnProperty(a) && s.setRequestHeader(a, h[a]);
            else if (e.headers && ! function(e) {
                    for (var t in e)
                        if (e.hasOwnProperty(t)) return !1;
                    return !0
                }(e.headers)) throw new Error("Headers cannot be set on an XDomainRequest object");
            return "responseType" in e && (s.responseType = e.responseType), "beforeSend" in e && "function" == typeof e.beforeSend && e.beforeSend(s), s.send(d || null), s
        }
        li.XMLHttpRequest = i.XMLHttpRequest || function() {}, li.XDomainRequest = "withCredentials" in new li.XMLHttpRequest ? li.XMLHttpRequest : i.XDomainRequest,
            function(e, t) {
                for (var i = 0; i < e.length; i++) t(e[i])
            }(["get", "put", "post", "patch", "head", "delete"], function(e) {
                li["delete" === e ? "del" : e] = function(t, i, n) {
                    return (i = si(t, i, n)).method = e.toUpperCase(), ci(i)
                }
            });
        var ui = function(e, t) {
                var n = new i.WebVTT.Parser(i, i.vttjs, i.WebVTT.StringDecoder()),
                    r = [];
                n.oncue = function(e) {
                    t.addCue(e)
                }, n.onparsingerror = function(e) {
                    r.push(e)
                }, n.onflush = function() {
                    t.trigger({
                        type: "loadeddata",
                        target: t
                    })
                }, n.parse(e), 0 < r.length && (i.console && i.console.groupCollapsed && i.console.groupCollapsed("Text Track parsing errors for " + t.src), r.forEach(function(e) {
                    return u.error(e)
                }), i.console && i.console.groupEnd && i.console.groupEnd()), n.flush()
            },
            di = function(e) {
                function t(t) {
                    var n;
                    if (void 0 === t && (t = {}), !t.tech) throw new Error("A tech was not provided.");
                    var r = Fe(t, {
                            kind: Ft[t.kind] || "subtitles",
                            language: t.language || t.srclang || ""
                        }),
                        a = Bt[r.mode] || "disabled",
                        o = r.default;
                    "metadata" !== r.kind && "chapters" !== r.kind || (a = "hidden"), (n = e.call(this, r) || this).tech_ = r.tech, n.cues_ = [], n.activeCues_ = [];
                    var l = new Mt(n.cues_),
                        c = new Mt(n.activeCues_),
                        d = !1,
                        h = Ee(s(s(n)), function() {
                            this.activeCues = this.activeCues, d && (this.trigger("cuechange"), d = !1)
                        });
                    return "disabled" !== a && n.tech_.ready(function() {
                        n.tech_.on("timeupdate", h)
                    }, !0), Object.defineProperties(s(s(n)), {
                        default: {
                            get: function() {
                                return o
                            },
                            set: function() {}
                        },
                        mode: {
                            get: function() {
                                return a
                            },
                            set: function(e) {
                                var t = this;
                                Bt[e] && ("disabled" !== (a = e) ? this.tech_.ready(function() {
                                    t.tech_.on("timeupdate", h)
                                }, !0) : this.tech_.off("timeupdate", h), this.trigger("modechange"))
                            }
                        },
                        cues: {
                            get: function() {
                                return this.loaded_ ? l : null
                            },
                            set: function() {}
                        },
                        activeCues: {
                            get: function() {
                                if (!this.loaded_) return null;
                                if (0 === this.cues.length) return c;
                                for (var e = this.tech_.currentTime(), t = [], i = 0, n = this.cues.length; i < n; i++) {
                                    var r = this.cues[i];
                                    r.startTime <= e && r.endTime >= e ? t.push(r) : r.startTime === r.endTime && r.startTime <= e && r.startTime + .5 >= e && t.push(r)
                                }
                                if (d = !1, t.length !== this.activeCues_.length) d = !0;
                                else
                                    for (var a = 0; a < t.length; a++) - 1 === this.activeCues_.indexOf(t[a]) && (d = !0);
                                return this.activeCues_ = t, c.setCues_(this.activeCues_), c
                            },
                            set: function() {}
                        }
                    }), r.src ? (n.src = r.src, function(e, t) {
                        var n = {
                                uri: e
                            },
                            r = Ht(e);
                        r && (n.cors = r), oi(n, Ee(this, function(e, n, r) {
                            if (e) return u.error(e, n);
                            if (t.loaded_ = !0, "function" != typeof i.WebVTT) {
                                if (t.tech_) {
                                    var a = function() {
                                        return ui(r, t)
                                    };
                                    t.tech_.on("vttjsloaded", a), t.tech_.on("vttjserror", function() {
                                        u.error("vttjs failed to load, stopping trying to process " + t.src), t.tech_.off("vttjsloaded", a)
                                    })
                                }
                            } else ui(r, t)
                        }))
                    }(r.src, s(s(n)))) : n.loaded_ = !0, n
                }
                r(t, e);
                var n = t.prototype;
                return n.addCue = function(e) {
                    var t = e;
                    if (i.vttjs && !(e instanceof i.vttjs.VTTCue)) {
                        for (var n in t = new i.vttjs.VTTCue(e.startTime, e.endTime, e.text), e) n in t || (t[n] = e[n]);
                        t.id = e.id, t.originalCue_ = e
                    }
                    for (var r = this.tech_.textTracks(), a = 0; a < r.length; a++) r[a] !== this && r[a].removeCue(t);
                    this.cues_.push(t), this.cues.setCues_(this.cues_)
                }, n.removeCue = function(e) {
                    for (var t = this.cues_.length; t--;) {
                        var i = this.cues_[t];
                        if (i === e || i.originalCue_ && i.originalCue_ === e) {
                            this.cues_.splice(t, 1), this.cues.setCues_(this.cues_);
                            break
                        }
                    }
                }, t
            }(Vt);
        di.prototype.allowedEvents_ = {
            cuechange: "cuechange"
        };
        var hi = function(e) {
                function t(t) {
                    var i;
                    void 0 === t && (t = {});
                    var n = Fe(t, {
                        kind: Nt[t.kind] || ""
                    });
                    i = e.call(this, n) || this;
                    var r = !1;
                    return Object.defineProperty(s(s(i)), "enabled", {
                        get: function() {
                            return r
                        },
                        set: function(e) {
                            "boolean" == typeof e && e !== r && (r = e, this.trigger("enabledchange"))
                        }
                    }), n.enabled && (i.enabled = n.enabled), i.loaded_ = !0, i
                }
                return r(t, e), t
            }(Vt),
            pi = function(e) {
                function t(t) {
                    var i;
                    void 0 === t && (t = {});
                    var n = Fe(t, {
                        kind: Ut[t.kind] || ""
                    });
                    i = e.call(this, n) || this;
                    var r = !1;
                    return Object.defineProperty(s(s(i)), "selected", {
                        get: function() {
                            return r
                        },
                        set: function(e) {
                            "boolean" == typeof e && e !== r && (r = e, this.trigger("selectedchange"))
                        }
                    }), n.selected && (i.selected = n.selected), i
                }
                return r(t, e), t
            }(Vt),
            fi = function(e) {
                function t(t) {
                    var i, n;
                    void 0 === t && (t = {}), i = e.call(this) || this;
                    var r = new di(t);
                    return i.kind = r.kind, i.src = r.src, i.srclang = r.language, i.label = r.label, i.default = r.default, Object.defineProperties(s(s(i)), {
                        readyState: {
                            get: function() {
                                return n
                            }
                        },
                        track: {
                            get: function() {
                                return r
                            }
                        }
                    }), n = 0, r.addEventListener("loadeddata", function() {
                        n = 2, i.trigger({
                            type: "load",
                            target: s(s(i))
                        })
                    }), i
                }
                return r(t, e), t
            }(Ce);
        fi.prototype.allowedEvents_ = {
            load: "load"
        }, fi.NONE = 0, fi.LOADING = 1, fi.LOADED = 2, fi.ERROR = 3;
        var mi = {
            audio: {
                ListClass: Lt,
                TrackClass: hi,
                capitalName: "Audio"
            },
            video: {
                ListClass: Dt,
                TrackClass: pi,
                capitalName: "Video"
            },
            text: {
                ListClass: Rt,
                TrackClass: di,
                capitalName: "Text"
            }
        };
        Object.keys(mi).forEach(function(e) {
            mi[e].getterName = e + "Tracks", mi[e].privateName = e + "Tracks_"
        });
        var gi = {
                remoteText: {
                    ListClass: Rt,
                    TrackClass: di,
                    capitalName: "RemoteText",
                    getterName: "remoteTextTracks",
                    privateName: "remoteTextTracks_"
                },
                remoteTextEl: {
                    ListClass: xt,
                    TrackClass: fi,
                    capitalName: "RemoteTextTrackEls",
                    getterName: "remoteTextTrackEls",
                    privateName: "remoteTextTrackEls_"
                }
            },
            yi = Fe(mi, gi);
        gi.names = Object.keys(gi), mi.names = Object.keys(mi), yi.names = [].concat(gi.names).concat(mi.names);
        var vi = Object.create || function() {
            function e() {}
            return function(t) {
                if (1 !== arguments.length) throw new Error("Object.create shim only accepts one parameter.");
                return e.prototype = t, new e
            }
        }();

        function bi(e, t) {
            this.name = "ParsingError", this.code = e.code, this.message = t || e.message
        }

        function _i(e) {
            function t(e, t, i, n) {
                return 3600 * (0 | e) + 60 * (0 | t) + (0 | i) + (0 | n) / 1e3
            }
            var i = e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);
            return i ? i[3] ? t(i[1], i[2], i[3].replace(":", ""), i[4]) : 59 < i[1] ? t(i[1], i[2], 0, i[4]) : t(0, i[1], i[2], i[4]) : null
        }

        function Ti() {
            this.values = vi(null)
        }

        function Si(e, t, i, n) {
            var r = n ? e.split(n) : [e];
            for (var a in r)
                if ("string" == typeof r[a]) {
                    var o = r[a].split(i);
                    2 === o.length && t(o[0], o[1])
                }
        }

        function Ei(e, t, i) {
            var n, r, a, o = e;

            function s() {
                var t = _i(e);
                if (null === t) throw new bi(bi.Errors.BadTimeStamp, "Malformed timestamp: " + o);
                return e = e.replace(/^[^\sa-zA-Z-]+/, ""), t
            }

            function l() {
                e = e.replace(/^\s+/, "")
            }
            if (l(), t.startTime = s(), l(), "--\x3e" !== e.substr(0, 3)) throw new bi(bi.Errors.BadTimeStamp, "Malformed time stamp (time stamps must be separated by '--\x3e'): " + o);
            e = e.substr(3), l(), t.endTime = s(), l(), n = e, r = t, a = new Ti, Si(n, function(e, t) {
                switch (e) {
                    case "region":
                        for (var n = i.length - 1; 0 <= n; n--)
                            if (i[n].id === t) {
                                a.set(e, i[n].region);
                                break
                            } break;
                    case "vertical":
                        a.alt(e, t, ["rl", "lr"]);
                        break;
                    case "line":
                        var r = t.split(","),
                            o = r[0];
                        a.integer(e, o), a.percent(e, o) && a.set("snapToLines", !1), a.alt(e, o, ["auto"]), 2 === r.length && a.alt("lineAlign", r[1], ["start", "middle", "end"]);
                        break;
                    case "position":
                        r = t.split(","), a.percent(e, r[0]), 2 === r.length && a.alt("positionAlign", r[1], ["start", "middle", "end"]);
                        break;
                    case "size":
                        a.percent(e, t);
                        break;
                    case "align":
                        a.alt(e, t, ["start", "middle", "end", "left", "right"])
                }
            }, /:/, /\s/), r.region = a.get("region", null), r.vertical = a.get("vertical", ""), r.line = a.get("line", "auto"), r.lineAlign = a.get("lineAlign", "start"), r.snapToLines = a.get("snapToLines", !0), r.size = a.get("size", 100), r.align = a.get("align", "middle"), r.position = a.get("position", {
                start: 0,
                left: 0,
                middle: 50,
                end: 100,
                right: 100
            }, r.align), r.positionAlign = a.get("positionAlign", {
                start: "start",
                left: "start",
                middle: "middle",
                end: "end",
                right: "end"
            }, r.align)
        }((bi.prototype = vi(Error.prototype)).constructor = bi).Errors = {
            BadSignature: {
                code: 0,
                message: "Malformed WebVTT signature."
            },
            BadTimeStamp: {
                code: 1,
                message: "Malformed time stamp."
            }
        }, Ti.prototype = {
            set: function(e, t) {
                this.get(e) || "" === t || (this.values[e] = t)
            },
            get: function(e, t, i) {
                return i ? this.has(e) ? this.values[e] : t[i] : this.has(e) ? this.values[e] : t
            },
            has: function(e) {
                return e in this.values
            },
            alt: function(e, t, i) {
                for (var n = 0; n < i.length; ++n)
                    if (t === i[n]) {
                        this.set(e, t);
                        break
                    }
            },
            integer: function(e, t) {
                /^-?\d+$/.test(t) && this.set(e, parseInt(t, 10))
            },
            percent: function(e, t) {
                return !!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/) && 0 <= (t = parseFloat(t)) && t <= 100) && (this.set(e, t), !0)
            }
        };
        var wi = {
                "&amp;": "&",
                "&lt;": "<",
                "&gt;": ">",
                "&lrm;": "\u200e",
                "&rlm;": "\u200f",
                "&nbsp;": "\xa0"
            },
            Ci = {
                c: "span",
                i: "i",
                b: "b",
                u: "u",
                ruby: "ruby",
                rt: "rt",
                v: "span",
                lang: "span"
            },
            ki = {
                v: "title",
                lang: "lang"
            },
            Pi = {
                rt: "ruby"
            };

        function Ai(e, t) {
            function i() {
                if (!t) return null;
                var e, i = t.match(/^([^<]*)(<[^>]*>?)?/);
                return t = t.substr((e = i[1] ? i[1] : i[2]).length), e
            }

            function n(e) {
                return wi[e]
            }

            function r(e) {
                for (; p = e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);) e = e.replace(p[0], n);
                return e
            }

            function a(t, i) {
                var n = Ci[t];
                if (!n) return null;
                var r = e.document.createElement(n);
                r.localName = n;
                var a = ki[t];
                return a && i && (r[a] = i.trim()), r
            }
            for (var o, s, l = e.document.createElement("div"), c = l, u = []; null !== (o = i());)
                if ("<" !== o[0]) c.appendChild(e.document.createTextNode(r(o)));
                else {
                    if ("/" === o[1]) {
                        u.length && u[u.length - 1] === o.substr(2).replace(">", "") && (u.pop(), c = c.parentNode);
                        continue
                    }
                    var d, h = _i(o.substr(1, o.length - 2));
                    if (h) {
                        d = e.document.createProcessingInstruction("timestamp", h), c.appendChild(d);
                        continue
                    }
                    var p = o.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);
                    if (!p) continue;
                    if (!(d = a(p[1], p[3]))) continue;
                    if (Pi[(s = d).localName] && Pi[s.localName] !== c.localName) continue;
                    p[2] && (d.className = p[2].substr(1).replace(".", " ")), u.push(p[1]), c.appendChild(d), c = d
                } return l
        }
        var Ii = [
            [1470, 1470],
            [1472, 1472],
            [1475, 1475],
            [1478, 1478],
            [1488, 1514],
            [1520, 1524],
            [1544, 1544],
            [1547, 1547],
            [1549, 1549],
            [1563, 1563],
            [1566, 1610],
            [1645, 1647],
            [1649, 1749],
            [1765, 1766],
            [1774, 1775],
            [1786, 1805],
            [1807, 1808],
            [1810, 1839],
            [1869, 1957],
            [1969, 1969],
            [1984, 2026],
            [2036, 2037],
            [2042, 2042],
            [2048, 2069],
            [2074, 2074],
            [2084, 2084],
            [2088, 2088],
            [2096, 2110],
            [2112, 2136],
            [2142, 2142],
            [2208, 2208],
            [2210, 2220],
            [8207, 8207],
            [64285, 64285],
            [64287, 64296],
            [64298, 64310],
            [64312, 64316],
            [64318, 64318],
            [64320, 64321],
            [64323, 64324],
            [64326, 64449],
            [64467, 64829],
            [64848, 64911],
            [64914, 64967],
            [65008, 65020],
            [65136, 65140],
            [65142, 65276],
            [67584, 67589],
            [67592, 67592],
            [67594, 67637],
            [67639, 67640],
            [67644, 67644],
            [67647, 67669],
            [67671, 67679],
            [67840, 67867],
            [67872, 67897],
            [67903, 67903],
            [67968, 68023],
            [68030, 68031],
            [68096, 68096],
            [68112, 68115],
            [68117, 68119],
            [68121, 68147],
            [68160, 68167],
            [68176, 68184],
            [68192, 68223],
            [68352, 68405],
            [68416, 68437],
            [68440, 68466],
            [68472, 68479],
            [68608, 68680],
            [126464, 126467],
            [126469, 126495],
            [126497, 126498],
            [126500, 126500],
            [126503, 126503],
            [126505, 126514],
            [126516, 126519],
            [126521, 126521],
            [126523, 126523],
            [126530, 126530],
            [126535, 126535],
            [126537, 126537],
            [126539, 126539],
            [126541, 126543],
            [126545, 126546],
            [126548, 126548],
            [126551, 126551],
            [126553, 126553],
            [126555, 126555],
            [126557, 126557],
            [126559, 126559],
            [126561, 126562],
            [126564, 126564],
            [126567, 126570],
            [126572, 126578],
            [126580, 126583],
            [126585, 126588],
            [126590, 126590],
            [126592, 126601],
            [126603, 126619],
            [126625, 126627],
            [126629, 126633],
            [126635, 126651],
            [1114109, 1114109]
        ];

        function Li(e) {
            for (var t = 0; t < Ii.length; t++) {
                var i = Ii[t];
                if (e >= i[0] && e <= i[1]) return !0
            }
            return !1
        }

        function Oi() {}

        function Di(e, t, i) {
            Oi.call(this), this.cue = t, this.cueDiv = Ai(e, t.text);
            var n = {
                color: "rgba(255, 255, 255, 1)",
                backgroundColor: "rgba(0, 0, 0, 0.8)",
                position: "relative",
                left: 0,
                right: 0,
                top: 0,
                bottom: 0,
                display: "inline",
                writingMode: "" === t.vertical ? "horizontal-tb" : "lr" === t.vertical ? "vertical-lr" : "vertical-rl",
                unicodeBidi: "plaintext"
            };
            this.applyStyles(n, this.cueDiv), this.div = e.document.createElement("div"), n = {
                direction: function(e) {
                    var t = [],
                        i = "";
                    if (!e || !e.childNodes) return "ltr";

                    function n(e, t) {
                        for (var i = t.childNodes.length - 1; 0 <= i; i--) e.push(t.childNodes[i])
                    }

                    function r(e) {
                        if (!e || !e.length) return null;
                        var t = e.pop(),
                            i = t.textContent || t.innerText;
                        if (i) {
                            var a = i.match(/^.*(\n|\r)/);
                            return a ? a[e.length = 0] : i
                        }
                        return "ruby" === t.tagName ? r(e) : t.childNodes ? (n(e, t), r(e)) : void 0
                    }
                    for (n(t, e); i = r(t);)
                        for (var a = 0; a < i.length; a++)
                            if (Li(i.charCodeAt(a))) return "rtl";
                    return "ltr"
                }(this.cueDiv),
                writingMode: "" === t.vertical ? "horizontal-tb" : "lr" === t.vertical ? "vertical-lr" : "vertical-rl",
                unicodeBidi: "plaintext",
                textAlign: "middle" === t.align ? "center" : t.align,
                font: i.font,
                whiteSpace: "pre-line",
                position: "absolute"
            }, this.applyStyles(n), this.div.appendChild(this.cueDiv);
            var r = 0;
            switch (t.positionAlign) {
                case "start":
                    r = t.position;
                    break;
                case "middle":
                    r = t.position - t.size / 2;
                    break;
                case "end":
                    r = t.position - t.size
            }
            this.applyStyles("" === t.vertical ? {
                left: this.formatStyle(r, "%"),
                width: this.formatStyle(t.size, "%")
            } : {
                top: this.formatStyle(r, "%"),
                height: this.formatStyle(t.size, "%")
            }), this.move = function(e) {
                this.applyStyles({
                    top: this.formatStyle(e.top, "px"),
                    bottom: this.formatStyle(e.bottom, "px"),
                    left: this.formatStyle(e.left, "px"),
                    right: this.formatStyle(e.right, "px"),
                    height: this.formatStyle(e.height, "px"),
                    width: this.formatStyle(e.width, "px")
                })
            }
        }

        function Ri(e) {
            var t, i, n, r;
            if (e.div) {
                i = e.div.offsetHeight, n = e.div.offsetWidth, r = e.div.offsetTop;
                var a = (a = e.div.childNodes) && (a = a[0]) && a.getClientRects && a.getClientRects();
                e = e.div.getBoundingClientRect(), t = a ? Math.max(a[0] && a[0].height || 0, e.height / a.length) : 0
            }
            this.left = e.left, this.right = e.right, this.top = e.top || r, this.height = e.height || i, this.bottom = e.bottom || r + (e.height || i), this.width = e.width || n, this.lineHeight = void 0 !== t ? t : e.lineHeight
        }

        function xi(e, t, i, n) {
            var r = new Ri(t),
                a = t.cue,
                o = function(e) {
                    if ("number" == typeof e.line && (e.snapToLines || 0 <= e.line && e.line <= 100)) return e.line;
                    if (!e.track || !e.track.textTrackList || !e.track.textTrackList.mediaElement) return -1;
                    for (var t = e.track, i = t.textTrackList, n = 0, r = 0; r < i.length && i[r] !== t; r++) "showing" === i[r].mode && n++;
                    return -1 * ++n
                }(a),
                s = [];
            if (a.snapToLines) {
                var l;
                switch (a.vertical) {
                    case "":
                        s = ["+y", "-y"], l = "height";
                        break;
                    case "rl":
                        s = ["+x", "-x"], l = "width";
                        break;
                    case "lr":
                        s = ["-x", "+x"], l = "width"
                }
                var c = r.lineHeight,
                    u = c * Math.round(o),
                    d = i[l] + c,
                    h = s[0];
                Math.abs(u) > d && (u = u < 0 ? -1 : 1, u *= Math.ceil(d / c) * c), o < 0 && (u += "" === a.vertical ? i.height : i.width, s = s.reverse()), r.move(h, u)
            } else {
                var p = r.lineHeight / i.height * 100;
                switch (a.lineAlign) {
                    case "middle":
                        o -= p / 2;
                        break;
                    case "end":
                        o -= p
                }
                switch (a.vertical) {
                    case "":
                        t.applyStyles({
                            top: t.formatStyle(o, "%")
                        });
                        break;
                    case "rl":
                        t.applyStyles({
                            left: t.formatStyle(o, "%")
                        });
                        break;
                    case "lr":
                        t.applyStyles({
                            right: t.formatStyle(o, "%")
                        })
                }
                s = ["+y", "-x", "+x", "-y"], r = new Ri(t)
            }
            var f = function(e, t) {
                for (var r, a = new Ri(e), o = 1, s = 0; s < t.length; s++) {
                    for (; e.overlapsOppositeAxis(i, t[s]) || e.within(i) && e.overlapsAny(n);) e.move(t[s]);
                    if (e.within(i)) return e;
                    var l = e.intersectPercentage(i);
                    l < o && (r = new Ri(e), o = l), e = new Ri(a)
                }
                return r || a
            }(r, s);
            t.move(f.toCSSCompatValues(i))
        }

        function Mi() {}
        Oi.prototype.applyStyles = function(e, t) {
            for (var i in t = t || this.div, e) e.hasOwnProperty(i) && (t.style[i] = e[i])
        }, Oi.prototype.formatStyle = function(e, t) {
            return 0 === e ? 0 : e + t
        }, (Di.prototype = vi(Oi.prototype)).constructor = Di, Ri.prototype.move = function(e, t) {
            switch (t = void 0 !== t ? t : this.lineHeight, e) {
                case "+x":
                    this.left += t, this.right += t;
                    break;
                case "-x":
                    this.left -= t, this.right -= t;
                    break;
                case "+y":
                    this.top += t, this.bottom += t;
                    break;
                case "-y":
                    this.top -= t, this.bottom -= t
            }
        }, Ri.prototype.overlaps = function(e) {
            return this.left < e.right && this.right > e.left && this.top < e.bottom && this.bottom > e.top
        }, Ri.prototype.overlapsAny = function(e) {
            for (var t = 0; t < e.length; t++)
                if (this.overlaps(e[t])) return !0;
            return !1
        }, Ri.prototype.within = function(e) {
            return this.top >= e.top && this.bottom <= e.bottom && this.left >= e.left && this.right <= e.right
        }, Ri.prototype.overlapsOppositeAxis = function(e, t) {
            switch (t) {
                case "+x":
                    return this.left < e.left;
                case "-x":
                    return this.right > e.right;
                case "+y":
                    return this.top < e.top;
                case "-y":
                    return this.bottom > e.bottom
            }
        }, Ri.prototype.intersectPercentage = function(e) {
            return Math.max(0, Math.min(this.right, e.right) - Math.max(this.left, e.left)) * Math.max(0, Math.min(this.bottom, e.bottom) - Math.max(this.top, e.top)) / (this.height * this.width)
        }, Ri.prototype.toCSSCompatValues = function(e) {
            return {
                top: this.top - e.top,
                bottom: e.bottom - this.bottom,
                left: this.left - e.left,
                right: e.right - this.right,
                height: this.height,
                width: this.width
            }
        }, Ri.getSimpleBoxPosition = function(e) {
            var t = e.div ? e.div.offsetHeight : e.tagName ? e.offsetHeight : 0,
                i = e.div ? e.div.offsetWidth : e.tagName ? e.offsetWidth : 0,
                n = e.div ? e.div.offsetTop : e.tagName ? e.offsetTop : 0;
            return {
                left: (e = e.div ? e.div.getBoundingClientRect() : e.tagName ? e.getBoundingClientRect() : e).left,
                right: e.right,
                top: e.top || n,
                height: e.height || t,
                bottom: e.bottom || n + (e.height || t),
                width: e.width || i
            }
        }, Mi.StringDecoder = function() {
            return {
                decode: function(e) {
                    if (!e) return "";
                    if ("string" != typeof e) throw new Error("Error - expected string data.");
                    return decodeURIComponent(encodeURIComponent(e))
                }
            }
        }, Mi.convertCueToDOMTree = function(e, t) {
            return e && t ? Ai(e, t) : null
        }, Mi.processCues = function(e, t, i) {
            if (!e || !t || !i) return null;
            for (; i.firstChild;) i.removeChild(i.firstChild);
            var n = e.document.createElement("div");
            if (n.style.position = "absolute", n.style.left = "0", n.style.right = "0", n.style.top = "0", n.style.bottom = "0", n.style.margin = "1.5%", i.appendChild(n), function(e) {
                    for (var t = 0; t < e.length; t++)
                        if (e[t].hasBeenReset || !e[t].displayState) return !0;
                    return !1
                }(t)) {
                var r = [],
                    a = Ri.getSimpleBoxPosition(n),
                    o = {
                        font: Math.round(.05 * a.height * 100) / 100 + "px sans-serif"
                    };
                ! function() {
                    for (var i, s, l = 0; l < t.length; l++) i = new Di(e, s = t[l], o), n.appendChild(i.div), xi(0, i, a, r), s.displayState = i.div, r.push(Ri.getSimpleBoxPosition(i))
                }()
            } else
                for (var s = 0; s < t.length; s++) n.appendChild(t[s].displayState)
        }, (Mi.Parser = function(e, t, i) {
            i || (i = t, t = {}), t || (t = {}), this.window = e, this.vttjs = t, this.state = "INITIAL", this.buffer = "", this.decoder = i || new TextDecoder("utf8"), this.regionList = []
        }).prototype = {
            reportOrThrowError: function(e) {
                if (!(e instanceof bi)) throw e;
                this.onparsingerror && this.onparsingerror(e)
            },
            parse: function(e) {
                var t = this;

                function i() {
                    for (var e = t.buffer, i = 0; i < e.length && "\r" !== e[i] && "\n" !== e[i];) ++i;
                    var n = e.substr(0, i);
                    return "\r" === e[i] && ++i, "\n" === e[i] && ++i, t.buffer = e.substr(i), n
                }

                function n(e) {
                    e.match(/X-TIMESTAMP-MAP/) ? Si(e, function(e, i) {
                        switch (e) {
                            case "X-TIMESTAMP-MAP":
                                n = i, r = new Ti, Si(n, function(e, t) {
                                    switch (e) {
                                        case "MPEGT":
                                            r.integer(e + "S", t);
                                            break;
                                        case "LOCA":
                                            r.set(e + "L", _i(t))
                                    }
                                }, /[^\d]:/, /,/), t.ontimestampmap && t.ontimestampmap({
                                    MPEGTS: r.get("MPEGTS"),
                                    LOCAL: r.get("LOCAL")
                                })
                        }
                        var n, r
                    }, /=/) : Si(e, function(e, i) {
                        switch (e) {
                            case "Region":
                                ! function(e) {
                                    var i = new Ti;
                                    if (Si(e, function(e, t) {
                                            switch (e) {
                                                case "id":
                                                    i.set(e, t);
                                                    break;
                                                case "width":
                                                    i.percent(e, t);
                                                    break;
                                                case "lines":
                                                    i.integer(e, t);
                                                    break;
                                                case "regionanchor":
                                                case "viewportanchor":
                                                    var n = t.split(",");
                                                    if (2 !== n.length) break;
                                                    var r = new Ti;
                                                    if (r.percent("x", n[0]), r.percent("y", n[1]), !r.has("x") || !r.has("y")) break;
                                                    i.set(e + "X", r.get("x")), i.set(e + "Y", r.get("y"));
                                                    break;
                                                case "scroll":
                                                    i.alt(e, t, ["up"])
                                            }
                                        }, /=/, /\s/), i.has("id")) {
                                        var n = new(t.vttjs.VTTRegion || t.window.VTTRegion);
                                        n.width = i.get("width", 100), n.lines = i.get("lines", 3), n.regionAnchorX = i.get("regionanchorX", 0), n.regionAnchorY = i.get("regionanchorY", 100), n.viewportAnchorX = i.get("viewportanchorX", 0), n.viewportAnchorY = i.get("viewportanchorY", 100), n.scroll = i.get("scroll", ""), t.onregion && t.onregion(n), t.regionList.push({
                                            id: i.get("id"),
                                            region: n
                                        })
                                    }
                                }(i)
                        }
                    }, /:/)
                }
                e && (t.buffer += t.decoder.decode(e, {
                    stream: !0
                }));
                try {
                    var r;
                    if ("INITIAL" === t.state) {
                        if (!/\r\n|\n/.test(t.buffer)) return this;
                        var a = (r = i()).match(/^WEBVTT([ \t].*)?$/);
                        if (!a || !a[0]) throw new bi(bi.Errors.BadSignature);
                        t.state = "HEADER"
                    }
                    for (var o = !1; t.buffer;) {
                        if (!/\r\n|\n/.test(t.buffer)) return this;
                        switch (o ? o = !1 : r = i(), t.state) {
                            case "HEADER":
                                /:/.test(r) ? n(r) : r || (t.state = "ID");
                                continue;
                            case "NOTE":
                                r || (t.state = "ID");
                                continue;
                            case "ID":
                                if (/^NOTE($|[ \t])/.test(r)) {
                                    t.state = "NOTE";
                                    break
                                }
                                if (!r) continue;
                                if (t.cue = new(t.vttjs.VTTCue || t.window.VTTCue)(0, 0, ""), t.state = "CUE", -1 === r.indexOf("--\x3e")) {
                                    t.cue.id = r;
                                    continue
                                }
                            case "CUE":
                                try {
                                    Ei(r, t.cue, t.regionList)
                                } catch (e) {
                                    t.reportOrThrowError(e), t.cue = null, t.state = "BADCUE";
                                    continue
                                }
                                t.state = "CUETEXT";
                                continue;
                            case "CUETEXT":
                                var s = -1 !== r.indexOf("--\x3e");
                                if (!r || s && (o = !0)) {
                                    t.oncue && t.oncue(t.cue), t.cue = null, t.state = "ID";
                                    continue
                                }
                                t.cue.text && (t.cue.text += "\n"), t.cue.text += r;
                                continue;
                            case "BADCUE":
                                r || (t.state = "ID");
                                continue
                        }
                    }
                } catch (e) {
                    t.reportOrThrowError(e), "CUETEXT" === t.state && t.cue && t.oncue && t.oncue(t.cue), t.cue = null, t.state = "INITIAL" === t.state ? "BADWEBVTT" : "BADCUE"
                }
                return this
            },
            flush: function() {
                var t = this;
                try {
                    if (t.buffer += t.decoder.decode(), (t.cue || "HEADER" === t.state) && (t.buffer += "\n\n", t.parse()), "INITIAL" === t.state) throw new bi(bi.Errors.BadSignature)
                } catch (e) {
                    t.reportOrThrowError(e)
                }
                return t.onflush && t.onflush(), this
            }
        };
        var Ui = Mi,
            Ni = {
                "": 1,
                lr: 1,
                rl: 1
            },
            Fi = {
                start: 1,
                middle: 1,
                end: 1,
                left: 1,
                right: 1
            };

        function Bi(e) {
            return "string" == typeof e && !!Fi[e.toLowerCase()] && e.toLowerCase()
        }

        function Vi(e, t, i) {
            this.hasBeenReset = !1;
            var n = "",
                r = !1,
                a = e,
                o = t,
                s = i,
                l = null,
                c = "",
                u = !0,
                d = "auto",
                h = "start",
                p = 50,
                f = "middle",
                m = 50,
                g = "middle";
            Object.defineProperties(this, {
                id: {
                    enumerable: !0,
                    get: function() {
                        return n
                    },
                    set: function(e) {
                        n = "" + e
                    }
                },
                pauseOnExit: {
                    enumerable: !0,
                    get: function() {
                        return r
                    },
                    set: function(e) {
                        r = !!e
                    }
                },
                startTime: {
                    enumerable: !0,
                    get: function() {
                        return a
                    },
                    set: function(e) {
                        if ("number" != typeof e) throw new TypeError("Start time must be set to a number.");
                        a = e, this.hasBeenReset = !0
                    }
                },
                endTime: {
                    enumerable: !0,
                    get: function() {
                        return o
                    },
                    set: function(e) {
                        if ("number" != typeof e) throw new TypeError("End time must be set to a number.");
                        o = e, this.hasBeenReset = !0
                    }
                },
                text: {
                    enumerable: !0,
                    get: function() {
                        return s
                    },
                    set: function(e) {
                        s = "" + e, this.hasBeenReset = !0
                    }
                },
                region: {
                    enumerable: !0,
                    get: function() {
                        return l
                    },
                    set: function(e) {
                        l = e, this.hasBeenReset = !0
                    }
                },
                vertical: {
                    enumerable: !0,
                    get: function() {
                        return c
                    },
                    set: function(e) {
                        var t, i = "string" == typeof(t = e) && !!Ni[t.toLowerCase()] && t.toLowerCase();
                        if (!1 === i) throw new SyntaxError("An invalid or illegal string was specified.");
                        c = i, this.hasBeenReset = !0
                    }
                },
                snapToLines: {
                    enumerable: !0,
                    get: function() {
                        return u
                    },
                    set: function(e) {
                        u = !!e, this.hasBeenReset = !0
                    }
                },
                line: {
                    enumerable: !0,
                    get: function() {
                        return d
                    },
                    set: function(e) {
                        if ("number" != typeof e && "auto" !== e) throw new SyntaxError("An invalid number or illegal string was specified.");
                        d = e, this.hasBeenReset = !0
                    }
                },
                lineAlign: {
                    enumerable: !0,
                    get: function() {
                        return h
                    },
                    set: function(e) {
                        var t = Bi(e);
                        if (!t) throw new SyntaxError("An invalid or illegal string was specified.");
                        h = t, this.hasBeenReset = !0
                    }
                },
                position: {
                    enumerable: !0,
                    get: function() {
                        return p
                    },
                    set: function(e) {
                        if (e < 0 || 100 < e) throw new Error("Position must be between 0 and 100.");
                        p = e, this.hasBeenReset = !0
                    }
                },
                positionAlign: {
                    enumerable: !0,
                    get: function() {
                        return f
                    },
                    set: function(e) {
                        var t = Bi(e);
                        if (!t) throw new SyntaxError("An invalid or illegal string was specified.");
                        f = t, this.hasBeenReset = !0
                    }
                },
                size: {
                    enumerable: !0,
                    get: function() {
                        return m
                    },
                    set: function(e) {
                        if (e < 0 || 100 < e) throw new Error("Size must be between 0 and 100.");
                        m = e, this.hasBeenReset = !0
                    }
                },
                align: {
                    enumerable: !0,
                    get: function() {
                        return g
                    },
                    set: function(e) {
                        var t = Bi(e);
                        if (!t) throw new SyntaxError("An invalid or illegal string was specified.");
                        g = t, this.hasBeenReset = !0
                    }
                }
            }), this.displayState = void 0
        }
        Vi.prototype.getCueAsHTML = function() {
            return WebVTT.convertCueToDOMTree(window, this.text)
        };
        var ji = Vi,
            zi = {
                "": !0,
                up: !0
            };

        function qi(e) {
            return "number" == typeof e && 0 <= e && e <= 100
        }
        var Hi = function() {
                var e = 100,
                    t = 3,
                    i = 0,
                    n = 100,
                    r = 0,
                    a = 100,
                    o = "";
                Object.defineProperties(this, {
                    width: {
                        enumerable: !0,
                        get: function() {
                            return e
                        },
                        set: function(t) {
                            if (!qi(t)) throw new Error("Width must be between 0 and 100.");
                            e = t
                        }
                    },
                    lines: {
                        enumerable: !0,
                        get: function() {
                            return t
                        },
                        set: function(e) {
                            if ("number" != typeof e) throw new TypeError("Lines must be set to a number.");
                            t = e
                        }
                    },
                    regionAnchorY: {
                        enumerable: !0,
                        get: function() {
                            return n
                        },
                        set: function(e) {
                            if (!qi(e)) throw new Error("RegionAnchorX must be between 0 and 100.");
                            n = e
                        }
                    },
                    regionAnchorX: {
                        enumerable: !0,
                        get: function() {
                            return i
                        },
                        set: function(e) {
                            if (!qi(e)) throw new Error("RegionAnchorY must be between 0 and 100.");
                            i = e
                        }
                    },
                    viewportAnchorY: {
                        enumerable: !0,
                        get: function() {
                            return a
                        },
                        set: function(e) {
                            if (!qi(e)) throw new Error("ViewportAnchorY must be between 0 and 100.");
                            a = e
                        }
                    },
                    viewportAnchorX: {
                        enumerable: !0,
                        get: function() {
                            return r
                        },
                        set: function(e) {
                            if (!qi(e)) throw new Error("ViewportAnchorX must be between 0 and 100.");
                            r = e
                        }
                    },
                    scroll: {
                        enumerable: !0,
                        get: function() {
                            return o
                        },
                        set: function(e) {
                            var t, i = "string" == typeof(t = e) && !!zi[t.toLowerCase()] && t.toLowerCase();
                            if (!1 === i) throw new SyntaxError("An invalid or illegal string was specified.");
                            o = i
                        }
                    }
                })
            },
            Gi = Kt(function(e) {
                var t = e.exports = {
                    WebVTT: Ui,
                    VTTCue: ji,
                    VTTRegion: Hi
                };
                i.vttjs = t, i.WebVTT = t.WebVTT;
                var n = t.VTTCue,
                    r = t.VTTRegion,
                    a = i.VTTCue,
                    o = i.VTTRegion;
                t.shim = function() {
                    i.VTTCue = n, i.VTTRegion = r
                }, t.restore = function() {
                    i.VTTCue = a, i.VTTRegion = o
                }, i.VTTCue || t.shim()
            }),
            Wi = function(e) {
                function n(t, i) {
                    var n;
                    return void 0 === t && (t = {}), void 0 === i && (i = function() {}), t.reportTouchActivity = !1, (n = e.call(this, null, t, i) || this).hasStarted_ = !1, n.on("playing", function() {
                        this.hasStarted_ = !0
                    }), n.on("loadstart", function() {
                        this.hasStarted_ = !1
                    }), yi.names.forEach(function(e) {
                        var i = yi[e];
                        t && t[i.getterName] && (n[i.privateName] = t[i.getterName])
                    }), n.featuresProgressEvents || n.manualProgressOn(), n.featuresTimeupdateEvents || n.manualTimeUpdatesOn(), ["Text", "Audio", "Video"].forEach(function(e) {
                        !1 === t["native" + e + "Tracks"] && (n["featuresNative" + e + "Tracks"] = !1)
                    }), !1 === t.nativeCaptions || !1 === t.nativeTextTracks ? n.featuresNativeTextTracks = !1 : !0 !== t.nativeCaptions && !0 !== t.nativeTextTracks || (n.featuresNativeTextTracks = !0), n.featuresNativeTextTracks || n.emulateTextTracks(), n.autoRemoteTextTracks_ = new yi.text.ListClass, n.initTrackListeners(), t.nativeControlsForTouch || n.emitTapEvents(), n.constructor && (n.name_ = n.constructor.name || "Unknown Tech"), n
                }
                r(n, e);
                var a = n.prototype;
                return a.triggerSourceset = function(e) {
                    var t = this;
                    this.isReady_ || this.one("ready", function() {
                        return t.setTimeout(function() {
                            return t.triggerSourceset(e)
                        }, 1)
                    }), this.trigger({
                        src: e,
                        type: "sourceset"
                    })
                }, a.manualProgressOn = function() {
                    this.on("durationchange", this.onDurationChange), this.manualProgress = !0, this.one("ready", this.trackProgress)
                }, a.manualProgressOff = function() {
                    this.manualProgress = !1, this.stopTrackingProgress(), this.off("durationchange", this.onDurationChange)
                }, a.trackProgress = function(e) {
                    this.stopTrackingProgress(), this.progressInterval = this.setInterval(Ee(this, function() {
                        var e = this.bufferedPercent();
                        this.bufferedPercent_ !== e && this.trigger("progress"), 1 === (this.bufferedPercent_ = e) && this.stopTrackingProgress()
                    }), 500)
                }, a.onDurationChange = function(e) {
                    this.duration_ = this.duration()
                }, a.buffered = function() {
                    return ht(0, 0)
                }, a.bufferedPercent = function() {
                    return pt(this.buffered(), this.duration_)
                }, a.stopTrackingProgress = function() {
                    this.clearInterval(this.progressInterval)
                }, a.manualTimeUpdatesOn = function() {
                    this.manualTimeUpdates = !0, this.on("play", this.trackCurrentTime), this.on("pause", this.stopTrackingCurrentTime)
                }, a.manualTimeUpdatesOff = function() {
                    this.manualTimeUpdates = !1, this.stopTrackingCurrentTime(), this.off("play", this.trackCurrentTime), this.off("pause", this.stopTrackingCurrentTime)
                }, a.trackCurrentTime = function() {
                    this.currentTimeInterval && this.stopTrackingCurrentTime(), this.currentTimeInterval = this.setInterval(function() {
                        this.trigger({
                            type: "timeupdate",
                            target: this,
                            manuallyTriggered: !0
                        })
                    }, 250)
                }, a.stopTrackingCurrentTime = function() {
                    this.clearInterval(this.currentTimeInterval), this.trigger({
                        type: "timeupdate",
                        target: this,
                        manuallyTriggered: !0
                    })
                }, a.dispose = function() {
                    this.clearTracks(mi.names), this.manualProgress && this.manualProgressOff(), this.manualTimeUpdates && this.manualTimeUpdatesOff(), e.prototype.dispose.call(this)
                }, a.clearTracks = function(e) {
                    var t = this;
                    (e = [].concat(e)).forEach(function(e) {
                        for (var i = t[e + "Tracks"]() || [], n = i.length; n--;) {
                            var r = i[n];
                            "text" === e && t.removeRemoteTextTrack(r), i.removeTrack(r)
                        }
                    })
                }, a.cleanupAutoTextTracks = function() {
                    for (var e = this.autoRemoteTextTracks_ || [], t = e.length; t--;) this.removeRemoteTextTrack(e[t])
                }, a.reset = function() {}, a.error = function(e) {
                    return void 0 !== e && (this.error_ = new _t(e), this.trigger("error")), this.error_
                }, a.played = function() {
                    return this.hasStarted_ ? ht(0, 0) : ht()
                }, a.setCurrentTime = function() {
                    this.manualTimeUpdates && this.trigger({
                        type: "timeupdate",
                        target: this,
                        manuallyTriggered: !0
                    })
                }, a.initTrackListeners = function() {
                    var e = this;
                    mi.names.forEach(function(t) {
                        var i = function() {
                                e.trigger(t + "trackchange")
                            },
                            n = e[mi[t].getterName]();
                        n.addEventListener("removetrack", i), n.addEventListener("addtrack", i), e.on("dispose", function() {
                            n.removeEventListener("removetrack", i), n.removeEventListener("addtrack", i)
                        })
                    })
                }, a.addWebVttScript_ = function() {
                    var e = this;
                    if (!i.WebVTT)
                        if (t.body.contains(this.el())) {
                            if (!this.options_["vtt.js"] && v(Gi) && 0 < Object.keys(Gi).length) return void this.trigger("vttjsloaded");
                            var n = t.createElement("script");
                            n.src = this.options_["vtt.js"] || "https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js", n.onload = function() {
                                e.trigger("vttjsloaded")
                            }, n.onerror = function() {
                                e.trigger("vttjserror")
                            }, this.on("dispose", function() {
                                n.onload = null, n.onerror = null
                            }), i.WebVTT = !0, this.el().parentNode.appendChild(n)
                        } else this.ready(this.addWebVttScript_)
                }, a.emulateTextTracks = function() {
                    var e = this,
                        t = this.textTracks(),
                        i = this.remoteTextTracks(),
                        n = function(e) {
                            return t.addTrack(e.track)
                        },
                        r = function(e) {
                            return t.removeTrack(e.track)
                        };
                    i.on("addtrack", n), i.on("removetrack", r), this.addWebVttScript_();
                    var a = function() {
                            return e.trigger("texttrackchange")
                        },
                        o = function() {
                            a();
                            for (var e = 0; e < t.length; e++) {
                                var i = t[e];
                                i.removeEventListener("cuechange", a), "showing" === i.mode && i.addEventListener("cuechange", a)
                            }
                        };
                    o(), t.addEventListener("change", o), t.addEventListener("addtrack", o), t.addEventListener("removetrack", o), this.on("dispose", function() {
                        i.off("addtrack", n), i.off("removetrack", r), t.removeEventListener("change", o), t.removeEventListener("addtrack", o), t.removeEventListener("removetrack", o);
                        for (var e = 0; e < t.length; e++) t[e].removeEventListener("cuechange", a)
                    })
                }, a.addTextTrack = function(e, t, i) {
                    if (!e) throw new Error("TextTrack kind is required but was not provided");
                    return function(e, t, i, n, r) {
                        void 0 === r && (r = {});
                        var a = e.textTracks();
                        r.kind = t, i && (r.label = i), n && (r.language = n), r.tech = e;
                        var o = new yi.text.TrackClass(r);
                        return a.addTrack(o), o
                    }(this, e, t, i)
                }, a.createRemoteTextTrack = function(e) {
                    var t = Fe(e, {
                        tech: this
                    });
                    return new gi.remoteTextEl.TrackClass(t)
                }, a.addRemoteTextTrack = function(e, t) {
                    var i = this;
                    void 0 === e && (e = {});
                    var n = this.createRemoteTextTrack(e);
                    return !0 !== t && !1 !== t && (u.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'), t = !0), this.remoteTextTrackEls().addTrackElement_(n), this.remoteTextTracks().addTrack(n.track), !0 !== t && this.ready(function() {
                        return i.autoRemoteTextTracks_.addTrack(n.track)
                    }), n
                }, a.removeRemoteTextTrack = function(e) {
                    var t = this.remoteTextTrackEls().getTrackElementByTrack_(e);
                    this.remoteTextTrackEls().removeTrackElement_(t), this.remoteTextTracks().removeTrack(e), this.autoRemoteTextTracks_.removeTrack(e)
                }, a.getVideoPlaybackQuality = function() {
                    return {}
                }, a.setPoster = function() {}, a.playsinline = function() {}, a.setPlaysinline = function() {}, a.overrideNativeAudioTracks = function() {}, a.overrideNativeVideoTracks = function() {}, a.canPlayType = function() {
                    return ""
                }, n.canPlayType = function() {
                    return ""
                }, n.canPlaySource = function(e, t) {
                    return n.canPlayType(e.type)
                }, n.isTech = function(e) {
                    return e.prototype instanceof n || e instanceof n || e === n
                }, n.registerTech = function(e, t) {
                    if (n.techs_ || (n.techs_ = {}), !n.isTech(t)) throw new Error("Tech " + e + " must be a Tech");
                    if (!n.canPlayType) throw new Error("Techs must have a static canPlayType method on them");
                    if (!n.canPlaySource) throw new Error("Techs must have a static canPlaySource method on them");
                    return e = Ne(e), n.techs_[e] = t, "Tech" !== e && n.defaultTechOrder_.push(e), t
                }, n.getTech = function(e) {
                    if (e) return e = Ne(e), n.techs_ && n.techs_[e] ? n.techs_[e] : i && i.videojs && i.videojs[e] ? (u.warn("The " + e + " tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"), i.videojs[e]) : void 0
                }, n
            }(Be);
        yi.names.forEach(function(e) {
            var t = yi[e];
            Wi.prototype[t.getterName] = function() {
                return this[t.privateName] = this[t.privateName] || new t.ListClass, this[t.privateName]
            }
        }), Wi.prototype.featuresVolumeControl = !0, Wi.prototype.featuresMuteControl = !0, Wi.prototype.featuresFullscreenResize = !1, Wi.prototype.featuresPlaybackRate = !1, Wi.prototype.featuresProgressEvents = !1, Wi.prototype.featuresSourceset = !1, Wi.prototype.featuresTimeupdateEvents = !1, Wi.prototype.featuresNativeTextTracks = !1, Wi.withSourceHandlers = function(e) {
            e.registerSourceHandler = function(t, i) {
                var n = e.sourceHandlers;
                n || (n = e.sourceHandlers = []), void 0 === i && (i = n.length), n.splice(i, 0, t)
            }, e.canPlayType = function(t) {
                for (var i, n = e.sourceHandlers || [], r = 0; r < n.length; r++)
                    if (i = n[r].canPlayType(t)) return i;
                return ""
            }, e.selectSourceHandler = function(t, i) {
                for (var n = e.sourceHandlers || [], r = 0; r < n.length; r++)
                    if (n[r].canHandleSource(t, i)) return n[r];
                return null
            }, e.canPlaySource = function(t, i) {
                var n = e.selectSourceHandler(t, i);
                return n ? n.canHandleSource(t, i) : ""
            }, ["seekable", "seeking", "duration"].forEach(function(e) {
                var t = this[e];
                "function" == typeof t && (this[e] = function() {
                    return this.sourceHandler_ && this.sourceHandler_[e] ? this.sourceHandler_[e].apply(this.sourceHandler_, arguments) : t.apply(this, arguments)
                })
            }, e.prototype), e.prototype.setSource = function(t) {
                var i = e.selectSourceHandler(t, this.options_);
                i || (e.nativeSourceHandler ? i = e.nativeSourceHandler : u.error("No source handler found for the current source.")), this.disposeSourceHandler(), this.off("dispose", this.disposeSourceHandler), i !== e.nativeSourceHandler && (this.currentSource_ = t), this.sourceHandler_ = i.handleSource(t, this, this.options_), this.on("dispose", this.disposeSourceHandler)
            }, e.prototype.disposeSourceHandler = function() {
                this.currentSource_ && (this.clearTracks(["audio", "video"]), this.currentSource_ = null), this.cleanupAutoTextTracks(), this.sourceHandler_ && (this.sourceHandler_.dispose && this.sourceHandler_.dispose(), this.sourceHandler_ = null)
            }
        }, Be.registerComponent("Tech", Wi), Wi.registerTech("Tech", Wi), Wi.defaultTechOrder_ = [];
        var Yi = {},
            Ki = {},
            Xi = {};

        function Ji(e, t, i, n) {
            void 0 === n && (n = null);
            var r = "call" + Ne(i),
                a = e.reduce(en(r), n),
                o = a === Xi,
                s = o ? null : t[i](a);
            return function(e, t, i, n) {
                for (var r = e.length - 1; 0 <= r; r--) {
                    var a = e[r];
                    a[t] && a[t](n, i)
                }
            }(e, i, s, o), s
        }
        var $i = {
                buffered: 1,
                currentTime: 1,
                duration: 1,
                seekable: 1,
                played: 1,
                paused: 1
            },
            Qi = {
                setCurrentTime: 1
            },
            Zi = {
                play: 1,
                pause: 1
            };

        function en(e) {
            return function(t, i) {
                return t === Xi ? Xi : i[e] ? i[e](t) : t
            }
        }
        var tn = {
                opus: "video/ogg",
                ogv: "video/ogg",
                mp4: "video/mp4",
                mov: "video/mp4",
                m4v: "video/mp4",
                mkv: "video/x-matroska",
                mp3: "audio/mpeg",
                aac: "audio/aac",
                oga: "audio/ogg",
                m3u8: "application/x-mpegURL"
            },
            nn = function(e) {
                void 0 === e && (e = "");
                var t = qt(e);
                return tn[t.toLowerCase()] || ""
            };

        function rn(e) {
            var t = nn(e.src);
            return !e.type && t && (e.type = t), e
        }
        var an = function(e) {
            function t(t, i, n) {
                var r, a = Fe({
                    createEl: !1
                }, i);
                if (r = e.call(this, t, a, n) || this, i.playerOptions.sources && 0 !== i.playerOptions.sources.length) t.src(i.playerOptions.sources);
                else
                    for (var o = 0, s = i.playerOptions.techOrder; o < s.length; o++) {
                        var l = Ne(s[o]),
                            c = Wi.getTech(l);
                        if (l || (c = Be.getComponent(l)), c && c.isSupported()) {
                            t.loadTech_(l);
                            break
                        }
                    }
                return r
            }
            return r(t, e), t
        }(Be);
        Be.registerComponent("MediaLoader", an);
        var on = function(e) {
            function i(t, i) {
                var n;
                return (n = e.call(this, t, i) || this).emitTapEvents(), n.enable(), n
            }
            r(i, e);
            var n = i.prototype;
            return n.createEl = function(t, i, n) {
                void 0 === t && (t = "div"), void 0 === i && (i = {}), void 0 === n && (n = {}), i = g({
                    innerHTML: '<span aria-hidden="true" class="vjs-icon-placeholder"></span>',
                    className: this.buildCSSClass(),
                    tabIndex: 0
                }, i), "button" === t && u.error("Creating a ClickableComponent with an HTML element of " + t + " is not supported; use a Button instead."), n = g({
                    role: "button"
                }, n), this.tabIndex_ = i.tabIndex;
                var r = e.prototype.createEl.call(this, t, i, n);
                return this.createControlTextEl(r), r
            }, n.dispose = function() {
                this.controlTextEl_ = null, e.prototype.dispose.call(this)
            }, n.createControlTextEl = function(e) {
                return this.controlTextEl_ = P("span", {
                    className: "vjs-control-text"
                }, {
                    "aria-live": "polite"
                }), e && e.appendChild(this.controlTextEl_), this.controlText(this.controlText_, e), this.controlTextEl_
            }, n.controlText = function(e, t) {
                if (void 0 === t && (t = this.el()), void 0 === e) return this.controlText_ || "Need Text";
                var i = this.localize(e);
                this.controlText_ = e, A(this.controlTextEl_, i), this.nonIconControl || t.setAttribute("title", i)
            }, n.buildCSSClass = function() {
                return "vjs-control vjs-button " + e.prototype.buildCSSClass.call(this)
            }, n.enable = function() {
                this.enabled_ || (this.enabled_ = !0, this.removeClass("vjs-disabled"), this.el_.setAttribute("aria-disabled", "false"), void 0 !== this.tabIndex_ && this.el_.setAttribute("tabIndex", this.tabIndex_), this.on(["tap", "click"], this.handleClick), this.on("focus", this.handleFocus), this.on("blur", this.handleBlur))
            }, n.disable = function() {
                this.enabled_ = !1, this.addClass("vjs-disabled"), this.el_.setAttribute("aria-disabled", "true"), void 0 !== this.tabIndex_ && this.el_.removeAttribute("tabIndex"), this.off(["tap", "click"], this.handleClick), this.off("focus", this.handleFocus), this.off("blur", this.handleBlur)
            }, n.handleClick = function(e) {}, n.handleFocus = function(e) {
                de(t, "keydown", Ee(this, this.handleKeyPress))
            }, n.handleKeyPress = function(t) {
                32 === t.which || 13 === t.which ? (t.preventDefault(), this.trigger("click")) : e.prototype.handleKeyPress && e.prototype.handleKeyPress.call(this, t)
            }, n.handleBlur = function(e) {
                he(t, "keydown", Ee(this, this.handleKeyPress))
            }, i
        }(Be);
        Be.registerComponent("ClickableComponent", on);
        var sn = function(e) {
            function t(t, i) {
                var n;
                return (n = e.call(this, t, i) || this).update(), t.on("posterchange", Ee(s(s(n)), n.update)), n
            }
            r(t, e);
            var i = t.prototype;
            return i.dispose = function() {
                this.player().off("posterchange", this.update), e.prototype.dispose.call(this)
            }, i.createEl = function() {
                return P("div", {
                    className: "vjs-poster",
                    tabIndex: -1
                })
            }, i.update = function(e) {
                var t = this.player().poster();
                this.setSrc(t), t ? this.show() : this.hide()
            }, i.setSrc = function(e) {
                var t = "";
                e && (t = 'url("' + e + '")'), this.el_.style.backgroundImage = t
            }, i.handleClick = function(e) {
                this.player_.controls() && (this.player_.paused() ? Et(this.player_.play()) : this.player_.pause())
            }, t
        }(on);
        Be.registerComponent("PosterImage", sn);
        var ln = "#222",
            cn = {
                monospace: "monospace",
                sansSerif: "sans-serif",
                serif: "serif",
                monospaceSansSerif: '"Andale Mono", "Lucida Console", monospace',
                monospaceSerif: '"Courier New", monospace',
                proportionalSansSerif: "sans-serif",
                proportionalSerif: "serif",
                casual: '"Comic Sans MS", Impact, fantasy',
                script: '"Monotype Corsiva", cursive',
                smallcaps: '"Andale Mono", "Lucida Console", monospace, sans-serif'
            };

        function un(e, t) {
            var i;
            if (4 === e.length) i = e[1] + e[1] + e[2] + e[2] + e[3] + e[3];
            else {
                if (7 !== e.length) throw new Error("Invalid color code provided, " + e + "; must be formatted as e.g. #f0e or #f604e2.");
                i = e.slice(1)
            }
            return "rgba(" + parseInt(i.slice(0, 2), 16) + "," + parseInt(i.slice(2, 4), 16) + "," + parseInt(i.slice(4, 6), 16) + "," + t + ")"
        }

        function dn(e, t, i) {
            try {
                e.style[t] = i
            } catch (e) {
                return
            }
        }
        var hn = function(e) {
            function t(t, n, r) {
                var a;
                a = e.call(this, t, n, r) || this;
                var o = Ee(s(s(a)), a.updateDisplay);
                return t.on("loadstart", Ee(s(s(a)), a.toggleDisplay)), t.on("texttrackchange", o), t.on("loadedmetadata", Ee(s(s(a)), a.preselectTrack)), t.ready(Ee(s(s(a)), function() {
                    if (t.tech_ && t.tech_.featuresNativeTextTracks) this.hide();
                    else {
                        t.on("fullscreenchange", o), t.on("playerresize", o), i.addEventListener("orientationchange", o), t.on("dispose", function() {
                            return i.removeEventListener("orientationchange", o)
                        });
                        for (var e = this.options_.playerOptions.tracks || [], n = 0; n < e.length; n++) this.player_.addRemoteTextTrack(e[n], !0);
                        this.preselectTrack()
                    }
                })), a
            }
            r(t, e);
            var n = t.prototype;
            return n.preselectTrack = function() {
                for (var e, t, i, n = {
                        captions: 1,
                        subtitles: 1
                    }, r = this.player_.textTracks(), a = this.player_.cache_.selectedLanguage, o = 0; o < r.length; o++) {
                    var s = r[o];
                    a && a.enabled && a.language && a.language === s.language && s.kind in n ? s.kind === a.kind ? i = s : i || (i = s) : a && !a.enabled ? t = e = i = null : s.default && ("descriptions" !== s.kind || e ? s.kind in n && !t && (t = s) : e = s)
                }
                i ? i.mode = "showing" : t ? t.mode = "showing" : e && (e.mode = "showing")
            }, n.toggleDisplay = function() {
                this.player_.tech_ && this.player_.tech_.featuresNativeTextTracks ? this.hide() : this.show()
            }, n.createEl = function() {
                return e.prototype.createEl.call(this, "div", {
                    className: "vjs-text-track-display"
                }, {
                    "aria-live": "off",
                    "aria-atomic": "true"
                })
            }, n.clearDisplay = function() {
                "function" == typeof i.WebVTT && i.WebVTT.processCues(i, [], this.el_)
            }, n.updateDisplay = function() {
                var e = this.player_.textTracks();
                this.clearDisplay();
                for (var t = null, i = null, n = e.length; n--;) {
                    var r = e[n];
                    "showing" === r.mode && ("descriptions" === r.kind ? t = r : i = r)
                }
                i ? ("off" !== this.getAttribute("aria-live") && this.setAttribute("aria-live", "off"), this.updateForTrack(i)) : t && ("assertive" !== this.getAttribute("aria-live") && this.setAttribute("aria-live", "assertive"), this.updateForTrack(t))
            }, n.updateForTrack = function(e) {
                if ("function" == typeof i.WebVTT && e.activeCues) {
                    for (var t = [], n = 0; n < e.activeCues.length; n++) t.push(e.activeCues[n]);
                    if (i.WebVTT.processCues(i, t, this.el_), this.player_.textTrackSettings)
                        for (var r = this.player_.textTrackSettings.getValues(), a = t.length; a--;) {
                            var o = t[a];
                            if (o) {
                                var s = o.displayState;
                                if (r.color && (s.firstChild.style.color = r.color), r.textOpacity && dn(s.firstChild, "color", un(r.color || "#fff", r.textOpacity)), r.backgroundColor && (s.firstChild.style.backgroundColor = r.backgroundColor), r.backgroundOpacity && dn(s.firstChild, "backgroundColor", un(r.backgroundColor || "#000", r.backgroundOpacity)), r.windowColor && (r.windowOpacity ? dn(s, "backgroundColor", un(r.windowColor, r.windowOpacity)) : s.style.backgroundColor = r.windowColor), r.edgeStyle && ("dropshadow" === r.edgeStyle ? s.firstChild.style.textShadow = "2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px " + ln : "raised" === r.edgeStyle ? s.firstChild.style.textShadow = "1px 1px #222, 2px 2px #222, 3px 3px " + ln : "depressed" === r.edgeStyle ? s.firstChild.style.textShadow = "1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px " + ln : "uniform" === r.edgeStyle && (s.firstChild.style.textShadow = "0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px " + ln)), r.fontPercent && 1 !== r.fontPercent) {
                                    var l = i.parseFloat(s.style.fontSize);
                                    s.style.fontSize = l * r.fontPercent + "px", s.style.height = "auto", s.style.top = "auto", s.style.bottom = "2px"
                                }
                                r.fontFamily && "default" !== r.fontFamily && ("small-caps" === r.fontFamily ? s.firstChild.style.fontVariant = "small-caps" : s.firstChild.style.fontFamily = cn[r.fontFamily])
                            }
                        }
                }
            }, t
        }(Be);
        Be.registerComponent("TextTrackDisplay", hn);
        var pn = function(e) {
            function t() {
                return e.apply(this, arguments) || this
            }
            return r(t, e), t.prototype.createEl = function() {
                var t = this.player_.isAudio(),
                    i = this.localize(t ? "Audio Player" : "Video Player"),
                    n = P("span", {
                        className: "vjs-control-text",
                        innerHTML: this.localize("{1} is loading.", [i])
                    }),
                    r = e.prototype.createEl.call(this, "div", {
                        className: "vjs-loading-spinner",
                        dir: "ltr"
                    });
                return r.appendChild(n), r
            }, t
        }(Be);
        Be.registerComponent("LoadingSpinner", pn);
        var fn = function(e) {
            function t() {
                return e.apply(this, arguments) || this
            }
            r(t, e);
            var i = t.prototype;
            return i.createEl = function(e, t, i) {
                void 0 === t && (t = {}), void 0 === i && (i = {}), t = g({
                    innerHTML: '<span aria-hidden="true" class="vjs-icon-placeholder"></span>',
                    className: this.buildCSSClass()
                }, t), i = g({
                    type: "button"
                }, i);
                var n = Be.prototype.createEl.call(this, "button", t, i);
                return this.createControlTextEl(n), n
            }, i.addChild = function(e, t) {
                return void 0 === t && (t = {}), u.warn("Adding an actionable (user controllable) child to a Button (" + this.constructor.name + ") is not supported; use a ClickableComponent instead."), Be.prototype.addChild.call(this, e, t)
            }, i.enable = function() {
                e.prototype.enable.call(this), this.el_.removeAttribute("disabled")
            }, i.disable = function() {
                e.prototype.disable.call(this), this.el_.setAttribute("disabled", "disabled")
            }, i.handleKeyPress = function(t) {
                32 !== t.which && 13 !== t.which && e.prototype.handleKeyPress.call(this, t)
            }, t
        }(on);
        Be.registerComponent("Button", fn);
        var mn = function(e) {
            function t(t, i) {
                var n;
                return (n = e.call(this, t, i) || this).mouseused_ = !1, n.on("mousedown", n.handleMouseDown), n
            }
            r(t, e);
            var i = t.prototype;
            return i.buildCSSClass = function() {
                return "vjs-big-play-button"
            }, i.handleClick = function(e) {
                var t = this.player_.play();
                if (this.mouseused_ && e.clientX && e.clientY) Et(t);
                else {
                    var i = this.player_.getChild("controlBar"),
                        n = i && i.getChild("playToggle");
                    if (n) {
                        var r = function() {
                            return n.focus()
                        };
                        St(t) ? t.then(r, function() {}) : this.setTimeout(r, 1)
                    } else this.player_.focus()
                }
            }, i.handleKeyPress = function(t) {
                this.mouseused_ = !1, e.prototype.handleKeyPress.call(this, t)
            }, i.handleMouseDown = function(e) {
                this.mouseused_ = !0
            }, t
        }(fn);
        mn.prototype.controlText_ = "Play Video", Be.registerComponent("BigPlayButton", mn);
        var gn = function(e) {
            function t(t, i) {
                var n;
                return (n = e.call(this, t, i) || this).controlText(i && i.controlText || n.localize("Close")), n
            }
            r(t, e);
            var i = t.prototype;
            return i.buildCSSClass = function() {
                return "vjs-close-button " + e.prototype.buildCSSClass.call(this)
            }, i.handleClick = function(e) {
                this.trigger({
                    type: "close",
                    bubbles: !1
                })
            }, t
        }(fn);
        Be.registerComponent("CloseButton", gn);
        var yn = function(e) {
            function t(t, i) {
                var n;
                return void 0 === i && (i = {}), n = e.call(this, t, i) || this, i.replay = void 0 === i.replay || i.replay, n.on(t, "play", n.handlePlay), n.on(t, "pause", n.handlePause), i.replay && n.on(t, "ended", n.handleEnded), n
            }
            r(t, e);
            var i = t.prototype;
            return i.buildCSSClass = function() {
                return "vjs-play-control " + e.prototype.buildCSSClass.call(this)
            }, i.handleClick = function(e) {
                this.player_.paused() ? this.player_.play() : this.player_.pause()
            }, i.handleSeeked = function(e) {
                this.removeClass("vjs-ended"), this.player_.paused() ? this.handlePause(e) : this.handlePlay(e)
            }, i.handlePlay = function(e) {
                this.removeClass("vjs-ended"), this.removeClass("vjs-paused"), this.addClass("vjs-playing"), this.controlText("Pause")
            }, i.handlePause = function(e) {
                this.removeClass("vjs-playing"), this.addClass("vjs-paused"), this.controlText("Play")
            }, i.handleEnded = function(e) {
                this.removeClass("vjs-playing"), this.addClass("vjs-ended"), this.controlText("Replay"), this.one(this.player_, "seeked", this.handleSeeked)
            }, t
        }(fn);
        yn.prototype.controlText_ = "Play", Be.registerComponent("PlayToggle", yn);
        var vn = function(e, t) {
                e = e < 0 ? 0 : e;
                var i = Math.floor(e % 60),
                    n = Math.floor(e / 60 % 60),
                    r = Math.floor(e / 3600),
                    a = Math.floor(t / 60 % 60),
                    o = Math.floor(t / 3600);
                return (isNaN(e) || e === 1 / 0) && (r = n = i = "-"), (r = 0 < r || 0 < o ? r + ":" : "") + (n = ((r || 10 <= a) && n < 10 ? "0" + n : n) + ":") + (i < 10 ? "0" + i : i)
            },
            bn = vn;

        function _n(e, t) {
            return void 0 === t && (t = e), bn(e, t)
        }
        var Tn = function(e) {
            function i(t, i) {
                var n;
                return (n = e.call(this, t, i) || this).throttledUpdateContent = we(Ee(s(s(n)), n.updateContent), 25), n.on(t, "timeupdate", n.throttledUpdateContent), n
            }
            r(i, e);
            var n = i.prototype;
            return n.createEl = function(t) {
                var i = this.buildCSSClass(),
                    n = e.prototype.createEl.call(this, "div", {
                        className: i + " vjs-time-control vjs-control",
                        innerHTML: '<span class="vjs-control-text" role="presentation">' + this.localize(this.labelText_) + "\xa0</span>"
                    });
                return this.contentEl_ = P("span", {
                    className: i + "-display"
                }, {
                    "aria-live": "off",
                    role: "presentation"
                }), this.updateTextNode_(), n.appendChild(this.contentEl_), n
            }, n.dispose = function() {
                this.contentEl_ = null, this.textNode_ = null, e.prototype.dispose.call(this)
            }, n.updateTextNode_ = function() {
                if (this.contentEl_) {
                    for (; this.contentEl_.firstChild;) this.contentEl_.removeChild(this.contentEl_.firstChild);
                    this.textNode_ = t.createTextNode(this.formattedTime_ || this.formatTime_(0)), this.contentEl_.appendChild(this.textNode_)
                }
            }, n.formatTime_ = function(e) {
                return _n(e)
            }, n.updateFormattedTime_ = function(e) {
                var t = this.formatTime_(e);
                t !== this.formattedTime_ && (this.formattedTime_ = t, this.requestAnimationFrame(this.updateTextNode_))
            }, n.updateContent = function(e) {}, i
        }(Be);
        Tn.prototype.labelText_ = "Time", Tn.prototype.controlText_ = "Time", Be.registerComponent("TimeDisplay", Tn);
        var Sn = function(e) {
            function t(t, i) {
                var n;
                return (n = e.call(this, t, i) || this).on(t, "ended", n.handleEnded), n
            }
            r(t, e);
            var i = t.prototype;
            return i.buildCSSClass = function() {
                return "vjs-current-time"
            }, i.updateContent = function(e) {
                var t = this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime();
                this.updateFormattedTime_(t)
            }, i.handleEnded = function(e) {
                this.player_.duration() && this.updateFormattedTime_(this.player_.duration())
            }, t
        }(Tn);
        Sn.prototype.labelText_ = "Current Time", Sn.prototype.controlText_ = "Current Time", Be.registerComponent("CurrentTimeDisplay", Sn);
        var En = function(e) {
            function t(t, i) {
                var n;
                return (n = e.call(this, t, i) || this).on(t, "durationchange", n.updateContent), n.on(t, "loadstart", n.updateContent), n.on(t, "loadedmetadata", n.throttledUpdateContent), n
            }
            r(t, e);
            var i = t.prototype;
            return i.buildCSSClass = function() {
                return "vjs-duration"
            }, i.updateContent = function(e) {
                var t = this.player_.duration();
                this.duration_ !== t && (this.duration_ = t, this.updateFormattedTime_(t))
            }, t
        }(Tn);
        En.prototype.labelText_ = "Duration", En.prototype.controlText_ = "Duration", Be.registerComponent("DurationDisplay", En);
        var wn = function(e) {
            function t() {
                return e.apply(this, arguments) || this
            }
            return r(t, e), t.prototype.createEl = function() {
                return e.prototype.createEl.call(this, "div", {
                    className: "vjs-time-control vjs-time-divider",
                    innerHTML: "<div><span>/</span></div>"
                }, {
                    "aria-hidden": !0
                })
            }, t
        }(Be);
        Be.registerComponent("TimeDivider", wn);
        var Cn = function(e) {
            function t(t, i) {
                var n;
                return (n = e.call(this, t, i) || this).on(t, "durationchange", n.throttledUpdateContent), n.on(t, "ended", n.handleEnded), n
            }
            r(t, e);
            var i = t.prototype;
            return i.buildCSSClass = function() {
                return "vjs-remaining-time"
            }, i.formatTime_ = function(t) {
                return "-" + e.prototype.formatTime_.call(this, t)
            }, i.updateContent = function(e) {
                this.player_.duration() && this.updateFormattedTime_(this.player_.remainingTimeDisplay ? this.player_.remainingTimeDisplay() : this.player_.remainingTime())
            }, i.handleEnded = function(e) {
                this.player_.duration() && this.updateFormattedTime_(0)
            }, t
        }(Tn);
        Cn.prototype.labelText_ = "Remaining Time", Cn.prototype.controlText_ = "Remaining Time", Be.registerComponent("RemainingTimeDisplay", Cn);
        var kn = function(e) {
            function t(t, i) {
                var n;
                return (n = e.call(this, t, i) || this).updateShowing(), n.on(n.player(), "durationchange", n.updateShowing), n
            }
            r(t, e);
            var i = t.prototype;
            return i.createEl = function() {
                var t = e.prototype.createEl.call(this, "div", {
                    className: "vjs-live-control vjs-control"
                });
                return this.contentEl_ = P("div", {
                    className: "vjs-live-display",
                    innerHTML: '<span class="vjs-control-text">' + this.localize("Stream Type") + "\xa0</span>" + this.localize("LIVE")
                }, {
                    "aria-live": "off"
                }), t.appendChild(this.contentEl_), t
            }, i.dispose = function() {
                this.contentEl_ = null, e.prototype.dispose.call(this)
            }, i.updateShowing = function(e) {
                this.player().duration() === 1 / 0 ? this.show() : this.hide()
            }, t
        }(Be);
        Be.registerComponent("LiveDisplay", kn);
        var Pn = function(e) {
            function t(t, i) {
                var n;
                return (n = e.call(this, t, i) || this).updateLiveEdgeStatus(), n.player_.liveTracker && n.on(n.player_.liveTracker, "liveedgechange", n.updateLiveEdgeStatus), n
            }
            r(t, e);
            var i = t.prototype;
            return i.createEl = function() {
                var t = e.prototype.createEl.call(this, "button", {
                    className: "vjs-seek-to-live-control vjs-control"
                });
                return this.textEl_ = P("span", {
                    className: "vjs-seek-to-live-text",
                    innerHTML: this.localize("LIVE")
                }, {
                    "aria-hidden": "true"
                }), t.appendChild(this.textEl_), t
            }, i.updateLiveEdgeStatus = function(e) {
                !this.player_.liveTracker || this.player_.liveTracker.atLiveEdge() ? (this.setAttribute("aria-disabled", !0), this.addClass("vjs-at-live-edge"), this.controlText("Seek to live, currently playing live")) : (this.setAttribute("aria-disabled", !1), this.removeClass("vjs-at-live-edge"), this.controlText("Seek to live, currently behind live"))
            }, i.handleClick = function() {
                this.player_.liveTracker.seekToLiveEdge()
            }, i.dispose = function() {
                this.player_.liveTracker && this.off(this.player_.liveTracker, "liveedgechange", this.updateLiveEdgeStatus), this.textEl_ = null, e.prototype.dispose.call(this)
            }, t
        }(fn);
        Pn.prototype.controlText_ = "Seek to live, currently playing live", Be.registerComponent("SeekToLive", Pn);
        var An = function(e) {
            function t(t, i) {
                var n;
                return (n = e.call(this, t, i) || this).bar = n.getChild(n.options_.barName), n.vertical(!!n.options_.vertical), n.enable(), n
            }
            r(t, e);
            var i = t.prototype;
            return i.enabled = function() {
                return this.enabled_
            }, i.enable = function() {
                this.enabled() || (this.on("mousedown", this.handleMouseDown), this.on("touchstart", this.handleMouseDown), this.on("focus", this.handleFocus), this.on("blur", this.handleBlur), this.on("click", this.handleClick), this.on(this.player_, "controlsvisible", this.update), this.playerEvent && this.on(this.player_, this.playerEvent, this.update), this.removeClass("disabled"), this.setAttribute("tabindex", 0), this.enabled_ = !0)
            }, i.disable = function() {
                if (this.enabled()) {
                    var e = this.bar.el_.ownerDocument;
                    this.off("mousedown", this.handleMouseDown), this.off("touchstart", this.handleMouseDown), this.off("focus", this.handleFocus), this.off("blur", this.handleBlur), this.off("click", this.handleClick), this.off(this.player_, "controlsvisible", this.update), this.off(e, "mousemove", this.handleMouseMove), this.off(e, "mouseup", this.handleMouseUp), this.off(e, "touchmove", this.handleMouseMove), this.off(e, "touchend", this.handleMouseUp), this.removeAttribute("tabindex"), this.addClass("disabled"), this.playerEvent && this.off(this.player_, this.playerEvent, this.update), this.enabled_ = !1
                }
            }, i.createEl = function(t, i, n) {
                return void 0 === i && (i = {}), void 0 === n && (n = {}), i.className = i.className + " vjs-slider", i = g({
                    tabIndex: 0
                }, i), n = g({
                    role: "slider",
                    "aria-valuenow": 0,
                    "aria-valuemin": 0,
                    "aria-valuemax": 100,
                    tabIndex: 0
                }, n), e.prototype.createEl.call(this, t, i, n)
            }, i.handleMouseDown = function(e) {
                var t = this.bar.el_.ownerDocument;
                "mousedown" === e.type && e.preventDefault(), "touchstart" !== e.type || nt || e.preventDefault(), B(), this.addClass("vjs-sliding"), this.trigger("slideractive"), this.on(t, "mousemove", this.handleMouseMove), this.on(t, "mouseup", this.handleMouseUp), this.on(t, "touchmove", this.handleMouseMove), this.on(t, "touchend", this.handleMouseUp), this.handleMouseMove(e)
            }, i.handleMouseMove = function(e) {}, i.handleMouseUp = function() {
                var e = this.bar.el_.ownerDocument;
                V(), this.removeClass("vjs-sliding"), this.trigger("sliderinactive"), this.off(e, "mousemove", this.handleMouseMove), this.off(e, "mouseup", this.handleMouseUp), this.off(e, "touchmove", this.handleMouseMove), this.off(e, "touchend", this.handleMouseUp), this.update()
            }, i.update = function() {
                if (this.el_) {
                    var e = this.getPercent(),
                        t = this.bar;
                    if (t) {
                        ("number" != typeof e || e != e || e < 0 || e === 1 / 0) && (e = 0);
                        var i = (100 * e).toFixed(2) + "%",
                            n = t.el().style;
                        return this.vertical() ? n.height = i : n.width = i, e
                    }
                }
            }, i.calculateDistance = function(e) {
                var t = q(this.el_, e);
                return this.vertical() ? t.y : t.x
            }, i.handleFocus = function() {
                this.on(this.bar.el_.ownerDocument, "keydown", this.handleKeyPress)
            }, i.handleKeyPress = function(e) {
                37 === e.which || 40 === e.which ? (e.preventDefault(), this.stepBack()) : 38 !== e.which && 39 !== e.which || (e.preventDefault(), this.stepForward())
            }, i.handleBlur = function() {
                this.off(this.bar.el_.ownerDocument, "keydown", this.handleKeyPress)
            }, i.handleClick = function(e) {
                e.stopImmediatePropagation(), e.preventDefault()
            }, i.vertical = function(e) {
                if (void 0 === e) return this.vertical_ || !1;
                this.vertical_ = !!e, this.addClass(this.vertical_ ? "vjs-slider-vertical" : "vjs-slider-horizontal")
            }, t
        }(Be);
        Be.registerComponent("Slider", An);
        var In = function(e) {
            function t(t, i) {
                var n;
                return (n = e.call(this, t, i) || this).partEls_ = [], n.on(t, "progress", n.update), n
            }
            r(t, e);
            var i = t.prototype;
            return i.createEl = function() {
                return e.prototype.createEl.call(this, "div", {
                    className: "vjs-load-progress",
                    innerHTML: '<span class="vjs-control-text"><span>' + this.localize("Loaded") + '</span>: <span class="vjs-control-text-loaded-percentage">0%</span></span>'
                })
            }, i.dispose = function() {
                this.partEls_ = null, e.prototype.dispose.call(this)
            }, i.update = function(e) {
                var t = this.player_.liveTracker,
                    i = this.player_.buffered(),
                    n = t && t.isLive() ? t.seekableEnd() : this.player_.duration(),
                    r = this.player_.bufferedEnd(),
                    a = this.partEls_,
                    o = this.$(".vjs-control-text-loaded-percentage"),
                    s = function(e, t, i) {
                        var n = e / t || 0;
                        return n = 100 * (1 <= n ? 1 : n), i && (n = n.toFixed(2)), n + "%"
                    };
                this.el_.style.width = s(r, n), A(o, s(r, n, !0));
                for (var l = 0; l < i.length; l++) {
                    var c = i.start(l),
                        u = i.end(l),
                        d = a[l];
                    d || (d = this.el_.appendChild(P()), a[l] = d), d.style.left = s(c, r), d.style.width = s(u - c, r)
                }
                for (var h = a.length; h > i.length; h--) this.el_.removeChild(a[h - 1]);
                a.length = i.length
            }, t
        }(Be);
        Be.registerComponent("LoadProgressBar", In);
        var Ln = function(e) {
            function t() {
                return e.apply(this, arguments) || this
            }
            r(t, e);
            var i = t.prototype;
            return i.createEl = function() {
                return e.prototype.createEl.call(this, "div", {
                    className: "vjs-time-tooltip"
                }, {
                    "aria-hidden": "true"
                })
            }, i.update = function(e, t, i) {
                var n = j(this.el_),
                    r = j(this.player_.el()),
                    a = e.width * t;
                if (r && n) {
                    var o = e.left - r.left + a,
                        s = e.width - a + (r.right - e.right),
                        l = n.width / 2;
                    o < l ? l += l - o : s < l && (l = s), l < 0 ? l = 0 : l > n.width && (l = n.width), this.el_.style.right = "-" + l + "px", A(this.el_, i)
                }
            }, i.updateTime = function(e, t, i, n) {
                var r = this;
                this.rafId_ && this.cancelAnimationFrame(this.rafId_), this.rafId_ = this.requestAnimationFrame(function() {
                    var a, o = r.player_.duration();
                    if (r.player_.liveTracker && r.player_.liveTracker.isLive()) {
                        var s = r.player_.liveTracker.liveWindow(),
                            l = s - t * s;
                        a = (l < 1 ? "" : "-") + _n(l, s)
                    } else a = _n(i, o);
                    r.update(e, t, a), n && n()
                })
            }, t
        }(Be);
        Be.registerComponent("TimeTooltip", Ln);
        var On = function(e) {
            function t() {
                return e.apply(this, arguments) || this
            }
            r(t, e);
            var i = t.prototype;
            return i.createEl = function() {
                return e.prototype.createEl.call(this, "div", {
                    className: "vjs-play-progress vjs-slider-bar"
                }, {
                    "aria-hidden": "true"
                })
            }, i.update = function(e, t) {
                var i = this.getChild("timeTooltip");
                if (i) {
                    var n = this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime();
                    i.updateTime(e, t, n)
                }
            }, t
        }(Be);
        On.prototype.options_ = {
            children: []
        }, Je || Qe || On.prototype.options_.children.push("timeTooltip"), Be.registerComponent("PlayProgressBar", On);
        var Dn = function(e) {
            function t(t, i) {
                var n;
                return (n = e.call(this, t, i) || this).update = we(Ee(s(s(n)), n.update), 25), n
            }
            r(t, e);
            var i = t.prototype;
            return i.createEl = function() {
                return e.prototype.createEl.call(this, "div", {
                    className: "vjs-mouse-display"
                })
            }, i.update = function(e, t) {
                var i = this,
                    n = t * this.player_.duration();
                this.getChild("timeTooltip").updateTime(e, t, n, function() {
                    i.el_.style.left = e.width * t + "px"
                })
            }, t
        }(Be);
        Dn.prototype.options_ = {
            children: ["timeTooltip"]
        }, Be.registerComponent("MouseTimeDisplay", Dn);
        var Rn = function(e) {
            function t(t, i) {
                var n;
                return (n = e.call(this, t, i) || this).setEventHandlers_(), n
            }
            r(t, e);
            var i = t.prototype;
            return i.setEventHandlers_ = function() {
                var e = this;
                this.update = we(Ee(this, this.update), 30), this.on(this.player_, "timeupdate", this.update), this.on(this.player_, "ended", this.handleEnded), this.on(this.player_, "durationchange", this.update), this.player_.liveTracker && this.on(this.player_.liveTracker, "liveedgechange", this.update), this.updateInterval = null, this.on(this.player_, ["playing"], function() {
                    e.clearInterval(e.updateInterval), e.updateInterval = e.setInterval(function() {
                        e.requestAnimationFrame(function() {
                            e.update()
                        })
                    }, 30)
                }), this.on(this.player_, ["ended", "pause", "waiting"], function(t) {
                    e.player_.liveTracker && e.player_.liveTracker.isLive() && "ended" !== t.type || e.clearInterval(e.updateInterval)
                }), this.on(this.player_, ["timeupdate", "ended"], this.update)
            }, i.createEl = function() {
                return e.prototype.createEl.call(this, "div", {
                    className: "vjs-progress-holder"
                }, {
                    "aria-label": this.localize("Progress Bar")
                })
            }, i.update_ = function(e, t) {
                var i = this.player_.liveTracker,
                    n = this.player_.duration();
                i && i.isLive() && (n = this.player_.liveTracker.liveCurrentTime()), i && i.seekableEnd() === 1 / 0 ? this.disable() : this.enable(), this.el_.setAttribute("aria-valuenow", (100 * t).toFixed(2)), this.el_.setAttribute("aria-valuetext", this.localize("progress bar timing: currentTime={1} duration={2}", [_n(e, n), _n(n, n)], "{1} of {2}")), this.bar.update(j(this.el_), t)
            }, i.update = function(t) {
                var i = e.prototype.update.call(this);
                return this.update_(this.getCurrentTime_(), i), i
            }, i.getCurrentTime_ = function() {
                return this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime()
            }, i.handleEnded = function(e) {
                this.update_(this.player_.duration(), 1)
            }, i.getPercent = function() {
                var e, t = this.getCurrentTime_(),
                    i = this.player_.liveTracker;
                return i && i.isLive() ? (e = (t - i.seekableStart()) / i.liveWindow(), i.atLiveEdge() && (e = 1)) : e = t / this.player_.duration(), 1 <= e ? 1 : e || 0
            }, i.handleMouseDown = function(t) {
                X(t) && (t.stopPropagation(), this.player_.scrubbing(!0), this.videoWasPlaying = !this.player_.paused(), this.player_.pause(), e.prototype.handleMouseDown.call(this, t))
            }, i.handleMouseMove = function(e) {
                if (X(e)) {
                    var t, i = this.calculateDistance(e),
                        n = this.player_.liveTracker;
                    if (n && n.isLive()) {
                        var r = n.seekableStart(),
                            a = n.liveCurrentTime();
                        if (a <= (t = r + i * n.liveWindow()) && (t = a), t <= r && (t = r + .1), t === 1 / 0) return
                    } else(t = i * this.player_.duration()) === this.player_.duration() && (t -= .1);
                    this.player_.currentTime(t)
                }
            }, i.enable = function() {
                e.prototype.enable.call(this);
                var t = this.getChild("mouseTimeDisplay");
                t && t.show()
            }, i.disable = function() {
                e.prototype.disable.call(this);
                var t = this.getChild("mouseTimeDisplay");
                t && t.hide()
            }, i.handleMouseUp = function(t) {
                e.prototype.handleMouseUp.call(this, t), t && t.stopPropagation(), this.player_.scrubbing(!1), this.player_.trigger({
                    type: "timeupdate",
                    target: this,
                    manuallyTriggered: !0
                }), this.videoWasPlaying && Et(this.player_.play())
            }, i.stepForward = function() {
                this.player_.currentTime(this.player_.currentTime() + 5)
            }, i.stepBack = function() {
                this.player_.currentTime(this.player_.currentTime() - 5)
            }, i.handleAction = function(e) {
                this.player_.paused() ? this.player_.play() : this.player_.pause()
            }, i.handleKeyPress = function(t) {
                32 === t.which || 13 === t.which ? (t.preventDefault(), this.handleAction(t)) : e.prototype.handleKeyPress && e.prototype.handleKeyPress.call(this, t)
            }, t
        }(An);
        Rn.prototype.options_ = {
            children: ["loadProgressBar", "playProgressBar"],
            barName: "playProgressBar"
        }, Je || Qe || Rn.prototype.options_.children.splice(1, 0, "mouseTimeDisplay"), Rn.prototype.playerEvent = "timeupdate", Be.registerComponent("SeekBar", Rn);
        var xn = function(e) {
            function t(t, i) {
                var n;
                return (n = e.call(this, t, i) || this).handleMouseMove = we(Ee(s(s(n)), n.handleMouseMove), 25), n.throttledHandleMouseSeek = we(Ee(s(s(n)), n.handleMouseSeek), 25), n.enable(), n
            }
            r(t, e);
            var i = t.prototype;
            return i.createEl = function() {
                return e.prototype.createEl.call(this, "div", {
                    className: "vjs-progress-control vjs-control"
                })
            }, i.handleMouseMove = function(e) {
                var t = this.getChild("seekBar");
                if (t) {
                    var i = t.getChild("mouseTimeDisplay"),
                        n = t.el(),
                        r = j(n),
                        a = q(n, e).x;
                    1 < a ? a = 1 : a < 0 && (a = 0), i && i.update(r, a)
                }
            }, i.handleMouseSeek = function(e) {
                var t = this.getChild("seekBar");
                t && t.handleMouseMove(e)
            }, i.enabled = function() {
                return this.enabled_
            }, i.disable = function() {
                this.children().forEach(function(e) {
                    return e.disable && e.disable()
                }), this.enabled() && (this.off(["mousedown", "touchstart"], this.handleMouseDown), this.off(this.el_, "mousemove", this.handleMouseMove), this.handleMouseUp(), this.addClass("disabled"), this.enabled_ = !1)
            }, i.enable = function() {
                this.children().forEach(function(e) {
                    return e.enable && e.enable()
                }), this.enabled() || (this.on(["mousedown", "touchstart"], this.handleMouseDown), this.on(this.el_, "mousemove", this.handleMouseMove), this.removeClass("disabled"), this.enabled_ = !0)
            }, i.handleMouseDown = function(e) {
                var t = this.el_.ownerDocument,
                    i = this.getChild("seekBar");
                i && i.handleMouseDown(e), this.on(t, "mousemove", this.throttledHandleMouseSeek), this.on(t, "touchmove", this.throttledHandleMouseSeek), this.on(t, "mouseup", this.handleMouseUp), this.on(t, "touchend", this.handleMouseUp)
            }, i.handleMouseUp = function(e) {
                var t = this.el_.ownerDocument,
                    i = this.getChild("seekBar");
                i && i.handleMouseUp(e), this.off(t, "mousemove", this.throttledHandleMouseSeek), this.off(t, "touchmove", this.throttledHandleMouseSeek), this.off(t, "mouseup", this.handleMouseUp), this.off(t, "touchend", this.handleMouseUp)
            }, t
        }(Be);
        xn.prototype.options_ = {
            children: ["seekBar"]
        }, Be.registerComponent("ProgressControl", xn);
        var Mn = function(e) {
            function i(i, n) {
                var r;
                return (r = e.call(this, i, n) || this).on(i, "fullscreenchange", r.handleFullscreenChange), !1 === t[mt.fullscreenEnabled] && r.disable(), r
            }
            r(i, e);
            var n = i.prototype;
            return n.buildCSSClass = function() {
                return "vjs-fullscreen-control " + e.prototype.buildCSSClass.call(this)
            }, n.handleFullscreenChange = function(e) {
                this.player_.isFullscreen() ? this.controlText("Non-Fullscreen") : this.controlText("Fullscreen")
            }, n.handleClick = function(e) {
                this.player_.isFullscreen() ? this.player_.exitFullscreen() : this.player_.requestFullscreen()
            }, i
        }(fn);
        Mn.prototype.controlText_ = "Fullscreen", Be.registerComponent("FullscreenToggle", Mn);
        var Un = function(e) {
            function t() {
                return e.apply(this, arguments) || this
            }
            return r(t, e), t.prototype.createEl = function() {
                return e.prototype.createEl.call(this, "div", {
                    className: "vjs-volume-level",
                    innerHTML: '<span class="vjs-control-text"></span>'
                })
            }, t
        }(Be);
        Be.registerComponent("VolumeLevel", Un);
        var Nn = function(e) {
            function t(t, i) {
                var n;
                return (n = e.call(this, t, i) || this).on("slideractive", n.updateLastVolume_), n.on(t, "volumechange", n.updateARIAAttributes), t.ready(function() {
                    return n.updateARIAAttributes()
                }), n
            }
            r(t, e);
            var i = t.prototype;
            return i.createEl = function() {
                return e.prototype.createEl.call(this, "div", {
                    className: "vjs-volume-bar vjs-slider-bar"
                }, {
                    "aria-label": this.localize("Volume Level"),
                    "aria-live": "polite"
                })
            }, i.handleMouseDown = function(t) {
                X(t) && e.prototype.handleMouseDown.call(this, t)
            }, i.handleMouseMove = function(e) {
                X(e) && (this.checkMuted(), this.player_.volume(this.calculateDistance(e)))
            }, i.checkMuted = function() {
                this.player_.muted() && this.player_.muted(!1)
            }, i.getPercent = function() {
                return this.player_.muted() ? 0 : this.player_.volume()
            }, i.stepForward = function() {
                this.checkMuted(), this.player_.volume(this.player_.volume() + .1)
            }, i.stepBack = function() {
                this.checkMuted(), this.player_.volume(this.player_.volume() - .1)
            }, i.updateARIAAttributes = function(e) {
                var t = this.player_.muted() ? 0 : this.volumeAsPercentage_();
                this.el_.setAttribute("aria-valuenow", t), this.el_.setAttribute("aria-valuetext", t + "%")
            }, i.volumeAsPercentage_ = function() {
                return Math.round(100 * this.player_.volume())
            }, i.updateLastVolume_ = function() {
                var e = this,
                    t = this.player_.volume();
                this.one("sliderinactive", function() {
                    0 === e.player_.volume() && e.player_.lastVolume_(t)
                })
            }, t
        }(An);
        Nn.prototype.options_ = {
            children: ["volumeLevel"],
            barName: "volumeLevel"
        }, Nn.prototype.playerEvent = "volumechange", Be.registerComponent("VolumeBar", Nn);
        var Fn = function(e) {
            function t(t, i) {
                var n, r, a;
                return void 0 === i && (i = {}), i.vertical = i.vertical || !1, (void 0 === i.volumeBar || v(i.volumeBar)) && (i.volumeBar = i.volumeBar || {}, i.volumeBar.vertical = i.vertical), n = e.call(this, t, i) || this, r = s(s(n)), (a = t).tech_ && !a.tech_.featuresVolumeControl && r.addClass("vjs-hidden"), r.on(a, "loadstart", function() {
                    a.tech_.featuresVolumeControl ? r.removeClass("vjs-hidden") : r.addClass("vjs-hidden")
                }), n.throttledHandleMouseMove = we(Ee(s(s(n)), n.handleMouseMove), 25), n.on("mousedown", n.handleMouseDown), n.on("touchstart", n.handleMouseDown), n.on(n.volumeBar, ["focus", "slideractive"], function() {
                    n.volumeBar.addClass("vjs-slider-active"), n.addClass("vjs-slider-active"), n.trigger("slideractive")
                }), n.on(n.volumeBar, ["blur", "sliderinactive"], function() {
                    n.volumeBar.removeClass("vjs-slider-active"), n.removeClass("vjs-slider-active"), n.trigger("sliderinactive")
                }), n
            }
            r(t, e);
            var i = t.prototype;
            return i.createEl = function() {
                var t = "vjs-volume-horizontal";
                return this.options_.vertical && (t = "vjs-volume-vertical"), e.prototype.createEl.call(this, "div", {
                    className: "vjs-volume-control vjs-control " + t
                })
            }, i.handleMouseDown = function(e) {
                var t = this.el_.ownerDocument;
                this.on(t, "mousemove", this.throttledHandleMouseMove), this.on(t, "touchmove", this.throttledHandleMouseMove), this.on(t, "mouseup", this.handleMouseUp), this.on(t, "touchend", this.handleMouseUp)
            }, i.handleMouseUp = function(e) {
                var t = this.el_.ownerDocument;
                this.off(t, "mousemove", this.throttledHandleMouseMove), this.off(t, "touchmove", this.throttledHandleMouseMove), this.off(t, "mouseup", this.handleMouseUp), this.off(t, "touchend", this.handleMouseUp)
            }, i.handleMouseMove = function(e) {
                this.volumeBar.handleMouseMove(e)
            }, t
        }(Be);
        Fn.prototype.options_ = {
            children: ["volumeBar"]
        }, Be.registerComponent("VolumeControl", Fn);
        var Bn = function(e) {
            function t(t, i) {
                var n, r, a;
                return n = e.call(this, t, i) || this, r = s(s(n)), (a = t).tech_ && !a.tech_.featuresMuteControl && r.addClass("vjs-hidden"), r.on(a, "loadstart", function() {
                    a.tech_.featuresMuteControl ? r.removeClass("vjs-hidden") : r.addClass("vjs-hidden")
                }), n.on(t, ["loadstart", "volumechange"], n.update), n
            }
            r(t, e);
            var i = t.prototype;
            return i.buildCSSClass = function() {
                return "vjs-mute-control " + e.prototype.buildCSSClass.call(this)
            }, i.handleClick = function(e) {
                var t = this.player_.volume(),
                    i = this.player_.lastVolume_();
                0 === t ? (this.player_.volume(i < .1 ? .1 : i), this.player_.muted(!1)) : this.player_.muted(!this.player_.muted())
            }, i.update = function(e) {
                this.updateIcon_(), this.updateControlText_()
            }, i.updateIcon_ = function() {
                var e = this.player_.volume(),
                    t = 3;
                Je && this.player_.muted(this.player_.tech_.el_.muted), 0 === e || this.player_.muted() ? t = 0 : e < .33 ? t = 1 : e < .67 && (t = 2);
                for (var i = 0; i < 4; i++) D(this.el_, "vjs-vol-" + i);
                O(this.el_, "vjs-vol-" + t)
            }, i.updateControlText_ = function() {
                var e = this.player_.muted() || 0 === this.player_.volume() ? "Unmute" : "Mute";
                this.controlText() !== e && this.controlText(e)
            }, t
        }(fn);
        Bn.prototype.controlText_ = "Mute", Be.registerComponent("MuteToggle", Bn);
        var Vn = function(e) {
            function t(t, i) {
                var n;
                return void 0 === i && (i = {}), i.inline = void 0 === i.inline || i.inline, (void 0 === i.volumeControl || v(i.volumeControl)) && (i.volumeControl = i.volumeControl || {}, i.volumeControl.vertical = !i.inline), (n = e.call(this, t, i) || this).on(t, ["loadstart"], n.volumePanelState_), n.on(n.volumeControl, ["slideractive"], n.sliderActive_), n.on(n.volumeControl, ["sliderinactive"], n.sliderInactive_), n
            }
            r(t, e);
            var i = t.prototype;
            return i.sliderActive_ = function() {
                this.addClass("vjs-slider-active")
            }, i.sliderInactive_ = function() {
                this.removeClass("vjs-slider-active")
            }, i.volumePanelState_ = function() {
                this.volumeControl.hasClass("vjs-hidden") && this.muteToggle.hasClass("vjs-hidden") && this.addClass("vjs-hidden"), this.volumeControl.hasClass("vjs-hidden") && !this.muteToggle.hasClass("vjs-hidden") && this.addClass("vjs-mute-toggle-only")
            }, i.createEl = function() {
                var t = "vjs-volume-panel-horizontal";
                return this.options_.inline || (t = "vjs-volume-panel-vertical"), e.prototype.createEl.call(this, "div", {
                    className: "vjs-volume-panel vjs-control " + t
                })
            }, t
        }(Be);
        Vn.prototype.options_ = {
            children: ["muteToggle", "volumeControl"]
        }, Be.registerComponent("VolumePanel", Vn);
        var jn = function(e) {
            function i(t, i) {
                var n;
                return n = e.call(this, t, i) || this, i && (n.menuButton_ = i.menuButton), n.focusedChild_ = -1, n.on("keydown", n.handleKeyPress), n
            }
            r(i, e);
            var n = i.prototype;
            return n.addItem = function(e) {
                this.addChild(e), e.on("blur", Ee(this, this.handleBlur)), e.on(["tap", "click"], Ee(this, function(t) {
                    this.menuButton_ && (this.menuButton_.unpressButton(), "CaptionSettingsMenuItem" !== e.name() && this.menuButton_.focus())
                }))
            }, n.createEl = function() {
                this.contentEl_ = P(this.options_.contentElType || "ul", {
                    className: "vjs-menu-content"
                }), this.contentEl_.setAttribute("role", "menu");
                var t = e.prototype.createEl.call(this, "div", {
                    append: this.contentEl_,
                    className: "vjs-menu"
                });
                return t.appendChild(this.contentEl_), de(t, "click", function(e) {
                    e.preventDefault(), e.stopImmediatePropagation()
                }), t
            }, n.dispose = function() {
                this.contentEl_ = null, e.prototype.dispose.call(this)
            }, n.handleBlur = function(e) {
                var i = e.relatedTarget || t.activeElement;
                if (!this.children().some(function(e) {
                        return e.el() === i
                    })) {
                    var n = this.menuButton_;
                    n && n.buttonPressed_ && i !== n.el().firstChild && n.unpressButton()
                }
            }, n.handleKeyPress = function(e) {
                37 === e.which || 40 === e.which ? (e.preventDefault(), this.stepForward()) : 38 !== e.which && 39 !== e.which || (e.preventDefault(), this.stepBack())
            }, n.stepForward = function() {
                var e = 0;
                void 0 !== this.focusedChild_ && (e = this.focusedChild_ + 1), this.focus(e)
            }, n.stepBack = function() {
                var e = 0;
                void 0 !== this.focusedChild_ && (e = this.focusedChild_ - 1), this.focus(e)
            }, n.focus = function(e) {
                void 0 === e && (e = 0);
                var t = this.children().slice();
                t.length && t[0].className && /vjs-menu-title/.test(t[0].className) && t.shift(), 0 < t.length && (e < 0 ? e = 0 : e >= t.length && (e = t.length - 1), t[this.focusedChild_ = e].el_.focus())
            }, i
        }(Be);
        Be.registerComponent("Menu", jn);
        var zn = function(e) {
            function i(t, i) {
                var n;
                void 0 === i && (i = {}), (n = e.call(this, t, i) || this).menuButton_ = new fn(t, i), n.menuButton_.controlText(n.controlText_), n.menuButton_.el_.setAttribute("aria-haspopup", "true");
                var r = fn.prototype.buildCSSClass();
                return n.menuButton_.el_.className = n.buildCSSClass() + " " + r, n.menuButton_.removeClass("vjs-control"), n.addChild(n.menuButton_), n.update(), n.enabled_ = !0, n.on(n.menuButton_, "tap", n.handleClick), n.on(n.menuButton_, "click", n.handleClick), n.on(n.menuButton_, "focus", n.handleFocus), n.on(n.menuButton_, "blur", n.handleBlur), n.on(n.menuButton_, "mouseenter", function() {
                    n.menu.show()
                }), n.on("keydown", n.handleSubmenuKeyPress), n
            }
            r(i, e);
            var n = i.prototype;
            return n.update = function() {
                var e = this.createMenu();
                this.menu && (this.menu.dispose(), this.removeChild(this.menu)), this.menu = e, this.addChild(e), this.buttonPressed_ = !1, this.menuButton_.el_.setAttribute("aria-expanded", "false"), this.items && this.items.length <= this.hideThreshold_ ? this.hide() : this.show()
            }, n.createMenu = function() {
                var e = new jn(this.player_, {
                    menuButton: this
                });
                if (this.hideThreshold_ = 0, this.options_.title) {
                    var t = P("li", {
                        className: "vjs-menu-title",
                        innerHTML: Ne(this.options_.title),
                        tabIndex: -1
                    });
                    this.hideThreshold_ += 1, e.children_.unshift(t), I(t, e.contentEl())
                }
                if (this.items = this.createItems(), this.items)
                    for (var i = 0; i < this.items.length; i++) e.addItem(this.items[i]);
                return e
            }, n.createItems = function() {}, n.createEl = function() {
                return e.prototype.createEl.call(this, "div", {
                    className: this.buildWrapperCSSClass()
                }, {})
            }, n.buildWrapperCSSClass = function() {
                var t = "vjs-menu-button";
                return "vjs-menu-button " + (t += !0 === this.options_.inline ? "-inline" : "-popup") + " " + fn.prototype.buildCSSClass() + " " + e.prototype.buildCSSClass.call(this)
            }, n.buildCSSClass = function() {
                var t = "vjs-menu-button";
                return "vjs-menu-button " + (t += !0 === this.options_.inline ? "-inline" : "-popup") + " " + e.prototype.buildCSSClass.call(this)
            }, n.controlText = function(e, t) {
                return void 0 === t && (t = this.menuButton_.el()), this.menuButton_.controlText(e, t)
            }, n.handleClick = function(e) {
                this.buttonPressed_ ? this.unpressButton() : this.pressButton()
            }, n.focus = function() {
                this.menuButton_.focus()
            }, n.blur = function() {
                this.menuButton_.blur()
            }, n.handleFocus = function() {
                de(t, "keydown", Ee(this, this.handleKeyPress))
            }, n.handleBlur = function() {
                he(t, "keydown", Ee(this, this.handleKeyPress))
            }, n.handleKeyPress = function(e) {
                27 === e.which || 9 === e.which ? (this.buttonPressed_ && this.unpressButton(), 9 !== e.which && (e.preventDefault(), this.menuButton_.el_.focus())) : 13 !== e.which && 38 !== e.which && 40 !== e.which || this.buttonPressed_ || (this.pressButton(), e.preventDefault())
            }, n.handleSubmenuKeyPress = function(e) {
                27 !== e.which && 9 !== e.which || (this.buttonPressed_ && this.unpressButton(), 9 !== e.which && (e.preventDefault(), this.menuButton_.el_.focus()))
            }, n.pressButton = function() {
                if (this.enabled_) {
                    if (this.buttonPressed_ = !0, this.menu.show(), this.menu.lockShowing(), this.menuButton_.el_.setAttribute("aria-expanded", "true"), Je && C()) return;
                    this.menu.focus()
                }
            }, n.unpressButton = function() {
                this.enabled_ && (this.buttonPressed_ = !1, this.menu.unlockShowing(), this.menu.hide(), this.menuButton_.el_.setAttribute("aria-expanded", "false"))
            }, n.disable = function() {
                this.unpressButton(), this.enabled_ = !1, this.addClass("vjs-disabled"), this.menuButton_.disable()
            }, n.enable = function() {
                this.enabled_ = !0, this.removeClass("vjs-disabled"), this.menuButton_.enable()
            }, i
        }(Be);
        Be.registerComponent("MenuButton", zn);
        var qn = function(e) {
            function t(t, i) {
                var n, r = i.tracks;
                if ((n = e.call(this, t, i) || this).items.length <= 1 && n.hide(), !r) return s(n);
                var a = Ee(s(s(n)), n.update);
                return r.addEventListener("removetrack", a), r.addEventListener("addtrack", a), n.player_.on("ready", a), n.player_.on("dispose", function() {
                    r.removeEventListener("removetrack", a), r.removeEventListener("addtrack", a)
                }), n
            }
            return r(t, e), t
        }(zn);
        Be.registerComponent("TrackButton", qn);
        var Hn = function(e) {
            function t(t, i) {
                var n;
                return (n = e.call(this, t, i) || this).selectable = i.selectable, n.isSelected_ = i.selected || !1, n.multiSelectable = i.multiSelectable, n.selected(n.isSelected_), n.el_.setAttribute("role", n.selectable ? n.multiSelectable ? "menuitemcheckbox" : "menuitemradio" : "menuitem"), n
            }
            r(t, e);
            var i = t.prototype;
            return i.createEl = function(t, i, n) {
                return this.nonIconControl = !0, e.prototype.createEl.call(this, "li", g({
                    className: "vjs-menu-item",
                    innerHTML: '<span class="vjs-menu-item-text">' + this.localize(this.options_.label) + "</span>",
                    tabIndex: -1
                }, i), n)
            }, i.handleClick = function(e) {
                this.selected(!0)
            }, i.selected = function(e) {
                this.selectable && (this.isSelected_ = e ? (this.addClass("vjs-selected"), this.el_.setAttribute("aria-checked", "true"), this.controlText(", selected"), !0) : (this.removeClass("vjs-selected"), this.el_.setAttribute("aria-checked", "false"), this.controlText(""), !1))
            }, t
        }(on);
        Be.registerComponent("MenuItem", Hn);
        var Gn = function(e) {
            function n(n, r) {
                var a, o = r.track,
                    l = n.textTracks();
                r.label = o.label || o.language || "Unknown", r.selected = "showing" === o.mode, (a = e.call(this, n, r) || this).track = o;
                var c, u = function() {
                        for (var e = arguments.length, t = new Array(e), i = 0; i < e; i++) t[i] = arguments[i];
                        a.handleTracksChange.apply(s(s(a)), t)
                    },
                    d = function() {
                        for (var e = arguments.length, t = new Array(e), i = 0; i < e; i++) t[i] = arguments[i];
                        a.handleSelectedLanguageChange.apply(s(s(a)), t)
                    };
                return n.on(["loadstart", "texttrackchange"], u), l.addEventListener("change", u), l.addEventListener("selectedlanguagechange", d), a.on("dispose", function() {
                    n.off(["loadstart", "texttrackchange"], u), l.removeEventListener("change", u), l.removeEventListener("selectedlanguagechange", d)
                }), void 0 === l.onchange && a.on(["tap", "click"], function() {
                    if ("object" != typeof i.Event) try {
                        c = new i.Event("change")
                    } catch (n) {}
                    c || (c = t.createEvent("Event")).initEvent("change", !0, !0), l.dispatchEvent(c)
                }), a.handleTracksChange(), a
            }
            r(n, e);
            var a = n.prototype;
            return a.handleClick = function(t) {
                var i = this.track.kind,
                    n = this.track.kinds,
                    r = this.player_.textTracks();
                if (n || (n = [i]), e.prototype.handleClick.call(this, t), r)
                    for (var a = 0; a < r.length; a++) {
                        var o = r[a];
                        o === this.track && -1 < n.indexOf(o.kind) ? "showing" !== o.mode && (o.mode = "showing") : "disabled" !== o.mode && (o.mode = "disabled")
                    }
            }, a.handleTracksChange = function(e) {
                var t = "showing" === this.track.mode;
                t !== this.isSelected_ && this.selected(t)
            }, a.handleSelectedLanguageChange = function(e) {
                if ("showing" === this.track.mode) {
                    var t = this.player_.cache_.selectedLanguage;
                    if (t && t.enabled && t.language === this.track.language && t.kind !== this.track.kind) return;
                    this.player_.cache_.selectedLanguage = {
                        enabled: !0,
                        language: this.track.language,
                        kind: this.track.kind
                    }
                }
            }, a.dispose = function() {
                this.track = null, e.prototype.dispose.call(this)
            }, n
        }(Hn);
        Be.registerComponent("TextTrackMenuItem", Gn);
        var Wn = function(e) {
            function t(t, i) {
                return i.track = {
                    player: t,
                    kind: i.kind,
                    kinds: i.kinds,
                    default: !1,
                    mode: "disabled"
                }, i.kinds || (i.kinds = [i.kind]), i.track.label = i.label ? i.label : i.kinds.join(" and ") + " off", i.selectable = !0, i.multiSelectable = !1, e.call(this, t, i) || this
            }
            r(t, e);
            var i = t.prototype;
            return i.handleTracksChange = function(e) {
                for (var t = this.player().textTracks(), i = !0, n = 0, r = t.length; n < r; n++) {
                    var a = t[n];
                    if (-1 < this.options_.kinds.indexOf(a.kind) && "showing" === a.mode) {
                        i = !1;
                        break
                    }
                }
                i !== this.isSelected_ && this.selected(i)
            }, i.handleSelectedLanguageChange = function(e) {
                for (var t = this.player().textTracks(), i = !0, n = 0, r = t.length; n < r; n++) {
                    var a = t[n];
                    if (-1 < ["captions", "descriptions", "subtitles"].indexOf(a.kind) && "showing" === a.mode) {
                        i = !1;
                        break
                    }
                }
                i && (this.player_.cache_.selectedLanguage = {
                    enabled: !1
                })
            }, t
        }(Gn);
        Be.registerComponent("OffTextTrackMenuItem", Wn);
        var Yn = function(e) {
            function t(t, i) {
                return void 0 === i && (i = {}), i.tracks = t.textTracks(), e.call(this, t, i) || this
            }
            return r(t, e), t.prototype.createItems = function(e, t) {
                var i;
                void 0 === e && (e = []), void 0 === t && (t = Gn), this.label_ && (i = this.label_ + " off"), e.push(new Wn(this.player_, {
                    kinds: this.kinds_,
                    kind: this.kind_,
                    label: i
                })), this.hideThreshold_ += 1;
                var n = this.player_.textTracks();
                Array.isArray(this.kinds_) || (this.kinds_ = [this.kind_]);
                for (var r = 0; r < n.length; r++) {
                    var a = n[r];
                    if (-1 < this.kinds_.indexOf(a.kind)) {
                        var o = new t(this.player_, {
                            track: a,
                            selectable: !0,
                            multiSelectable: !1
                        });
                        o.addClass("vjs-" + a.kind + "-menu-item"), e.push(o)
                    }
                }
                return e
            }, t
        }(qn);
        Be.registerComponent("TextTrackButton", Yn);
        var Kn = function(e) {
            function t(t, i) {
                var n, r = i.track,
                    a = i.cue,
                    o = t.currentTime();
                return i.selectable = !0, i.multiSelectable = !1, i.label = a.text, i.selected = a.startTime <= o && o < a.endTime, (n = e.call(this, t, i) || this).track = r, n.cue = a, r.addEventListener("cuechange", Ee(s(s(n)), n.update)), n
            }
            r(t, e);
            var i = t.prototype;
            return i.handleClick = function(t) {
                e.prototype.handleClick.call(this), this.player_.currentTime(this.cue.startTime), this.update(this.cue.startTime)
            }, i.update = function(e) {
                var t = this.cue,
                    i = this.player_.currentTime();
                this.selected(t.startTime <= i && i < t.endTime)
            }, t
        }(Hn);
        Be.registerComponent("ChaptersTrackMenuItem", Kn);
        var Xn = function(e) {
            function t(t, i, n) {
                return e.call(this, t, i, n) || this
            }
            r(t, e);
            var i = t.prototype;
            return i.buildCSSClass = function() {
                return "vjs-chapters-button " + e.prototype.buildCSSClass.call(this)
            }, i.buildWrapperCSSClass = function() {
                return "vjs-chapters-button " + e.prototype.buildWrapperCSSClass.call(this)
            }, i.update = function(t) {
                this.track_ && (!t || "addtrack" !== t.type && "removetrack" !== t.type) || this.setTrack(this.findChaptersTrack()), e.prototype.update.call(this)
            }, i.setTrack = function(e) {
                if (this.track_ !== e) {
                    if (this.updateHandler_ || (this.updateHandler_ = this.update.bind(this)), this.track_) {
                        var t = this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);
                        t && t.removeEventListener("load", this.updateHandler_), this.track_ = null
                    }
                    if (this.track_ = e, this.track_) {
                        this.track_.mode = "hidden";
                        var i = this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);
                        i && i.addEventListener("load", this.updateHandler_)
                    }
                }
            }, i.findChaptersTrack = function() {
                for (var e = this.player_.textTracks() || [], t = e.length - 1; 0 <= t; t--) {
                    var i = e[t];
                    if (i.kind === this.kind_) return i
                }
            }, i.getMenuCaption = function() {
                return this.track_ && this.track_.label ? this.track_.label : this.localize(Ne(this.kind_))
            }, i.createMenu = function() {
                return this.options_.title = this.getMenuCaption(), e.prototype.createMenu.call(this)
            }, i.createItems = function() {
                var e = [];
                if (!this.track_) return e;
                var t = this.track_.cues;
                if (!t) return e;
                for (var i = 0, n = t.length; i < n; i++) {
                    var r = new Kn(this.player_, {
                        track: this.track_,
                        cue: t[i]
                    });
                    e.push(r)
                }
                return e
            }, t
        }(Yn);
        Xn.prototype.kind_ = "chapters", Xn.prototype.controlText_ = "Chapters", Be.registerComponent("ChaptersButton", Xn);
        var Jn = function(e) {
            function t(t, i, n) {
                var r;
                r = e.call(this, t, i, n) || this;
                var a = t.textTracks(),
                    o = Ee(s(s(r)), r.handleTracksChange);
                return a.addEventListener("change", o), r.on("dispose", function() {
                    a.removeEventListener("change", o)
                }), r
            }
            r(t, e);
            var i = t.prototype;
            return i.handleTracksChange = function(e) {
                for (var t = this.player().textTracks(), i = !1, n = 0, r = t.length; n < r; n++) {
                    var a = t[n];
                    if (a.kind !== this.kind_ && "showing" === a.mode) {
                        i = !0;
                        break
                    }
                }
                i ? this.disable() : this.enable()
            }, i.buildCSSClass = function() {
                return "vjs-descriptions-button " + e.prototype.buildCSSClass.call(this)
            }, i.buildWrapperCSSClass = function() {
                return "vjs-descriptions-button " + e.prototype.buildWrapperCSSClass.call(this)
            }, t
        }(Yn);
        Jn.prototype.kind_ = "descriptions", Jn.prototype.controlText_ = "Descriptions", Be.registerComponent("DescriptionsButton", Jn);
        var $n = function(e) {
            function t(t, i, n) {
                return e.call(this, t, i, n) || this
            }
            r(t, e);
            var i = t.prototype;
            return i.buildCSSClass = function() {
                return "vjs-subtitles-button " + e.prototype.buildCSSClass.call(this)
            }, i.buildWrapperCSSClass = function() {
                return "vjs-subtitles-button " + e.prototype.buildWrapperCSSClass.call(this)
            }, t
        }(Yn);
        $n.prototype.kind_ = "subtitles", $n.prototype.controlText_ = "Subtitles", Be.registerComponent("SubtitlesButton", $n);
        var Qn = function(e) {
            function t(t, i) {
                var n;
                return i.track = {
                    player: t,
                    kind: i.kind,
                    label: i.kind + " settings",
                    selectable: !1,
                    default: !1,
                    mode: "disabled"
                }, i.selectable = !1, i.name = "CaptionSettingsMenuItem", (n = e.call(this, t, i) || this).addClass("vjs-texttrack-settings"), n.controlText(", opens " + i.kind + " settings dialog"), n
            }
            return r(t, e), t.prototype.handleClick = function(e) {
                this.player().getChild("textTrackSettings").open()
            }, t
        }(Gn);
        Be.registerComponent("CaptionSettingsMenuItem", Qn);
        var Zn = function(e) {
            function t(t, i, n) {
                return e.call(this, t, i, n) || this
            }
            r(t, e);
            var i = t.prototype;
            return i.buildCSSClass = function() {
                return "vjs-captions-button " + e.prototype.buildCSSClass.call(this)
            }, i.buildWrapperCSSClass = function() {
                return "vjs-captions-button " + e.prototype.buildWrapperCSSClass.call(this)
            }, i.createItems = function() {
                var t = [];
                return this.player().tech_ && this.player().tech_.featuresNativeTextTracks || !this.player().getChild("textTrackSettings") || (t.push(new Qn(this.player_, {
                    kind: this.kind_
                })), this.hideThreshold_ += 1), e.prototype.createItems.call(this, t)
            }, t
        }(Yn);
        Zn.prototype.kind_ = "captions", Zn.prototype.controlText_ = "Captions", Be.registerComponent("CaptionsButton", Zn);
        var er = function(e) {
            function t() {
                return e.apply(this, arguments) || this
            }
            return r(t, e), t.prototype.createEl = function(t, i, n) {
                var r = '<span class="vjs-menu-item-text">' + this.localize(this.options_.label);
                return "captions" === this.options_.track.kind && (r += '\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> ' + this.localize("Captions") + "</span>\n      "), e.prototype.createEl.call(this, t, g({
                    innerHTML: r += "</span>"
                }, i), n)
            }, t
        }(Gn);
        Be.registerComponent("SubsCapsMenuItem", er);
        var tr = function(e) {
            function t(t, i) {
                var n;
                return void 0 === i && (i = {}), (n = e.call(this, t, i) || this).label_ = "subtitles", -1 < ["en", "en-us", "en-ca", "fr-ca"].indexOf(n.player_.language_) && (n.label_ = "captions"), n.menuButton_.controlText(Ne(n.label_)), n
            }
            r(t, e);
            var i = t.prototype;
            return i.buildCSSClass = function() {
                return "vjs-subs-caps-button " + e.prototype.buildCSSClass.call(this)
            }, i.buildWrapperCSSClass = function() {
                return "vjs-subs-caps-button " + e.prototype.buildWrapperCSSClass.call(this)
            }, i.createItems = function() {
                var t = [];
                return this.player().tech_ && this.player().tech_.featuresNativeTextTracks || !this.player().getChild("textTrackSettings") || (t.push(new Qn(this.player_, {
                    kind: this.label_
                })), this.hideThreshold_ += 1), e.prototype.createItems.call(this, t, er)
            }, t
        }(Yn);
        tr.prototype.kinds_ = ["captions", "subtitles"], tr.prototype.controlText_ = "Subtitles", Be.registerComponent("SubsCapsButton", tr);
        var ir = function(e) {
            function t(t, i) {
                var n, r = i.track,
                    a = t.audioTracks();
                i.label = r.label || r.language || "Unknown", i.selected = r.enabled, (n = e.call(this, t, i) || this).track = r, n.addClass("vjs-" + r.kind + "-menu-item");
                var o = function() {
                    for (var e = arguments.length, t = new Array(e), i = 0; i < e; i++) t[i] = arguments[i];
                    n.handleTracksChange.apply(s(s(n)), t)
                };
                return a.addEventListener("change", o), n.on("dispose", function() {
                    a.removeEventListener("change", o)
                }), n
            }
            r(t, e);
            var i = t.prototype;
            return i.createEl = function(t, i, n) {
                var r = '<span class="vjs-menu-item-text">' + this.localize(this.options_.label);
                return "main-desc" === this.options_.track.kind && (r += '\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> ' + this.localize("Descriptions") + "</span>\n      "), e.prototype.createEl.call(this, t, g({
                    innerHTML: r += "</span>"
                }, i), n)
            }, i.handleClick = function(t) {
                var i = this.player_.audioTracks();
                e.prototype.handleClick.call(this, t);
                for (var n = 0; n < i.length; n++) {
                    var r = i[n];
                    r.enabled = r === this.track
                }
            }, i.handleTracksChange = function(e) {
                this.selected(this.track.enabled)
            }, t
        }(Hn);
        Be.registerComponent("AudioTrackMenuItem", ir);
        var nr = function(e) {
            function t(t, i) {
                return void 0 === i && (i = {}), i.tracks = t.audioTracks(), e.call(this, t, i) || this
            }
            r(t, e);
            var i = t.prototype;
            return i.buildCSSClass = function() {
                return "vjs-audio-button " + e.prototype.buildCSSClass.call(this)
            }, i.buildWrapperCSSClass = function() {
                return "vjs-audio-button " + e.prototype.buildWrapperCSSClass.call(this)
            }, i.createItems = function(e) {
                void 0 === e && (e = []), this.hideThreshold_ = 1;
                for (var t = this.player_.audioTracks(), i = 0; i < t.length; i++) e.push(new ir(this.player_, {
                    track: t[i],
                    selectable: !0,
                    multiSelectable: !1
                }));
                return e
            }, t
        }(qn);
        nr.prototype.controlText_ = "Audio Track", Be.registerComponent("AudioTrackButton", nr);
        var rr = function(e) {
            function t(t, i) {
                var n, r = i.rate,
                    a = parseFloat(r, 10);
                return i.label = r, i.selected = 1 === a, i.selectable = !0, i.multiSelectable = !1, (n = e.call(this, t, i) || this).label = r, n.rate = a, n.on(t, "ratechange", n.update), n
            }
            r(t, e);
            var i = t.prototype;
            return i.handleClick = function(t) {
                e.prototype.handleClick.call(this), this.player().playbackRate(this.rate)
            }, i.update = function(e) {
                this.selected(this.player().playbackRate() === this.rate)
            }, t
        }(Hn);
        rr.prototype.contentElType = "button", Be.registerComponent("PlaybackRateMenuItem", rr);
        var ar = function(e) {
            function t(t, i) {
                var n;
                return (n = e.call(this, t, i) || this).updateVisibility(), n.updateLabel(), n.on(t, "loadstart", n.updateVisibility), n.on(t, "ratechange", n.updateLabel), n
            }
            r(t, e);
            var i = t.prototype;
            return i.createEl = function() {
                var t = e.prototype.createEl.call(this);
                return this.labelEl_ = P("div", {
                    className: "vjs-playback-rate-value",
                    innerHTML: "1x"
                }), t.appendChild(this.labelEl_), t
            }, i.dispose = function() {
                this.labelEl_ = null, e.prototype.dispose.call(this)
            }, i.buildCSSClass = function() {
                return "vjs-playback-rate " + e.prototype.buildCSSClass.call(this)
            }, i.buildWrapperCSSClass = function() {
                return "vjs-playback-rate " + e.prototype.buildWrapperCSSClass.call(this)
            }, i.createMenu = function() {
                var e = new jn(this.player()),
                    t = this.playbackRates();
                if (t)
                    for (var i = t.length - 1; 0 <= i; i--) e.addChild(new rr(this.player(), {
                        rate: t[i] + "x"
                    }));
                return e
            }, i.updateARIAAttributes = function() {
                this.el().setAttribute("aria-valuenow", this.player().playbackRate())
            }, i.handleClick = function(e) {
                for (var t = this.player().playbackRate(), i = this.playbackRates(), n = i[0], r = 0; r < i.length; r++)
                    if (i[r] > t) {
                        n = i[r];
                        break
                    } this.player().playbackRate(n)
            }, i.playbackRates = function() {
                return this.options_.playbackRates || this.options_.playerOptions && this.options_.playerOptions.playbackRates
            }, i.playbackRateSupported = function() {
                return this.player().tech_ && this.player().tech_.featuresPlaybackRate && this.playbackRates() && 0 < this.playbackRates().length
            }, i.updateVisibility = function(e) {
                this.playbackRateSupported() ? this.removeClass("vjs-hidden") : this.addClass("vjs-hidden")
            }, i.updateLabel = function(e) {
                this.playbackRateSupported() && (this.labelEl_.innerHTML = this.player().playbackRate() + "x")
            }, t
        }(zn);
        ar.prototype.controlText_ = "Playback Rate", Be.registerComponent("PlaybackRateMenuButton", ar);
        var or = function(e) {
            function t() {
                return e.apply(this, arguments) || this
            }
            r(t, e);
            var i = t.prototype;
            return i.buildCSSClass = function() {
                return "vjs-spacer " + e.prototype.buildCSSClass.call(this)
            }, i.createEl = function() {
                return e.prototype.createEl.call(this, "div", {
                    className: this.buildCSSClass()
                })
            }, t
        }(Be);
        Be.registerComponent("Spacer", or);
        var sr = function(e) {
            function t() {
                return e.apply(this, arguments) || this
            }
            r(t, e);
            var i = t.prototype;
            return i.buildCSSClass = function() {
                return "vjs-custom-control-spacer " + e.prototype.buildCSSClass.call(this)
            }, i.createEl = function() {
                var t = e.prototype.createEl.call(this, {
                    className: this.buildCSSClass()
                });
                return t.innerHTML = "\xa0", t
            }, t
        }(or);
        Be.registerComponent("CustomControlSpacer", sr);
        var lr = function(e) {
            function t() {
                return e.apply(this, arguments) || this
            }
            return r(t, e), t.prototype.createEl = function() {
                return e.prototype.createEl.call(this, "div", {
                    className: "vjs-control-bar",
                    dir: "ltr"
                })
            }, t
        }(Be);
        lr.prototype.options_ = {
            children: ["playToggle", "volumePanel", "currentTimeDisplay", "timeDivider", "durationDisplay", "progressControl", "liveDisplay", "seekToLive", "remainingTimeDisplay", "customControlSpacer", "playbackRateMenuButton", "chaptersButton", "descriptionsButton", "subsCapsButton", "audioTrackButton", "fullscreenToggle"]
        }, Be.registerComponent("ControlBar", lr);
        var cr = function(e) {
            function t(t, i) {
                var n;
                return (n = e.call(this, t, i) || this).on(t, "error", n.open), n
            }
            r(t, e);
            var i = t.prototype;
            return i.buildCSSClass = function() {
                return "vjs-error-display " + e.prototype.buildCSSClass.call(this)
            }, i.content = function() {
                var e = this.player().error();
                return e ? this.localize(e.message) : ""
            }, t
        }(kt);
        cr.prototype.options_ = Fe(kt.prototype.options_, {
            pauseOnOpen: !1,
            fillAlways: !0,
            temporary: !1,
            uncloseable: !0
        }), Be.registerComponent("ErrorDisplay", cr);
        var ur = "vjs-text-track-settings",
            dr = ["#000", "Black"],
            hr = ["#00F", "Blue"],
            pr = ["#0FF", "Cyan"],
            fr = ["#0F0", "Green"],
            mr = ["#F0F", "Magenta"],
            gr = ["#F00", "Red"],
            yr = ["#FFF", "White"],
            vr = ["#FF0", "Yellow"],
            br = ["1", "Opaque"],
            _r = ["0.5", "Semi-Transparent"],
            Tr = ["0", "Transparent"],
            Sr = {
                backgroundColor: {
                    selector: ".vjs-bg-color > select",
                    id: "captions-background-color-%s",
                    label: "Color",
                    options: [dr, yr, gr, fr, hr, vr, mr, pr]
                },
                backgroundOpacity: {
                    selector: ".vjs-bg-opacity > select",
                    id: "captions-background-opacity-%s",
                    label: "Transparency",
                    options: [br, _r, Tr]
                },
                color: {
                    selector: ".vjs-fg-color > select",
                    id: "captions-foreground-color-%s",
                    label: "Color",
                    options: [yr, dr, gr, fr, hr, vr, mr, pr]
                },
                edgeStyle: {
                    selector: ".vjs-edge-style > select",
                    id: "%s",
                    label: "Text Edge Style",
                    options: [
                        ["none", "None"],
                        ["raised", "Raised"],
                        ["depressed", "Depressed"],
                        ["uniform", "Uniform"],
                        ["dropshadow", "Dropshadow"]
                    ]
                },
                fontFamily: {
                    selector: ".vjs-font-family > select",
                    id: "captions-font-family-%s",
                    label: "Font Family",
                    options: [
                        ["proportionalSansSerif", "Proportional Sans-Serif"],
                        ["monospaceSansSerif", "Monospace Sans-Serif"],
                        ["proportionalSerif", "Proportional Serif"],
                        ["monospaceSerif", "Monospace Serif"],
                        ["casual", "Casual"],
                        ["script", "Script"],
                        ["small-caps", "Small Caps"]
                    ]
                },
                fontPercent: {
                    selector: ".vjs-font-percent > select",
                    id: "captions-font-size-%s",
                    label: "Font Size",
                    options: [
                        ["0.50", "50%"],
                        ["0.75", "75%"],
                        ["1.00", "100%"],
                        ["1.25", "125%"],
                        ["1.50", "150%"],
                        ["1.75", "175%"],
                        ["2.00", "200%"],
                        ["3.00", "300%"],
                        ["4.00", "400%"]
                    ],
                    default: 2,
                    parser: function(e) {
                        return "1.00" === e ? null : Number(e)
                    }
                },
                textOpacity: {
                    selector: ".vjs-text-opacity > select",
                    id: "captions-foreground-opacity-%s",
                    label: "Transparency",
                    options: [br, _r]
                },
                windowColor: {
                    selector: ".vjs-window-color > select",
                    id: "captions-window-color-%s",
                    label: "Color"
                },
                windowOpacity: {
                    selector: ".vjs-window-opacity > select",
                    id: "captions-window-opacity-%s",
                    label: "Transparency",
                    options: [Tr, _r, br]
                }
            };

        function Er(e, t) {
            if (t && (e = t(e)), e && "none" !== e) return e
        }
        Sr.windowColor.options = Sr.backgroundColor.options;
        var wr = function(e) {
            function n(t, i) {
                var n;
                return i.temporary = !1, (n = e.call(this, t, i) || this).updateDisplay = Ee(s(s(n)), n.updateDisplay), n.fill(), n.hasBeenOpened_ = n.hasBeenFilled_ = !0, n.endDialog = P("p", {
                    className: "vjs-control-text",
                    textContent: n.localize("End of dialog window.")
                }), n.el().appendChild(n.endDialog), n.setDefaults(), void 0 === i.persistTextTrackSettings && (n.options_.persistTextTrackSettings = n.options_.playerOptions.persistTextTrackSettings), n.on(n.$(".vjs-done-button"), "click", function() {
                    n.saveSettings(), n.close()
                }), n.on(n.$(".vjs-default-button"), "click", function() {
                    n.setDefaults(), n.updateDisplay()
                }), m(Sr, function(e) {
                    n.on(n.$(e.selector), "change", n.updateDisplay)
                }), n.options_.persistTextTrackSettings && n.restoreSettings(), n
            }
            r(n, e);
            var a = n.prototype;
            return a.dispose = function() {
                this.endDialog = null, e.prototype.dispose.call(this)
            }, a.createElSelect_ = function(e, t, i) {
                var n = this;
                void 0 === t && (t = ""), void 0 === i && (i = "label");
                var r = Sr[e],
                    a = r.id.replace("%s", this.id_),
                    o = [t, a].join(" ").trim();
                return ["<" + i + ' id="' + a + '" class="' + ("label" === i ? "vjs-label" : "") + '">', this.localize(r.label), "</" + i + ">", '<select aria-labelledby="' + o + '">'].concat(r.options.map(function(e) {
                    var t = a + "-" + e[1].replace(/\W+/g, "");
                    return ['<option id="' + t + '" value="' + e[0] + '" ', 'aria-labelledby="' + o + " " + t + '">', n.localize(e[1]), "</option>"].join("")
                })).concat("</select>").join("")
            }, a.createElFgColor_ = function() {
                var e = "captions-text-legend-" + this.id_;
                return ['<fieldset class="vjs-fg-color vjs-track-setting">', '<legend id="' + e + '">', this.localize("Text"), "</legend>", this.createElSelect_("color", e), '<span class="vjs-text-opacity vjs-opacity">', this.createElSelect_("textOpacity", e), "</span>", "</fieldset>"].join("")
            }, a.createElBgColor_ = function() {
                var e = "captions-background-" + this.id_;
                return ['<fieldset class="vjs-bg-color vjs-track-setting">', '<legend id="' + e + '">', this.localize("Background"), "</legend>", this.createElSelect_("backgroundColor", e), '<span class="vjs-bg-opacity vjs-opacity">', this.createElSelect_("backgroundOpacity", e), "</span>", "</fieldset>"].join("")
            }, a.createElWinColor_ = function() {
                var e = "captions-window-" + this.id_;
                return ['<fieldset class="vjs-window-color vjs-track-setting">', '<legend id="' + e + '">', this.localize("Window"), "</legend>", this.createElSelect_("windowColor", e), '<span class="vjs-window-opacity vjs-opacity">', this.createElSelect_("windowOpacity", e), "</span>", "</fieldset>"].join("")
            }, a.createElColors_ = function() {
                return P("div", {
                    className: "vjs-track-settings-colors",
                    innerHTML: [this.createElFgColor_(), this.createElBgColor_(), this.createElWinColor_()].join("")
                })
            }, a.createElFont_ = function() {
                return P("div", {
                    className: "vjs-track-settings-font",
                    innerHTML: ['<fieldset class="vjs-font-percent vjs-track-setting">', this.createElSelect_("fontPercent", "", "legend"), "</fieldset>", '<fieldset class="vjs-edge-style vjs-track-setting">', this.createElSelect_("edgeStyle", "", "legend"), "</fieldset>", '<fieldset class="vjs-font-family vjs-track-setting">', this.createElSelect_("fontFamily", "", "legend"), "</fieldset>"].join("")
                })
            }, a.createElControls_ = function() {
                var e = this.localize("restore all settings to the default values");
                return P("div", {
                    className: "vjs-track-settings-controls",
                    innerHTML: ['<button type="button" class="vjs-default-button" title="' + e + '">', this.localize("Reset"), '<span class="vjs-control-text"> ' + e + "</span>", "</button>", '<button type="button" class="vjs-done-button">' + this.localize("Done") + "</button>"].join("")
                })
            }, a.content = function() {
                return [this.createElColors_(), this.createElFont_(), this.createElControls_()]
            }, a.label = function() {
                return this.localize("Caption Settings Dialog")
            }, a.description = function() {
                return this.localize("Beginning of dialog window. Escape will cancel and close the window.")
            }, a.buildCSSClass = function() {
                return e.prototype.buildCSSClass.call(this) + " vjs-text-track-settings"
            }, a.getValues = function() {
                var e, t, i, n = this;
                return t = function(e, t, i) {
                    var r, a = Er((r = n.$(t.selector)).options[r.options.selectedIndex].value, t.parser);
                    return void 0 !== a && (e[i] = a), e
                }, void 0 === (i = {}) && (i = 0), f(e = Sr).reduce(function(i, n) {
                    return t(i, e[n], n)
                }, i)
            }, a.setValues = function(e) {
                var t = this;
                m(Sr, function(i, n) {
                    ! function(e, t, i) {
                        if (t)
                            for (var n = 0; n < e.options.length; n++)
                                if (Er(e.options[n].value, i) === t) {
                                    e.selectedIndex = n;
                                    break
                                }
                    }(t.$(i.selector), e[n], i.parser)
                })
            }, a.setDefaults = function() {
                var e = this;
                m(Sr, function(t) {
                    var i = t.hasOwnProperty("default") ? t.default : 0;
                    e.$(t.selector).selectedIndex = i
                })
            }, a.restoreSettings = function() {
                var e;
                try {
                    e = JSON.parse(i.localStorage.getItem(ur))
                } catch (e) {
                    u.warn(e)
                }
                e && this.setValues(e)
            }, a.saveSettings = function() {
                if (this.options_.persistTextTrackSettings) {
                    var e = this.getValues();
                    try {
                        Object.keys(e).length ? i.localStorage.setItem(ur, JSON.stringify(e)) : i.localStorage.removeItem(ur)
                    } catch (e) {
                        u.warn(e)
                    }
                }
            }, a.updateDisplay = function() {
                var e = this.player_.getChild("textTrackDisplay");
                e && e.updateDisplay()
            }, a.conditionalBlur_ = function() {
                this.previouslyActiveEl_ = null, this.off(t, "keydown", this.handleKeyDown);
                var e = this.player_.controlBar,
                    i = e && e.subsCapsButton,
                    n = e && e.captionsButton;
                i ? i.focus() : n && n.focus()
            }, n
        }(kt);
        Be.registerComponent("TextTrackSettings", wr);
        var Cr = function(e) {
            function t(t, n) {
                var r, a = n.ResizeObserver || i.ResizeObserver;
                null === n.ResizeObserver && (a = !1);
                var o = Fe({
                    createEl: !a,
                    reportTouchActivity: !1
                }, n);
                return (r = e.call(this, t, o) || this).ResizeObserver = n.ResizeObserver || i.ResizeObserver, r.loadListener_ = null, r.resizeObserver_ = null, r.debouncedHandler_ = function(e, t, n, r) {
                    var a;
                    void 0 === r && (r = i);
                    var o = function() {
                        var t = this,
                            i = arguments,
                            n = function() {
                                n = a = null, e.apply(t, i)
                            };
                        r.clearTimeout(a), a = r.setTimeout(n, 100)
                    };
                    return o.cancel = function() {
                        r.clearTimeout(a), a = null
                    }, o
                }(function() {
                    r.resizeHandler()
                }, 0, 0, s(s(r))), a ? (r.resizeObserver_ = new r.ResizeObserver(r.debouncedHandler_), r.resizeObserver_.observe(t.el())) : (r.loadListener_ = function() {
                    r.el_ && r.el_.contentWindow && de(r.el_.contentWindow, "resize", r.debouncedHandler_)
                }, r.one("load", r.loadListener_)), r
            }
            r(t, e);
            var n = t.prototype;
            return n.createEl = function() {
                return e.prototype.createEl.call(this, "iframe", {
                    className: "vjs-resize-manager"
                })
            }, n.resizeHandler = function() {
                this.player_ && this.player_.trigger && this.player_.trigger("playerresize")
            }, n.dispose = function() {
                this.debouncedHandler_ && this.debouncedHandler_.cancel(), this.resizeObserver_ && (this.player_.el() && this.resizeObserver_.unobserve(this.player_.el()), this.resizeObserver_.disconnect()), this.el_ && this.el_.contentWindow && he(this.el_.contentWindow, "resize", this.debouncedHandler_), this.loadListener_ && this.off("load", this.loadListener_), this.ResizeObserver = null, this.resizeObserver = null, this.debouncedHandler_ = null, this.loadListener_ = null
            }, t
        }(Be);
        Be.registerComponent("ResizeManager", Cr);
        var kr = function(e) {
            function t(t, i) {
                var n, r = Fe({
                    createEl: !1
                }, i);
                return (n = e.call(this, t, r) || this).reset_(), n.on(n.player_, "durationchange", n.handleDurationchange), n
            }
            r(t, e);
            var i = t.prototype;
            return i.isBehind_ = function() {
                if (!this.timeupdateSeen_) return !1;
                var e = this.liveCurrentTime(),
                    t = this.player_.currentTime();
                return e !== 1 / 0 && t <= e - (2 * this.seekableIncrement_ + .07)
            }, i.trackLive_ = function() {
                this.pastSeekEnd_ = this.pastSeekEnd_;
                var e = this.player_.seekable();
                if (e && e.length) {
                    var t = this.seekableEnd();
                    t !== this.lastSeekEnd_ && (this.lastSeekEnd_ && (this.seekableIncrement_ = Math.abs(t - this.lastSeekEnd_)), this.pastSeekEnd_ = 0, this.lastSeekEnd_ = t, this.trigger("seekableendchange")), this.pastSeekEnd_ = this.pastSeekEnd() + .03, this.isBehind_() !== this.behindLiveEdge() && (this.behindLiveEdge_ = this.isBehind_(), this.trigger("liveedgechange"))
                }
            }, i.handleDurationchange = function() {
                this.player_.duration() === 1 / 0 ? this.startTracking() : this.stopTracking()
            }, i.startTracking = function() {
                var e = this;
                this.isTracking() || (this.trackingInterval_ = this.setInterval(this.trackLive_, 30), this.trackLive_(), this.on(this.player_, "play", this.trackLive_), this.on(this.player_, "pause", this.trackLive_), this.one(this.player_, "play", this.handlePlay), this.timeupdateSeen_ || (this.handleTimeupdate = function() {
                    e.timeupdateSeen_ = !0, e.handleTimeupdate = null
                }, this.one(this.player_, "timeupdate", this.handleTimeupdate)))
            }, i.handlePlay = function() {
                this.one(this.player_, "timeupdate", this.seekToLiveEdge)
            }, i.reset_ = function() {
                this.pastSeekEnd_ = 0, this.lastSeekEnd_ = null, this.behindLiveEdge_ = null, this.timeupdateSeen_ = !1, this.clearInterval(this.trackingInterval_), this.trackingInterval_ = null, this.seekableIncrement_ = 12, this.off(this.player_, "play", this.trackLive_), this.off(this.player_, "pause", this.trackLive_), this.off(this.player_, "play", this.handlePlay), this.off(this.player_, "timeupdate", this.seekToLiveEdge), this.handleTimeupdate && (this.off(this.player_, "timeupdate", this.handleTimeupdate), this.handleTimeupdate = null)
            }, i.stopTracking = function() {
                this.isTracking() && this.reset_()
            }, i.seekableEnd = function() {
                for (var e = this.player_.seekable(), t = [], i = e ? e.length : 0; i--;) t.push(e.end(i));
                return t.length ? t.sort()[t.length - 1] : 1 / 0
            }, i.seekableStart = function() {
                for (var e = this.player_.seekable(), t = [], i = e ? e.length : 0; i--;) t.push(e.start(i));
                return t.length ? t.sort()[0] : 0
            }, i.liveWindow = function() {
                var e = this.liveCurrentTime();
                return e === 1 / 0 ? 1 / 0 : e - this.seekableStart()
            }, i.isLive = function() {
                return this.isTracking()
            }, i.atLiveEdge = function() {
                return !this.behindLiveEdge()
            }, i.liveCurrentTime = function() {
                return this.pastSeekEnd() + this.seekableEnd()
            }, i.pastSeekEnd = function() {
                return this.pastSeekEnd_
            }, i.behindLiveEdge = function() {
                return this.behindLiveEdge_
            }, i.isTracking = function() {
                return "number" == typeof this.trackingInterval_
            }, i.seekToLiveEdge = function() {
                this.atLiveEdge() || (this.player_.currentTime(this.liveCurrentTime()), this.player_.paused() && this.player_.play())
            }, i.dispose = function() {
                this.stopTracking(), e.prototype.dispose.call(this)
            }, t
        }(Be);
        Be.registerComponent("LiveTracker", kr);
        var Pr = function(e) {
                var t = e.el();
                if (t.hasAttribute("src")) return e.triggerSourceset(t.src), !0;
                var i = e.$$("source"),
                    n = [],
                    r = "";
                if (!i.length) return !1;
                for (var a = 0; a < i.length; a++) {
                    var o = i[a].src;
                    o && -1 === n.indexOf(o) && n.push(o)
                }
                return !!n.length && (1 === n.length && (r = n[0]), e.triggerSourceset(r), !0)
            },
            Ar = Object.defineProperty({}, "innerHTML", {
                get: function() {
                    return this.cloneNode(!0).innerHTML
                },
                set: function(e) {
                    var n = t.createElement(this.nodeName.toLowerCase());
                    n.innerHTML = e;
                    for (var r = t.createDocumentFragment(); n.childNodes.length;) r.appendChild(n.childNodes[0]);
                    return this.innerText = "", i.Element.prototype.appendChild.call(this, r), this.innerHTML
                }
            }),
            Ir = function(e, t) {
                for (var i = {}, n = 0; n < e.length && !((i = Object.getOwnPropertyDescriptor(e[n], t)) && i.set && i.get); n++);
                return i.enumerable = !0, i.configurable = !0, i
            },
            Lr = function(e) {
                var t = e.el();
                if (!t.resetSourceWatch_) {
                    var n = {},
                        r = Ir([e.el(), i.HTMLMediaElement.prototype, i.Element.prototype, Ar], "innerHTML"),
                        a = function(i) {
                            return function() {
                                for (var n = arguments.length, r = new Array(n), a = 0; a < n; a++) r[a] = arguments[a];
                                var o = i.apply(t, r);
                                return Pr(e), o
                            }
                        };
                    ["append", "appendChild", "insertAdjacentHTML"].forEach(function(e) {
                        t[e] && (n[e] = t[e], t[e] = a(n[e]))
                    }), Object.defineProperty(t, "innerHTML", Fe(r, {
                        set: a(r.set)
                    })), t.resetSourceWatch_ = function() {
                        t.resetSourceWatch_ = null, Object.keys(n).forEach(function(e) {
                            t[e] = n[e]
                        }), Object.defineProperty(t, "innerHTML", r)
                    }, e.one("sourceset", t.resetSourceWatch_)
                }
            },
            Or = Object.defineProperty({}, "src", {
                get: function() {
                    return this.hasAttribute("src") ? zt(i.Element.prototype.getAttribute.call(this, "src")) : ""
                },
                set: function(e) {
                    return i.Element.prototype.setAttribute.call(this, "src", e), e
                }
            });

        function Dr() {
            var e = l(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]);
            return Dr = function() {
                return e
            }, e
        }
        var Rr = function(e) {
            function n(t, i) {
                var n;
                n = e.call(this, t, i) || this;
                var r = t.source,
                    a = !1;
                if (r && (n.el_.currentSrc !== r.src || t.tag && 3 === t.tag.initNetworkState_) ? n.setSource(r) : n.handleLateInit_(n.el_), t.enableSourceset && n.setupSourcesetHandling_(), n.el_.hasChildNodes()) {
                    for (var o = n.el_.childNodes, s = o.length, l = []; s--;) {
                        var c = o[s];
                        "track" === c.nodeName.toLowerCase() && (n.featuresNativeTextTracks ? (n.remoteTextTrackEls().addTrackElement_(c), n.remoteTextTracks().addTrack(c.track), n.textTracks().addTrack(c.track), a || n.el_.hasAttribute("crossorigin") || !Ht(c.src) || (a = !0)) : l.push(c))
                    }
                    for (var d = 0; d < l.length; d++) n.el_.removeChild(l[d])
                }
                return n.proxyNativeTracks_(), n.featuresNativeTextTracks && a && u.warn(h(Dr())), n.restoreMetadataTracksInIOSNativePlayer_(), (lt || Ke || et) && !0 === t.nativeControlsForTouch && n.setControls(!0), n.proxyWebkitFullscreen_(), n.triggerReady(), n
            }
            r(n, e);
            var a = n.prototype;
            return a.dispose = function() {
                this.el_ && this.el_.resetSourceset_ && this.el_.resetSourceset_(), n.disposeMediaElement(this.el_), this.options_ = null, e.prototype.dispose.call(this)
            }, a.setupSourcesetHandling_ = function() {
                ! function(e) {
                    if (e.featuresSourceset) {
                        var t = e.el();
                        if (!t.resetSourceset_) {
                            var n = Ir([e.el(), i.HTMLMediaElement.prototype, Or], "src"),
                                r = t.setAttribute,
                                a = t.load;
                            Object.defineProperty(t, "src", Fe(n, {
                                set: function(i) {
                                    var r = n.set.call(t, i);
                                    return e.triggerSourceset(t.src), r
                                }
                            })), t.setAttribute = function(i, n) {
                                var a = r.call(t, i, n);
                                return /src/i.test(i) && e.triggerSourceset(t.src), a
                            }, t.load = function() {
                                var i = a.call(t);
                                return Pr(e) || (e.triggerSourceset(""), Lr(e)), i
                            }, t.currentSrc ? e.triggerSourceset(t.currentSrc) : Pr(e) || Lr(e), t.resetSourceset_ = function() {
                                t.resetSourceset_ = null, t.load = a, t.setAttribute = r, Object.defineProperty(t, "src", n), t.resetSourceWatch_ && t.resetSourceWatch_()
                            }
                        }
                    }
                }(this)
            }, a.restoreMetadataTracksInIOSNativePlayer_ = function() {
                var e, t = this.textTracks(),
                    i = function() {
                        e = [];
                        for (var i = 0; i < t.length; i++) {
                            var n = t[i];
                            "metadata" === n.kind && e.push({
                                track: n,
                                storedMode: n.mode
                            })
                        }
                    };
                i(), t.addEventListener("change", i), this.on("dispose", function() {
                    return t.removeEventListener("change", i)
                });
                var n = function i() {
                    for (var n = 0; n < e.length; n++) {
                        var r = e[n];
                        "disabled" === r.track.mode && r.track.mode !== r.storedMode && (r.track.mode = r.storedMode)
                    }
                    t.removeEventListener("change", i)
                };
                this.on("webkitbeginfullscreen", function() {
                    t.removeEventListener("change", i), t.removeEventListener("change", n), t.addEventListener("change", n)
                }), this.on("webkitendfullscreen", function() {
                    t.removeEventListener("change", i), t.addEventListener("change", i), t.removeEventListener("change", n)
                })
            }, a.overrideNative_ = function(e, t) {
                var i = this;
                if (t === this["featuresNative" + e + "Tracks"]) {
                    var n = e.toLowerCase();
                    this[n + "TracksListeners_"] && Object.keys(this[n + "TracksListeners_"]).forEach(function(e) {
                        i.el()[n + "Tracks"].removeEventListener(e, i[n + "TracksListeners_"][e])
                    }), this["featuresNative" + e + "Tracks"] = !t, this[n + "TracksListeners_"] = null, this.proxyNativeTracksForType_(n)
                }
            }, a.overrideNativeAudioTracks = function(e) {
                this.overrideNative_("Audio", e)
            }, a.overrideNativeVideoTracks = function(e) {
                this.overrideNative_("Video", e)
            }, a.proxyNativeTracksForType_ = function(e) {
                var t = this,
                    i = mi[e],
                    n = this.el()[i.getterName],
                    r = this[i.getterName]();
                if (this["featuresNative" + i.capitalName + "Tracks"] && n && n.addEventListener) {
                    var a = {
                            change: function(e) {
                                r.trigger({
                                    type: "change",
                                    target: r,
                                    currentTarget: r,
                                    srcElement: r
                                })
                            },
                            addtrack: function(e) {
                                r.addTrack(e.track)
                            },
                            removetrack: function(e) {
                                r.removeTrack(e.track)
                            }
                        },
                        o = function() {
                            for (var e = [], t = 0; t < r.length; t++) {
                                for (var i = !1, a = 0; a < n.length; a++)
                                    if (n[a] === r[t]) {
                                        i = !0;
                                        break
                                    } i || e.push(r[t])
                            }
                            for (; e.length;) r.removeTrack(e.shift())
                        };
                    this[i.getterName + "Listeners_"] = a, Object.keys(a).forEach(function(e) {
                        var i = a[e];
                        n.addEventListener(e, i), t.on("dispose", function(t) {
                            return n.removeEventListener(e, i)
                        })
                    }), this.on("loadstart", o), this.on("dispose", function(e) {
                        return t.off("loadstart", o)
                    })
                }
            }, a.proxyNativeTracks_ = function() {
                var e = this;
                mi.names.forEach(function(t) {
                    e.proxyNativeTracksForType_(t)
                })
            }, a.createEl = function() {
                var e = this.options_.tag;
                if (!e || !this.options_.playerElIngest && !this.movingMediaElementInDOM) {
                    if (e) {
                        var i = e.cloneNode(!0);
                        e.parentNode && e.parentNode.insertBefore(i, e), n.disposeMediaElement(e), e = i
                    } else {
                        e = t.createElement("video");
                        var r = Fe({}, this.options_.tag && M(this.options_.tag));
                        lt && !0 === this.options_.nativeControlsForTouch || delete r.controls, x(e, g(r, {
                            id: this.options_.techId,
                            class: "vjs-tech"
                        }))
                    }
                    e.playerId = this.options_.playerId
                }
                void 0 !== this.options_.preload && N(e, "preload", this.options_.preload);
                for (var a = ["loop", "muted", "playsinline", "autoplay"], o = 0; o < a.length; o++) {
                    var s = a[o],
                        l = this.options_[s];
                    void 0 !== l && (l ? N(e, s, s) : F(e, s), e[s] = l)
                }
                return e
            }, a.handleLateInit_ = function(e) {
                if (0 !== e.networkState && 3 !== e.networkState) {
                    if (0 === e.readyState) {
                        var t = !1,
                            i = function() {
                                t = !0
                            };
                        this.on("loadstart", i);
                        var n = function() {
                            t || this.trigger("loadstart")
                        };
                        return this.on("loadedmetadata", n), void this.ready(function() {
                            this.off("loadstart", i), this.off("loadedmetadata", n), t || this.trigger("loadstart")
                        })
                    }
                    var r = ["loadstart"];
                    r.push("loadedmetadata"), 2 <= e.readyState && r.push("loadeddata"), 3 <= e.readyState && r.push("canplay"), 4 <= e.readyState && r.push("canplaythrough"), this.ready(function() {
                        r.forEach(function(e) {
                            this.trigger(e)
                        }, this)
                    })
                }
            }, a.setCurrentTime = function(e) {
                try {
                    this.el_.currentTime = e
                } catch (e) {
                    u(e, "Video is not ready. (Video.js)")
                }
            }, a.duration = function() {
                var e = this;
                return this.el_.duration === 1 / 0 && Qe && nt && 0 === this.el_.currentTime ? (this.on("timeupdate", function t() {
                    0 < e.el_.currentTime && (e.el_.duration === 1 / 0 && e.trigger("durationchange"), e.off("timeupdate", t))
                }), NaN) : this.el_.duration || NaN
            }, a.width = function() {
                return this.el_.offsetWidth
            }, a.height = function() {
                return this.el_.offsetHeight
            }, a.proxyWebkitFullscreen_ = function() {
                var e = this;
                if ("webkitDisplayingFullscreen" in this.el_) {
                    var t = function() {
                            this.trigger("fullscreenchange", {
                                isFullscreen: !1
                            })
                        },
                        i = function() {
                            "webkitPresentationMode" in this.el_ && "picture-in-picture" !== this.el_.webkitPresentationMode && (this.one("webkitendfullscreen", t), this.trigger("fullscreenchange", {
                                isFullscreen: !0
                            }))
                        };
                    this.on("webkitbeginfullscreen", i), this.on("dispose", function() {
                        e.off("webkitbeginfullscreen", i), e.off("webkitendfullscreen", t)
                    })
                }
            }, a.supportsFullScreen = function() {
                if ("function" == typeof this.el_.webkitEnterFullScreen) {
                    var e = i.navigator && i.navigator.userAgent || "";
                    if (/Android/.test(e) || !/Chrome|Mac OS X 10.5/.test(e)) return !0
                }
                return !1
            }, a.enterFullScreen = function() {
                var e = this.el_;
                e.paused && e.networkState <= e.HAVE_METADATA ? (this.el_.play(), this.setTimeout(function() {
                    e.pause(), e.webkitEnterFullScreen()
                }, 0)) : e.webkitEnterFullScreen()
            }, a.exitFullScreen = function() {
                this.el_.webkitExitFullScreen()
            }, a.src = function(e) {
                if (void 0 === e) return this.el_.src;
                this.setSrc(e)
            }, a.reset = function() {
                n.resetMediaElement(this.el_)
            }, a.currentSrc = function() {
                return this.currentSource_ ? this.currentSource_.src : this.el_.currentSrc
            }, a.setControls = function(e) {
                this.el_.controls = !!e
            }, a.addTextTrack = function(t, i, n) {
                return this.featuresNativeTextTracks ? this.el_.addTextTrack(t, i, n) : e.prototype.addTextTrack.call(this, t, i, n)
            }, a.createRemoteTextTrack = function(i) {
                if (!this.featuresNativeTextTracks) return e.prototype.createRemoteTextTrack.call(this, i);
                var n = t.createElement("track");
                return i.kind && (n.kind = i.kind), i.label && (n.label = i.label), (i.language || i.srclang) && (n.srclang = i.language || i.srclang), i.default && (n.default = i.default), i.id && (n.id = i.id), i.src && (n.src = i.src), n
            }, a.addRemoteTextTrack = function(t, i) {
                var n = e.prototype.addRemoteTextTrack.call(this, t, i);
                return this.featuresNativeTextTracks && this.el().appendChild(n), n
            }, a.removeRemoteTextTrack = function(t) {
                if (e.prototype.removeRemoteTextTrack.call(this, t), this.featuresNativeTextTracks)
                    for (var i = this.$$("track"), n = i.length; n--;) t !== i[n] && t !== i[n].track || this.el().removeChild(i[n])
            }, a.getVideoPlaybackQuality = function() {
                if ("function" == typeof this.el().getVideoPlaybackQuality) return this.el().getVideoPlaybackQuality();
                var e = {};
                return void 0 !== this.el().webkitDroppedFrameCount && void 0 !== this.el().webkitDecodedFrameCount && (e.droppedVideoFrames = this.el().webkitDroppedFrameCount, e.totalVideoFrames = this.el().webkitDecodedFrameCount), i.performance && "function" == typeof i.performance.now ? e.creationTime = i.performance.now() : i.performance && i.performance.timing && "number" == typeof i.performance.timing.navigationStart && (e.creationTime = i.Date.now() - i.performance.timing.navigationStart), e
            }, n
        }(Wi);
        if (E()) {
            Rr.TEST_VID = t.createElement("video");
            var xr = t.createElement("track");
            xr.kind = "captions", xr.srclang = "en", xr.label = "English", Rr.TEST_VID.appendChild(xr)
        }
        Rr.isSupported = function() {
            try {
                Rr.TEST_VID.volume = .5
            } catch (e) {
                return !1
            }
            return !(!Rr.TEST_VID || !Rr.TEST_VID.canPlayType)
        }, Rr.canPlayType = function(e) {
            return Rr.TEST_VID.canPlayType(e)
        }, Rr.canPlaySource = function(e, t) {
            return Rr.canPlayType(e.type)
        }, Rr.canControlVolume = function() {
            try {
                var e = Rr.TEST_VID.volume;
                return Rr.TEST_VID.volume = e / 2 + .1, e !== Rr.TEST_VID.volume
            } catch (e) {
                return !1
            }
        }, Rr.canMuteVolume = function() {
            try {
                var e = Rr.TEST_VID.muted;
                return Rr.TEST_VID.muted = !e, Rr.TEST_VID.muted ? N(Rr.TEST_VID, "muted", "muted") : F(Rr.TEST_VID, "muted"), e !== Rr.TEST_VID.muted
            } catch (e) {
                return !1
            }
        }, Rr.canControlPlaybackRate = function() {
            if (Qe && nt && rt < 58) return !1;
            try {
                var e = Rr.TEST_VID.playbackRate;
                return Rr.TEST_VID.playbackRate = e / 2 + .1, e !== Rr.TEST_VID.playbackRate
            } catch (e) {
                return !1
            }
        }, Rr.canOverrideAttributes = function() {
            try {
                var e = function() {};
                Object.defineProperty(t.createElement("video"), "src", {
                    get: e,
                    set: e
                }), Object.defineProperty(t.createElement("audio"), "src", {
                    get: e,
                    set: e
                }), Object.defineProperty(t.createElement("video"), "innerHTML", {
                    get: e,
                    set: e
                }), Object.defineProperty(t.createElement("audio"), "innerHTML", {
                    get: e,
                    set: e
                })
            } catch (e) {
                return !1
            }
            return !0
        }, Rr.supportsNativeTextTracks = function() {
            return st || Je && nt
        }, Rr.supportsNativeVideoTracks = function() {
            return !(!Rr.TEST_VID || !Rr.TEST_VID.videoTracks)
        }, Rr.supportsNativeAudioTracks = function() {
            return !(!Rr.TEST_VID || !Rr.TEST_VID.audioTracks)
        }, Rr.Events = ["loadstart", "suspend", "abort", "error", "emptied", "stalled", "loadedmetadata", "loadeddata", "canplay", "canplaythrough", "playing", "waiting", "seeking", "seeked", "ended", "durationchange", "timeupdate", "progress", "play", "pause", "ratechange", "resize", "volumechange"], Rr.prototype.featuresVolumeControl = Rr.canControlVolume(), Rr.prototype.featuresMuteControl = Rr.canMuteVolume(), Rr.prototype.featuresPlaybackRate = Rr.canControlPlaybackRate(), Rr.prototype.featuresSourceset = Rr.canOverrideAttributes(), Rr.prototype.movingMediaElementInDOM = !Je, Rr.prototype.featuresFullscreenResize = !0, Rr.prototype.featuresProgressEvents = !0, Rr.prototype.featuresTimeupdateEvents = !0, Rr.prototype.featuresNativeTextTracks = Rr.supportsNativeTextTracks(), Rr.prototype.featuresNativeVideoTracks = Rr.supportsNativeVideoTracks(), Rr.prototype.featuresNativeAudioTracks = Rr.supportsNativeAudioTracks();
        var Mr = Rr.TEST_VID && Rr.TEST_VID.constructor.prototype.canPlayType,
            Ur = /^application\/(?:x-|vnd\.apple\.)mpegurl/i;

        function Nr() {
            var e = l(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]);
            return Nr = function() {
                return e
            }, e
        }
        Rr.patchCanPlayType = function() {
            4 <= Ze && !tt && !nt && (Rr.TEST_VID.constructor.prototype.canPlayType = function(e) {
                return e && Ur.test(e) ? "maybe" : Mr.call(this, e)
            })
        }, Rr.unpatchCanPlayType = function() {
            var e = Rr.TEST_VID.constructor.prototype.canPlayType;
            return Rr.TEST_VID.constructor.prototype.canPlayType = Mr, e
        }, Rr.patchCanPlayType(), Rr.disposeMediaElement = function(e) {
            if (e) {
                for (e.parentNode && e.parentNode.removeChild(e); e.hasChildNodes();) e.removeChild(e.firstChild);
                e.removeAttribute("src"), "function" == typeof e.load && function() {
                    try {
                        e.load()
                    } catch (e) {}
                }()
            }
        }, Rr.resetMediaElement = function(e) {
            if (e) {
                for (var t = e.querySelectorAll("source"), i = t.length; i--;) e.removeChild(t[i]);
                e.removeAttribute("src"), "function" == typeof e.load && function() {
                    try {
                        e.load()
                    } catch (e) {}
                }()
            }
        }, ["muted", "defaultMuted", "autoplay", "controls", "loop", "playsinline"].forEach(function(e) {
            Rr.prototype[e] = function() {
                return this.el_[e] || this.el_.hasAttribute(e)
            }
        }), ["muted", "defaultMuted", "autoplay", "loop", "playsinline"].forEach(function(e) {
            Rr.prototype["set" + Ne(e)] = function(t) {
                (this.el_[e] = t) ? this.el_.setAttribute(e, e): this.el_.removeAttribute(e)
            }
        }), ["paused", "currentTime", "buffered", "volume", "poster", "preload", "error", "seeking", "seekable", "ended", "playbackRate", "defaultPlaybackRate", "played", "networkState", "readyState", "videoWidth", "videoHeight"].forEach(function(e) {
            Rr.prototype[e] = function() {
                return this.el_[e]
            }
        }), ["volume", "src", "poster", "preload", "playbackRate", "defaultPlaybackRate"].forEach(function(e) {
            Rr.prototype["set" + Ne(e)] = function(t) {
                this.el_[e] = t
            }
        }), ["pause", "load", "play"].forEach(function(e) {
            Rr.prototype[e] = function() {
                return this.el_[e]()
            }
        }), Wi.withSourceHandlers(Rr), Rr.nativeSourceHandler = {}, Rr.nativeSourceHandler.canPlayType = function(e) {
            try {
                return Rr.TEST_VID.canPlayType(e)
            } catch (e) {
                return ""
            }
        }, Rr.nativeSourceHandler.canHandleSource = function(e, t) {
            if (e.type) return Rr.nativeSourceHandler.canPlayType(e.type);
            if (e.src) {
                var i = qt(e.src);
                return Rr.nativeSourceHandler.canPlayType("video/" + i)
            }
            return ""
        }, Rr.nativeSourceHandler.handleSource = function(e, t, i) {
            t.setSrc(e.src)
        }, Rr.nativeSourceHandler.dispose = function() {}, Rr.registerSourceHandler(Rr.nativeSourceHandler), Wi.registerTech("Html5", Rr);
        var Fr = ["progress", "abort", "suspend", "emptied", "stalled", "loadedmetadata", "loadeddata", "timeupdate", "resize", "volumechange", "texttrackchange"],
            Br = {
                canplay: "CanPlay",
                canplaythrough: "CanPlayThrough",
                playing: "Playing",
                seeked: "Seeked"
            },
            Vr = ["tiny", "xsmall", "small", "medium", "large", "xlarge", "huge"],
            jr = {};
        Vr.forEach(function(e) {
            var t = "x" === e.charAt(0) ? "x-" + e.substring(1) : e;
            jr[e] = "vjs-layout-" + t
        });
        var zr = {
                tiny: 210,
                xsmall: 320,
                small: 425,
                medium: 768,
                large: 1440,
                xlarge: 2560,
                huge: 1 / 0
            },
            qr = function(e) {
                function a(t, i, r) {
                    var o;
                    if (t.id = t.id || i.id || "vjs_video_" + ee(), (i = g(a.getTagSettings(t), i)).initChildren = !1, i.createEl = !1, i.evented = !1, i.reportTouchActivity = !1, !i.language)
                        if ("function" == typeof t.closest) {
                            var l = t.closest("[lang]");
                            l && l.getAttribute && (i.language = l.getAttribute("lang"))
                        } else
                            for (var c = t; c && 1 === c.nodeType;) {
                                if (M(c).hasOwnProperty("lang")) {
                                    i.language = c.getAttribute("lang");
                                    break
                                }
                                c = c.parentNode
                            }
                    if ((o = e.call(this, null, i, r) || this).log = d(o.id_), o.isPosterFromTech_ = !1, o.queuedCallbacks_ = [], o.isReady_ = !1, o.hasStarted_ = !1, o.userActive_ = !1, !o.options_ || !o.options_.techOrder || !o.options_.techOrder.length) throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");
                    if (o.tag = t, o.tagAttributes = t && M(t), o.language(o.options_.language), i.languages) {
                        var u = {};
                        Object.getOwnPropertyNames(i.languages).forEach(function(e) {
                            u[e.toLowerCase()] = i.languages[e]
                        }), o.languages_ = u
                    } else o.languages_ = a.prototype.options_.languages;
                    o.cache_ = {}, o.poster_ = i.poster || "", o.controls_ = !!i.controls, o.cache_.lastVolume = 1, t.controls = !1, t.removeAttribute("controls"), t.hasAttribute("autoplay") ? o.options_.autoplay = !0 : o.autoplay(o.options_.autoplay), o.scrubbing_ = !1, o.el_ = o.createEl(), o.cache_.lastPlaybackRate = o.defaultPlaybackRate(), xe(s(s(o)), {
                        eventBusKey: "el_"
                    }), o.fluid_ && o.on("playerreset", o.updateStyleEl_);
                    var h = Fe(o.options_);
                    if (i.plugins) {
                        var p = i.plugins;
                        Object.keys(p).forEach(function(e) {
                            if ("function" != typeof this[e]) throw new Error('plugin "' + e + '" does not exist');
                            this[e](p[e])
                        }, s(s(o)))
                    }
                    o.options_.playerOptions = h, o.middleware_ = [], o.initChildren(), o.isAudio("audio" === t.nodeName.toLowerCase()), o.controls() ? o.addClass("vjs-controls-enabled") : o.addClass("vjs-controls-disabled"), o.el_.setAttribute("role", "region"), o.isAudio() ? o.el_.setAttribute("aria-label", o.localize("Audio Player")) : o.el_.setAttribute("aria-label", o.localize("Video Player")), o.isAudio() && o.addClass("vjs-audio"), o.flexNotSupported_() && o.addClass("vjs-no-flex"), Je || o.addClass("vjs-workinghover"), a.players[o.id_] = s(s(o));
                    var f = n.split(".")[0];
                    return o.addClass("vjs-v" + f), o.userActive(!0), o.reportUserActivity(), o.one("play", o.listenForUserActivity_), o.on("fullscreenchange", o.handleFullscreenChange_), o.on("stageclick", o.handleStageClick_), o.breakpoints(o.options_.breakpoints), o.responsive(o.options_.responsive), o.changingSrc_ = !1, o.playWaitingForReady_ = !1, o.playOnLoadstart_ = null, o
                }
                r(a, e);
                var o = a.prototype;
                return o.dispose = function() {
                    this.trigger("dispose"), this.off("dispose"), this.styleEl_ && this.styleEl_.parentNode && (this.styleEl_.parentNode.removeChild(this.styleEl_), this.styleEl_ = null), a.players[this.id_] = null, this.tag && this.tag.player && (this.tag.player = null), this.el_ && this.el_.player && (this.el_.player = null), this.tech_ && (this.tech_.dispose(), this.isPosterFromTech_ = !1, this.poster_ = ""), this.playerElIngest_ && (this.playerElIngest_ = null), this.tag && (this.tag = null), Ki[this.id()] = null, e.prototype.dispose.call(this)
                }, o.createEl = function() {
                    var n, r = this.tag,
                        a = this.playerElIngest_ = r.parentNode && r.parentNode.hasAttribute && r.parentNode.hasAttribute("data-vjs-player"),
                        o = "video-js" === this.tag.tagName.toLowerCase();
                    a ? n = this.el_ = r.parentNode : o || (n = this.el_ = e.prototype.createEl.call(this, "div"));
                    var s = M(r);
                    if (o) {
                        for (n = this.el_ = r, r = this.tag = t.createElement("video"); n.children.length;) r.appendChild(n.firstChild);
                        L(n, "video-js") || O(n, "video-js"), n.appendChild(r), a = this.playerElIngest_ = n, Object.keys(n).forEach(function(e) {
                            r[e] = n[e]
                        })
                    }
                    if (r.setAttribute("tabindex", "-1"), s.tabindex = "-1", at && (r.setAttribute("role", "application"), s.role = "application"), r.removeAttribute("width"), r.removeAttribute("height"), "width" in s && delete s.width, "height" in s && delete s.height, Object.getOwnPropertyNames(s).forEach(function(e) {
                            o && "class" === e || n.setAttribute(e, s[e]), o && r.setAttribute(e, s[e])
                        }), r.playerId = r.id, r.id += "_html5_api", r.className = "vjs-tech", r.player = n.player = this, this.addClass("vjs-paused"), !0 !== i.VIDEOJS_NO_DYNAMIC_STYLE) {
                        this.styleEl_ = Te("vjs-styles-dimensions");
                        var l = J(".vjs-styles-defaults"),
                            c = J("head");
                        c.insertBefore(this.styleEl_, l ? l.nextSibling : c.firstChild)
                    }
                    this.fill_ = !1, this.fluid_ = !1, this.width(this.options_.width), this.height(this.options_.height), this.fill(this.options_.fill), this.fluid(this.options_.fluid), this.aspectRatio(this.options_.aspectRatio);
                    for (var u = r.getElementsByTagName("a"), d = 0; d < u.length; d++) {
                        var h = u.item(d);
                        O(h, "vjs-hidden"), h.setAttribute("hidden", "hidden")
                    }
                    return r.initNetworkState_ = r.networkState, r.parentNode && !a && r.parentNode.insertBefore(n, r), I(r, n), this.children_.unshift(r), this.el_.setAttribute("lang", this.language_), this.el_ = n
                }, o.width = function(e) {
                    return this.dimension("width", e)
                }, o.height = function(e) {
                    return this.dimension("height", e)
                }, o.dimension = function(e, t) {
                    var i = e + "_";
                    if (void 0 === t) return this[i] || 0;
                    if ("" === t) return this[i] = void 0, void this.updateStyleEl_();
                    var n = parseFloat(t);
                    isNaN(n) ? u.error('Improper value "' + t + '" supplied for for ' + e) : (this[i] = n, this.updateStyleEl_())
                }, o.fluid = function(e) {
                    if (void 0 === e) return !!this.fluid_;
                    var t, i;
                    this.fluid_ = !!e, ke(this) && this.off("playerreset", this.updateStyleEl_), e ? (this.addClass("vjs-fluid"), this.fill(!1), ke(t = function() {
                        this.on("playerreset", this.updateStyleEl_)
                    }) ? i() : (t.eventedCallbacks || (t.eventedCallbacks = []), t.eventedCallbacks.push(i))) : this.removeClass("vjs-fluid"), this.updateStyleEl_()
                }, o.fill = function(e) {
                    if (void 0 === e) return !!this.fill_;
                    this.fill_ = !!e, e ? (this.addClass("vjs-fill"), this.fluid(!1)) : this.removeClass("vjs-fill")
                }, o.aspectRatio = function(e) {
                    if (void 0 === e) return this.aspectRatio_;
                    if (!/^\d+\:\d+$/.test(e)) throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");
                    this.aspectRatio_ = e, this.fluid(!0), this.updateStyleEl_()
                }, o.updateStyleEl_ = function() {
                    if (!0 !== i.VIDEOJS_NO_DYNAMIC_STYLE) {
                        var e, t, n, r = (void 0 !== this.aspectRatio_ && "auto" !== this.aspectRatio_ ? this.aspectRatio_ : 0 < this.videoWidth() ? this.videoWidth() + ":" + this.videoHeight() : "16:9").split(":"),
                            a = r[1] / r[0];
                        e = void 0 !== this.width_ ? this.width_ : void 0 !== this.height_ ? this.height_ / a : this.videoWidth() || 300, t = void 0 !== this.height_ ? this.height_ : e * a, n = /^[^a-zA-Z]/.test(this.id()) ? "dimensions-" + this.id() : this.id() + "-dimensions", this.addClass(n), Se(this.styleEl_, "\n      ." + n + " {\n        width: " + e + "px;\n        height: " + t + "px;\n      }\n\n      ." + n + ".vjs-fluid {\n        padding-top: " + 100 * a + "%;\n      }\n    ")
                    } else {
                        var o = "number" == typeof this.width_ ? this.width_ : this.options_.width,
                            s = "number" == typeof this.height_ ? this.height_ : this.options_.height,
                            l = this.tech_ && this.tech_.el();
                        l && (0 <= o && (l.width = o), 0 <= s && (l.height = s))
                    }
                }, o.loadTech_ = function(e, t) {
                    var i = this;
                    this.tech_ && this.unloadTech_();
                    var n = Ne(e),
                        r = e.charAt(0).toLowerCase() + e.slice(1);
                    "Html5" !== n && this.tag && (Wi.getTech("Html5").disposeMediaElement(this.tag), this.tag.player = null, this.tag = null), this.techName_ = n, this.isReady_ = !1;
                    var a = {
                        source: t,
                        autoplay: "string" != typeof this.autoplay() && this.autoplay(),
                        nativeControlsForTouch: this.options_.nativeControlsForTouch,
                        playerId: this.id(),
                        techId: this.id() + "_" + r + "_api",
                        playsinline: this.options_.playsinline,
                        preload: this.options_.preload,
                        loop: this.options_.loop,
                        muted: this.options_.muted,
                        poster: this.poster(),
                        language: this.language(),
                        playerElIngest: this.playerElIngest_ || !1,
                        "vtt.js": this.options_["vtt.js"],
                        canOverridePoster: !!this.options_.techCanOverridePoster,
                        enableSourceset: this.options_.enableSourceset
                    };
                    yi.names.forEach(function(e) {
                        var t = yi[e];
                        a[t.getterName] = i[t.privateName]
                    }), g(a, this.options_[n]), g(a, this.options_[r]), g(a, this.options_[e.toLowerCase()]), this.tag && (a.tag = this.tag), t && t.src === this.cache_.src && 0 < this.cache_.currentTime && (a.startTime = this.cache_.currentTime);
                    var o = Wi.getTech(e);
                    if (!o) throw new Error("No Tech named '" + n + "' exists! '" + n + "' should be registered using videojs.registerTech()'");
                    this.tech_ = new o(a), this.tech_.ready(Ee(this, this.handleTechReady_), !0),
                        function(e, t) {
                            e.forEach(function(e) {
                                var i = t.addRemoteTextTrack(e).track;
                                !e.src && e.cues && e.cues.forEach(function(e) {
                                    return i.addCue(e)
                                })
                            }), t.textTracks()
                        }(this.textTracksJson_ || [], this.tech_), Fr.forEach(function(e) {
                            i.on(i.tech_, e, i["handleTech" + Ne(e) + "_"])
                        }), Object.keys(Br).forEach(function(e) {
                            i.on(i.tech_, e, function(t) {
                                0 === i.tech_.playbackRate() && i.tech_.seeking() ? i.queuedCallbacks_.push({
                                    callback: i["handleTech" + Br[e] + "_"].bind(i),
                                    event: t
                                }) : i["handleTech" + Br[e] + "_"](t)
                            })
                        }), this.on(this.tech_, "loadstart", this.handleTechLoadStart_), this.on(this.tech_, "sourceset", this.handleTechSourceset_), this.on(this.tech_, "waiting", this.handleTechWaiting_), this.on(this.tech_, "ended", this.handleTechEnded_), this.on(this.tech_, "seeking", this.handleTechSeeking_), this.on(this.tech_, "play", this.handleTechPlay_), this.on(this.tech_, "firstplay", this.handleTechFirstPlay_), this.on(this.tech_, "pause", this.handleTechPause_), this.on(this.tech_, "durationchange", this.handleTechDurationChange_), this.on(this.tech_, "fullscreenchange", this.handleTechFullscreenChange_), this.on(this.tech_, "error", this.handleTechError_), this.on(this.tech_, "loadedmetadata", this.updateStyleEl_), this.on(this.tech_, "posterchange", this.handleTechPosterChange_), this.on(this.tech_, "textdata", this.handleTechTextData_), this.on(this.tech_, "ratechange", this.handleTechRateChange_), this.usingNativeControls(this.techGet_("controls")), this.controls() && !this.usingNativeControls() && this.addTechControlsListeners_(), this.tech_.el().parentNode === this.el() || "Html5" === n && this.tag || I(this.tech_.el(), this.el()), this.tag && (this.tag.player = null, this.tag = null)
                }, o.unloadTech_ = function() {
                    var e = this;
                    yi.names.forEach(function(t) {
                        var i = yi[t];
                        e[i.privateName] = e[i.getterName]()
                    }), this.textTracksJson_ = function(e) {
                        var t = e.$$("track"),
                            i = Array.prototype.map.call(t, function(e) {
                                return e.track
                            });
                        return Array.prototype.map.call(t, function(e) {
                            var t = wt(e.track);
                            return e.src && (t.src = e.src), t
                        }).concat(Array.prototype.filter.call(e.textTracks(), function(e) {
                            return -1 === i.indexOf(e)
                        }).map(wt))
                    }(this.tech_), this.isReady_ = !1, this.tech_.dispose(), this.tech_ = !1, this.isPosterFromTech_ && (this.poster_ = "", this.trigger("posterchange")), this.isPosterFromTech_ = !1
                }, o.tech = function(e) {
                    return void 0 === e && u.warn(h(Nr())), this.tech_
                }, o.addTechControlsListeners_ = function() {
                    this.removeTechControlsListeners_(), this.on(this.tech_, "mousedown", this.handleTechClick_), this.on(this.tech_, "dblclick", this.handleTechDoubleClick_), this.on(this.tech_, "touchstart", this.handleTechTouchStart_), this.on(this.tech_, "touchmove", this.handleTechTouchMove_), this.on(this.tech_, "touchend", this.handleTechTouchEnd_), this.on(this.tech_, "tap", this.handleTechTap_)
                }, o.removeTechControlsListeners_ = function() {
                    this.off(this.tech_, "tap", this.handleTechTap_), this.off(this.tech_, "touchstart", this.handleTechTouchStart_), this.off(this.tech_, "touchmove", this.handleTechTouchMove_), this.off(this.tech_, "touchend", this.handleTechTouchEnd_), this.off(this.tech_, "mousedown", this.handleTechClick_), this.off(this.tech_, "dblclick", this.handleTechDoubleClick_)
                }, o.handleTechReady_ = function() {
                    this.triggerReady(), this.cache_.volume && this.techCall_("setVolume", this.cache_.volume), this.handleTechPosterChange_(), this.handleTechDurationChange_()
                }, o.handleTechLoadStart_ = function() {
                    this.removeClass("vjs-ended"), this.removeClass("vjs-seeking"), this.error(null), this.handleTechDurationChange_(), this.paused() ? (this.hasStarted(!1), this.trigger("loadstart")) : (this.trigger("loadstart"), this.trigger("firstplay")), this.manualAutoplay_(this.autoplay())
                }, o.manualAutoplay_ = function(e) {
                    var t = this;
                    if (this.tech_ && "string" == typeof e) {
                        var i, n = function() {
                            var e = t.muted();
                            t.muted(!0);
                            var i = t.play();
                            if (i && i.then && i.catch) return i.catch(function(i) {
                                t.muted(e)
                            })
                        };
                        if ("any" === e ? (i = this.play()) && i.then && i.catch && i.catch(function() {
                                return n()
                            }) : i = "muted" === e ? n() : this.play(), i && i.then && i.catch) return i.then(function() {
                            t.trigger({
                                type: "autoplay-success",
                                autoplay: e
                            })
                        }).catch(function(i) {
                            t.trigger({
                                type: "autoplay-failure",
                                autoplay: e
                            })
                        })
                    }
                }, o.updateSourceCaches_ = function(e) {
                    void 0 === e && (e = "");
                    var t = e,
                        i = "";
                    "string" != typeof t && (t = e.src, i = e.type), this.cache_.source = this.cache_.source || {}, this.cache_.sources = this.cache_.sources || [], t && !i && (i = function(e, t) {
                        if (!t) return "";
                        if (e.cache_.source.src === t && e.cache_.source.type) return e.cache_.source.type;
                        var i = e.cache_.sources.filter(function(e) {
                            return e.src === t
                        });
                        if (i.length) return i[0].type;
                        for (var n = e.$$("source"), r = 0; r < n.length; r++) {
                            var a = n[r];
                            if (a.type && a.src && a.src === t) return a.type
                        }
                        return nn(t)
                    }(this, t)), this.cache_.source = Fe({}, e, {
                        src: t,
                        type: i
                    });
                    for (var n = this.cache_.sources.filter(function(e) {
                            return e.src && e.src === t
                        }), r = [], a = this.$$("source"), o = [], s = 0; s < a.length; s++) {
                        var l = M(a[s]);
                        r.push(l), l.src && l.src === t && o.push(l.src)
                    }
                    o.length && !n.length ? this.cache_.sources = r : n.length || (this.cache_.sources = [this.cache_.source]), this.cache_.src = t
                }, o.handleTechSourceset_ = function(e) {
                    var t = this;
                    if (!this.changingSrc_) {
                        var i = function(e) {
                                return t.updateSourceCaches_(e)
                            },
                            n = this.currentSource().src,
                            r = e.src;
                        n && !/^blob:/.test(n) && /^blob:/.test(r) && (!this.lastSource_ || this.lastSource_.tech !== r && this.lastSource_.player !== n) && (i = function() {}), i(r), e.src || this.tech_.one(["sourceset", "loadstart"], function e(i) {
                            if ("sourceset" !== i.type) {
                                var n = t.techGet("currentSrc");
                                t.lastSource_.tech = n, t.updateSourceCaches_(n)
                            }
                            t.tech_.off(["sourceset", "loadstart"], e)
                        })
                    }
                    this.lastSource_ = {
                        player: this.currentSource().src,
                        tech: e.src
                    }, this.trigger({
                        src: e.src,
                        type: "sourceset"
                    })
                }, o.hasStarted = function(e) {
                    if (void 0 === e) return this.hasStarted_;
                    e !== this.hasStarted_ && (this.hasStarted_ = e, this.hasStarted_ ? (this.addClass("vjs-has-started"), this.trigger("firstplay")) : this.removeClass("vjs-has-started"))
                }, o.handleTechPlay_ = function() {
                    this.removeClass("vjs-ended"), this.removeClass("vjs-paused"), this.addClass("vjs-playing"), this.hasStarted(!0), this.trigger("play")
                }, o.handleTechRateChange_ = function() {
                    0 < this.tech_.playbackRate() && 0 === this.cache_.lastPlaybackRate && (this.queuedCallbacks_.forEach(function(e) {
                        return e.callback(e.event)
                    }), this.queuedCallbacks_ = []), this.cache_.lastPlaybackRate = this.tech_.playbackRate(), this.trigger("ratechange")
                }, o.handleTechWaiting_ = function() {
                    var e = this;
                    this.addClass("vjs-waiting"), this.trigger("waiting");
                    var t = this.currentTime();
                    this.on("timeupdate", function i() {
                        t !== e.currentTime() && (e.removeClass("vjs-waiting"), e.off("timeupdate", i))
                    })
                }, o.handleTechCanPlay_ = function() {
                    this.removeClass("vjs-waiting"), this.trigger("canplay")
                }, o.handleTechCanPlayThrough_ = function() {
                    this.removeClass("vjs-waiting"), this.trigger("canplaythrough")
                }, o.handleTechPlaying_ = function() {
                    this.removeClass("vjs-waiting"), this.trigger("playing")
                }, o.handleTechSeeking_ = function() {
                    this.addClass("vjs-seeking"), this.trigger("seeking")
                }, o.handleTechSeeked_ = function() {
                    this.removeClass("vjs-seeking"), this.trigger("seeked")
                }, o.handleTechFirstPlay_ = function() {
                    this.options_.starttime && (u.warn("Passing the `starttime` option to the player will be deprecated in 6.0"), this.currentTime(this.options_.starttime)), this.addClass("vjs-has-started"), this.trigger("firstplay")
                }, o.handleTechPause_ = function() {
                    this.removeClass("vjs-playing"), this.addClass("vjs-paused"), this.trigger("pause")
                }, o.handleTechEnded_ = function() {
                    this.addClass("vjs-ended"), this.options_.loop ? (this.currentTime(0), this.play()) : this.paused() || this.pause(), this.trigger("ended")
                }, o.handleTechDurationChange_ = function() {
                    this.duration(this.techGet_("duration"))
                }, o.handleTechClick_ = function(e) {
                    X(e) && this.controls_ && (this.paused() ? Et(this.play()) : this.pause())
                }, o.handleTechDoubleClick_ = function(e) {
                    this.controls_ && (Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"), function(t) {
                        return t.contains(e.target)
                    }) || (this.isFullscreen() ? this.exitFullscreen() : this.requestFullscreen()))
                }, o.handleTechTap_ = function() {
                    this.userActive(!this.userActive())
                }, o.handleTechTouchStart_ = function() {
                    this.userWasActive = this.userActive()
                }, o.handleTechTouchMove_ = function() {
                    this.userWasActive && this.reportUserActivity()
                }, o.handleTechTouchEnd_ = function(e) {
                    e.preventDefault()
                }, o.handleFullscreenChange_ = function() {
                    this.isFullscreen() ? this.addClass("vjs-fullscreen") : this.removeClass("vjs-fullscreen")
                }, o.handleStageClick_ = function() {
                    this.reportUserActivity()
                }, o.handleTechFullscreenChange_ = function(e, t) {
                    t && this.isFullscreen(t.isFullscreen), this.trigger("fullscreenchange")
                }, o.handleTechError_ = function() {
                    var e = this.tech_.error();
                    this.error(e)
                }, o.handleTechTextData_ = function() {
                    var e = null;
                    1 < arguments.length && (e = arguments[1]), this.trigger("textdata", e)
                }, o.getCache = function() {
                    return this.cache_
                }, o.techCall_ = function(e, t) {
                    this.ready(function() {
                        if (e in Qi) return r = t, this.tech_[n = e]((i = this.middleware_).reduce(en(n), r));
                        if (e in Zi) return Ji(this.middleware_, this.tech_, e, t);
                        var i, n, r;
                        try {
                            this.tech_ && this.tech_[e](t)
                        } catch (i) {
                            throw u(i), i
                        }
                    }, !0)
                }, o.techGet_ = function(e) {
                    if (this.tech_ && this.tech_.isReady_) {
                        if (e in $i) return i = this.tech_, (t = this.middleware_).reduceRight(en(n = e), i[n]());
                        if (e in Zi) return Ji(this.middleware_, this.tech_, e);
                        var t, i, n;
                        try {
                            return this.tech_[e]()
                        } catch (t) {
                            if (void 0 === this.tech_[e]) throw u("Video.js: " + e + " method not defined for " + this.techName_ + " playback technology.", t), t;
                            if ("TypeError" === t.name) throw u("Video.js: " + e + " unavailable on " + this.techName_ + " playback technology element.", t), this.tech_.isReady_ = !1, t;
                            throw u(t), t
                        }
                    }
                }, o.play = function() {
                    var e = this,
                        t = this.options_.Promise || i.Promise;
                    return t ? new t(function(t) {
                        e.play_(t)
                    }) : this.play_()
                }, o.play_ = function(e) {
                    var t = this;
                    if (void 0 === e && (e = Et), this.playOnLoadstart_ && this.off("loadstart", this.playOnLoadstart_), this.isReady_) {
                        if (!this.changingSrc_ && (this.src() || this.currentSrc())) return void e(this.techGet_("play"));
                        this.playOnLoadstart_ = function() {
                            t.playOnLoadstart_ = null, e(t.play())
                        }, this.one("loadstart", this.playOnLoadstart_)
                    } else {
                        if (this.playWaitingForReady_) return;
                        this.playWaitingForReady_ = !0, this.ready(function() {
                            t.playWaitingForReady_ = !1, e(t.play())
                        })
                    }
                }, o.pause = function() {
                    this.techCall_("pause")
                }, o.paused = function() {
                    return !1 !== this.techGet_("paused")
                }, o.played = function() {
                    return this.techGet_("played") || ht(0, 0)
                }, o.scrubbing = function(e) {
                    if (void 0 === e) return this.scrubbing_;
                    this.scrubbing_ = !!e, e ? this.addClass("vjs-scrubbing") : this.removeClass("vjs-scrubbing")
                }, o.currentTime = function(e) {
                    return void 0 !== e ? (e < 0 && (e = 0), void this.techCall_("setCurrentTime", e)) : (this.cache_.currentTime = this.techGet_("currentTime") || 0, this.cache_.currentTime)
                }, o.duration = function(e) {
                    if (void 0 === e) return void 0 !== this.cache_.duration ? this.cache_.duration : NaN;
                    (e = parseFloat(e)) < 0 && (e = 1 / 0), e !== this.cache_.duration && ((this.cache_.duration = e) === 1 / 0 ? (this.addClass("vjs-live"), this.options_.liveui && this.player_.liveTracker && this.addClass("vjs-liveui")) : (this.removeClass("vjs-live"), this.removeClass("vjs-liveui")), isNaN(e) || this.trigger("durationchange"))
                }, o.remainingTime = function() {
                    return this.duration() - this.currentTime()
                }, o.remainingTimeDisplay = function() {
                    return Math.floor(this.duration()) - Math.floor(this.currentTime())
                }, o.buffered = function() {
                    var e = this.techGet_("buffered");
                    return e && e.length || (e = ht(0, 0)), e
                }, o.bufferedPercent = function() {
                    return pt(this.buffered(), this.duration())
                }, o.bufferedEnd = function() {
                    var e = this.buffered(),
                        t = this.duration(),
                        i = e.end(e.length - 1);
                    return t < i && (i = t), i
                }, o.volume = function(e) {
                    var t;
                    return void 0 !== e ? (t = Math.max(0, Math.min(1, parseFloat(e))), this.cache_.volume = t, this.techCall_("setVolume", t), void(0 < t && this.lastVolume_(t))) : (t = parseFloat(this.techGet_("volume")), isNaN(t) ? 1 : t)
                }, o.muted = function(e) {
                    if (void 0 === e) return this.techGet_("muted") || !1;
                    this.techCall_("setMuted", e)
                }, o.defaultMuted = function(e) {
                    return void 0 !== e ? this.techCall_("setDefaultMuted", e) : this.techGet_("defaultMuted") || !1
                }, o.lastVolume_ = function(e) {
                    if (void 0 === e || 0 === e) return this.cache_.lastVolume;
                    this.cache_.lastVolume = e
                }, o.supportsFullScreen = function() {
                    return this.techGet_("supportsFullScreen") || !1
                }, o.isFullscreen = function(e) {
                    if (void 0 === e) return !!this.isFullscreen_;
                    this.isFullscreen_ = !!e
                }, o.requestFullscreen = function() {
                    var e = mt;
                    this.isFullscreen(!0), e.requestFullscreen ? (de(t, e.fullscreenchange, Ee(this, function i(n) {
                        this.isFullscreen(t[e.fullscreenElement]), !1 === this.isFullscreen() && he(t, e.fullscreenchange, i), this.trigger("fullscreenchange")
                    })), this.el_[e.requestFullscreen]()) : this.tech_.supportsFullScreen() ? this.techCall_("enterFullScreen") : (this.enterFullWindow(), this.trigger("fullscreenchange"))
                }, o.exitFullscreen = function() {
                    var e = mt;
                    this.isFullscreen(!1), e.requestFullscreen ? t[e.exitFullscreen]() : this.tech_.supportsFullScreen() ? this.techCall_("exitFullScreen") : (this.exitFullWindow(), this.trigger("fullscreenchange"))
                }, o.enterFullWindow = function() {
                    this.isFullWindow = !0, this.docOrigOverflow = t.documentElement.style.overflow, de(t, "keydown", Ee(this, this.fullWindowOnEscKey)), t.documentElement.style.overflow = "hidden", O(t.body, "vjs-full-window"), this.trigger("enterFullWindow")
                }, o.fullWindowOnEscKey = function(e) {
                    27 === e.keyCode && (!0 === this.isFullscreen() ? this.exitFullscreen() : this.exitFullWindow())
                }, o.exitFullWindow = function() {
                    this.isFullWindow = !1, he(t, "keydown", this.fullWindowOnEscKey), t.documentElement.style.overflow = this.docOrigOverflow, D(t.body, "vjs-full-window"), this.trigger("exitFullWindow")
                }, o.canPlayType = function(e) {
                    for (var t, i = 0, n = this.options_.techOrder; i < n.length; i++) {
                        var r = n[i],
                            a = Wi.getTech(r);
                        if (a || (a = Be.getComponent(r)), a) {
                            if (a.isSupported() && (t = a.canPlayType(e))) return t
                        } else u.error('The "' + r + '" tech is undefined. Skipped browser support check for that tech.')
                    }
                    return ""
                }, o.selectSource = function(e) {
                    var t, i = this,
                        n = this.options_.techOrder.map(function(e) {
                            return [e, Wi.getTech(e)]
                        }).filter(function(e) {
                            var t = e[0],
                                i = e[1];
                            return i ? i.isSupported() : (u.error('The "' + t + '" tech is undefined. Skipped browser support check for that tech.'), !1)
                        }),
                        r = function(e, t, i) {
                            var n;
                            return e.some(function(e) {
                                return t.some(function(t) {
                                    if (n = i(e, t)) return !0
                                })
                            }), n
                        },
                        a = function(e, t) {
                            var n = e[0];
                            if (e[1].canPlaySource(t, i.options_[n.toLowerCase()])) return {
                                source: t,
                                tech: n
                            }
                        };
                    return (this.options_.sourceOrder ? r(e, n, (t = a, function(e, i) {
                        return t(i, e)
                    })) : r(n, e, a)) || !1
                }, o.src = function(e) {
                    var t = this;
                    if (void 0 === e) return this.cache_.src || "";
                    var i = function e(t) {
                        if (Array.isArray(t)) {
                            var i = [];
                            t.forEach(function(t) {
                                t = e(t), Array.isArray(t) ? i = i.concat(t) : y(t) && i.push(t)
                            }), t = i
                        } else t = "string" == typeof t && t.trim() ? [rn({
                            src: t
                        })] : y(t) && "string" == typeof t.src && t.src && t.src.trim() ? [rn(t)] : [];
                        return t
                    }(e);
                    i.length ? (this.changingSrc_ = !0, this.cache_.sources = i, this.updateSourceCaches_(i[0]), function(e, t, i) {
                        e.setTimeout(function() {
                            return function e(t, i, n, r, a, o) {
                                void 0 === t && (t = {}), void 0 === i && (i = []), void 0 === a && (a = []), void 0 === o && (o = !1);
                                var s = i[0],
                                    l = i.slice(1);
                                if ("string" == typeof s) e(t, Yi[s], n, r, a, o);
                                else if (s) {
                                    var c = function(e, t) {
                                        var i = Ki[e.id()],
                                            n = null;
                                        if (null == i) return n = t(e), Ki[e.id()] = [
                                            [t, n]
                                        ], n;
                                        for (var r = 0; r < i.length; r++) {
                                            var a = i[r];
                                            a[0] === t && (n = a[1])
                                        }
                                        return null === n && (n = t(e), i.push([t, n])), n
                                    }(r, s);
                                    if (!c.setSource) return a.push(c), e(t, l, n, r, a, o);
                                    c.setSource(g({}, t), function(i, s) {
                                        if (i) return e(t, l, n, r, a, o);
                                        a.push(c), e(s, t.type === s.type ? l : Yi[s.type], n, r, a, o)
                                    })
                                } else l.length ? e(t, l, n, r, a, o) : o ? n(t, a) : e(t, Yi["*"], n, r, a, !0)
                            }(t, Yi[t.type], i, e)
                        }, 1)
                    }(this, i[0], function(e, n) {
                        var r;
                        if (t.middleware_ = n, t.cache_.sources = i, t.updateSourceCaches_(e), t.src_(e)) return 1 < i.length ? t.src(i.slice(1)) : (t.changingSrc_ = !1, t.setTimeout(function() {
                            this.error({
                                code: 4,
                                message: this.localize(this.options_.notSupportedMessage)
                            })
                        }, 0), void t.triggerReady());
                        r = t.tech_, n.forEach(function(e) {
                            return e.setTech && e.setTech(r)
                        })
                    })) : this.setTimeout(function() {
                        this.error({
                            code: 4,
                            message: this.localize(this.options_.notSupportedMessage)
                        })
                    }, 0)
                }, o.src_ = function(e) {
                    var t, i = this,
                        n = this.selectSource([e]);
                    return !n || (t = this.techName_, Ne(n.tech) !== Ne(t) ? (this.changingSrc_ = !0, this.loadTech_(n.tech, n.source), this.tech_.ready(function() {
                        i.changingSrc_ = !1
                    })) : this.ready(function() {
                        this.tech_.constructor.prototype.hasOwnProperty("setSource") ? this.techCall_("setSource", e) : this.techCall_("src", e.src), this.changingSrc_ = !1
                    }, !0), !1)
                }, o.load = function() {
                    this.techCall_("load")
                }, o.reset = function() {
                    this.tech_ && this.tech_.clearTracks("text"), this.loadTech_(this.options_.techOrder[0], null), this.techCall_("reset"), ke(this) && this.trigger("playerreset")
                }, o.currentSources = function() {
                    var e = this.currentSource(),
                        t = [];
                    return 0 !== Object.keys(e).length && t.push(e), this.cache_.sources || t
                }, o.currentSource = function() {
                    return this.cache_.source || {}
                }, o.currentSrc = function() {
                    return this.currentSource() && this.currentSource().src || ""
                }, o.currentType = function() {
                    return this.currentSource() && this.currentSource().type || ""
                }, o.preload = function(e) {
                    return void 0 !== e ? (this.techCall_("setPreload", e), void(this.options_.preload = e)) : this.techGet_("preload")
                }, o.autoplay = function(e) {
                    if (void 0 === e) return this.options_.autoplay || !1;
                    var t;
                    "string" == typeof e && /(any|play|muted)/.test(e) ? (this.options_.autoplay = e, this.manualAutoplay_(e), t = !1) : this.options_.autoplay = !!e, t = t || this.options_.autoplay, this.tech_ && this.techCall_("setAutoplay", t)
                }, o.playsinline = function(e) {
                    return void 0 !== e ? (this.techCall_("setPlaysinline", e), this.options_.playsinline = e, this) : this.techGet_("playsinline")
                }, o.loop = function(e) {
                    return void 0 !== e ? (this.techCall_("setLoop", e), void(this.options_.loop = e)) : this.techGet_("loop")
                }, o.poster = function(e) {
                    if (void 0 === e) return this.poster_;
                    e || (e = ""), e !== this.poster_ && (this.poster_ = e, this.techCall_("setPoster", e), this.isPosterFromTech_ = !1, this.trigger("posterchange"))
                }, o.handleTechPosterChange_ = function() {
                    if ((!this.poster_ || this.options_.techCanOverridePoster) && this.tech_ && this.tech_.poster) {
                        var e = this.tech_.poster() || "";
                        e !== this.poster_ && (this.poster_ = e, this.isPosterFromTech_ = !0, this.trigger("posterchange"))
                    }
                }, o.controls = function(e) {
                    if (void 0 === e) return !!this.controls_;
                    this.controls_ !== (e = !!e) && (this.controls_ = e, this.usingNativeControls() && this.techCall_("setControls", e), this.controls_ ? (this.removeClass("vjs-controls-disabled"), this.addClass("vjs-controls-enabled"), this.trigger("controlsenabled"), this.usingNativeControls() || this.addTechControlsListeners_()) : (this.removeClass("vjs-controls-enabled"), this.addClass("vjs-controls-disabled"), this.trigger("controlsdisabled"), this.usingNativeControls() || this.removeTechControlsListeners_()))
                }, o.usingNativeControls = function(e) {
                    if (void 0 === e) return !!this.usingNativeControls_;
                    this.usingNativeControls_ !== (e = !!e) && (this.usingNativeControls_ = e, this.usingNativeControls_ ? (this.addClass("vjs-using-native-controls"), this.trigger("usingnativecontrols")) : (this.removeClass("vjs-using-native-controls"), this.trigger("usingcustomcontrols")))
                }, o.error = function(e) {
                    return void 0 === e ? this.error_ || null : null === e ? (this.error_ = e, this.removeClass("vjs-error"), void(this.errorDisplay && this.errorDisplay.close())) : (this.error_ = new _t(e), this.addClass("vjs-error"), u.error("(CODE:" + this.error_.code + " " + _t.errorTypes[this.error_.code] + ")", this.error_.message, this.error_), void this.trigger("error"))
                }, o.reportUserActivity = function(e) {
                    this.userActivity_ = !0
                }, o.userActive = function(e) {
                    if (void 0 === e) return this.userActive_;
                    if ((e = !!e) !== this.userActive_) {
                        if (this.userActive_ = e, this.userActive_) return this.userActivity_ = !0, this.removeClass("vjs-user-inactive"), this.addClass("vjs-user-active"), void this.trigger("useractive");
                        this.tech_ && this.tech_.one("mousemove", function(e) {
                            e.stopPropagation(), e.preventDefault()
                        }), this.userActivity_ = !1, this.removeClass("vjs-user-active"), this.addClass("vjs-user-inactive"), this.trigger("userinactive")
                    }
                }, o.listenForUserActivity_ = function() {
                    var e, t, i, n, r = Ee(this, this.reportUserActivity);
                    this.on("mousedown", function() {
                        r(), this.clearInterval(e), e = this.setInterval(r, 250)
                    }), this.on("mousemove", function(e) {
                        e.screenX === t && e.screenY === i || (t = e.screenX, i = e.screenY, r())
                    }), this.on("mouseup", function(t) {
                        r(), this.clearInterval(e)
                    }), this.on("keydown", r), this.on("keyup", r), this.setInterval(function() {
                        if (this.userActivity_) {
                            this.userActivity_ = !1, this.userActive(!0), this.clearTimeout(n);
                            var e = this.options_.inactivityTimeout;
                            e <= 0 || (n = this.setTimeout(function() {
                                this.userActivity_ || this.userActive(!1)
                            }, e))
                        }
                    }, 250)
                }, o.playbackRate = function(e) {
                    if (void 0 === e) return this.tech_ && this.tech_.featuresPlaybackRate ? this.cache_.lastPlaybackRate || this.techGet_("playbackRate") : 1;
                    this.techCall_("setPlaybackRate", e)
                }, o.defaultPlaybackRate = function(e) {
                    return void 0 !== e ? this.techCall_("setDefaultPlaybackRate", e) : this.tech_ && this.tech_.featuresPlaybackRate ? this.techGet_("defaultPlaybackRate") : 1
                }, o.isAudio = function(e) {
                    if (void 0 === e) return !!this.isAudio_;
                    this.isAudio_ = !!e
                }, o.addTextTrack = function(e, t, i) {
                    if (this.tech_) return this.tech_.addTextTrack(e, t, i)
                }, o.addRemoteTextTrack = function(e, t) {
                    if (this.tech_) return this.tech_.addRemoteTextTrack(e, t)
                }, o.removeRemoteTextTrack = function(e) {
                    void 0 === e && (e = {});
                    var t = e.track;
                    if (t || (t = e), this.tech_) return this.tech_.removeRemoteTextTrack(t)
                }, o.getVideoPlaybackQuality = function() {
                    return this.techGet_("getVideoPlaybackQuality")
                }, o.videoWidth = function() {
                    return this.tech_ && this.tech_.videoWidth && this.tech_.videoWidth() || 0
                }, o.videoHeight = function() {
                    return this.tech_ && this.tech_.videoHeight && this.tech_.videoHeight() || 0
                }, o.language = function(e) {
                    if (void 0 === e) return this.language_;
                    this.language_ = String(e).toLowerCase()
                }, o.languages = function() {
                    return Fe(a.prototype.options_.languages, this.languages_)
                }, o.toJSON = function() {
                    var e = Fe(this.options_),
                        t = e.tracks;
                    e.tracks = [];
                    for (var i = 0; i < t.length; i++) {
                        var n = t[i];
                        (n = Fe(n)).player = void 0, e.tracks[i] = n
                    }
                    return e
                }, o.createModal = function(e, t) {
                    var i = this;
                    (t = t || {}).content = e || "";
                    var n = new kt(this, t);
                    return this.addChild(n), n.on("dispose", function() {
                        i.removeChild(n)
                    }), n.open(), n
                }, o.updateCurrentBreakpoint_ = function() {
                    if (this.responsive())
                        for (var e = this.currentBreakpoint(), t = this.currentWidth(), i = 0; i < Vr.length; i++) {
                            var n = Vr[i];
                            if (t <= this.breakpoints_[n]) {
                                if (e === n) return;
                                e && this.removeClass(jr[e]), this.addClass(jr[n]), this.breakpoint_ = n;
                                break
                            }
                        }
                }, o.removeCurrentBreakpoint_ = function() {
                    var e = this.currentBreakpointClass();
                    this.breakpoint_ = "", e && this.removeClass(e)
                }, o.breakpoints = function(e) {
                    return void 0 === e || (this.breakpoint_ = "", this.breakpoints_ = g({}, zr, e), this.updateCurrentBreakpoint_()), g(this.breakpoints_)
                }, o.responsive = function(e) {
                    return void 0 === e ? this.responsive_ : (e = Boolean(e)) !== this.responsive_ ? ((this.responsive_ = e) ? (this.on("playerresize", this.updateCurrentBreakpoint_), this.updateCurrentBreakpoint_()) : (this.off("playerresize", this.updateCurrentBreakpoint_), this.removeCurrentBreakpoint_()), e) : void 0
                }, o.currentBreakpoint = function() {
                    return this.breakpoint_
                }, o.currentBreakpointClass = function() {
                    return jr[this.breakpoint_] || ""
                }, a.getTagSettings = function(e) {
                    var t = {
                            sources: [],
                            tracks: []
                        },
                        i = M(e),
                        n = i["data-setup"];
                    if (L(e, "vjs-fill") && (i.fill = !0), L(e, "vjs-fluid") && (i.fluid = !0), null !== n) {
                        var r = function(e, t) {
                                var i, n = null;
                                try {
                                    i = JSON.parse(e, void 0)
                                } catch (e) {
                                    n = e
                                }
                                return [n, i]
                            }(n || "{}"),
                            a = r[0],
                            o = r[1];
                        a && u.error(a), g(i, o)
                    }
                    if (g(t, i), e.hasChildNodes())
                        for (var s = e.childNodes, l = 0, c = s.length; l < c; l++) {
                            var d = s[l],
                                h = d.nodeName.toLowerCase();
                            "source" === h ? t.sources.push(M(d)) : "track" === h && t.tracks.push(M(d))
                        }
                    return t
                }, o.flexNotSupported_ = function() {
                    var e = t.createElement("i");
                    return !("flexBasis" in e.style || "webkitFlexBasis" in e.style || "mozFlexBasis" in e.style || "msFlexBasis" in e.style || "msFlexOrder" in e.style)
                }, a
            }(Be);
        yi.names.forEach(function(e) {
            var t = yi[e];
            qr.prototype[t.getterName] = function() {
                return this.tech_ ? this.tech_[t.getterName]() : (this[t.privateName] = this[t.privateName] || new t.ListClass, this[t.privateName])
            }
        }), qr.players = {};
        var Hr = i.navigator;
        qr.prototype.options_ = {
            techOrder: Wi.defaultTechOrder_,
            html5: {},
            flash: {},
            inactivityTimeout: 2e3,
            playbackRates: [],
            liveui: !1,
            children: ["mediaLoader", "posterImage", "textTrackDisplay", "loadingSpinner", "bigPlayButton", "liveTracker", "controlBar", "errorDisplay", "textTrackSettings", "resizeManager"],
            language: Hr && (Hr.languages && Hr.languages[0] || Hr.userLanguage || Hr.language) || "en",
            languages: {},
            notSupportedMessage: "No compatible source was found for this media.",
            breakpoints: {},
            responsive: !1
        }, ["ended", "seeking", "seekable", "networkState", "readyState"].forEach(function(e) {
            qr.prototype[e] = function() {
                return this.techGet_(e)
            }
        }), Fr.forEach(function(e) {
            qr.prototype["handleTech" + Ne(e) + "_"] = function() {
                return this.trigger(e)
            }
        }), Be.registerComponent("Player", qr);
        var Gr = "plugin",
            Wr = "activePlugins_",
            Yr = {},
            Kr = function(e) {
                return Yr.hasOwnProperty(e)
            },
            Xr = function(e) {
                return Kr(e) ? Yr[e] : void 0
            },
            Jr = function(e, t) {
                e[Wr] = e[Wr] || {}, e[Wr][t] = !0
            },
            $r = function(e, t, i) {
                var n = (i ? "before" : "") + "pluginsetup";
                e.trigger(n, t), e.trigger(n + ":" + t.name, t)
            },
            Qr = function(e, t) {
                return t.prototype.name = e,
                    function() {
                        $r(this, {
                            name: e,
                            plugin: t,
                            instance: null
                        }, !0);
                        for (var i = arguments.length, n = new Array(i), r = 0; r < i; r++) n[r] = arguments[r];
                        var a = o(t, [this].concat(n));
                        return this[e] = function() {
                            return a
                        }, $r(this, a.getEventHash()), a
                    }
            },
            Zr = function() {
                function e(t) {
                    if (this.constructor === e) throw new Error("Plugin must be sub-classed; not directly instantiated.");
                    this.player = t, xe(this), delete this.trigger, Ue(this, this.constructor.defaultState), Jr(t, this.name), this.dispose = Ee(this, this.dispose), t.on("dispose", this.dispose)
                }
                var t = e.prototype;
                return t.version = function() {
                    return this.constructor.VERSION
                }, t.getEventHash = function(e) {
                    return void 0 === e && (e = {}), e.name = this.name, e.plugin = this.constructor, e.instance = this, e
                }, t.trigger = function(e, t) {
                    return void 0 === t && (t = {}), pe(this.eventBusEl_, e, this.getEventHash(t))
                }, t.handleStateChanged = function(e) {}, t.dispose = function() {
                    var e = this.name,
                        t = this.player;
                    this.trigger("dispose"), this.off(), t.off("dispose", this.dispose), t[Wr][e] = !1, this.player = this.state = null, t[e] = Qr(e, Yr[e])
                }, e.isBasic = function(t) {
                    var i = "string" == typeof t ? Xr(t) : t;
                    return "function" == typeof i && !e.prototype.isPrototypeOf(i.prototype)
                }, e.registerPlugin = function(t, i) {
                    if ("string" != typeof t) throw new Error('Illegal plugin name, "' + t + '", must be a string, was ' + typeof t + ".");
                    if (Kr(t)) u.warn('A plugin named "' + t + '" already exists. You may want to avoid re-registering plugins!');
                    else if (qr.prototype.hasOwnProperty(t)) throw new Error('Illegal plugin name, "' + t + '", cannot share a name with an existing player method!');
                    if ("function" != typeof i) throw new Error('Illegal plugin for "' + t + '", must be a function, was ' + typeof i + ".");
                    var n, r, a;
                    return Yr[t] = i, t !== Gr && (qr.prototype[t] = e.isBasic(i) ? (n = t, r = i, a = function() {
                        $r(this, {
                            name: n,
                            plugin: r,
                            instance: null
                        }, !0);
                        var e = r.apply(this, arguments);
                        return Jr(this, n), $r(this, {
                            name: n,
                            plugin: r,
                            instance: e
                        }), e
                    }, Object.keys(r).forEach(function(e) {
                        a[e] = r[e]
                    }), a) : Qr(t, i)), i
                }, e.deregisterPlugin = function(e) {
                    if (e === Gr) throw new Error("Cannot de-register base plugin.");
                    Kr(e) && (delete Yr[e], delete qr.prototype[e])
                }, e.getPlugins = function(e) {
                    var t;
                    return void 0 === e && (e = Object.keys(Yr)), e.forEach(function(e) {
                        var i = Xr(e);
                        i && ((t = t || {})[e] = i)
                    }), t
                }, e.getPluginVersion = function(e) {
                    var t = Xr(e);
                    return t && t.VERSION || ""
                }, e
            }();
        Zr.getPlugin = Xr, Zr.BASE_PLUGIN_NAME = Gr, Zr.registerPlugin(Gr, Zr), qr.prototype.usingPlugin = function(e) {
            return !!this[Wr] && !0 === this[Wr][e]
        }, qr.prototype.hasPlugin = function(e) {
            return !!Kr(e)
        };
        var ea = function(e) {
            return 0 === e.indexOf("#") ? e.slice(1) : e
        };

        function ta(e, i, n) {
            var r = ta.getPlayer(e);
            if (r) return i && u.warn('Player "' + e + '" is already initialised. Options will not be applied.'), n && r.ready(n), r;
            var a = "string" == typeof e ? J("#" + ea(e)) : e;
            if (!w(a)) throw new TypeError("The element or ID supplied is not valid. (videojs)");
            t.body.contains(a) || u.warn("The element supplied is not included in the DOM"), i = i || {}, ta.hooks("beforesetup").forEach(function(e) {
                var t = e(a, Fe(i));
                y(t) && !Array.isArray(t) ? i = Fe(i, t) : u.error("please return an object in beforesetup hooks")
            });
            var o = Be.getComponent("Player");
            return r = new o(a, i, n), ta.hooks("setup").forEach(function(e) {
                return e(r)
            }), r
        }
        if (ta.hooks_ = {}, ta.hooks = function(e, t) {
                return ta.hooks_[e] = ta.hooks_[e] || [], t && (ta.hooks_[e] = ta.hooks_[e].concat(t)), ta.hooks_[e]
            }, ta.hook = function(e, t) {
                ta.hooks(e, t)
            }, ta.hookOnce = function(e, t) {
                ta.hooks(e, [].concat(t).map(function(t) {
                    return function i() {
                        return ta.removeHook(e, i), t.apply(void 0, arguments)
                    }
                }))
            }, ta.removeHook = function(e, t) {
                var i = ta.hooks(e).indexOf(t);
                return !(i <= -1 || (ta.hooks_[e] = ta.hooks_[e].slice(), ta.hooks_[e].splice(i, 1), 0))
            }, !0 !== i.VIDEOJS_NO_DYNAMIC_STYLE && E()) {
            var ia = J(".vjs-styles-defaults");
            if (!ia) {
                ia = Te("vjs-styles-defaults");
                var na = J("head");
                na && na.insertBefore(ia, na.firstChild), Se(ia, "\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")
            }
        }
        be(1, ta), ta.VERSION = n, ta.options = qr.prototype.options_, ta.getPlayers = function() {
            return qr.players
        }, ta.getPlayer = function(e) {
            var t, i = qr.players;
            if ("string" == typeof e) {
                var n = ea(e),
                    r = i[n];
                if (r) return r;
                t = J("#" + n)
            } else t = e;
            if (w(t)) {
                var a = t.player,
                    o = t.playerId;
                if (a || i[o]) return a || i[o]
            }
        }, ta.getAllPlayers = function() {
            return Object.keys(qr.players).map(function(e) {
                return qr.players[e]
            }).filter(Boolean)
        }, ta.players = qr.players, ta.getComponent = Be.getComponent, ta.registerComponent = function(e, t) {
            Wi.isTech(t) && u.warn("The " + e + " tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"), Be.registerComponent.call(Be, e, t)
        }, ta.getTech = Wi.getTech, ta.registerTech = Wi.registerTech, ta.use = function(e, t) {
            Yi[e] = Yi[e] || [], Yi[e].push(t)
        }, Object.defineProperty(ta, "middleware", {
            value: {},
            writeable: !1,
            enumerable: !0
        }), Object.defineProperty(ta.middleware, "TERMINATOR", {
            value: Xi,
            writeable: !1,
            enumerable: !0
        }), ta.browser = ct, ta.TOUCH_ENABLED = lt, ta.extend = function(e, t) {
            void 0 === t && (t = {});
            var i = function() {
                    e.apply(this, arguments)
                },
                n = {};
            for (var r in "object" == typeof t ? (t.constructor !== Object.prototype.constructor && (i = t.constructor), n = t) : "function" == typeof t && (i = t),
                    function(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (e.super_ = t)
                    }(i, e), n) n.hasOwnProperty(r) && (i.prototype[r] = n[r]);
            return i
        }, ta.mergeOptions = Fe, ta.bind = Ee, ta.registerPlugin = Zr.registerPlugin, ta.deregisterPlugin = Zr.deregisterPlugin, ta.plugin = function(e, t) {
            return u.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"), Zr.registerPlugin(e, t)
        }, ta.getPlugins = Zr.getPlugins, ta.getPlugin = Zr.getPlugin, ta.getPluginVersion = Zr.getPluginVersion, ta.addLanguage = function(e, t) {
            var i;
            return e = ("" + e).toLowerCase(), (ta.options.languages = Fe(ta.options.languages, ((i = {})[e] = t, i)))[e]
        }, ta.log = u, ta.createLogger = d, ta.createTimeRange = ta.createTimeRanges = ht, ta.formatTime = _n, ta.setFormatTime = function(e) {
            bn = e
        }, ta.resetFormatTime = function() {
            bn = vn
        }, ta.parseUrl = jt, ta.isCrossOrigin = Ht, ta.EventTarget = Ce, ta.on = de, ta.one = fe, ta.off = he, ta.trigger = pe, ta.xhr = oi, ta.TextTrack = di, ta.AudioTrack = hi, ta.VideoTrack = pi, ["isEl", "isTextNode", "createEl", "hasClass", "addClass", "removeClass", "toggleClass", "setAttributes", "getAttributes", "emptyEl", "appendContent", "insertContent"].forEach(function(e) {
            ta[e] = function() {
                return u.warn("videojs." + e + "() is deprecated; use videojs.dom." + e + "() instead"), Q[e].apply(null, arguments)
            }
        }), ta.computedStyle = b, ta.dom = Q, ta.url = Gt;
        var ra = Kt(function(e, t) {
                var i, n, r, a, o;
                i = /^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/, n = /^([^\/?#]*)(.*)$/, r = /(?:\/|^)\.(?=\/)/g, a = /(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g, o = {
                    buildAbsoluteURL: function(e, t, i) {
                        if (i = i || {}, e = e.trim(), !(t = t.trim())) {
                            if (!i.alwaysNormalize) return e;
                            var r = o.parseURL(e);
                            if (!r) throw new Error("Error trying to parse base URL.");
                            return r.path = o.normalizePath(r.path), o.buildURLFromParts(r)
                        }
                        var a = o.parseURL(t);
                        if (!a) throw new Error("Error trying to parse relative URL.");
                        if (a.scheme) return i.alwaysNormalize ? (a.path = o.normalizePath(a.path), o.buildURLFromParts(a)) : t;
                        var s = o.parseURL(e);
                        if (!s) throw new Error("Error trying to parse base URL.");
                        if (!s.netLoc && s.path && "/" !== s.path[0]) {
                            var l = n.exec(s.path);
                            s.netLoc = l[1], s.path = l[2]
                        }
                        s.netLoc && !s.path && (s.path = "/");
                        var c = {
                            scheme: s.scheme,
                            netLoc: a.netLoc,
                            path: null,
                            params: a.params,
                            query: a.query,
                            fragment: a.fragment
                        };
                        if (!a.netLoc && (c.netLoc = s.netLoc, "/" !== a.path[0]))
                            if (a.path) {
                                var u = s.path,
                                    d = u.substring(0, u.lastIndexOf("/") + 1) + a.path;
                                c.path = o.normalizePath(d)
                            } else c.path = s.path, a.params || (c.params = s.params, a.query || (c.query = s.query));
                        return null === c.path && (c.path = i.alwaysNormalize ? o.normalizePath(a.path) : a.path), o.buildURLFromParts(c)
                    },
                    parseURL: function(e) {
                        var t = i.exec(e);
                        return t ? {
                            scheme: t[1] || "",
                            netLoc: t[2] || "",
                            path: t[3] || "",
                            params: t[4] || "",
                            query: t[5] || "",
                            fragment: t[6] || ""
                        } : null
                    },
                    normalizePath: function(e) {
                        for (e = e.split("").reverse().join("").replace(r, ""); e.length !== (e = e.replace(a, "")).length;);
                        return e.split("").reverse().join("")
                    },
                    buildURLFromParts: function(e) {
                        return e.scheme + e.netLoc + e.path + e.params + e.query + e.fragment
                    }
                }, e.exports = o
            }),
            aa = function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            },
            oa = Object.assign || function(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var i = arguments[t];
                    for (var n in i) Object.prototype.hasOwnProperty.call(i, n) && (e[n] = i[n])
                }
                return e
            },
            sa = function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            },
            la = function(e, t) {
                if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !t || "object" != typeof t && "function" != typeof t ? e : t
            },
            ca = function() {
                function e() {
                    aa(this, e), this.listeners = {}
                }
                return e.prototype.on = function(e, t) {
                    this.listeners[e] || (this.listeners[e] = []), this.listeners[e].push(t)
                }, e.prototype.off = function(e, t) {
                    if (!this.listeners[e]) return !1;
                    var i = this.listeners[e].indexOf(t);
                    return this.listeners[e].splice(i, 1), -1 < i
                }, e.prototype.trigger = function(e) {
                    var t = this.listeners[e],
                        i = void 0,
                        n = void 0,
                        r = void 0;
                    if (t)
                        if (2 === arguments.length)
                            for (n = t.length, i = 0; i < n; ++i) t[i].call(this, arguments[1]);
                        else
                            for (r = Array.prototype.slice.call(arguments, 1), n = t.length, i = 0; i < n; ++i) t[i].apply(this, r)
                }, e.prototype.dispose = function() {
                    this.listeners = {}
                }, e.prototype.pipe = function(e) {
                    this.on("data", function(t) {
                        e.push(t)
                    })
                }, e
            }(),
            ua = function(e) {
                function t() {
                    aa(this, t);
                    var i = la(this, e.call(this));
                    return i.buffer = "", i
                }
                return sa(t, e), t.prototype.push = function(e) {
                    var t = void 0;
                    for (this.buffer += e, t = this.buffer.indexOf("\n"); - 1 < t; t = this.buffer.indexOf("\n")) this.trigger("data", this.buffer.substring(0, t)), this.buffer = this.buffer.substring(t + 1)
                }, t
            }(ca),
            da = function(e) {
                for (var t = e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')), i = {}, n = t.length, r = void 0; n--;) "" !== t[n] && ((r = /([^=]*)=(.*)/.exec(t[n]).slice(1))[0] = r[0].replace(/^\s+|\s+$/g, ""), r[1] = r[1].replace(/^\s+|\s+$/g, ""), r[1] = r[1].replace(/^['"](.*)['"]$/g, "$1"), i[r[0]] = r[1]);
                return i
            },
            ha = function(e) {
                function t() {
                    aa(this, t);
                    var i = la(this, e.call(this));
                    return i.customParsers = [], i
                }
                return sa(t, e), t.prototype.push = function(e) {
                    var t = void 0,
                        i = void 0;
                    if (0 !== (e = e.replace(/^[\u0000\s]+|[\u0000\s]+$/g, "")).length)
                        if ("#" === e[0]) {
                            for (var n = 0; n < this.customParsers.length; n++)
                                if (this.customParsers[n].call(this, e)) return;
                            if (0 === e.indexOf("#EXT"))
                                if (e = e.replace("\r", ""), t = /^#EXTM3U/.exec(e)) this.trigger("data", {
                                    type: "tag",
                                    tagType: "m3u"
                                });
                                else {
                                    if (t = /^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e)) return i = {
                                        type: "tag",
                                        tagType: "inf"
                                    }, t[1] && (i.duration = parseFloat(t[1])), t[2] && (i.title = t[2]), void this.trigger("data", i);
                                    if (t = /^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e)) return i = {
                                        type: "tag",
                                        tagType: "targetduration"
                                    }, t[1] && (i.duration = parseInt(t[1], 10)), void this.trigger("data", i);
                                    if (t = /^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e)) return i = {
                                        type: "tag",
                                        tagType: "totalduration"
                                    }, t[1] && (i.duration = parseInt(t[1], 10)), void this.trigger("data", i);
                                    if (t = /^#EXT-X-VERSION:?([0-9.]*)?/.exec(e)) return i = {
                                        type: "tag",
                                        tagType: "version"
                                    }, t[1] && (i.version = parseInt(t[1], 10)), void this.trigger("data", i);
                                    if (t = /^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e)) return i = {
                                        type: "tag",
                                        tagType: "media-sequence"
                                    }, t[1] && (i.number = parseInt(t[1], 10)), void this.trigger("data", i);
                                    if (t = /^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e)) return i = {
                                        type: "tag",
                                        tagType: "discontinuity-sequence"
                                    }, t[1] && (i.number = parseInt(t[1], 10)), void this.trigger("data", i);
                                    if (t = /^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e)) return i = {
                                        type: "tag",
                                        tagType: "playlist-type"
                                    }, t[1] && (i.playlistType = t[1]), void this.trigger("data", i);
                                    if (t = /^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e)) return i = {
                                        type: "tag",
                                        tagType: "byterange"
                                    }, t[1] && (i.length = parseInt(t[1], 10)), t[2] && (i.offset = parseInt(t[2], 10)), void this.trigger("data", i);
                                    if (t = /^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e)) return i = {
                                        type: "tag",
                                        tagType: "allow-cache"
                                    }, t[1] && (i.allowed = !/NO/.test(t[1])), void this.trigger("data", i);
                                    if (t = /^#EXT-X-MAP:?(.*)$/.exec(e)) {
                                        if (i = {
                                                type: "tag",
                                                tagType: "map"
                                            }, t[1]) {
                                            var r = da(t[1]);
                                            if (r.URI && (i.uri = r.URI), r.BYTERANGE) {
                                                var a = r.BYTERANGE.split("@"),
                                                    o = a[0],
                                                    s = a[1];
                                                i.byterange = {}, o && (i.byterange.length = parseInt(o, 10)), s && (i.byterange.offset = parseInt(s, 10))
                                            }
                                        }
                                        this.trigger("data", i)
                                    } else if (t = /^#EXT-X-STREAM-INF:?(.*)$/.exec(e)) {
                                        if (i = {
                                                type: "tag",
                                                tagType: "stream-inf"
                                            }, t[1]) {
                                            if (i.attributes = da(t[1]), i.attributes.RESOLUTION) {
                                                var l = i.attributes.RESOLUTION.split("x"),
                                                    c = {};
                                                l[0] && (c.width = parseInt(l[0], 10)), l[1] && (c.height = parseInt(l[1], 10)), i.attributes.RESOLUTION = c
                                            }
                                            i.attributes.BANDWIDTH && (i.attributes.BANDWIDTH = parseInt(i.attributes.BANDWIDTH, 10)), i.attributes["PROGRAM-ID"] && (i.attributes["PROGRAM-ID"] = parseInt(i.attributes["PROGRAM-ID"], 10))
                                        }
                                        this.trigger("data", i)
                                    } else {
                                        if (t = /^#EXT-X-MEDIA:?(.*)$/.exec(e)) return i = {
                                            type: "tag",
                                            tagType: "media"
                                        }, t[1] && (i.attributes = da(t[1])), void this.trigger("data", i);
                                        if (t = /^#EXT-X-ENDLIST/.exec(e)) this.trigger("data", {
                                            type: "tag",
                                            tagType: "endlist"
                                        });
                                        else if (t = /^#EXT-X-DISCONTINUITY/.exec(e)) this.trigger("data", {
                                            type: "tag",
                                            tagType: "discontinuity"
                                        });
                                        else {
                                            if (t = /^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e)) return i = {
                                                type: "tag",
                                                tagType: "program-date-time"
                                            }, t[1] && (i.dateTimeString = t[1], i.dateTimeObject = new Date(t[1])), void this.trigger("data", i);
                                            if (t = /^#EXT-X-KEY:?(.*)$/.exec(e)) return i = {
                                                type: "tag",
                                                tagType: "key"
                                            }, t[1] && (i.attributes = da(t[1]), i.attributes.IV && ("0x" === i.attributes.IV.substring(0, 2).toLowerCase() && (i.attributes.IV = i.attributes.IV.substring(2)), i.attributes.IV = i.attributes.IV.match(/.{8}/g), i.attributes.IV[0] = parseInt(i.attributes.IV[0], 16), i.attributes.IV[1] = parseInt(i.attributes.IV[1], 16), i.attributes.IV[2] = parseInt(i.attributes.IV[2], 16), i.attributes.IV[3] = parseInt(i.attributes.IV[3], 16), i.attributes.IV = new Uint32Array(i.attributes.IV))), void this.trigger("data", i);
                                            if (t = /^#EXT-X-START:?(.*)$/.exec(e)) return i = {
                                                type: "tag",
                                                tagType: "start"
                                            }, t[1] && (i.attributes = da(t[1]), i.attributes["TIME-OFFSET"] = parseFloat(i.attributes["TIME-OFFSET"]), i.attributes.PRECISE = /YES/.test(i.attributes.PRECISE)), void this.trigger("data", i);
                                            if (t = /^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e)) return (i = {
                                                type: "tag",
                                                tagType: "cue-out-cont"
                                            }).data = t[1] ? t[1] : "", void this.trigger("data", i);
                                            if (t = /^#EXT-X-CUE-OUT:?(.*)?$/.exec(e)) return (i = {
                                                type: "tag",
                                                tagType: "cue-out"
                                            }).data = t[1] ? t[1] : "", void this.trigger("data", i);
                                            if (t = /^#EXT-X-CUE-IN:?(.*)?$/.exec(e)) return (i = {
                                                type: "tag",
                                                tagType: "cue-in"
                                            }).data = t[1] ? t[1] : "", void this.trigger("data", i);
                                            this.trigger("data", {
                                                type: "tag",
                                                data: e.slice(4)
                                            })
                                        }
                                    }
                                }
                            else this.trigger("data", {
                                type: "comment",
                                text: e.slice(1)
                            })
                        } else this.trigger("data", {
                            type: "uri",
                            uri: e
                        })
                }, t.prototype.addParser = function(e) {
                    var t = this,
                        i = e.expression,
                        n = e.customType,
                        r = e.dataParser,
                        a = e.segment;
                    "function" != typeof r && (r = function(e) {
                        return e
                    }), this.customParsers.push(function(e) {
                        if (i.exec(e)) return t.trigger("data", {
                            type: "custom",
                            data: r(e),
                            customType: n,
                            segment: a
                        }), !0
                    })
                }, t
            }(ca),
            pa = function(e) {
                function t() {
                    aa(this, t);
                    var i = la(this, e.call(this));
                    i.lineStream = new ua, i.parseStream = new ha, i.lineStream.pipe(i.parseStream);
                    var n = i,
                        r = [],
                        a = {},
                        o = void 0,
                        s = void 0,
                        l = {
                            AUDIO: {},
                            VIDEO: {},
                            "CLOSED-CAPTIONS": {},
                            SUBTITLES: {}
                        },
                        c = 0;
                    return i.manifest = {
                        allowCache: !0,
                        discontinuityStarts: [],
                        segments: []
                    }, i.parseStream.on("data", function(e) {
                        var t = void 0,
                            i = void 0;
                        ({
                            tag: function() {
                                ({
                                    "allow-cache": function() {
                                        this.manifest.allowCache = e.allowed, "allowed" in e || (this.trigger("info", {
                                            message: "defaulting allowCache to YES"
                                        }), this.manifest.allowCache = !0)
                                    },
                                    byterange: function() {
                                        var t = {};
                                        "length" in e && ((a.byterange = t).length = e.length, "offset" in e || (this.trigger("info", {
                                            message: "defaulting offset to zero"
                                        }), e.offset = 0)), "offset" in e && ((a.byterange = t).offset = e.offset)
                                    },
                                    endlist: function() {
                                        this.manifest.endList = !0
                                    },
                                    inf: function() {
                                        "mediaSequence" in this.manifest || (this.manifest.mediaSequence = 0, this.trigger("info", {
                                            message: "defaulting media sequence to zero"
                                        })), "discontinuitySequence" in this.manifest || (this.manifest.discontinuitySequence = 0, this.trigger("info", {
                                            message: "defaulting discontinuity sequence to zero"
                                        })), 0 < e.duration && (a.duration = e.duration), 0 === e.duration && (a.duration = .01, this.trigger("info", {
                                            message: "updating zero segment duration to a small value"
                                        })), this.manifest.segments = r
                                    },
                                    key: function() {
                                        e.attributes ? "NONE" !== e.attributes.METHOD ? e.attributes.URI ? (e.attributes.METHOD || this.trigger("warn", {
                                            message: "defaulting key method to AES-128"
                                        }), s = {
                                            method: e.attributes.METHOD || "AES-128",
                                            uri: e.attributes.URI
                                        }, void 0 !== e.attributes.IV && (s.iv = e.attributes.IV)) : this.trigger("warn", {
                                            message: "ignoring key declaration without URI"
                                        }) : s = null : this.trigger("warn", {
                                            message: "ignoring key declaration without attribute list"
                                        })
                                    },
                                    "media-sequence": function() {
                                        isFinite(e.number) ? this.manifest.mediaSequence = e.number : this.trigger("warn", {
                                            message: "ignoring invalid media sequence: " + e.number
                                        })
                                    },
                                    "discontinuity-sequence": function() {
                                        isFinite(e.number) ? (this.manifest.discontinuitySequence = e.number, c = e.number) : this.trigger("warn", {
                                            message: "ignoring invalid discontinuity sequence: " + e.number
                                        })
                                    },
                                    "playlist-type": function() {
                                        /VOD|EVENT/.test(e.playlistType) ? this.manifest.playlistType = e.playlistType : this.trigger("warn", {
                                            message: "ignoring unknown playlist type: " + e.playlist
                                        })
                                    },
                                    map: function() {
                                        o = {}, e.uri && (o.uri = e.uri), e.byterange && (o.byterange = e.byterange)
                                    },
                                    "stream-inf": function() {
                                        this.manifest.playlists = r, this.manifest.mediaGroups = this.manifest.mediaGroups || l, e.attributes ? (a.attributes || (a.attributes = {}), oa(a.attributes, e.attributes)) : this.trigger("warn", {
                                            message: "ignoring empty stream-inf attributes"
                                        })
                                    },
                                    media: function() {
                                        if (this.manifest.mediaGroups = this.manifest.mediaGroups || l, e.attributes && e.attributes.TYPE && e.attributes["GROUP-ID"] && e.attributes.NAME) {
                                            var n = this.manifest.mediaGroups[e.attributes.TYPE];
                                            n[e.attributes["GROUP-ID"]] = n[e.attributes["GROUP-ID"]] || {}, t = n[e.attributes["GROUP-ID"]], i.autoselect = !!(i = {
                                                default: /yes/i.test(e.attributes.DEFAULT)
                                            }).default || /yes/i.test(e.attributes.AUTOSELECT), e.attributes.LANGUAGE && (i.language = e.attributes.LANGUAGE), e.attributes.URI && (i.uri = e.attributes.URI), e.attributes["INSTREAM-ID"] && (i.instreamId = e.attributes["INSTREAM-ID"]), e.attributes.CHARACTERISTICS && (i.characteristics = e.attributes.CHARACTERISTICS), e.attributes.FORCED && (i.forced = /yes/i.test(e.attributes.FORCED)), t[e.attributes.NAME] = i
                                        } else this.trigger("warn", {
                                            message: "ignoring incomplete or missing media group"
                                        })
                                    },
                                    discontinuity: function() {
                                        c += 1, a.discontinuity = !0, this.manifest.discontinuityStarts.push(r.length)
                                    },
                                    "program-date-time": function() {
                                        void 0 === this.manifest.dateTimeString && (this.manifest.dateTimeString = e.dateTimeString, this.manifest.dateTimeObject = e.dateTimeObject), a.dateTimeString = e.dateTimeString, a.dateTimeObject = e.dateTimeObject
                                    },
                                    targetduration: function() {
                                        !isFinite(e.duration) || e.duration < 0 ? this.trigger("warn", {
                                            message: "ignoring invalid target duration: " + e.duration
                                        }) : this.manifest.targetDuration = e.duration
                                    },
                                    totalduration: function() {
                                        !isFinite(e.duration) || e.duration < 0 ? this.trigger("warn", {
                                            message: "ignoring invalid total duration: " + e.duration
                                        }) : this.manifest.totalDuration = e.duration
                                    },
                                    start: function() {
                                        e.attributes && !isNaN(e.attributes["TIME-OFFSET"]) ? this.manifest.start = {
                                            timeOffset: e.attributes["TIME-OFFSET"],
                                            precise: e.attributes.PRECISE
                                        } : this.trigger("warn", {
                                            message: "ignoring start declaration without appropriate attribute list"
                                        })
                                    },
                                    "cue-out": function() {
                                        a.cueOut = e.data
                                    },
                                    "cue-out-cont": function() {
                                        a.cueOutCont = e.data
                                    },
                                    "cue-in": function() {
                                        a.cueIn = e.data
                                    }
                                } [e.tagType] || function() {}).call(n)
                            },
                            uri: function() {
                                a.uri = e.uri, r.push(a), !this.manifest.targetDuration || "duration" in a || (this.trigger("warn", {
                                    message: "defaulting segment duration to the target duration"
                                }), a.duration = this.manifest.targetDuration), s && (a.key = s), a.timeline = c, o && (a.map = o), a = {}
                            },
                            comment: function() {},
                            custom: function() {
                                e.segment ? (a.custom = a.custom || {}, a.custom[e.customType] = e.data) : (this.manifest.custom = this.manifest.custom || {}, this.manifest.custom[e.customType] = e.data)
                            }
                        })[e.type].call(n)
                    }), i
                }
                return sa(t, e), t.prototype.push = function(e) {
                    this.lineStream.push(e)
                }, t.prototype.end = function() {
                    this.lineStream.push("\n")
                }, t.prototype.addParser = function(e) {
                    this.parseStream.addParser(e)
                }, t
            }(ca),
            fa = function(e) {
                return !!e && "object" == typeof e
            },
            ma = function e() {
                for (var t = arguments.length, i = new Array(t), n = 0; n < t; n++) i[n] = arguments[n];
                return i.reduce(function(t, i) {
                    return Object.keys(i).forEach(function(n) {
                        t[n] = Array.isArray(t[n]) && Array.isArray(i[n]) ? t[n].concat(i[n]) : fa(t[n]) && fa(i[n]) ? e(t[n], i[n]) : i[n]
                    }), t
                }, {})
            },
            ga = function(e) {
                return e.reduce(function(e, t) {
                    return e.concat(t)
                }, [])
            },
            ya = function(e) {
                if (!e.length) return [];
                for (var t = [], i = 0; i < e.length; i++) t.push(e[i]);
                return t
            },
            va = function(e) {
                var t;
                return (t = e.reduce(function(e, t) {
                    var i, n = t.attributes.id + (t.attributes.lang || "");
                    return e[n] ? (t.segments[0].discontinuity = !0, (i = e[n].segments).push.apply(i, t.segments), t.attributes.contentProtection && (e[n].attributes.contentProtection = t.attributes.contentProtection)) : e[n] = t, e
                }, {}), Object.keys(t).map(function(e) {
                    return t[e]
                })).map(function(e) {
                    return e.discontinuityStarts = e.segments.reduce(function(e, t, i) {
                        return t.discontinuity && e.push(i), e
                    }, []), e
                })
            },
            ba = function(e) {
                var t, i = e.attributes,
                    n = e.segments,
                    r = {
                        attributes: (t = {
                            NAME: i.id,
                            AUDIO: "audio",
                            SUBTITLES: "subs",
                            RESOLUTION: {
                                width: i.width,
                                height: i.height
                            },
                            CODECS: i.codecs,
                            BANDWIDTH: i.bandwidth
                        }, t["PROGRAM-ID"] = 1, t),
                        uri: "",
                        endList: "static" === (i.type || "static"),
                        timeline: i.periodIndex,
                        resolvedUri: "",
                        targetDuration: i.duration,
                        segments: n,
                        mediaSequence: n.length ? n[0].number : 1
                    };
                return i.contentProtection && (r.contentProtection = i.contentProtection), r
            };
        "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self && self;
        var _a, Ta, Sa, Ea, wa, Ca, ka = (function(e, t) {
                var i, n, r, a, o;
                i = /^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/, n = /^([^\/?#]*)(.*)$/, r = /(?:\/|^)\.(?=\/)/g, a = /(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g, o = {
                    buildAbsoluteURL: function(e, t, i) {
                        if (i = i || {}, e = e.trim(), !(t = t.trim())) {
                            if (!i.alwaysNormalize) return e;
                            var r = o.parseURL(e);
                            if (!r) throw new Error("Error trying to parse base URL.");
                            return r.path = o.normalizePath(r.path), o.buildURLFromParts(r)
                        }
                        var a = o.parseURL(t);
                        if (!a) throw new Error("Error trying to parse relative URL.");
                        if (a.scheme) return i.alwaysNormalize ? (a.path = o.normalizePath(a.path), o.buildURLFromParts(a)) : t;
                        var s = o.parseURL(e);
                        if (!s) throw new Error("Error trying to parse base URL.");
                        if (!s.netLoc && s.path && "/" !== s.path[0]) {
                            var l = n.exec(s.path);
                            s.netLoc = l[1], s.path = l[2]
                        }
                        s.netLoc && !s.path && (s.path = "/");
                        var c = {
                            scheme: s.scheme,
                            netLoc: a.netLoc,
                            path: null,
                            params: a.params,
                            query: a.query,
                            fragment: a.fragment
                        };
                        if (!a.netLoc && (c.netLoc = s.netLoc, "/" !== a.path[0]))
                            if (a.path) {
                                var u = s.path,
                                    d = u.substring(0, u.lastIndexOf("/") + 1) + a.path;
                                c.path = o.normalizePath(d)
                            } else c.path = s.path, a.params || (c.params = s.params, a.query || (c.query = s.query));
                        return null === c.path && (c.path = i.alwaysNormalize ? o.normalizePath(a.path) : a.path), o.buildURLFromParts(c)
                    },
                    parseURL: function(e) {
                        var t = i.exec(e);
                        return t ? {
                            scheme: t[1] || "",
                            netLoc: t[2] || "",
                            path: t[3] || "",
                            params: t[4] || "",
                            query: t[5] || "",
                            fragment: t[6] || ""
                        } : null
                    },
                    normalizePath: function(e) {
                        for (e = e.split("").reverse().join("").replace(r, ""); e.length !== (e = e.replace(a, "")).length;);
                        return e.split("").reverse().join("")
                    },
                    buildURLFromParts: function(e) {
                        return e.scheme + e.netLoc + e.path + e.params + e.query + e.fragment
                    }
                }, e.exports = o
            }(_a = {
                exports: {}
            }), _a.exports),
            Pa = function(e, t) {
                return /^[a-z]+:/i.test(t) ? t : (/\/\//i.test(e) || (e = ka.buildAbsoluteURL(i.location.href, e)), ka.buildAbsoluteURL(e, t))
            },
            Aa = function(e) {
                var t = e.baseUrl,
                    i = e.source,
                    n = void 0 === i ? "" : i,
                    r = e.range,
                    a = void 0 === r ? "" : r,
                    o = {
                        uri: n,
                        resolvedUri: Pa((void 0 === t ? "" : t) || "", n)
                    };
                if (a) {
                    var s = a.split("-"),
                        l = parseInt(s[0], 10),
                        c = parseInt(s[1], 10);
                    o.byterange = {
                        length: c - l,
                        offset: l
                    }
                }
                return o
            },
            Ia = function(e, t) {
                for (var i, n, r, a, o, s = e.type, l = void 0 === s ? "static" : s, c = e.minimumUpdatePeriod, u = void 0 === c ? 0 : c, d = e.media, h = void 0 === d ? "" : d, p = e.sourceDuration, f = e.timescale, m = void 0 === f ? 1 : f, g = e.startNumber, y = void 0 === g ? 1 : g, v = e.periodIndex, b = [], _ = -1, T = 0; T < t.length; T++) {
                    var S = t[T],
                        E = S.d,
                        w = S.r || 0,
                        C = S.t || 0;
                    _ < 0 && (_ = C), C && _ < C && (_ = C);
                    var k = void 0;
                    if (w < 0) {
                        var P = T + 1;
                        k = P === t.length ? "dynamic" === l && 0 < u && 0 < h.indexOf("$Number$") ? (n = (i = e).NOW, r = i.timescale, a = i.start, o = i.minimumUpdatePeriod, Math.ceil((((n + i.clientOffset) / 1e3 + (void 0 === o ? 0 : o) - (i.availabilityStartTime + (void 0 === a ? 0 : a))) * (void 0 === r ? 1 : r) - _) / E)) : (p * m - _) / E : (t[P].t - _) / E
                    } else k = w + 1;
                    for (var A = y + b.length + k, I = y + b.length; I < A;) b.push({
                        number: I,
                        duration: E / m,
                        time: _,
                        timeline: v
                    }), _ += E, I++
                }
                return b
            },
            La = {
                static: function(e) {
                    var t = e.timescale;
                    return {
                        start: 0,
                        end: Math.ceil(e.sourceDuration / (e.duration / (void 0 === t ? 1 : t)))
                    }
                },
                dynamic: function(e) {
                    var t = e.timescale,
                        i = void 0 === t ? 1 : t,
                        n = e.duration,
                        r = e.start,
                        a = e.minimumUpdatePeriod,
                        o = e.timeShiftBufferDepth,
                        s = void 0 === o ? 1 / 0 : o,
                        l = (e.NOW + e.clientOffset) / 1e3,
                        c = e.availabilityStartTime + (void 0 === r ? 0 : r),
                        u = Math.ceil((l + (void 0 === a ? 0 : a) - c) * i / n),
                        d = Math.floor((l - c - s) * i / n),
                        h = Math.floor((l - c) * i / n);
                    return {
                        start: Math.max(0, d),
                        end: Math.min(u, h)
                    }
                }
            },
            Oa = function(e) {
                var t, i = e.type,
                    n = void 0 === i ? "static" : i,
                    r = e.duration,
                    a = e.timescale,
                    o = void 0 === a ? 1 : a,
                    s = e.sourceDuration,
                    l = La[n](e),
                    c = function(e, t) {
                        for (var i = [], n = l.start; n < t; n++) i.push(n);
                        return i
                    }(0, l.end).map((t = e, function(e, i) {
                        var n = t.duration,
                            r = t.timescale,
                            a = t.startNumber;
                        return {
                            number: (void 0 === a ? 1 : a) + e,
                            duration: n / (void 0 === r ? 1 : r),
                            timeline: t.periodIndex,
                            time: i * n
                        }
                    }));
                if ("static" === n) {
                    var u = c.length - 1;
                    c[u].duration = s - r / o * u
                }
                return c
            },
            Da = /\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,
            Ra = function(e, t) {
                return e.replace(Da, (i = t, function(e, t, n, r) {
                    if ("$$" === e) return "$";
                    if (void 0 === i[t]) return e;
                    var a = "" + i[t];
                    return "RepresentationID" === t ? a : (r = n ? parseInt(r, 10) : 1) <= a.length ? a : "" + new Array(r - a.length + 1).join("0") + a
                }));
                var i
            },
            xa = function(e, t) {
                var i, n, r = {
                        RepresentationID: e.id,
                        Bandwidth: e.bandwidth || 0
                    },
                    a = e.initialization,
                    o = void 0 === a ? {
                        sourceURL: "",
                        range: ""
                    } : a,
                    s = Aa({
                        baseUrl: e.baseUrl,
                        source: Ra(o.sourceURL, r),
                        range: o.range
                    });
                return (n = t, (i = e).duration || n ? i.duration ? Oa(i) : Ia(i, n) : [{
                    number: i.startNumber || 1,
                    duration: i.sourceDuration,
                    time: 0,
                    timeline: i.periodIndex
                }]).map(function(t) {
                    r.Number = t.number, r.Time = t.time;
                    var i = Ra(e.media || "", r);
                    return {
                        uri: i,
                        timeline: t.timeline,
                        duration: t.duration,
                        resolvedUri: Pa(e.baseUrl || "", i),
                        map: s,
                        number: t.number
                    }
                })
            },
            Ma = function(e, t) {
                var i = e.duration,
                    n = e.segmentUrls,
                    r = void 0 === n ? [] : n;
                if (!i && !t || i && t) throw new Error("SEGMENT_TIME_UNSPECIFIED");
                var a, o = r.map(function(t) {
                    return n = t, r = (i = e).baseUrl, s = Aa({
                        baseUrl: r,
                        source: (o = void 0 === (a = i.initialization) ? {} : a).sourceURL,
                        range: o.range
                    }), (l = Aa({
                        baseUrl: r,
                        source: n.media,
                        range: n.mediaRange
                    })).map = s, l;
                    var i, n, r, a, o, s, l
                });
                return i && (a = Oa(e)), t && (a = Ia(e, t)), a.map(function(e, t) {
                    if (o[t]) {
                        var i = o[t];
                        return i.timeline = e.timeline, i.duration = e.duration, i.number = e.number, i
                    }
                }).filter(function(e) {
                    return e
                })
            },
            Ua = function(e) {
                var t = e.baseUrl,
                    i = e.initialization,
                    n = void 0 === i ? {} : i,
                    r = e.sourceDuration,
                    a = e.timescale,
                    o = void 0 === a ? 1 : a,
                    s = e.indexRange,
                    l = void 0 === s ? "" : s,
                    c = e.duration;
                if (!t) throw new Error("NO_BASE_URL");
                var u = Aa({
                        baseUrl: t,
                        source: n.sourceURL,
                        range: n.range
                    }),
                    d = Aa({
                        baseUrl: t,
                        source: t,
                        range: l
                    });
                if (d.map = u, c) {
                    var h = Oa(e);
                    h.length && (d.duration = h[0].duration, d.timeline = h[0].timeline)
                } else r && (d.duration = r / o, d.timeline = 0);
                return d.number = 0, [d]
            },
            Na = function(e) {
                var t, i, n = e.attributes,
                    r = e.segmentInfo;
                if (r.template ? (i = xa, t = ma(n, r.template)) : r.base ? (i = Ua, t = ma(n, r.base)) : r.list && (i = Ma, t = ma(n, r.list)), !i) return {
                    attributes: n
                };
                var a = i(t, r.timeline);
                if (t.duration) {
                    var o = t.timescale;
                    t.duration = t.duration / (void 0 === o ? 1 : o)
                } else t.duration = a.length ? a.reduce(function(e, t) {
                    return Math.max(e, Math.ceil(t.duration))
                }, 0) : 0;
                return {
                    attributes: t,
                    segments: a
                }
            },
            Fa = function(e, t) {
                return ya(e.childNodes).filter(function(e) {
                    return e.tagName === t
                })
            },
            Ba = function(e) {
                return e.textContent.trim()
            },
            Va = function(e) {
                var t = /P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);
                if (!t) return 0;
                var i = t.slice(1),
                    n = i[1],
                    r = i[2],
                    a = i[3],
                    o = i[4],
                    s = i[5];
                return 31536e3 * parseFloat(i[0] || 0) + 2592e3 * parseFloat(n || 0) + 86400 * parseFloat(r || 0) + 3600 * parseFloat(a || 0) + 60 * parseFloat(o || 0) + parseFloat(s || 0)
            },
            ja = {
                mediaPresentationDuration: function(e) {
                    return Va(e)
                },
                availabilityStartTime: function(e) {
                    return /^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t = e) && (t += "Z"), Date.parse(t) / 1e3;
                    var t
                },
                minimumUpdatePeriod: function(e) {
                    return Va(e)
                },
                timeShiftBufferDepth: function(e) {
                    return Va(e)
                },
                start: function(e) {
                    return Va(e)
                },
                width: function(e) {
                    return parseInt(e, 10)
                },
                height: function(e) {
                    return parseInt(e, 10)
                },
                bandwidth: function(e) {
                    return parseInt(e, 10)
                },
                startNumber: function(e) {
                    return parseInt(e, 10)
                },
                timescale: function(e) {
                    return parseInt(e, 10)
                },
                duration: function(e) {
                    var t = parseInt(e, 10);
                    return isNaN(t) ? Va(e) : t
                },
                d: function(e) {
                    return parseInt(e, 10)
                },
                t: function(e) {
                    return parseInt(e, 10)
                },
                r: function(e) {
                    return parseInt(e, 10)
                },
                DEFAULT: function(e) {
                    return e
                }
            },
            za = function(e) {
                return e && e.attributes ? ya(e.attributes).reduce(function(e, t) {
                    return e[t.name] = (ja[t.name] || ja.DEFAULT)(t.value), e
                }, {}) : {}
            },
            qa = {
                "urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b": "org.w3.clearkey",
                "urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed": "com.widevine.alpha",
                "urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95": "com.microsoft.playready",
                "urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb": "com.adobe.primetime"
            },
            Ha = function(e, t) {
                return t.length ? ga(e.map(function(e) {
                    return t.map(function(t) {
                        return Pa(e, Ba(t))
                    })
                })) : e
            },
            Ga = function(e) {
                var t = Fa(e, "SegmentTemplate")[0],
                    i = Fa(e, "SegmentList")[0],
                    n = i && Fa(i, "SegmentURL").map(function(e) {
                        return ma({
                            tag: "SegmentURL"
                        }, za(e))
                    }),
                    r = Fa(e, "SegmentBase")[0],
                    a = i || t,
                    o = a && Fa(a, "SegmentTimeline")[0],
                    s = i || r || t,
                    l = s && Fa(s, "Initialization")[0],
                    c = t && za(t);
                c && l ? c.initialization = l && za(l) : c && c.initialization && (c.initialization = {
                    sourceURL: c.initialization
                });
                var u = {
                    template: c,
                    timeline: o && Fa(o, "S").map(function(e) {
                        return za(e)
                    }),
                    list: i && ma(za(i), {
                        segmentUrls: n,
                        initialization: za(l)
                    }),
                    base: r && ma(za(r), {
                        initialization: za(l)
                    })
                };
                return Object.keys(u).forEach(function(e) {
                    u[e] || delete u[e]
                }), u
            },
            Wa = function(e) {
                if ("" === e) throw new Error("DASH_EMPTY_MANIFEST");
                var t = (new i.DOMParser).parseFromString(e, "application/xml"),
                    n = t && "MPD" === t.documentElement.tagName ? t.documentElement : null;
                if (!n || n && 0 < n.getElementsByTagName("parsererror").length) throw new Error("DASH_INVALID_XML");
                return n
            },
            Ya = function(e) {
                return e >>> 0
            };
        Ea = function(e) {
            return Ta(e, ["moov", "trak"]).reduce(function(e, t) {
                var i, n, r, a;
                return (i = Ta(t, ["tkhd"])[0]) ? (r = Ya(i[n = 0 === i[0] ? 12 : 20] << 24 | i[n + 1] << 16 | i[n + 2] << 8 | i[n + 3]), (a = Ta(t, ["mdia", "mdhd"])[0]) ? (e[r] = Ya(a[n = 0 === a[0] ? 12 : 20] << 24 | a[n + 1] << 16 | a[n + 2] << 8 | a[n + 3]), e) : null) : null
            }, {})
        }, wa = function(e, t) {
            var i, n, r;
            return i = Ta(t, ["moof", "traf"]), n = [].concat.apply([], i.map(function(t) {
                return Ta(t, ["tfhd"]).map(function(i) {
                    var n, r;
                    return n = Ya(i[4] << 24 | i[5] << 16 | i[6] << 8 | i[7]), r = e[n] || 9e4, (Ta(t, ["tfdt"]).map(function(e) {
                        var t, i;
                        return t = e[0], i = Ya(e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7]), 1 === t && (i *= Math.pow(2, 32), i += Ya(e[8] << 24 | e[9] << 16 | e[10] << 8 | e[11])), i
                    })[0] || 1 / 0) / r
                })
            })), r = Math.min.apply(null, n), isFinite(r) ? r : 0
        }, Ca = function(e) {
            var t = Ta(e, ["moov", "trak"]),
                i = [];
            return t.forEach(function(e) {
                var t = Ta(e, ["mdia", "hdlr"]),
                    n = Ta(e, ["tkhd"]);
                t.forEach(function(e, t) {
                    var r, a, o = Sa(e.subarray(8, 12)),
                        s = n[t];
                    "vide" === o && (a = 0 === (r = new DataView(s.buffer, s.byteOffset, s.byteLength)).getUint8(0) ? r.getUint32(12) : r.getUint32(20), i.push(a))
                })
            }), i
        };
        var Ka, Xa, Ja, $a, Qa, Za, eo, to, io, no, ro, ao, oo, so, lo, co, uo, ho, po, fo, mo, go, yo, vo, bo, _o, To, So, Eo, wo, Co, ko, Po, Ao, Io, Lo, Oo, Do, Ro, xo, Mo = {
                findBox: Ta = function(e, t) {
                    var i, n, r, a, o, s = [];
                    if (!t.length) return null;
                    for (i = 0; i < e.byteLength;) n = Ya(e[i] << 24 | e[i + 1] << 16 | e[i + 2] << 8 | e[i + 3]), r = Sa(e.subarray(i + 4, i + 8)), a = 1 < n ? i + n : e.byteLength, r === t[0] && (1 === t.length ? s.push(e.subarray(i + 8, a)) : (o = Ta(e.subarray(i + 8, a), t.slice(1))).length && (s = s.concat(o))), i = a;
                    return s
                },
                parseType: Sa = function(e) {
                    var t = "";
                    return t += String.fromCharCode(e[0]), t += String.fromCharCode(e[1]), (t += String.fromCharCode(e[2])) + String.fromCharCode(e[3])
                },
                timescale: Ea,
                startTime: wa,
                videoTrackIds: Ca
            },
            Uo = Math.pow(2, 32) - 1;
        ! function() {
            var e;
            if (go = {
                    avc1: [],
                    avcC: [],
                    btrt: [],
                    dinf: [],
                    dref: [],
                    esds: [],
                    ftyp: [],
                    hdlr: [],
                    mdat: [],
                    mdhd: [],
                    mdia: [],
                    mfhd: [],
                    minf: [],
                    moof: [],
                    moov: [],
                    mp4a: [],
                    mvex: [],
                    mvhd: [],
                    sdtp: [],
                    smhd: [],
                    stbl: [],
                    stco: [],
                    stsc: [],
                    stsd: [],
                    stsz: [],
                    stts: [],
                    styp: [],
                    tfdt: [],
                    tfhd: [],
                    traf: [],
                    trak: [],
                    trun: [],
                    trex: [],
                    tkhd: [],
                    vmhd: []
                }, "undefined" != typeof Uint8Array) {
                for (e in go) go.hasOwnProperty(e) && (go[e] = [e.charCodeAt(0), e.charCodeAt(1), e.charCodeAt(2), e.charCodeAt(3)]);
                yo = new Uint8Array(["i".charCodeAt(0), "s".charCodeAt(0), "o".charCodeAt(0), "m".charCodeAt(0)]), bo = new Uint8Array(["a".charCodeAt(0), "v".charCodeAt(0), "c".charCodeAt(0), "1".charCodeAt(0)]), vo = new Uint8Array([0, 0, 0, 1]), _o = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 86, 105, 100, 101, 111, 72, 97, 110, 100, 108, 101, 114, 0]), To = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0]), So = {
                    video: _o,
                    audio: To
                }, Co = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1]), wo = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]), ko = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]), Po = ko, Ao = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]), Io = ko, Eo = new Uint8Array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0])
            }
        }(), Ka = function(e) {
            var t, i, n = [],
                r = 0;
            for (t = 1; t < arguments.length; t++) n.push(arguments[t]);
            for (t = n.length; t--;) r += n[t].byteLength;
            for (i = new Uint8Array(r + 8), new DataView(i.buffer, i.byteOffset, i.byteLength).setUint32(0, i.byteLength), i.set(e, 4), t = 0, r = 8; t < n.length; t++) i.set(n[t], r), r += n[t].byteLength;
            return i
        }, Xa = function() {
            return Ka(go.dinf, Ka(go.dref, Co))
        }, Ja = function(e) {
            return Ka(go.esds, new Uint8Array([0, 0, 0, 0, 3, 25, 0, 0, 0, 4, 17, 64, 21, 0, 6, 0, 0, 0, 218, 192, 0, 0, 218, 192, 5, 2, e.audioobjecttype << 3 | e.samplingfrequencyindex >>> 1, e.samplingfrequencyindex << 7 | e.channelcount << 3, 6, 1, 2]))
        }, lo = function(e) {
            return Ka(go.hdlr, So[e])
        }, so = function(e) {
            var t = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 3, 0, 1, 95, 144, e.duration >>> 24 & 255, e.duration >>> 16 & 255, e.duration >>> 8 & 255, 255 & e.duration, 85, 196, 0, 0]);
            return e.samplerate && (t[12] = e.samplerate >>> 24 & 255, t[13] = e.samplerate >>> 16 & 255, t[14] = e.samplerate >>> 8 & 255, t[15] = 255 & e.samplerate), Ka(go.mdhd, t)
        }, oo = function(e) {
            return Ka(go.mdia, so(e), lo(e.type), Za(e))
        }, Qa = function(e) {
            return Ka(go.mfhd, new Uint8Array([0, 0, 0, 0, (4278190080 & e) >> 24, (16711680 & e) >> 16, (65280 & e) >> 8, 255 & e]))
        }, Za = function(e) {
            return Ka(go.minf, "video" === e.type ? Ka(go.vmhd, Eo) : Ka(go.smhd, wo), Xa(), uo(e))
        }, eo = function(e, t) {
            for (var i = [], n = t.length; n--;) i[n] = po(t[n]);
            return Ka.apply(null, [go.moof, Qa(e)].concat(i))
        }, to = function(e) {
            for (var t = e.length, i = []; t--;) i[t] = ro(e[t]);
            return Ka.apply(null, [go.moov, no(4294967295)].concat(i).concat(io(e)))
        }, io = function(e) {
            for (var t = e.length, i = []; t--;) i[t] = fo(e[t]);
            return Ka.apply(null, [go.mvex].concat(i))
        }, no = function(e) {
            var t = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 2, 0, 1, 95, 144, (4278190080 & e) >> 24, (16711680 & e) >> 16, (65280 & e) >> 8, 255 & e, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255]);
            return Ka(go.mvhd, t)
        }, co = function(e) {
            var t, i, n = e.samples || [],
                r = new Uint8Array(4 + n.length);
            for (i = 0; i < n.length; i++) r[i + 4] = (t = n[i].flags).dependsOn << 4 | t.isDependedOn << 2 | t.hasRedundancy;
            return Ka(go.sdtp, r)
        }, uo = function(e) {
            return Ka(go.stbl, ho(e), Ka(go.stts, Io), Ka(go.stsc, Po), Ka(go.stsz, Ao), Ka(go.stco, ko))
        }, ho = function(e) {
            return Ka(go.stsd, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1]), "video" === e.type ? Lo(e) : Oo(e))
        }, Lo = function(e) {
            var t, i = e.sps || [],
                n = e.pps || [],
                r = [],
                a = [];
            for (t = 0; t < i.length; t++) r.push((65280 & i[t].byteLength) >>> 8), r.push(255 & i[t].byteLength), r = r.concat(Array.prototype.slice.call(i[t]));
            for (t = 0; t < n.length; t++) a.push((65280 & n[t].byteLength) >>> 8), a.push(255 & n[t].byteLength), a = a.concat(Array.prototype.slice.call(n[t]));
            return Ka(go.avc1, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, (65280 & e.width) >> 8, 255 & e.width, (65280 & e.height) >> 8, 255 & e.height, 0, 72, 0, 0, 0, 72, 0, 0, 0, 0, 0, 0, 0, 1, 19, 118, 105, 100, 101, 111, 106, 115, 45, 99, 111, 110, 116, 114, 105, 98, 45, 104, 108, 115, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 24, 17, 17]), Ka(go.avcC, new Uint8Array([1, e.profileIdc, e.profileCompatibility, e.levelIdc, 255].concat([i.length]).concat(r).concat([n.length]).concat(a))), Ka(go.btrt, new Uint8Array([0, 28, 156, 128, 0, 45, 198, 192, 0, 45, 198, 192])))
        }, Oo = function(e) {
            return Ka(go.mp4a, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, (65280 & e.channelcount) >> 8, 255 & e.channelcount, (65280 & e.samplesize) >> 8, 255 & e.samplesize, 0, 0, 0, 0, (65280 & e.samplerate) >> 8, 255 & e.samplerate, 0, 0]), Ja(e))
        }, ao = function(e) {
            var t = new Uint8Array([0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 0, (4278190080 & e.id) >> 24, (16711680 & e.id) >> 16, (65280 & e.id) >> 8, 255 & e.id, 0, 0, 0, 0, (4278190080 & e.duration) >> 24, (16711680 & e.duration) >> 16, (65280 & e.duration) >> 8, 255 & e.duration, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, (65280 & e.width) >> 8, 255 & e.width, 0, 0, (65280 & e.height) >> 8, 255 & e.height, 0, 0]);
            return Ka(go.tkhd, t)
        }, po = function(e) {
            var t, i, n, r, a, o;
            return t = Ka(go.tfhd, new Uint8Array([0, 0, 0, 58, (4278190080 & e.id) >> 24, (16711680 & e.id) >> 16, (65280 & e.id) >> 8, 255 & e.id, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])), a = Math.floor(e.baseMediaDecodeTime / (Uo + 1)), o = Math.floor(e.baseMediaDecodeTime % (Uo + 1)), i = Ka(go.tfdt, new Uint8Array([1, 0, 0, 0, a >>> 24 & 255, a >>> 16 & 255, a >>> 8 & 255, 255 & a, o >>> 24 & 255, o >>> 16 & 255, o >>> 8 & 255, 255 & o])), "audio" === e.type ? (n = mo(e, 92), Ka(go.traf, t, i, n)) : (r = co(e), n = mo(e, r.length + 92), Ka(go.traf, t, i, n, r))
        }, ro = function(e) {
            return e.duration = e.duration || 4294967295, Ka(go.trak, ao(e), oo(e))
        }, fo = function(e) {
            var t = new Uint8Array([0, 0, 0, 0, (4278190080 & e.id) >> 24, (16711680 & e.id) >> 16, (65280 & e.id) >> 8, 255 & e.id, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1]);
            return "video" !== e.type && (t[t.length - 1] = 0), Ka(go.trex, t)
        }, xo = function(e, t) {
            var i = 0,
                n = 0,
                r = 0,
                a = 0;
            return e.length && (void 0 !== e[0].duration && (i = 1), void 0 !== e[0].size && (n = 2), void 0 !== e[0].flags && (r = 4), void 0 !== e[0].compositionTimeOffset && (a = 8)), [0, 0, i | n | r | a, 1, (4278190080 & e.length) >>> 24, (16711680 & e.length) >>> 16, (65280 & e.length) >>> 8, 255 & e.length, (4278190080 & t) >>> 24, (16711680 & t) >>> 16, (65280 & t) >>> 8, 255 & t]
        }, Ro = function(e, t) {
            var i, n, r, a;
            for (t += 20 + 16 * (n = e.samples || []).length, i = xo(n, t), a = 0; a < n.length; a++) i = i.concat([(4278190080 & (r = n[a]).duration) >>> 24, (16711680 & r.duration) >>> 16, (65280 & r.duration) >>> 8, 255 & r.duration, (4278190080 & r.size) >>> 24, (16711680 & r.size) >>> 16, (65280 & r.size) >>> 8, 255 & r.size, r.flags.isLeading << 2 | r.flags.dependsOn, r.flags.isDependedOn << 6 | r.flags.hasRedundancy << 4 | r.flags.paddingValue << 1 | r.flags.isNonSyncSample, 61440 & r.flags.degradationPriority, 15 & r.flags.degradationPriority, (4278190080 & r.compositionTimeOffset) >>> 24, (16711680 & r.compositionTimeOffset) >>> 16, (65280 & r.compositionTimeOffset) >>> 8, 255 & r.compositionTimeOffset]);
            return Ka(go.trun, new Uint8Array(i))
        }, Do = function(e, t) {
            var i, n, r, a;
            for (t += 20 + 8 * (n = e.samples || []).length, i = xo(n, t), a = 0; a < n.length; a++) i = i.concat([(4278190080 & (r = n[a]).duration) >>> 24, (16711680 & r.duration) >>> 16, (65280 & r.duration) >>> 8, 255 & r.duration, (4278190080 & r.size) >>> 24, (16711680 & r.size) >>> 16, (65280 & r.size) >>> 8, 255 & r.size]);
            return Ka(go.trun, new Uint8Array(i))
        }, mo = function(e, t) {
            return "audio" === e.type ? Do(e, t) : Ro(e, t)
        };
        var No = {
                ftyp: $a = function() {
                    return Ka(go.ftyp, yo, vo, yo, bo)
                },
                mdat: function(e) {
                    return Ka(go.mdat, e)
                },
                moof: eo,
                moov: to,
                initSegment: function(e) {
                    var t, i = $a(),
                        n = to(e);
                    return (t = new Uint8Array(i.byteLength + n.byteLength)).set(i), t.set(n, i.byteLength), t
                }
            },
            Fo = function() {
                this.init = function() {
                    var e = {};
                    this.on = function(t, i) {
                        e[t] || (e[t] = []), e[t] = e[t].concat(i)
                    }, this.off = function(t, i) {
                        var n;
                        return !!e[t] && (n = e[t].indexOf(i), e[t] = e[t].slice(), e[t].splice(n, 1), -1 < n)
                    }, this.trigger = function(t) {
                        var i, n, r, a;
                        if (i = e[t])
                            if (2 === arguments.length)
                                for (r = i.length, n = 0; n < r; ++n) i[n].call(this, arguments[1]);
                            else {
                                for (a = [], n = arguments.length, n = 1; n < arguments.length; ++n) a.push(arguments[n]);
                                for (r = i.length, n = 0; n < r; ++n) i[n].apply(this, a)
                            }
                    }, this.dispose = function() {
                        e = {}
                    }
                }
            };
        Fo.prototype.pipe = function(e) {
            return this.on("data", function(t) {
                e.push(t)
            }), this.on("done", function(t) {
                e.flush(t)
            }), e
        }, Fo.prototype.push = function(e) {
            this.trigger("data", e)
        }, Fo.prototype.flush = function(e) {
            this.trigger("done", e)
        };
        var Bo, Vo, jo, zo, qo, Ho, Go, Wo = Fo,
            Yo = [33, 16, 5, 32, 164, 27],
            Ko = [33, 65, 108, 84, 1, 2, 4, 8, 168, 2, 4, 8, 17, 191, 252],
            Xo = function(e) {
                for (var t = []; e--;) t.push(0);
                return t
            },
            Jo = {
                96000: [Yo, [227, 64], Xo(154), [56]],
                88200: [Yo, [231], Xo(170), [56]],
                64000: [Yo, [248, 192], Xo(240), [56]],
                48000: [Yo, [255, 192], Xo(268), [55, 148, 128], Xo(54), [112]],
                44100: [Yo, [255, 192], Xo(268), [55, 163, 128], Xo(84), [112]],
                32000: [Yo, [255, 192], Xo(268), [55, 234], Xo(226), [112]],
                24000: [Yo, [255, 192], Xo(268), [55, 255, 128], Xo(268), [111, 112], Xo(126), [224]],
                16000: [Yo, [255, 192], Xo(268), [55, 255, 128], Xo(268), [111, 255], Xo(269), [223, 108], Xo(195), [1, 192]],
                12000: [Ko, Xo(268), [3, 127, 248], Xo(268), [6, 255, 240], Xo(268), [13, 255, 224], Xo(268), [27, 253, 128], Xo(259), [56]],
                11025: [Ko, Xo(268), [3, 127, 248], Xo(268), [6, 255, 240], Xo(268), [13, 255, 224], Xo(268), [27, 255, 192], Xo(268), [55, 175, 128], Xo(108), [112]],
                8000: [Ko, Xo(268), [3, 121, 16], Xo(47), [7]]
            },
            $o = (Bo = Jo, Object.keys(Bo).reduce(function(e, t) {
                return e[t] = new Uint8Array(Bo[t].reduce(function(e, t) {
                    return e.concat(t)
                }, [])), e
            }, {}));
        Ho = function(e, t) {
            return Vo(qo(e, t))
        }, Go = function(e, t) {
            return jo(zo(e), t)
        }, Vo = function(e) {
            return 9e4 * e
        }, jo = function(e, t) {
            return e * t
        }, zo = function(e) {
            return e / 9e4
        }, qo = function(e, t) {
            return e / t
        };
        var Qo = Ho,
            Zo = Go,
            es = function(e) {
                delete e.minSegmentDts, delete e.maxSegmentDts, delete e.minSegmentPts, delete e.maxSegmentPts
            },
            ts = function(e, t) {
                var i, n = e.minSegmentDts;
                return t || (n -= e.timelineStartInfo.dts), i = e.timelineStartInfo.baseMediaDecodeTime, i += n, i = Math.max(0, i), "audio" === e.type && (i *= e.samplerate / 9e4, i = Math.floor(i)), i
            },
            is = function(e, t) {
                "number" == typeof t.pts && (void 0 === e.timelineStartInfo.pts && (e.timelineStartInfo.pts = t.pts), e.minSegmentPts = void 0 === e.minSegmentPts ? t.pts : Math.min(e.minSegmentPts, t.pts), e.maxSegmentPts = void 0 === e.maxSegmentPts ? t.pts : Math.max(e.maxSegmentPts, t.pts)), "number" == typeof t.dts && (void 0 === e.timelineStartInfo.dts && (e.timelineStartInfo.dts = t.dts), e.minSegmentDts = void 0 === e.minSegmentDts ? t.dts : Math.min(e.minSegmentDts, t.dts), e.maxSegmentDts = void 0 === e.maxSegmentDts ? t.dts : Math.max(e.maxSegmentDts, t.dts))
            },
            ns = function e() {
                e.prototype.init.call(this), this.captionPackets_ = [], this.ccStreams_ = [new ls(0, 0), new ls(0, 1), new ls(1, 0), new ls(1, 1)], this.reset(), this.ccStreams_.forEach(function(e) {
                    e.on("data", this.trigger.bind(this, "data")), e.on("done", this.trigger.bind(this, "done"))
                }, this)
            };
        (ns.prototype = new Wo).push = function(e) {
            var t, i, n;
            if ("sei_rbsp" === e.nalUnitType && 4 === (t = function(e) {
                    for (var t = 0, i = {
                            payloadType: -1,
                            payloadSize: 0
                        }, n = 0, r = 0; t < e.byteLength && 128 !== e[t];) {
                        for (; 255 === e[t];) n += 255, t++;
                        for (n += e[t++]; 255 === e[t];) r += 255, t++;
                        if (r += e[t++], !i.payload && 4 === n) {
                            i.payloadType = n, i.payloadSize = r, i.payload = e.subarray(t, t + r);
                            break
                        }
                        t += r, r = n = 0
                    }
                    return i
                }(e.escapedRBSP)).payloadType && (i = function(e) {
                    return 181 !== e.payload[0] ? null : 49 != (e.payload[1] << 8 | e.payload[2]) ? null : "GA94" !== String.fromCharCode(e.payload[3], e.payload[4], e.payload[5], e.payload[6]) ? null : 3 !== e.payload[7] ? null : e.payload.subarray(8, e.payload.length - 1)
                }(t)))
                if (e.dts < this.latestDts_) this.ignoreNextEqualDts_ = !0;
                else {
                    if (e.dts === this.latestDts_ && this.ignoreNextEqualDts_) return this.numSameDts_--, void(this.numSameDts_ || (this.ignoreNextEqualDts_ = !1));
                    n = function(e, t) {
                        var i, n, r, a, o = [];
                        if (!(64 & t[0])) return o;
                        for (n = 31 & t[0], i = 0; i < n; i++) a = {
                            type: 3 & t[2 + (r = 3 * i)],
                            pts: e
                        }, 4 & t[r + 2] && (a.ccData = t[r + 3] << 8 | t[r + 4], o.push(a));
                        return o
                    }(e.pts, i), this.captionPackets_ = this.captionPackets_.concat(n), this.latestDts_ !== e.dts && (this.numSameDts_ = 0), this.numSameDts_++, this.latestDts_ = e.dts
                }
        }, ns.prototype.flush = function() {
            this.captionPackets_.length ? (this.captionPackets_.forEach(function(e, t) {
                e.presortIndex = t
            }), this.captionPackets_.sort(function(e, t) {
                return e.pts === t.pts ? e.presortIndex - t.presortIndex : e.pts - t.pts
            }), this.captionPackets_.forEach(function(e) {
                e.type < 2 && this.dispatchCea608Packet(e)
            }, this), this.captionPackets_.length = 0, this.ccStreams_.forEach(function(e) {
                e.flush()
            }, this)) : this.ccStreams_.forEach(function(e) {
                e.flush()
            }, this)
        }, ns.prototype.reset = function() {
            this.latestDts_ = null, this.ignoreNextEqualDts_ = !1, this.numSameDts_ = 0, this.activeCea608Channel_ = [null, null], this.ccStreams_.forEach(function(e) {
                e.reset()
            })
        }, ns.prototype.dispatchCea608Packet = function(e) {
            this.setsChannel1Active(e) ? this.activeCea608Channel_[e.type] = 0 : this.setsChannel2Active(e) && (this.activeCea608Channel_[e.type] = 1), null !== this.activeCea608Channel_[e.type] && this.ccStreams_[(e.type << 1) + this.activeCea608Channel_[e.type]].push(e)
        }, ns.prototype.setsChannel1Active = function(e) {
            return 4096 == (30720 & e.ccData)
        }, ns.prototype.setsChannel2Active = function(e) {
            return 6144 == (30720 & e.ccData)
        };
        var rs = {
                42: 225,
                92: 233,
                94: 237,
                95: 243,
                96: 250,
                123: 231,
                124: 247,
                125: 209,
                126: 241,
                127: 9608,
                304: 174,
                305: 176,
                306: 189,
                307: 191,
                308: 8482,
                309: 162,
                310: 163,
                311: 9834,
                312: 224,
                313: 160,
                314: 232,
                315: 226,
                316: 234,
                317: 238,
                318: 244,
                319: 251,
                544: 193,
                545: 201,
                546: 211,
                547: 218,
                548: 220,
                549: 252,
                550: 8216,
                551: 161,
                552: 42,
                553: 39,
                554: 8212,
                555: 169,
                556: 8480,
                557: 8226,
                558: 8220,
                559: 8221,
                560: 192,
                561: 194,
                562: 199,
                563: 200,
                564: 202,
                565: 203,
                566: 235,
                567: 206,
                568: 207,
                569: 239,
                570: 212,
                571: 217,
                572: 249,
                573: 219,
                574: 171,
                575: 187,
                800: 195,
                801: 227,
                802: 205,
                803: 204,
                804: 236,
                805: 210,
                806: 242,
                807: 213,
                808: 245,
                809: 123,
                810: 125,
                811: 92,
                812: 94,
                813: 95,
                814: 124,
                815: 126,
                816: 196,
                817: 228,
                818: 214,
                819: 246,
                820: 223,
                821: 165,
                822: 164,
                823: 9474,
                824: 197,
                825: 229,
                826: 216,
                827: 248,
                828: 9484,
                829: 9488,
                830: 9492,
                831: 9496
            },
            as = function(e) {
                return null === e ? "" : (e = rs[e] || e, String.fromCharCode(e))
            },
            os = [4352, 4384, 4608, 4640, 5376, 5408, 5632, 5664, 5888, 5920, 4096, 4864, 4896, 5120, 5152],
            ss = function() {
                for (var e = [], t = 15; t--;) e.push("");
                return e
            },
            ls = function e(t, i) {
                e.prototype.init.call(this), this.field_ = t || 0, this.dataChannel_ = i || 0, this.name_ = "CC" + (1 + (this.field_ << 1 | this.dataChannel_)), this.setConstants(), this.reset(), this.push = function(e) {
                    var t, i, n, r, a;
                    if ((t = 32639 & e.ccData) !== this.lastControlCode_) {
                        if (4096 == (61440 & t) ? this.lastControlCode_ = t : t !== this.PADDING_ && (this.lastControlCode_ = null), n = t >>> 8, r = 255 & t, t !== this.PADDING_)
                            if (t === this.RESUME_CAPTION_LOADING_) this.mode_ = "popOn";
                            else if (t === this.END_OF_CAPTION_) this.mode_ = "popOn", this.clearFormatting(e.pts), this.flushDisplayed(e.pts), i = this.displayed_, this.displayed_ = this.nonDisplayed_, this.nonDisplayed_ = i, this.startPts_ = e.pts;
                        else if (t === this.ROLL_UP_2_ROWS_) this.rollUpRows_ = 2, this.setRollUp(e.pts);
                        else if (t === this.ROLL_UP_3_ROWS_) this.rollUpRows_ = 3, this.setRollUp(e.pts);
                        else if (t === this.ROLL_UP_4_ROWS_) this.rollUpRows_ = 4, this.setRollUp(e.pts);
                        else if (t === this.CARRIAGE_RETURN_) this.clearFormatting(e.pts), this.flushDisplayed(e.pts), this.shiftRowsUp_(), this.startPts_ = e.pts;
                        else if (t === this.BACKSPACE_) "popOn" === this.mode_ ? this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1) : this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1);
                        else if (t === this.ERASE_DISPLAYED_MEMORY_) this.flushDisplayed(e.pts), this.displayed_ = ss();
                        else if (t === this.ERASE_NON_DISPLAYED_MEMORY_) this.nonDisplayed_ = ss();
                        else if (t === this.RESUME_DIRECT_CAPTIONING_) "paintOn" !== this.mode_ && (this.flushDisplayed(e.pts), this.displayed_ = ss()), this.mode_ = "paintOn", this.startPts_ = e.pts;
                        else if (this.isSpecialCharacter(n, r)) a = as((n = (3 & n) << 8) | r), this[this.mode_](e.pts, a), this.column_++;
                        else if (this.isExtCharacter(n, r)) "popOn" === this.mode_ ? this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1) : this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1), a = as((n = (3 & n) << 8) | r), this[this.mode_](e.pts, a), this.column_++;
                        else if (this.isMidRowCode(n, r)) this.clearFormatting(e.pts), this[this.mode_](e.pts, " "), this.column_++, 14 == (14 & r) && this.addFormatting(e.pts, ["i"]), 1 == (1 & r) && this.addFormatting(e.pts, ["u"]);
                        else if (this.isOffsetControlCode(n, r)) this.column_ += 3 & r;
                        else if (this.isPAC(n, r)) {
                            var o = os.indexOf(7968 & t);
                            "rollUp" === this.mode_ && (o - this.rollUpRows_ + 1 < 0 && (o = this.rollUpRows_ - 1), this.setRollUp(e.pts, o)), o !== this.row_ && (this.clearFormatting(e.pts), this.row_ = o), 1 & r && -1 === this.formatting_.indexOf("u") && this.addFormatting(e.pts, ["u"]), 16 == (16 & t) && (this.column_ = 4 * ((14 & t) >> 1)), this.isColorPAC(r) && 14 == (14 & r) && this.addFormatting(e.pts, ["i"])
                        } else this.isNormalChar(n) && (0 === r && (r = null), a = as(n), a += as(r), this[this.mode_](e.pts, a), this.column_ += a.length)
                    } else this.lastControlCode_ = null
                }
            };
        ls.prototype = new Wo, ls.prototype.flushDisplayed = function(e) {
            var t = this.displayed_.map(function(e) {
                try {
                    return e.trim()
                } catch (e) {
                    return ""
                }
            }).join("\n").replace(/^\n+|\n+$/g, "");
            t.length && this.trigger("data", {
                startPts: this.startPts_,
                endPts: e,
                text: t,
                stream: this.name_
            })
        }, ls.prototype.reset = function() {
            this.mode_ = "popOn", this.topRow_ = 0, this.startPts_ = 0, this.displayed_ = ss(), this.nonDisplayed_ = ss(), this.lastControlCode_ = null, this.column_ = 0, this.row_ = 14, this.rollUpRows_ = 2, this.formatting_ = []
        }, ls.prototype.setConstants = function() {
            0 === this.dataChannel_ ? (this.BASE_ = 16, this.EXT_ = 17, this.CONTROL_ = (20 | this.field_) << 8, this.OFFSET_ = 23) : 1 === this.dataChannel_ && (this.BASE_ = 24, this.EXT_ = 25, this.CONTROL_ = (28 | this.field_) << 8, this.OFFSET_ = 31), this.PADDING_ = 0, this.RESUME_CAPTION_LOADING_ = 32 | this.CONTROL_, this.END_OF_CAPTION_ = 47 | this.CONTROL_, this.ROLL_UP_2_ROWS_ = 37 | this.CONTROL_, this.ROLL_UP_3_ROWS_ = 38 | this.CONTROL_, this.ROLL_UP_4_ROWS_ = 39 | this.CONTROL_, this.CARRIAGE_RETURN_ = 45 | this.CONTROL_, this.RESUME_DIRECT_CAPTIONING_ = 41 | this.CONTROL_, this.BACKSPACE_ = 33 | this.CONTROL_, this.ERASE_DISPLAYED_MEMORY_ = 44 | this.CONTROL_, this.ERASE_NON_DISPLAYED_MEMORY_ = 46 | this.CONTROL_
        }, ls.prototype.isSpecialCharacter = function(e, t) {
            return e === this.EXT_ && 48 <= t && t <= 63
        }, ls.prototype.isExtCharacter = function(e, t) {
            return (e === this.EXT_ + 1 || e === this.EXT_ + 2) && 32 <= t && t <= 63
        }, ls.prototype.isMidRowCode = function(e, t) {
            return e === this.EXT_ && 32 <= t && t <= 47
        }, ls.prototype.isOffsetControlCode = function(e, t) {
            return e === this.OFFSET_ && 33 <= t && t <= 35
        }, ls.prototype.isPAC = function(e, t) {
            return e >= this.BASE_ && e < this.BASE_ + 8 && 64 <= t && t <= 127
        }, ls.prototype.isColorPAC = function(e) {
            return 64 <= e && e <= 79 || 96 <= e && e <= 127
        }, ls.prototype.isNormalChar = function(e) {
            return 32 <= e && e <= 127
        }, ls.prototype.setRollUp = function(e, t) {
            if ("rollUp" !== this.mode_ && (this.row_ = 14, this.mode_ = "rollUp", this.flushDisplayed(e), this.nonDisplayed_ = ss(), this.displayed_ = ss()), void 0 !== t && t !== this.row_)
                for (var i = 0; i < this.rollUpRows_; i++) this.displayed_[t - i] = this.displayed_[this.row_ - i], this.displayed_[this.row_ - i] = "";
            void 0 === t && (t = this.row_), this.topRow_ = t - this.rollUpRows_ + 1
        }, ls.prototype.addFormatting = function(e, t) {
            this.formatting_ = this.formatting_.concat(t);
            var i = t.reduce(function(e, t) {
                return e + "<" + t + ">"
            }, "");
            this[this.mode_](e, i)
        }, ls.prototype.clearFormatting = function(e) {
            if (this.formatting_.length) {
                var t = this.formatting_.reverse().reduce(function(e, t) {
                    return e + "</" + t + ">"
                }, "");
                this.formatting_ = [], this[this.mode_](e, t)
            }
        }, ls.prototype.popOn = function(e, t) {
            var i = this.nonDisplayed_[this.row_];
            this.nonDisplayed_[this.row_] = i += t
        }, ls.prototype.rollUp = function(e, t) {
            var i = this.displayed_[this.row_];
            this.displayed_[this.row_] = i += t
        }, ls.prototype.shiftRowsUp_ = function() {
            var e;
            for (e = 0; e < this.topRow_; e++) this.displayed_[e] = "";
            for (e = this.row_ + 1; e < 15; e++) this.displayed_[e] = "";
            for (e = this.topRow_; e < this.row_; e++) this.displayed_[e] = this.displayed_[e + 1];
            this.displayed_[this.row_] = ""
        }, ls.prototype.paintOn = function(e, t) {
            var i = this.displayed_[this.row_];
            this.displayed_[this.row_] = i += t
        };
        var cs = {
                CaptionStream: ns,
                Cea608Stream: ls
            },
            us = {
                H264_STREAM_TYPE: 27,
                ADTS_STREAM_TYPE: 15,
                METADATA_STREAM_TYPE: 21
            },
            ds = function(e, t) {
                var i = 1;
                for (t < e && (i = -1); 4294967296 < Math.abs(t - e);) e += 8589934592 * i;
                return e
            },
            hs = function e(t) {
                var i, n;
                e.prototype.init.call(this), this.type_ = t, this.push = function(e) {
                    e.type === this.type_ && (void 0 === n && (n = e.dts), e.dts = ds(e.dts, n), e.pts = ds(e.pts, n), i = e.dts, this.trigger("data", e))
                }, this.flush = function() {
                    n = i, this.trigger("done")
                }, this.discontinuity = function() {
                    i = n = void 0
                }
            };
        hs.prototype = new Wo;
        var ps, fs = hs,
            ms = ds,
            gs = function(e, t, i) {
                var n, r = "";
                for (n = t; n < i; n++) r += "%" + ("00" + e[n].toString(16)).slice(-2);
                return r
            },
            ys = function(e, t, i) {
                return decodeURIComponent(gs(e, t, i))
            },
            vs = function(e) {
                return e[0] << 21 | e[1] << 14 | e[2] << 7 | e[3]
            },
            bs = {
                TXXX: function(e) {
                    var t;
                    if (3 === e.data[0]) {
                        for (t = 1; t < e.data.length; t++)
                            if (0 === e.data[t]) {
                                e.description = ys(e.data, 1, t), e.value = ys(e.data, t + 1, e.data.length).replace(/\0*$/, "");
                                break
                            } e.data = e.value
                    }
                },
                WXXX: function(e) {
                    var t;
                    if (3 === e.data[0])
                        for (t = 1; t < e.data.length; t++)
                            if (0 === e.data[t]) {
                                e.description = ys(e.data, 1, t), e.url = ys(e.data, t + 1, e.data.length);
                                break
                            }
                },
                PRIV: function(e) {
                    var t;
                    for (t = 0; t < e.data.length; t++)
                        if (0 === e.data[t]) {
                            e.owner = unescape(gs(e.data, 0, t));
                            break
                        } e.privateData = e.data.subarray(t + 1), e.data = e.privateData
                }
            };
        (ps = function(e) {
            var t, i = {
                    debug: !(!e || !e.debug),
                    descriptor: e && e.descriptor
                },
                n = 0,
                r = [],
                a = 0;
            if (ps.prototype.init.call(this), this.dispatchType = us.METADATA_STREAM_TYPE.toString(16), i.descriptor)
                for (t = 0; t < i.descriptor.length; t++) this.dispatchType += ("00" + i.descriptor[t].toString(16)).slice(-2);
            this.push = function(e) {
                var t, i, o, s, l;
                if ("timed-metadata" === e.type)
                    if (e.dataAlignmentIndicator && (a = 0, r.length = 0), 0 === r.length && (e.data.length < 10 || e.data[0] !== "I".charCodeAt(0) || e.data[1] !== "D".charCodeAt(0) || e.data[2] !== "3".charCodeAt(0)));
                    else if (r.push(e), a += e.data.byteLength, 1 === r.length && (n = vs(e.data.subarray(6, 10)), n += 10), !(a < n)) {
                    for (t = {
                            data: new Uint8Array(n),
                            frames: [],
                            pts: r[0].pts,
                            dts: r[0].dts
                        }, l = 0; l < n;) t.data.set(r[0].data.subarray(0, n - l), l), l += r[0].data.byteLength, a -= r[0].data.byteLength, r.shift();
                    i = 10, 64 & t.data[5] && (i += 4, i += vs(t.data.subarray(10, 14)), n -= vs(t.data.subarray(16, 20)));
                    do {
                        if ((o = vs(t.data.subarray(i + 4, i + 8))) < 1) return;
                        if ((s = {
                                id: String.fromCharCode(t.data[i], t.data[i + 1], t.data[i + 2], t.data[i + 3]),
                                data: t.data.subarray(i + 10, i + o + 10)
                            }).key = s.id, bs[s.id] && (bs[s.id](s), "com.apple.streaming.transportStreamTimestamp" === s.owner)) {
                            var c = s.data,
                                u = (1 & c[3]) << 30 | c[4] << 22 | c[5] << 14 | c[6] << 6 | c[7] >>> 2;
                            u *= 4, s.timeStamp = u += 3 & c[7], void 0 === t.pts && void 0 === t.dts && (t.pts = s.timeStamp, t.dts = s.timeStamp), this.trigger("timestamp", s)
                        }
                        t.frames.push(s), i += 10, i += o
                    } while (i < n);
                    this.trigger("data", t)
                }
            }
        }).prototype = new Wo;
        var _s, Ts, Ss, Es = ps,
            ws = fs;
        (_s = function() {
            var e = new Uint8Array(188),
                t = 0;
            _s.prototype.init.call(this), this.push = function(i) {
                var n, r = 0,
                    a = 188;
                for (t ? ((n = new Uint8Array(i.byteLength + t)).set(e.subarray(0, t)), n.set(i, t), t = 0) : n = i; a < n.byteLength;) 71 !== n[r] || 71 !== n[a] ? (r++, a++) : (this.trigger("data", n.subarray(r, a)), r += 188, a += 188);
                r < n.byteLength && (e.set(n.subarray(r), 0), t = n.byteLength - r)
            }, this.flush = function() {
                188 === t && 71 === e[0] && (this.trigger("data", e), t = 0), this.trigger("done")
            }
        }).prototype = new Wo, (Ts = function() {
            var e, t, i, n;
            Ts.prototype.init.call(this), (n = this).packetsWaitingForPmt = [], this.programMapTable = void 0, e = function(e, n) {
                var r = 0;
                n.payloadUnitStartIndicator && (r += e[r] + 1), "pat" === n.type ? t(e.subarray(r), n) : i(e.subarray(r), n)
            }, t = function(e, t) {
                t.section_number = e[7], t.last_section_number = e[8], n.pmtPid = (31 & e[10]) << 8 | e[11], t.pmtPid = n.pmtPid
            }, i = function(e, t) {
                var i, r;
                if (1 & e[5]) {
                    for (n.programMapTable = {
                            video: null,
                            audio: null,
                            "timed-metadata": {}
                        }, i = 3 + ((15 & e[1]) << 8 | e[2]) - 4, r = 12 + ((15 & e[10]) << 8 | e[11]); r < i;) {
                        var a = e[r],
                            o = (31 & e[r + 1]) << 8 | e[r + 2];
                        a === us.H264_STREAM_TYPE && null === n.programMapTable.video ? n.programMapTable.video = o : a === us.ADTS_STREAM_TYPE && null === n.programMapTable.audio ? n.programMapTable.audio = o : a === us.METADATA_STREAM_TYPE && (n.programMapTable["timed-metadata"][o] = a), r += 5 + ((15 & e[r + 3]) << 8 | e[r + 4])
                    }
                    t.programMapTable = n.programMapTable
                }
            }, this.push = function(t) {
                var i = {},
                    n = 4;
                if (i.payloadUnitStartIndicator = !!(64 & t[1]), i.pid = 31 & t[1], i.pid <<= 8, i.pid |= t[2], 1 < (48 & t[3]) >>> 4 && (n += t[n] + 1), 0 === i.pid) i.type = "pat", e(t.subarray(n), i), this.trigger("data", i);
                else if (i.pid === this.pmtPid)
                    for (i.type = "pmt", e(t.subarray(n), i), this.trigger("data", i); this.packetsWaitingForPmt.length;) this.processPes_.apply(this, this.packetsWaitingForPmt.shift());
                else void 0 === this.programMapTable ? this.packetsWaitingForPmt.push([t, n, i]) : this.processPes_(t, n, i)
            }, this.processPes_ = function(e, t, i) {
                i.streamType = i.pid === this.programMapTable.video ? us.H264_STREAM_TYPE : i.pid === this.programMapTable.audio ? us.ADTS_STREAM_TYPE : this.programMapTable["timed-metadata"][i.pid], i.type = "pes", i.data = e.subarray(t), this.trigger("data", i)
            }
        }).prototype = new Wo, Ts.STREAM_TYPES = {
            h264: 27,
            adts: 15
        }, (Ss = function() {
            var e = this,
                t = {
                    data: [],
                    size: 0
                },
                i = {
                    data: [],
                    size: 0
                },
                n = {
                    data: [],
                    size: 0
                },
                r = function(t, i, n) {
                    var r, a, o = new Uint8Array(t.size),
                        s = {
                            type: i
                        },
                        l = 0,
                        c = 0;
                    if (t.data.length && !(t.size < 9)) {
                        for (s.trackId = t.data[0].pid, l = 0; l < t.data.length; l++) o.set((a = t.data[l]).data, c), c += a.data.byteLength;
                        var u, d, h;
                        (d = s).packetLength = 6 + ((u = o)[4] << 8 | u[5]), d.dataAlignmentIndicator = 0 != (4 & u[6]), 192 & (h = u[7]) && (d.pts = (14 & u[9]) << 27 | (255 & u[10]) << 20 | (254 & u[11]) << 12 | (255 & u[12]) << 5 | (254 & u[13]) >>> 3, d.pts *= 4, d.pts += (6 & u[13]) >>> 1, d.dts = d.pts, 64 & h && (d.dts = (14 & u[14]) << 27 | (255 & u[15]) << 20 | (254 & u[16]) << 12 | (255 & u[17]) << 5 | (254 & u[18]) >>> 3, d.dts *= 4, d.dts += (6 & u[18]) >>> 1)), d.data = u.subarray(9 + u[8]), r = "video" === i || s.packetLength <= t.size, (n || r) && (t.size = 0, t.data.length = 0), r && e.trigger("data", s)
                    }
                };
            Ss.prototype.init.call(this), this.push = function(a) {
                ({
                    pat: function() {},
                    pes: function() {
                        var e, o;
                        switch (a.streamType) {
                            case us.H264_STREAM_TYPE:
                            case us.H264_STREAM_TYPE:
                                e = t, o = "video";
                                break;
                            case us.ADTS_STREAM_TYPE:
                                e = i, o = "audio";
                                break;
                            case us.METADATA_STREAM_TYPE:
                                e = n, o = "timed-metadata";
                                break;
                            default:
                                return
                        }
                        a.payloadUnitStartIndicator && r(e, o, !0), e.data.push(a), e.size += a.data.byteLength
                    },
                    pmt: function() {
                        var t = {
                                type: "metadata",
                                tracks: []
                            },
                            i = a.programMapTable;
                        null !== i.video && t.tracks.push({
                            timelineStartInfo: {
                                baseMediaDecodeTime: 0
                            },
                            id: +i.video,
                            codec: "avc",
                            type: "video"
                        }), null !== i.audio && t.tracks.push({
                            timelineStartInfo: {
                                baseMediaDecodeTime: 0
                            },
                            id: +i.audio,
                            codec: "adts",
                            type: "audio"
                        }), e.trigger("data", t)
                    }
                })[a.type]()
            }, this.flush = function() {
                r(t, "video"), r(i, "audio"), r(n, "timed-metadata"), this.trigger("done")
            }
        }).prototype = new Wo;
        var Cs = {
            PAT_PID: 0,
            MP2T_PACKET_LENGTH: 188,
            TransportPacketStream: _s,
            TransportParseStream: Ts,
            ElementaryStream: Ss,
            TimestampRolloverStream: ws,
            CaptionStream: cs.CaptionStream,
            Cea608Stream: cs.Cea608Stream,
            MetadataStream: Es
        };
        for (var ks in us) us.hasOwnProperty(ks) && (Cs[ks] = us[ks]);
        var Ps, As = Cs,
            Is = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350];
        (Ps = function() {
            var e;
            Ps.prototype.init.call(this), this.push = function(t) {
                var i, n, r, a, o = 0,
                    s = 0;
                if ("audio" === t.type)
                    for (e ? (n = e, (e = new Uint8Array(n.byteLength + t.data.byteLength)).set(n), e.set(t.data, n.byteLength)) : e = t.data; o + 5 < e.length;)
                        if (255 === e[o] && 240 == (246 & e[o + 1])) {
                            if (a = 9e4 * (r = 1024 * (1 + (3 & e[o + 6]))) / Is[(60 & e[o + 2]) >>> 2], e.byteLength < (i = o + ((3 & e[o + 3]) << 11 | e[o + 4] << 3 | (224 & e[o + 5]) >> 5))) return;
                            if (this.trigger("data", {
                                    pts: t.pts + s * a,
                                    dts: t.dts + s * a,
                                    sampleCount: r,
                                    audioobjecttype: 1 + (e[o + 2] >>> 6 & 3),
                                    channelcount: (1 & e[o + 2]) << 2 | (192 & e[o + 3]) >>> 6,
                                    samplerate: Is[(60 & e[o + 2]) >>> 2],
                                    samplingfrequencyindex: (60 & e[o + 2]) >>> 2,
                                    samplesize: 16,
                                    data: e.subarray(o + 7 + 2 * (1 & ~e[o + 1]), i)
                                }), e.byteLength === i) return void(e = void 0);
                            s++, e = e.subarray(i)
                        } else o++
            }, this.flush = function() {
                this.trigger("done")
            }
        }).prototype = new Wo;
        var Ls, Os, Ds, Rs = Ps,
            xs = function(e) {
                var t = e.byteLength,
                    i = 0,
                    n = 0;
                this.length = function() {
                    return 8 * t
                }, this.bitsAvailable = function() {
                    return 8 * t + n
                }, this.loadWord = function() {
                    var r = e.byteLength - t,
                        a = new Uint8Array(4),
                        o = Math.min(4, t);
                    if (0 === o) throw new Error("no bytes available");
                    a.set(e.subarray(r, r + o)), i = new DataView(a.buffer).getUint32(0), n = 8 * o, t -= o
                }, this.skipBits = function(e) {
                    var r;
                    e < n || (e -= n, e -= 8 * (r = Math.floor(e / 8)), t -= r, this.loadWord()), i <<= e, n -= e
                }, this.readBits = function(e) {
                    var r = Math.min(n, e),
                        a = i >>> 32 - r;
                    return 0 < (n -= r) ? i <<= r : 0 < t && this.loadWord(), 0 < (r = e - r) ? a << r | this.readBits(r) : a
                }, this.skipLeadingZeros = function() {
                    var e;
                    for (e = 0; e < n; ++e)
                        if (0 != (i & 2147483648 >>> e)) return i <<= e, n -= e, e;
                    return this.loadWord(), e + this.skipLeadingZeros()
                }, this.skipUnsignedExpGolomb = function() {
                    this.skipBits(1 + this.skipLeadingZeros())
                }, this.skipExpGolomb = function() {
                    this.skipBits(1 + this.skipLeadingZeros())
                }, this.readUnsignedExpGolomb = function() {
                    var e = this.skipLeadingZeros();
                    return this.readBits(e + 1) - 1
                }, this.readExpGolomb = function() {
                    var e = this.readUnsignedExpGolomb();
                    return 1 & e ? 1 + e >>> 1 : -1 * (e >>> 1)
                }, this.readBoolean = function() {
                    return 1 === this.readBits(1)
                }, this.readUnsignedByte = function() {
                    return this.readBits(8)
                }, this.loadWord()
            };
        (Os = function() {
            var e, t, i = 0;
            Os.prototype.init.call(this), this.push = function(n) {
                var r;
                for (t = t ? ((r = new Uint8Array(t.byteLength + n.data.byteLength)).set(t), r.set(n.data, t.byteLength), r) : n.data; i < t.byteLength - 3; i++)
                    if (1 === t[i + 2]) {
                        e = i + 5;
                        break
                    } for (; e < t.byteLength;) switch (t[e]) {
                    case 0:
                        if (0 !== t[e - 1]) {
                            e += 2;
                            break
                        }
                        if (0 !== t[e - 2]) {
                            e++;
                            break
                        }
                        for (i + 3 !== e - 2 && this.trigger("data", t.subarray(i + 3, e - 2)); 1 !== t[++e] && e < t.length;);
                        i = e - 2, e += 3;
                        break;
                    case 1:
                        if (0 !== t[e - 1] || 0 !== t[e - 2]) {
                            e += 3;
                            break
                        }
                        this.trigger("data", t.subarray(i + 3, e - 2)), i = e - 2, e += 3;
                        break;
                    default:
                        e += 3
                }
                t = t.subarray(i), e -= i, i = 0
            }, this.flush = function() {
                t && 3 < t.byteLength && this.trigger("data", t.subarray(i + 3)), t = null, i = 0, this.trigger("done")
            }
        }).prototype = new Wo, Ds = {
            100: !0,
            110: !0,
            122: !0,
            244: !0,
            44: !0,
            83: !0,
            86: !0,
            118: !0,
            128: !0,
            138: !0,
            139: !0,
            134: !0
        }, (Ls = function() {
            var e, t, i, n, r, a, o, s = new Os;
            Ls.prototype.init.call(this), (e = this).push = function(e) {
                "video" === e.type && (t = e.trackId, i = e.pts, n = e.dts, s.push(e))
            }, s.on("data", function(o) {
                var s = {
                    trackId: t,
                    pts: i,
                    dts: n,
                    data: o
                };
                switch (31 & o[0]) {
                    case 5:
                        s.nalUnitType = "slice_layer_without_partitioning_rbsp_idr";
                        break;
                    case 6:
                        s.nalUnitType = "sei_rbsp", s.escapedRBSP = r(o.subarray(1));
                        break;
                    case 7:
                        s.nalUnitType = "seq_parameter_set_rbsp", s.escapedRBSP = r(o.subarray(1)), s.config = a(s.escapedRBSP);
                        break;
                    case 8:
                        s.nalUnitType = "pic_parameter_set_rbsp";
                        break;
                    case 9:
                        s.nalUnitType = "access_unit_delimiter_rbsp"
                }
                e.trigger("data", s)
            }), s.on("done", function() {
                e.trigger("done")
            }), this.flush = function() {
                s.flush()
            }, o = function(e, t) {
                var i, n = 8,
                    r = 8;
                for (i = 0; i < e; i++) 0 !== r && (r = (n + t.readExpGolomb() + 256) % 256), n = 0 === r ? n : r
            }, r = function(e) {
                for (var t, i, n = e.byteLength, r = [], a = 1; a < n - 2;) 0 === e[a] && 0 === e[a + 1] && 3 === e[a + 2] ? (r.push(a + 2), a += 2) : a++;
                if (0 === r.length) return e;
                t = n - r.length, i = new Uint8Array(t);
                var o = 0;
                for (a = 0; a < t; o++, a++) o === r[0] && (o++, r.shift()), i[a] = e[o];
                return i
            }, a = function(e) {
                var t, i, n, r, a, s, l, c, u, d, h, p, f, m = 0,
                    g = 0,
                    y = 0,
                    v = 0,
                    b = 1;
                if (i = (t = new xs(e)).readUnsignedByte(), r = t.readUnsignedByte(), n = t.readUnsignedByte(), t.skipUnsignedExpGolomb(), Ds[i] && (3 === (a = t.readUnsignedExpGolomb()) && t.skipBits(1), t.skipUnsignedExpGolomb(), t.skipUnsignedExpGolomb(), t.skipBits(1), t.readBoolean()))
                    for (h = 3 !== a ? 8 : 12, f = 0; f < h; f++) t.readBoolean() && o(f < 6 ? 16 : 64, t);
                if (t.skipUnsignedExpGolomb(), 0 === (s = t.readUnsignedExpGolomb())) t.readUnsignedExpGolomb();
                else if (1 === s)
                    for (t.skipBits(1), t.skipExpGolomb(), t.skipExpGolomb(), l = t.readUnsignedExpGolomb(), f = 0; f < l; f++) t.skipExpGolomb();
                if (t.skipUnsignedExpGolomb(), t.skipBits(1), c = t.readUnsignedExpGolomb(), u = t.readUnsignedExpGolomb(), 0 === (d = t.readBits(1)) && t.skipBits(1), t.skipBits(1), t.readBoolean() && (m = t.readUnsignedExpGolomb(), g = t.readUnsignedExpGolomb(), y = t.readUnsignedExpGolomb(), v = t.readUnsignedExpGolomb()), t.readBoolean() && t.readBoolean()) {
                    switch (t.readUnsignedByte()) {
                        case 1:
                            p = [1, 1];
                            break;
                        case 2:
                            p = [12, 11];
                            break;
                        case 3:
                            p = [10, 11];
                            break;
                        case 4:
                            p = [16, 11];
                            break;
                        case 5:
                            p = [40, 33];
                            break;
                        case 6:
                            p = [24, 11];
                            break;
                        case 7:
                            p = [20, 11];
                            break;
                        case 8:
                            p = [32, 11];
                            break;
                        case 9:
                            p = [80, 33];
                            break;
                        case 10:
                            p = [18, 11];
                            break;
                        case 11:
                            p = [15, 11];
                            break;
                        case 12:
                            p = [64, 33];
                            break;
                        case 13:
                            p = [160, 99];
                            break;
                        case 14:
                            p = [4, 3];
                            break;
                        case 15:
                            p = [3, 2];
                            break;
                        case 16:
                            p = [2, 1];
                            break;
                        case 255:
                            p = [t.readUnsignedByte() << 8 | t.readUnsignedByte(), t.readUnsignedByte() << 8 | t.readUnsignedByte()]
                    }
                    p && (b = p[0] / p[1])
                }
                return {
                    profileIdc: i,
                    levelIdc: n,
                    profileCompatibility: r,
                    width: Math.ceil((16 * (c + 1) - 2 * m - 2 * g) * b),
                    height: (2 - d) * (u + 1) * 16 - 2 * y - 2 * v
                }
            }
        }).prototype = new Wo;
        var Ms, Us = {
                H264Stream: Ls,
                NalByteStream: Os
            },
            Ns = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350],
            Fs = function(e) {
                return e[0] << 21 | e[1] << 14 | e[2] << 7 | e[3]
            },
            Bs = {
                isLikelyAacData: function(e) {
                    return e[0] === "I".charCodeAt(0) && e[1] === "D".charCodeAt(0) && e[2] === "3".charCodeAt(0)
                },
                parseId3TagSize: function(e, t) {
                    var i = e[t + 6] << 21 | e[t + 7] << 14 | e[t + 8] << 7 | e[t + 9];
                    return (16 & e[t + 5]) >> 4 ? i + 20 : i + 10
                },
                parseAdtsSize: function(e, t) {
                    return 6144 & e[t + 3] | e[t + 4] << 3 | (224 & e[t + 5]) >> 5
                },
                parseType: function(e, t) {
                    return e[t] === "I".charCodeAt(0) && e[t + 1] === "D".charCodeAt(0) && e[t + 2] === "3".charCodeAt(0) ? "timed-metadata" : !0 & e[t] && 240 == (240 & e[t + 1]) ? "audio" : null
                },
                parseSampleRate: function(e) {
                    for (var t = 0; t + 5 < e.length;) {
                        if (255 === e[t] && 240 == (246 & e[t + 1])) return Ns[(60 & e[t + 2]) >>> 2];
                        t++
                    }
                    return null
                },
                parseAacTimestamp: function(e) {
                    var t, i, n;
                    t = 10, 64 & e[5] && (t += 4, t += Fs(e.subarray(10, 14)));
                    do {
                        if ((i = Fs(e.subarray(t + 4, t + 8))) < 1) return null;
                        if ("PRIV" === String.fromCharCode(e[t], e[t + 1], e[t + 2], e[t + 3])) {
                            n = e.subarray(t + 10, t + i + 10);
                            for (var r = 0; r < n.byteLength; r++)
                                if (0 === n[r]) {
                                    if ("com.apple.streaming.transportStreamTimestamp" !== unescape(function(e, t, i) {
                                            var n, r = "";
                                            for (n = 0; n < i; n++) r += "%" + ("00" + e[n].toString(16)).slice(-2);
                                            return r
                                        }(n, 0, r))) break;
                                    var a = n.subarray(r + 1),
                                        o = (1 & a[3]) << 30 | a[4] << 22 | a[5] << 14 | a[6] << 6 | a[7] >>> 2;
                                    return (o *= 4) + (3 & a[7])
                                }
                        }
                        t += 10, t += i
                    } while (t < e.byteLength);
                    return null
                }
            };
        (Ms = function() {
            var e = new Uint8Array,
                t = 0;
            Ms.prototype.init.call(this), this.setTimestamp = function(e) {
                t = e
            }, this.push = function(i) {
                var n, r, a, o = 0,
                    s = 0;
                for (e.length ? (a = e.length, (e = new Uint8Array(i.byteLength + a)).set(e.subarray(0, a)), e.set(i, a)) : e = i; 3 <= e.length - s;)
                    if (e[s] !== "I".charCodeAt(0) || e[s + 1] !== "D".charCodeAt(0) || e[s + 2] !== "3".charCodeAt(0))
                        if (255 != (255 & e[s]) || 240 != (240 & e[s + 1])) s++;
                        else {
                            if (e.length - s < 7) break;
                            if (s + (o = Bs.parseAdtsSize(e, s)) > e.length) break;
                            r = {
                                type: "audio",
                                data: e.subarray(s, s + o),
                                pts: t,
                                dts: t
                            }, this.trigger("data", r), s += o
                        }
                else {
                    if (e.length - s < 10) break;
                    if (s + (o = Bs.parseId3TagSize(e, s)) > e.length) break;
                    n = {
                        type: "timed-metadata",
                        data: e.subarray(s, s + o)
                    }, this.trigger("data", n), s += o
                }
                e = 0 < e.length - s ? e.subarray(s) : new Uint8Array
            }
        }).prototype = new Wo;
        var Vs, js, zs, qs, Hs = Ms,
            Gs = Us.H264Stream,
            Ws = Bs.isLikelyAacData,
            Ys = ["audioobjecttype", "channelcount", "samplerate", "samplingfrequencyindex", "samplesize"],
            Ks = ["width", "height", "profileIdc", "levelIdc", "profileCompatibility"],
            Xs = function(e, t) {
                var i;
                if (e.length !== t.length) return !1;
                for (i = 0; i < e.length; i++)
                    if (e[i] !== t[i]) return !1;
                return !0
            };
        (js = function(e, t) {
            var i = [],
                n = 0,
                r = 0,
                a = 0,
                o = 1 / 0;
            t = t || {}, js.prototype.init.call(this), this.push = function(t) {
                is(e, t), e && Ys.forEach(function(i) {
                    e[i] = t[i]
                }), i.push(t)
            }, this.setEarliestDts = function(t) {
                r = t - e.timelineStartInfo.baseMediaDecodeTime
            }, this.setVideoBaseMediaDecodeTime = function(e) {
                o = e
            }, this.setAudioAppendStart = function(e) {
                a = e
            }, this.flush = function() {
                var s, l, c, u;
                0 !== i.length && (s = function(e, t, i) {
                    return t.minSegmentDts >= i ? e : (t.minSegmentDts = 1 / 0, e.filter(function(e) {
                        return e.dts >= i && (t.minSegmentDts = Math.min(t.minSegmentDts, e.dts), t.minSegmentPts = t.minSegmentDts, !0)
                    }))
                }(i, e, r), e.baseMediaDecodeTime = ts(e, t.keepOriginalTimestamps), function(e, t, i, n) {
                    var r, a, o, s, l = 0,
                        c = 0,
                        u = 0;
                    if (t.length && (r = Qo(e.baseMediaDecodeTime, e.samplerate), a = Math.ceil(9e4 / (e.samplerate / 1024)), i && n && (l = r - Math.max(i, n), u = (c = Math.floor(l / a)) * a), !(c < 1 || 45e3 < u))) {
                        for ((o = $o[e.samplerate]) || (o = t[0].data), s = 0; s < c; s++) t.splice(s, 0, {
                            data: o
                        });
                        e.baseMediaDecodeTime -= Math.floor(Zo(u, e.samplerate))
                    }
                }(e, s, a, o), e.samples = function(e) {
                    var t, i = [];
                    for (t = 0; t < e.length; t++) i.push({
                        size: e[t].data.byteLength,
                        duration: 1024
                    });
                    return i
                }(s), c = No.mdat(function(e) {
                    var t, i, n = 0,
                        r = new Uint8Array(function(e) {
                            var t, i = 0;
                            for (t = 0; t < e.length; t++) i += e[t].data.byteLength;
                            return i
                        }(e));
                    for (t = 0; t < e.length; t++) r.set((i = e[t]).data, n), n += i.data.byteLength;
                    return r
                }(s)), i = [], l = No.moof(n, [e]), u = new Uint8Array(l.byteLength + c.byteLength), n++, u.set(l), u.set(c, l.byteLength), es(e), this.trigger("data", {
                    track: e,
                    boxes: u
                })), this.trigger("done", "AudioSegmentStream")
            }
        }).prototype = new Wo, (Vs = function(e, t) {
            var i, n, r = 0,
                a = [],
                o = [];
            t = t || {}, Vs.prototype.init.call(this), delete e.minPTS, this.gopCache_ = [], this.push = function(t) {
                is(e, t), "seq_parameter_set_rbsp" !== t.nalUnitType || i || (i = t.config, e.sps = [t.data], Ks.forEach(function(t) {
                    e[t] = i[t]
                }, this)), "pic_parameter_set_rbsp" !== t.nalUnitType || n || (n = t.data, e.pps = [t.data]), a.push(t)
            }, this.flush = function() {
                for (var i, n, s, l, c, u; a.length && "access_unit_delimiter_rbsp" !== a[0].nalUnitType;) a.shift();
                if (0 === a.length) return this.resetStream_(), void this.trigger("done", "VideoSegmentStream");
                if (i = function(e) {
                        var t, i, n = [],
                            r = [];
                        for (t = n.byteLength = 0; t < e.length; t++) "access_unit_delimiter_rbsp" === (i = e[t]).nalUnitType ? (n.length && (n.duration = i.dts - n.dts, r.push(n)), (n = [i]).byteLength = i.data.byteLength, n.pts = i.pts, n.dts = i.dts) : ("slice_layer_without_partitioning_rbsp_idr" === i.nalUnitType && (n.keyFrame = !0), n.duration = i.dts - n.dts, n.byteLength += i.data.byteLength, n.push(i));
                        return r.length && (!n.duration || n.duration <= 0) && (n.duration = r[r.length - 1].duration), r.push(n), r
                    }(a), (s = function(e) {
                        var t, i, n = [],
                            r = [];
                        for (n.byteLength = 0, n.nalCount = 0, n.duration = 0, n.pts = e[0].pts, n.dts = e[0].dts, r.byteLength = 0, r.nalCount = 0, r.duration = 0, r.pts = e[0].pts, r.dts = e[0].dts, t = 0; t < e.length; t++)(i = e[t]).keyFrame ? (n.length && (r.push(n), r.byteLength += n.byteLength, r.nalCount += n.nalCount, r.duration += n.duration), (n = [i]).nalCount = i.length, n.byteLength = i.byteLength, n.pts = i.pts, n.dts = i.dts, n.duration = i.duration) : (n.duration += i.duration, n.nalCount += i.length, n.byteLength += i.byteLength, n.push(i));
                        return r.length && n.duration <= 0 && (n.duration = r[r.length - 1].duration), r.byteLength += n.byteLength, r.nalCount += n.nalCount, r.duration += n.duration, r.push(n), r
                    }(i))[0][0].keyFrame || ((n = this.getGopForFusion_(a[0], e)) ? (s.unshift(n), s.byteLength += n.byteLength, s.nalCount += n.nalCount, s.pts = n.pts, s.dts = n.dts, s.duration += n.duration) : s = function(e) {
                        var t;
                        return !e[0][0].keyFrame && 1 < e.length && (t = e.shift(), e.byteLength -= t.byteLength, e.nalCount -= t.nalCount, e[0][0].dts = t.dts, e[0][0].pts = t.pts, e[0][0].duration += t.duration), e
                    }(s)), o.length) {
                    var d;
                    if (!(d = t.alignGopsAtEnd ? this.alignGopsAtEnd_(s) : this.alignGopsAtStart_(s))) return this.gopCache_.unshift({
                        gop: s.pop(),
                        pps: e.pps,
                        sps: e.sps
                    }), this.gopCache_.length = Math.min(6, this.gopCache_.length), a = [], this.resetStream_(), void this.trigger("done", "VideoSegmentStream");
                    es(e), s = d
                }
                is(e, s), e.samples = function(e, t) {
                    var i, n, r, a, o, s, l = 0,
                        c = [];
                    for (i = 0; i < e.length; i++)
                        for (a = e[i], n = 0; n < a.length; n++) o = a[n], s = void 0, (s = {
                            size: 0,
                            flags: {
                                isLeading: 0,
                                dependsOn: 1,
                                isDependedOn: 0,
                                hasRedundancy: 0,
                                degradationPriority: 0,
                                isNonSyncSample: 1
                            }
                        }).dataOffset = l, s.compositionTimeOffset = o.pts - o.dts, s.duration = o.duration, s.size = 4 * o.length, s.size += o.byteLength, o.keyFrame && (s.flags.dependsOn = 2, s.flags.isNonSyncSample = 0), l += (r = s).size, c.push(r);
                    return c
                }(s), c = No.mdat(function(e) {
                    var t, i, n, r, a, o, s = 0,
                        l = new Uint8Array(e.byteLength + 4 * e.nalCount),
                        c = new DataView(l.buffer);
                    for (t = 0; t < e.length; t++)
                        for (r = e[t], i = 0; i < r.length; i++)
                            for (a = r[i], n = 0; n < a.length; n++) c.setUint32(s, (o = a[n]).data.byteLength), l.set(o.data, s += 4), s += o.data.byteLength;
                    return l
                }(s)), e.baseMediaDecodeTime = ts(e, t.keepOriginalTimestamps), this.trigger("processedGopsInfo", s.map(function(e) {
                    return {
                        pts: e.pts,
                        dts: e.dts,
                        byteLength: e.byteLength
                    }
                })), this.gopCache_.unshift({
                    gop: s.pop(),
                    pps: e.pps,
                    sps: e.sps
                }), this.gopCache_.length = Math.min(6, this.gopCache_.length), a = [], this.trigger("baseMediaDecodeTime", e.baseMediaDecodeTime), this.trigger("timelineStartInfo", e.timelineStartInfo), l = No.moof(r, [e]), u = new Uint8Array(l.byteLength + c.byteLength), r++, u.set(l), u.set(c, l.byteLength), this.trigger("data", {
                    track: e,
                    boxes: u
                }), this.resetStream_(), this.trigger("done", "VideoSegmentStream")
            }, this.resetStream_ = function() {
                es(e), n = i = void 0
            }, this.getGopForFusion_ = function(t) {
                var i, n, r, a, o, s = 1 / 0;
                for (o = 0; o < this.gopCache_.length; o++) r = (a = this.gopCache_[o]).gop, e.pps && Xs(e.pps[0], a.pps[0]) && e.sps && Xs(e.sps[0], a.sps[0]) && (r.dts < e.timelineStartInfo.dts || -1e4 <= (i = t.dts - r.dts - r.duration) && i <= 45e3 && (!n || i < s) && (n = a, s = i));
                return n ? n.gop : null
            }, this.alignGopsAtStart_ = function(e) {
                var t, i, n, r, a, s, l, c;
                for (a = e.byteLength, s = e.nalCount, l = e.duration, t = i = 0; t < o.length && i < e.length && (n = o[t]).pts !== (r = e[i]).pts;) r.pts > n.pts ? t++ : (i++, a -= r.byteLength, s -= r.nalCount, l -= r.duration);
                return 0 === i ? e : i === e.length ? null : ((c = e.slice(i)).byteLength = a, c.duration = l, c.nalCount = s, c.pts = c[0].pts, c.dts = c[0].dts, c)
            }, this.alignGopsAtEnd_ = function(e) {
                var t, i, n, r, a, s, l;
                for (t = o.length - 1, i = e.length - 1, a = null, s = !1; 0 <= t && 0 <= i;) {
                    if ((n = o[t]).pts === (r = e[i]).pts) {
                        s = !0;
                        break
                    }
                    n.pts > r.pts ? t-- : (t === o.length - 1 && (a = i), i--)
                }
                if (!s && null === a) return null;
                if (0 === (l = s ? i : a)) return e;
                var c = e.slice(l),
                    u = c.reduce(function(e, t) {
                        return e.byteLength += t.byteLength, e.duration += t.duration, e.nalCount += t.nalCount, e
                    }, {
                        byteLength: 0,
                        duration: 0,
                        nalCount: 0
                    });
                return c.byteLength = u.byteLength, c.duration = u.duration, c.nalCount = u.nalCount, c.pts = c[0].pts, c.dts = c[0].dts, c
            }, this.alignGopsWith = function(e) {
                o = e
            }
        }).prototype = new Wo, (qs = function(e, t) {
            this.numberOfTracks = 0, this.metadataStream = t, this.remuxTracks = void 0 === (e = e || {}).remux || !!e.remux, "boolean" == typeof e.keepOriginalTimestamps && (this.keepOriginalTimestamps = e.keepOriginalTimestamps), this.pendingTracks = [], this.videoTrack = null, this.pendingBoxes = [], this.pendingCaptions = [], this.pendingMetadata = [], this.pendingBytes = 0, this.emittedTracks = 0, qs.prototype.init.call(this), this.push = function(e) {
                return e.text ? this.pendingCaptions.push(e) : e.frames ? this.pendingMetadata.push(e) : (this.pendingTracks.push(e.track), this.pendingBoxes.push(e.boxes), this.pendingBytes += e.boxes.byteLength, "video" === e.track.type && (this.videoTrack = e.track), void("audio" === e.track.type && (this.audioTrack = e.track)))
            }
        }).prototype = new Wo, qs.prototype.flush = function(e) {
            var t, i, n, r, a = 0,
                o = {
                    captions: [],
                    captionStreams: {},
                    metadata: [],
                    info: {}
                },
                s = 0;
            if (this.pendingTracks.length < this.numberOfTracks) {
                if ("VideoSegmentStream" !== e && "AudioSegmentStream" !== e) return;
                if (this.remuxTracks) return;
                if (0 === this.pendingTracks.length) return this.emittedTracks++, void(this.emittedTracks >= this.numberOfTracks && (this.trigger("done"), this.emittedTracks = 0))
            }
            for (this.videoTrack ? (s = this.videoTrack.timelineStartInfo.pts, Ks.forEach(function(e) {
                    o.info[e] = this.videoTrack[e]
                }, this)) : this.audioTrack && (s = this.audioTrack.timelineStartInfo.pts, Ys.forEach(function(e) {
                    o.info[e] = this.audioTrack[e]
                }, this)), o.type = 1 === this.pendingTracks.length ? this.pendingTracks[0].type : "combined", this.emittedTracks += this.pendingTracks.length, n = No.initSegment(this.pendingTracks), o.initSegment = new Uint8Array(n.byteLength), o.initSegment.set(n), o.data = new Uint8Array(this.pendingBytes), r = 0; r < this.pendingBoxes.length; r++) o.data.set(this.pendingBoxes[r], a), a += this.pendingBoxes[r].byteLength;
            for (r = 0; r < this.pendingCaptions.length; r++)(t = this.pendingCaptions[r]).startTime = t.startPts, this.keepOriginalTimestamps || (t.startTime -= s), t.startTime /= 9e4, t.endTime = t.endPts, this.keepOriginalTimestamps || (t.endTime -= s), t.endTime /= 9e4, o.captionStreams[t.stream] = !0, o.captions.push(t);
            for (r = 0; r < this.pendingMetadata.length; r++)(i = this.pendingMetadata[r]).cueTime = i.pts, this.keepOriginalTimestamps || (i.cueTime -= s), i.cueTime /= 9e4, o.metadata.push(i);
            o.metadata.dispatchType = this.metadataStream.dispatchType, this.pendingTracks.length = 0, this.videoTrack = null, this.pendingBoxes.length = 0, this.pendingCaptions.length = 0, this.pendingBytes = 0, this.pendingMetadata.length = 0, this.trigger("data", o), this.emittedTracks >= this.numberOfTracks && (this.trigger("done"), this.emittedTracks = 0)
        }, (zs = function(e) {
            var t, i, n = this,
                r = !0;
            zs.prototype.init.call(this), this.baseMediaDecodeTime = (e = e || {}).baseMediaDecodeTime || 0, this.transmuxPipeline_ = {}, this.setupAacPipeline = function() {
                var t = {};
                (this.transmuxPipeline_ = t).type = "aac", t.metadataStream = new As.MetadataStream, t.aacStream = new Hs, t.audioTimestampRolloverStream = new As.TimestampRolloverStream("audio"), t.timedMetadataTimestampRolloverStream = new As.TimestampRolloverStream("timed-metadata"), t.adtsStream = new Rs, t.coalesceStream = new qs(e, t.metadataStream), t.headOfPipeline = t.aacStream, t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream), t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream), t.metadataStream.on("timestamp", function(e) {
                    t.aacStream.setTimestamp(e.timeStamp)
                }), t.aacStream.on("data", function(r) {
                    "timed-metadata" !== r.type || t.audioSegmentStream || (i = i || {
                        timelineStartInfo: {
                            baseMediaDecodeTime: n.baseMediaDecodeTime
                        },
                        codec: "adts",
                        type: "audio"
                    }, t.coalesceStream.numberOfTracks++, t.audioSegmentStream = new js(i, e), t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream))
                }), t.coalesceStream.on("data", this.trigger.bind(this, "data")), t.coalesceStream.on("done", this.trigger.bind(this, "done"))
            }, this.setupTsPipeline = function() {
                var r = {};
                (this.transmuxPipeline_ = r).type = "ts", r.metadataStream = new As.MetadataStream, r.packetStream = new As.TransportPacketStream, r.parseStream = new As.TransportParseStream, r.elementaryStream = new As.ElementaryStream, r.videoTimestampRolloverStream = new As.TimestampRolloverStream("video"), r.audioTimestampRolloverStream = new As.TimestampRolloverStream("audio"), r.timedMetadataTimestampRolloverStream = new As.TimestampRolloverStream("timed-metadata"), r.adtsStream = new Rs, r.h264Stream = new Gs, r.captionStream = new As.CaptionStream, r.coalesceStream = new qs(e, r.metadataStream), r.headOfPipeline = r.packetStream, r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream), r.elementaryStream.pipe(r.videoTimestampRolloverStream).pipe(r.h264Stream), r.elementaryStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream), r.elementaryStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream), r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream), r.elementaryStream.on("data", function(a) {
                    var o;
                    if ("metadata" === a.type) {
                        for (o = a.tracks.length; o--;) t || "video" !== a.tracks[o].type ? i || "audio" !== a.tracks[o].type || ((i = a.tracks[o]).timelineStartInfo.baseMediaDecodeTime = n.baseMediaDecodeTime) : (t = a.tracks[o]).timelineStartInfo.baseMediaDecodeTime = n.baseMediaDecodeTime;
                        t && !r.videoSegmentStream && (r.coalesceStream.numberOfTracks++, r.videoSegmentStream = new Vs(t, e), r.videoSegmentStream.on("timelineStartInfo", function(e) {
                            i && (i.timelineStartInfo = e, r.audioSegmentStream.setEarliestDts(e.dts))
                        }), r.videoSegmentStream.on("processedGopsInfo", n.trigger.bind(n, "gopInfo")), r.videoSegmentStream.on("baseMediaDecodeTime", function(e) {
                            i && r.audioSegmentStream.setVideoBaseMediaDecodeTime(e)
                        }), r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)), i && !r.audioSegmentStream && (r.coalesceStream.numberOfTracks++, r.audioSegmentStream = new js(i, e), r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream))
                    }
                }), r.coalesceStream.on("data", this.trigger.bind(this, "data")), r.coalesceStream.on("done", this.trigger.bind(this, "done"))
            }, this.setBaseMediaDecodeTime = function(n) {
                var r = this.transmuxPipeline_;
                e.keepOriginalTimestamps || (this.baseMediaDecodeTime = n), i && (i.timelineStartInfo.dts = void 0, i.timelineStartInfo.pts = void 0, es(i), e.keepOriginalTimestamps || (i.timelineStartInfo.baseMediaDecodeTime = n), r.audioTimestampRolloverStream && r.audioTimestampRolloverStream.discontinuity()), t && (r.videoSegmentStream && (r.videoSegmentStream.gopCache_ = [], r.videoTimestampRolloverStream.discontinuity()), t.timelineStartInfo.dts = void 0, t.timelineStartInfo.pts = void 0, es(t), r.captionStream.reset(), e.keepOriginalTimestamps || (t.timelineStartInfo.baseMediaDecodeTime = n)), r.timedMetadataTimestampRolloverStream && r.timedMetadataTimestampRolloverStream.discontinuity()
            }, this.setAudioAppendStart = function(e) {
                i && this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)
            }, this.alignGopsWith = function(e) {
                t && this.transmuxPipeline_.videoSegmentStream && this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)
            }, this.push = function(e) {
                if (r) {
                    var t = Ws(e);
                    t && "aac" !== this.transmuxPipeline_.type ? this.setupAacPipeline() : t || "ts" === this.transmuxPipeline_.type || this.setupTsPipeline(), r = !1
                }
                this.transmuxPipeline_.headOfPipeline.push(e)
            }, this.flush = function() {
                r = !0, this.transmuxPipeline_.headOfPipeline.flush()
            }, this.resetCaptions = function() {
                this.transmuxPipeline_.captionStream && this.transmuxPipeline_.captionStream.reset()
            }
        }).prototype = new Wo;
        var Js, $s, Qs = Mo.parseType,
            Zs = function(e) {
                return new Date(1e3 * e - 20828448e5)
            },
            el = function(e) {
                return {
                    isLeading: (12 & e[0]) >>> 2,
                    dependsOn: 3 & e[0],
                    isDependedOn: (192 & e[1]) >>> 6,
                    hasRedundancy: (48 & e[1]) >>> 4,
                    paddingValue: (14 & e[1]) >>> 1,
                    isNonSyncSample: 1 & e[1],
                    degradationPriority: e[2] << 8 | e[3]
                }
            },
            tl = {
                avc1: function(e) {
                    var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                    return {
                        dataReferenceIndex: t.getUint16(6),
                        width: t.getUint16(24),
                        height: t.getUint16(26),
                        horizresolution: t.getUint16(28) + t.getUint16(30) / 16,
                        vertresolution: t.getUint16(32) + t.getUint16(34) / 16,
                        frameCount: t.getUint16(40),
                        depth: t.getUint16(74),
                        config: Js(e.subarray(78, e.byteLength))
                    }
                },
                avcC: function(e) {
                    var t, i, n, r, a = new DataView(e.buffer, e.byteOffset, e.byteLength),
                        o = {
                            configurationVersion: e[0],
                            avcProfileIndication: e[1],
                            profileCompatibility: e[2],
                            avcLevelIndication: e[3],
                            lengthSizeMinusOne: 3 & e[4],
                            sps: [],
                            pps: []
                        },
                        s = 31 & e[5];
                    for (n = 6, r = 0; r < s; r++) i = a.getUint16(n), n += 2, o.sps.push(new Uint8Array(e.subarray(n, n + i))), n += i;
                    for (t = e[n], n++, r = 0; r < t; r++) i = a.getUint16(n), n += 2, o.pps.push(new Uint8Array(e.subarray(n, n + i))), n += i;
                    return o
                },
                btrt: function(e) {
                    var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                    return {
                        bufferSizeDB: t.getUint32(0),
                        maxBitrate: t.getUint32(4),
                        avgBitrate: t.getUint32(8)
                    }
                },
                esds: function(e) {
                    return {
                        version: e[0],
                        flags: new Uint8Array(e.subarray(1, 4)),
                        esId: e[6] << 8 | e[7],
                        streamPriority: 31 & e[8],
                        decoderConfig: {
                            objectProfileIndication: e[11],
                            streamType: e[12] >>> 2 & 63,
                            bufferSize: e[13] << 16 | e[14] << 8 | e[15],
                            maxBitrate: e[16] << 24 | e[17] << 16 | e[18] << 8 | e[19],
                            avgBitrate: e[20] << 24 | e[21] << 16 | e[22] << 8 | e[23],
                            decoderConfigDescriptor: {
                                tag: e[24],
                                length: e[25],
                                audioObjectType: e[26] >>> 3 & 31,
                                samplingFrequencyIndex: (7 & e[26]) << 1 | e[27] >>> 7 & 1,
                                channelConfiguration: e[27] >>> 3 & 15
                            }
                        }
                    }
                },
                ftyp: function(e) {
                    for (var t = new DataView(e.buffer, e.byteOffset, e.byteLength), i = {
                            majorBrand: Qs(e.subarray(0, 4)),
                            minorVersion: t.getUint32(4),
                            compatibleBrands: []
                        }, n = 8; n < e.byteLength;) i.compatibleBrands.push(Qs(e.subarray(n, n + 4))), n += 4;
                    return i
                },
                dinf: function(e) {
                    return {
                        boxes: Js(e)
                    }
                },
                dref: function(e) {
                    return {
                        version: e[0],
                        flags: new Uint8Array(e.subarray(1, 4)),
                        dataReferences: Js(e.subarray(8))
                    }
                },
                hdlr: function(e) {
                    var t = {
                            version: new DataView(e.buffer, e.byteOffset, e.byteLength).getUint8(0),
                            flags: new Uint8Array(e.subarray(1, 4)),
                            handlerType: Qs(e.subarray(8, 12)),
                            name: ""
                        },
                        i = 8;
                    for (i = 24; i < e.byteLength; i++) {
                        if (0 === e[i]) {
                            i++;
                            break
                        }
                        t.name += String.fromCharCode(e[i])
                    }
                    return t.name = decodeURIComponent(escape(t.name)), t
                },
                mdat: function(e) {
                    return {
                        byteLength: e.byteLength,
                        nals: function(e) {
                            var t, i, n = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                r = [];
                            for (t = 0; t + 4 < e.length; t += i)
                                if (i = n.getUint32(t), t += 4, i <= 0) r.push("<span style='color:red;'>MALFORMED DATA</span>");
                                else switch (31 & e[t]) {
                                    case 1:
                                        r.push("slice_layer_without_partitioning_rbsp");
                                        break;
                                    case 5:
                                        r.push("slice_layer_without_partitioning_rbsp_idr");
                                        break;
                                    case 6:
                                        r.push("sei_rbsp");
                                        break;
                                    case 7:
                                        r.push("seq_parameter_set_rbsp");
                                        break;
                                    case 8:
                                        r.push("pic_parameter_set_rbsp");
                                        break;
                                    case 9:
                                        r.push("access_unit_delimiter_rbsp");
                                        break;
                                    default:
                                        r.push("UNKNOWN NAL - " + e[t] & 31)
                                }
                            return r
                        }(e)
                    }
                },
                mdhd: function(e) {
                    var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                        n = 4,
                        r = {
                            version: i.getUint8(0),
                            flags: new Uint8Array(e.subarray(1, 4)),
                            language: ""
                        };
                    return 1 === r.version ? (r.creationTime = Zs(i.getUint32(n += 4)), r.modificationTime = Zs(i.getUint32(n += 8)), r.timescale = i.getUint32(n += 4), n += 8) : (r.creationTime = Zs(i.getUint32(n)), r.modificationTime = Zs(i.getUint32(n += 4)), r.timescale = i.getUint32(n += 4), n += 4), r.duration = i.getUint32(n), t = i.getUint16(n += 4), r.language += String.fromCharCode(96 + (t >> 10)), r.language += String.fromCharCode(96 + ((992 & t) >> 5)), r.language += String.fromCharCode(96 + (31 & t)), r
                },
                mdia: function(e) {
                    return {
                        boxes: Js(e)
                    }
                },
                mfhd: function(e) {
                    return {
                        version: e[0],
                        flags: new Uint8Array(e.subarray(1, 4)),
                        sequenceNumber: e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7]
                    }
                },
                minf: function(e) {
                    return {
                        boxes: Js(e)
                    }
                },
                mp4a: function(e) {
                    var t = new DataView(e.buffer, e.byteOffset, e.byteLength),
                        i = {
                            dataReferenceIndex: t.getUint16(6),
                            channelcount: t.getUint16(16),
                            samplesize: t.getUint16(18),
                            samplerate: t.getUint16(24) + t.getUint16(26) / 65536
                        };
                    return 28 < e.byteLength && (i.streamDescriptor = Js(e.subarray(28))[0]), i
                },
                moof: function(e) {
                    return {
                        boxes: Js(e)
                    }
                },
                moov: function(e) {
                    return {
                        boxes: Js(e)
                    }
                },
                mvex: function(e) {
                    return {
                        boxes: Js(e)
                    }
                },
                mvhd: function(e) {
                    var t = new DataView(e.buffer, e.byteOffset, e.byteLength),
                        i = 4,
                        n = {
                            version: t.getUint8(0),
                            flags: new Uint8Array(e.subarray(1, 4))
                        };
                    return 1 === n.version ? (n.creationTime = Zs(t.getUint32(i += 4)), n.modificationTime = Zs(t.getUint32(i += 8)), n.timescale = t.getUint32(i += 4), i += 8) : (n.creationTime = Zs(t.getUint32(i)), n.modificationTime = Zs(t.getUint32(i += 4)), n.timescale = t.getUint32(i += 4), i += 4), n.duration = t.getUint32(i), n.rate = t.getUint16(i += 4) + t.getUint16(i + 2) / 16, n.volume = t.getUint8(i += 4) + t.getUint8(i + 1) / 8, i += 2, i += 2, i += 8, n.matrix = new Uint32Array(e.subarray(i, i + 36)), i += 36, n.nextTrackId = t.getUint32(i += 24), n
                },
                pdin: function(e) {
                    var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                    return {
                        version: t.getUint8(0),
                        flags: new Uint8Array(e.subarray(1, 4)),
                        rate: t.getUint32(4),
                        initialDelay: t.getUint32(8)
                    }
                },
                sdtp: function(e) {
                    var t, i = {
                        version: e[0],
                        flags: new Uint8Array(e.subarray(1, 4)),
                        samples: []
                    };
                    for (t = 4; t < e.byteLength; t++) i.samples.push({
                        dependsOn: (48 & e[t]) >> 4,
                        isDependedOn: (12 & e[t]) >> 2,
                        hasRedundancy: 3 & e[t]
                    });
                    return i
                },
                sidx: function(e) {
                    var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                        n = {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            references: [],
                            referenceId: i.getUint32(4),
                            timescale: i.getUint32(8),
                            earliestPresentationTime: i.getUint32(12),
                            firstOffset: i.getUint32(16)
                        },
                        r = i.getUint16(22);
                    for (t = 24; r; t += 12, r--) n.references.push({
                        referenceType: (128 & e[t]) >>> 7,
                        referencedSize: 2147483647 & i.getUint32(t),
                        subsegmentDuration: i.getUint32(t + 4),
                        startsWithSap: !!(128 & e[t + 8]),
                        sapType: (112 & e[t + 8]) >>> 4,
                        sapDeltaTime: 268435455 & i.getUint32(t + 8)
                    });
                    return n
                },
                smhd: function(e) {
                    return {
                        version: e[0],
                        flags: new Uint8Array(e.subarray(1, 4)),
                        balance: e[4] + e[5] / 256
                    }
                },
                stbl: function(e) {
                    return {
                        boxes: Js(e)
                    }
                },
                stco: function(e) {
                    var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                        n = {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            chunkOffsets: []
                        },
                        r = i.getUint32(4);
                    for (t = 8; r; t += 4, r--) n.chunkOffsets.push(i.getUint32(t));
                    return n
                },
                stsc: function(e) {
                    var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                        n = i.getUint32(4),
                        r = {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            sampleToChunks: []
                        };
                    for (t = 8; n; t += 12, n--) r.sampleToChunks.push({
                        firstChunk: i.getUint32(t),
                        samplesPerChunk: i.getUint32(t + 4),
                        sampleDescriptionIndex: i.getUint32(t + 8)
                    });
                    return r
                },
                stsd: function(e) {
                    return {
                        version: e[0],
                        flags: new Uint8Array(e.subarray(1, 4)),
                        sampleDescriptions: Js(e.subarray(8))
                    }
                },
                stsz: function(e) {
                    var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                        n = {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            sampleSize: i.getUint32(4),
                            entries: []
                        };
                    for (t = 12; t < e.byteLength; t += 4) n.entries.push(i.getUint32(t));
                    return n
                },
                stts: function(e) {
                    var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                        n = {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            timeToSamples: []
                        },
                        r = i.getUint32(4);
                    for (t = 8; r; t += 8, r--) n.timeToSamples.push({
                        sampleCount: i.getUint32(t),
                        sampleDelta: i.getUint32(t + 4)
                    });
                    return n
                },
                styp: function(e) {
                    return tl.ftyp(e)
                },
                tfdt: function(e) {
                    var t = {
                        version: e[0],
                        flags: new Uint8Array(e.subarray(1, 4)),
                        baseMediaDecodeTime: e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7]
                    };
                    return 1 === t.version && (t.baseMediaDecodeTime *= Math.pow(2, 32), t.baseMediaDecodeTime += e[8] << 24 | e[9] << 16 | e[10] << 8 | e[11]), t
                },
                tfhd: function(e) {
                    var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                        n = {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            trackId: i.getUint32(4)
                        },
                        r = 1 & n.flags[2],
                        a = 2 & n.flags[2],
                        o = 8 & n.flags[2],
                        s = 16 & n.flags[2],
                        l = 32 & n.flags[2],
                        c = 65536 & n.flags[0],
                        u = 131072 & n.flags[0];
                    return t = 8, r && (t += 4, n.baseDataOffset = i.getUint32(12), t += 4), a && (n.sampleDescriptionIndex = i.getUint32(t), t += 4), o && (n.defaultSampleDuration = i.getUint32(t), t += 4), s && (n.defaultSampleSize = i.getUint32(t), t += 4), l && (n.defaultSampleFlags = i.getUint32(t)), c && (n.durationIsEmpty = !0), !r && u && (n.baseDataOffsetIsMoof = !0), n
                },
                tkhd: function(e) {
                    var t = new DataView(e.buffer, e.byteOffset, e.byteLength),
                        i = 4,
                        n = {
                            version: t.getUint8(0),
                            flags: new Uint8Array(e.subarray(1, 4))
                        };
                    return 1 === n.version ? (n.creationTime = Zs(t.getUint32(i += 4)), n.modificationTime = Zs(t.getUint32(i += 8)), n.trackId = t.getUint32(i += 4), i += 4, i += 8) : (n.creationTime = Zs(t.getUint32(i)), n.modificationTime = Zs(t.getUint32(i += 4)), n.trackId = t.getUint32(i += 4), i += 4, i += 4), n.duration = t.getUint32(i), i += 4, n.layer = t.getUint16(i += 8), n.alternateGroup = t.getUint16(i += 2), n.volume = t.getUint8(i += 2) + t.getUint8(i + 1) / 8, i += 2, i += 2, n.matrix = new Uint32Array(e.subarray(i, i + 36)), n.width = t.getUint16(i += 36) + t.getUint16(i + 2) / 16, n.height = t.getUint16(i += 4) + t.getUint16(i + 2) / 16, n
                },
                traf: function(e) {
                    return {
                        boxes: Js(e)
                    }
                },
                trak: function(e) {
                    return {
                        boxes: Js(e)
                    }
                },
                trex: function(e) {
                    var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                    return {
                        version: e[0],
                        flags: new Uint8Array(e.subarray(1, 4)),
                        trackId: t.getUint32(4),
                        defaultSampleDescriptionIndex: t.getUint32(8),
                        defaultSampleDuration: t.getUint32(12),
                        defaultSampleSize: t.getUint32(16),
                        sampleDependsOn: 3 & e[20],
                        sampleIsDependedOn: (192 & e[21]) >> 6,
                        sampleHasRedundancy: (48 & e[21]) >> 4,
                        samplePaddingValue: (14 & e[21]) >> 1,
                        sampleIsDifferenceSample: !!(1 & e[21]),
                        sampleDegradationPriority: t.getUint16(22)
                    }
                },
                trun: function(e) {
                    var t, i = {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            samples: []
                        },
                        n = new DataView(e.buffer, e.byteOffset, e.byteLength),
                        r = 1 & i.flags[2],
                        a = 4 & i.flags[2],
                        o = 1 & i.flags[1],
                        s = 2 & i.flags[1],
                        l = 4 & i.flags[1],
                        c = 8 & i.flags[1],
                        u = n.getUint32(4),
                        d = 8;
                    for (r && (i.dataOffset = n.getInt32(d), d += 4), a && u && (t = {
                            flags: el(e.subarray(d, d + 4))
                        }, d += 4, o && (t.duration = n.getUint32(d), d += 4), s && (t.size = n.getUint32(d), d += 4), c && (t.compositionTimeOffset = n.getUint32(d), d += 4), i.samples.push(t), u--); u--;) t = {}, o && (t.duration = n.getUint32(d), d += 4), s && (t.size = n.getUint32(d), d += 4), l && (t.flags = el(e.subarray(d, d + 4)), d += 4), c && (t.compositionTimeOffset = n.getUint32(d), d += 4), i.samples.push(t);
                    return i
                },
                "url ": function(e) {
                    return {
                        version: e[0],
                        flags: new Uint8Array(e.subarray(1, 4))
                    }
                },
                vmhd: function(e) {
                    var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                    return {
                        version: e[0],
                        flags: new Uint8Array(e.subarray(1, 4)),
                        graphicsmode: t.getUint16(4),
                        opcolor: new Uint16Array([t.getUint16(6), t.getUint16(8), t.getUint16(10)])
                    }
                }
            },
            il = {
                inspect: Js = function(e) {
                    for (var t, i, n, r, a, o = 0, s = [], l = new ArrayBuffer(e.length), c = new Uint8Array(l), u = 0; u < e.length; ++u) c[u] = e[u];
                    for (t = new DataView(l); o < e.byteLength;) i = t.getUint32(o), n = Qs(e.subarray(o + 4, o + 8)), (a = (tl[n] || function(e) {
                        return {
                            data: e
                        }
                    })(e.subarray(o + 8, r = 1 < i ? o + i : e.byteLength))).size = i, a.type = n, s.push(a), o = r;
                    return s
                },
                textify: $s = function(e, t) {
                    var i;
                    return t = t || 0, i = new Array(2 * t + 1).join(" "), e.map(function(e, n) {
                        return i + e.type + "\n" + Object.keys(e).filter(function(e) {
                            return "type" !== e && "boxes" !== e
                        }).map(function(t) {
                            var n = i + "  " + t + ": ",
                                r = e[t];
                            if (r instanceof Uint8Array || r instanceof Uint32Array) {
                                var a = Array.prototype.slice.call(new Uint8Array(r.buffer, r.byteOffset, r.byteLength)).map(function(e) {
                                    return " " + ("00" + e.toString(16)).slice(-2)
                                }).join("").match(/.{1,24}/g);
                                return a ? 1 === a.length ? n + "<" + a.join("").slice(1) + ">" : n + "<\n" + a.map(function(e) {
                                    return i + "  " + e
                                }).join("\n") + "\n" + i + "  >" : n + "<>"
                            }
                            return n + JSON.stringify(r, null, 2).split("\n").map(function(e, t) {
                                return 0 === t ? e : i + "  " + e
                            }).join("\n")
                        }).join("\n") + (e.boxes ? "\n" + $s(e.boxes, t + 1) : "")
                    }).join("\n")
                },
                parseTfdt: tl.tfdt,
                parseHdlr: tl.hdlr,
                parseTfhd: tl.tfhd,
                parseTrun: tl.trun
            },
            nl = function(e) {
                for (var t, i, n = e.byteLength, r = [], a = 1; a < n - 2;) 0 === e[a] && 0 === e[a + 1] && 3 === e[a + 2] ? (r.push(a + 2), a += 2) : a++;
                if (0 === r.length) return e;
                t = n - r.length, i = new Uint8Array(t);
                var o = 0;
                for (a = 0; a < t; o++, a++) o === r[0] && (o++, r.shift()), i[a] = e[o];
                return i
            },
            rl = cs.CaptionStream,
            al = function(e, t) {
                for (var i = e, n = 0; n < t.length; n++) {
                    var r = t[n];
                    if (i < r.size) return r;
                    i -= r.size
                }
                return null
            },
            ol = function(e, t) {
                var i = Mo.findBox(e, ["moof", "traf"]),
                    n = Mo.findBox(e, ["mdat"]),
                    r = {},
                    a = [];
                return n.forEach(function(e, t) {
                    a.push({
                        mdat: e,
                        traf: i[t]
                    })
                }), a.forEach(function(e) {
                    var i, n, a, o, s, l, c, u = e.mdat,
                        d = e.traf,
                        h = Mo.findBox(d, ["tfhd"]),
                        p = il.parseTfhd(h[0]),
                        f = p.trackId,
                        m = Mo.findBox(d, ["tfdt"]),
                        g = 0 < m.length ? il.parseTfdt(m[0]).baseMediaDecodeTime : 0,
                        y = Mo.findBox(d, ["trun"]);
                    t === f && 0 < y.length && (a = g, o = (n = p).defaultSampleDuration || 0, s = n.defaultSampleSize || 0, l = n.trackId, c = [], y.forEach(function(e) {
                        var t = il.parseTrun(e).samples;
                        t.forEach(function(e) {
                            void 0 === e.duration && (e.duration = o), void 0 === e.size && (e.size = s), e.trackId = l, e.dts = a, void 0 === e.compositionTimeOffset && (e.compositionTimeOffset = 0), e.pts = a + e.compositionTimeOffset, a += e.duration
                        }), c = c.concat(t)
                    }), i = function(e, t, i) {
                        var n, r, a, o, s = new DataView(e.buffer, e.byteOffset, e.byteLength),
                            l = [];
                        for (r = 0; r + 4 < e.length; r += a)
                            if (a = s.getUint32(r), r += 4, !(a <= 0)) switch (31 & e[r]) {
                                case 6:
                                    var c = e.subarray(r + 1, r + 1 + a),
                                        u = al(r, t);
                                    n = {
                                        nalUnitType: "sei_rbsp",
                                        size: a,
                                        data: c,
                                        escapedRBSP: nl(c),
                                        trackId: i
                                    }, u ? (n.pts = u.pts, n.dts = u.dts, o = u) : (n.pts = o.pts, n.dts = o.dts), l.push(n)
                            }
                        return l
                    }(u, c, f), r[f] || (r[f] = []), r[f] = r[f].concat(i))
                }), r
            },
            sl = {
                generator: No,
                probe: Mo,
                Transmuxer: zs,
                AudioSegmentStream: js,
                VideoSegmentStream: Vs,
                CaptionParser: function() {
                    var e, t, i, n, r, a = !1;
                    this.isInitialized = function() {
                        return a
                    }, this.init = function() {
                        e = new rl, a = !0, e.on("data", function(e) {
                            e.startTime = e.startPts / n, e.endTime = e.endPts / n, r.captions.push(e), r.captionStreams[e.stream] = !0
                        })
                    }, this.isNewInit = function(e, t) {
                        return !(e && 0 === e.length || t && "object" == typeof t && 0 === Object.keys(t).length || i === e[0] && n === t[i])
                    }, this.parse = function(e, a, o) {
                        var s, l, c;
                        if (!this.isInitialized()) return null;
                        if (!a || !o) return null;
                        if (this.isNewInit(a, o)) n = o[i = a[0]];
                        else if (!i || !n) return t.push(e), null;
                        for (; 0 < t.length;) {
                            var u = t.shift();
                            this.parse(u, a, o)
                        }
                        return c = n, null !== (s = (l = i) ? {
                            seiNals: ol(e, l)[l],
                            timescale: c
                        } : null) && s.seiNals ? (this.pushNals(s.seiNals), this.flushStream(), r) : null
                    }, this.pushNals = function(t) {
                        if (!this.isInitialized() || !t || 0 === t.length) return null;
                        t.forEach(function(t) {
                            e.push(t)
                        })
                    }, this.flushStream = function() {
                        if (!this.isInitialized()) return null;
                        e.flush()
                    }, this.clearParsedCaptions = function() {
                        r.captions = [], r.captionStreams = {}
                    }, this.resetCaptionStream = function() {
                        if (!this.isInitialized()) return null;
                        e.reset()
                    }, this.clearAllCaptions = function() {
                        this.clearParsedCaptions(), this.resetCaptionStream()
                    }, this.reset = function() {
                        t = [], n = i = null, r ? this.clearParsedCaptions() : r = {
                            captions: [],
                            captionStreams: {}
                        }, this.resetCaptionStream()
                    }, this.reset()
                }
            }.CaptionParser,
            ll = function(e) {
                var t = 31 & e[1];
                return (t <<= 8) | e[2]
            },
            cl = function(e) {
                return !!(64 & e[1])
            },
            ul = function(e) {
                var t = 0;
                return 1 < (48 & e[3]) >>> 4 && (t += e[4] + 1), t
            },
            dl = function(e) {
                switch (e) {
                    case 5:
                        return "slice_layer_without_partitioning_rbsp_idr";
                    case 6:
                        return "sei_rbsp";
                    case 7:
                        return "seq_parameter_set_rbsp";
                    case 8:
                        return "pic_parameter_set_rbsp";
                    case 9:
                        return "access_unit_delimiter_rbsp";
                    default:
                        return null
                }
            },
            hl = ms,
            pl = {};
        pl.ts = {
            parseType: function(e, t) {
                var i = ll(e);
                return 0 === i ? "pat" : i === t ? "pmt" : t ? "pes" : null
            },
            parsePat: function(e) {
                var t = cl(e),
                    i = 4 + ul(e);
                return t && (i += e[i] + 1), (31 & e[i + 10]) << 8 | e[i + 11]
            },
            parsePmt: function(e) {
                var t = {},
                    i = cl(e),
                    n = 4 + ul(e);
                if (i && (n += e[n] + 1), 1 & e[n + 5]) {
                    var r;
                    r = 3 + ((15 & e[n + 1]) << 8 | e[n + 2]) - 4;
                    for (var a = 12 + ((15 & e[n + 10]) << 8 | e[n + 11]); a < r;) {
                        var o = n + a;
                        t[(31 & e[o + 1]) << 8 | e[o + 2]] = e[o], a += 5 + ((15 & e[o + 3]) << 8 | e[o + 4])
                    }
                    return t
                }
            },
            parsePayloadUnitStartIndicator: cl,
            parsePesType: function(e, t) {
                switch (t[ll(e)]) {
                    case us.H264_STREAM_TYPE:
                        return "video";
                    case us.ADTS_STREAM_TYPE:
                        return "audio";
                    case us.METADATA_STREAM_TYPE:
                        return "timed-metadata";
                    default:
                        return null
                }
            },
            parsePesTime: function(e) {
                if (!cl(e)) return null;
                var t = 4 + ul(e);
                if (t >= e.byteLength) return null;
                var i, n = null;
                return 192 & (i = e[t + 7]) && ((n = {}).pts = (14 & e[t + 9]) << 27 | (255 & e[t + 10]) << 20 | (254 & e[t + 11]) << 12 | (255 & e[t + 12]) << 5 | (254 & e[t + 13]) >>> 3, n.pts *= 4, n.pts += (6 & e[t + 13]) >>> 1, n.dts = n.pts, 64 & i && (n.dts = (14 & e[t + 14]) << 27 | (255 & e[t + 15]) << 20 | (254 & e[t + 16]) << 12 | (255 & e[t + 17]) << 5 | (254 & e[t + 18]) >>> 3, n.dts *= 4, n.dts += (6 & e[t + 18]) >>> 1)), n
            },
            videoPacketContainsKeyFrame: function(e) {
                for (var t = 4 + ul(e), i = e.subarray(t), n = 0, r = 0, a = !1; r < i.byteLength - 3; r++)
                    if (1 === i[r + 2]) {
                        n = r + 5;
                        break
                    } for (; n < i.byteLength;) switch (i[n]) {
                    case 0:
                        if (0 !== i[n - 1]) {
                            n += 2;
                            break
                        }
                        if (0 !== i[n - 2]) {
                            n++;
                            break
                        }
                        for (r + 3 !== n - 2 && "slice_layer_without_partitioning_rbsp_idr" === dl(31 & i[r + 3]) && (a = !0); 1 !== i[++n] && n < i.length;);
                        r = n - 2, n += 3;
                        break;
                    case 1:
                        if (0 !== i[n - 1] || 0 !== i[n - 2]) {
                            n += 3;
                            break
                        }
                        "slice_layer_without_partitioning_rbsp_idr" === dl(31 & i[r + 3]) && (a = !0), r = n - 2, n += 3;
                        break;
                    default:
                        n += 3
                }
                return i = i.subarray(r), n -= r, r = 0, i && 3 < i.byteLength && "slice_layer_without_partitioning_rbsp_idr" === dl(31 & i[r + 3]) && (a = !0), a
            }
        }, pl.aac = Bs;
        var fl = 188,
            ml = function(e, t, i) {
                for (var n, r, a, o, s = 0, l = fl, c = !1; l <= e.byteLength;)
                    if (71 !== e[s] || 71 !== e[l] && l !== e.byteLength) s++, l++;
                    else {
                        switch (n = e.subarray(s, l), pl.ts.parseType(n, t.pid)) {
                            case "pes":
                                r = pl.ts.parsePesType(n, t.table), a = pl.ts.parsePayloadUnitStartIndicator(n), "audio" === r && a && (o = pl.ts.parsePesTime(n)) && (o.type = "audio", i.audio.push(o), c = !0)
                        }
                        if (c) break;
                        s += fl, l += fl
                    } for (s = (l = e.byteLength) - fl, c = !1; 0 <= s;)
                    if (71 !== e[s] || 71 !== e[l] && l !== e.byteLength) s--, l--;
                    else {
                        switch (n = e.subarray(s, l), pl.ts.parseType(n, t.pid)) {
                            case "pes":
                                r = pl.ts.parsePesType(n, t.table), a = pl.ts.parsePayloadUnitStartIndicator(n), "audio" === r && a && (o = pl.ts.parsePesTime(n)) && (o.type = "audio", i.audio.push(o), c = !0)
                        }
                        if (c) break;
                        s -= fl, l -= fl
                    }
            },
            gl = function(e, t, i) {
                for (var n, r, a, o, s, l, c, u = 0, d = fl, h = !1, p = {
                        data: [],
                        size: 0
                    }; d < e.byteLength;)
                    if (71 !== e[u] || 71 !== e[d]) u++, d++;
                    else {
                        switch (n = e.subarray(u, d), pl.ts.parseType(n, t.pid)) {
                            case "pes":
                                if (r = pl.ts.parsePesType(n, t.table), a = pl.ts.parsePayloadUnitStartIndicator(n), "video" === r && (a && !h && (o = pl.ts.parsePesTime(n)) && (o.type = "video", i.video.push(o), h = !0), !i.firstKeyFrame)) {
                                    if (a && 0 !== p.size) {
                                        for (s = new Uint8Array(p.size), l = 0; p.data.length;) c = p.data.shift(), s.set(c, l), l += c.byteLength;
                                        pl.ts.videoPacketContainsKeyFrame(s) && (i.firstKeyFrame = pl.ts.parsePesTime(s), i.firstKeyFrame.type = "video"), p.size = 0
                                    }
                                    p.data.push(n), p.size += n.byteLength
                                }
                        }
                        if (h && i.firstKeyFrame) break;
                        u += fl, d += fl
                    } for (u = (d = e.byteLength) - fl, h = !1; 0 <= u;)
                    if (71 !== e[u] || 71 !== e[d]) u--, d--;
                    else {
                        switch (n = e.subarray(u, d), pl.ts.parseType(n, t.pid)) {
                            case "pes":
                                r = pl.ts.parsePesType(n, t.table), a = pl.ts.parsePayloadUnitStartIndicator(n), "video" === r && a && (o = pl.ts.parsePesTime(n)) && (o.type = "video", i.video.push(o), h = !0)
                        }
                        if (h) break;
                        u -= fl, d -= fl
                    }
            },
            yl = function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            },
            vl = function() {
                function e(e, t) {
                    for (var i = 0; i < t.length; i++) {
                        var n = t[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
                    }
                }
                return function(t, i, n) {
                    return i && e(t.prototype, i), n && e(t, n), t
                }
            }(),
            bl = null,
            _l = function() {
                function e(t) {
                    yl(this, e), bl || (bl = function() {
                        var e = [
                                [
                                    [],
                                    [],
                                    [],
                                    [],
                                    []
                                ],
                                [
                                    [],
                                    [],
                                    [],
                                    [],
                                    []
                                ]
                            ],
                            t = e[0],
                            i = e[1],
                            n = t[4],
                            r = i[4],
                            a = void 0,
                            o = void 0,
                            s = void 0,
                            l = [],
                            c = [],
                            u = void 0,
                            d = void 0,
                            h = void 0,
                            p = void 0,
                            f = void 0;
                        for (a = 0; a < 256; a++) c[(l[a] = a << 1 ^ 283 * (a >> 7)) ^ a] = a;
                        for (o = s = 0; !n[o]; o ^= u || 1, s = c[s] || 1)
                            for (h = (h = s ^ s << 1 ^ s << 2 ^ s << 3 ^ s << 4) >> 8 ^ 255 & h ^ 99, f = 16843009 * l[d = l[u = l[r[n[o] = h] = o]]] ^ 65537 * d ^ 257 * u ^ 16843008 * o, p = 257 * l[h] ^ 16843008 * h, a = 0; a < 4; a++) t[a][o] = p = p << 24 ^ p >>> 8, i[a][h] = f = f << 24 ^ f >>> 8;
                        for (a = 0; a < 5; a++) t[a] = t[a].slice(0), i[a] = i[a].slice(0);
                        return e
                    }()), this._tables = [
                        [bl[0][0].slice(), bl[0][1].slice(), bl[0][2].slice(), bl[0][3].slice(), bl[0][4].slice()],
                        [bl[1][0].slice(), bl[1][1].slice(), bl[1][2].slice(), bl[1][3].slice(), bl[1][4].slice()]
                    ];
                    var i = void 0,
                        n = void 0,
                        r = void 0,
                        a = void 0,
                        o = void 0,
                        s = this._tables[0][4],
                        l = this._tables[1],
                        c = t.length,
                        u = 1;
                    if (4 !== c && 6 !== c && 8 !== c) throw new Error("Invalid aes key size");
                    for (a = t.slice(0), this._key = [a, o = []], i = c; i < 4 * c + 28; i++) r = a[i - 1], (i % c == 0 || 8 === c && i % c == 4) && (r = s[r >>> 24] << 24 ^ s[r >> 16 & 255] << 16 ^ s[r >> 8 & 255] << 8 ^ s[255 & r], i % c == 0 && (r = r << 8 ^ r >>> 24 ^ u << 24, u = u << 1 ^ 283 * (u >> 7))), a[i] = a[i - c] ^ r;
                    for (n = 0; i; n++, i--) r = a[3 & n ? i : i - 4], o[n] = i <= 4 || n < 4 ? r : l[0][s[r >>> 24]] ^ l[1][s[r >> 16 & 255]] ^ l[2][s[r >> 8 & 255]] ^ l[3][s[255 & r]]
                }
                return e.prototype.decrypt = function(e, t, i, n, r, a) {
                    var o = this._key[1],
                        s = e ^ o[0],
                        l = n ^ o[1],
                        c = i ^ o[2],
                        u = t ^ o[3],
                        d = void 0,
                        h = void 0,
                        p = void 0,
                        f = o.length / 4 - 2,
                        m = void 0,
                        g = 4,
                        y = this._tables[1],
                        v = y[0],
                        b = y[1],
                        _ = y[2],
                        T = y[3],
                        S = y[4];
                    for (m = 0; m < f; m++) d = v[s >>> 24] ^ b[l >> 16 & 255] ^ _[c >> 8 & 255] ^ T[255 & u] ^ o[g], h = v[l >>> 24] ^ b[c >> 16 & 255] ^ _[u >> 8 & 255] ^ T[255 & s] ^ o[g + 1], p = v[c >>> 24] ^ b[u >> 16 & 255] ^ _[s >> 8 & 255] ^ T[255 & l] ^ o[g + 2], u = v[u >>> 24] ^ b[s >> 16 & 255] ^ _[l >> 8 & 255] ^ T[255 & c] ^ o[g + 3], g += 4, s = d, l = h, c = p;
                    for (m = 0; m < 4; m++) r[(3 & -m) + a] = S[s >>> 24] << 24 ^ S[l >> 16 & 255] << 16 ^ S[c >> 8 & 255] << 8 ^ S[255 & u] ^ o[g++], d = s, s = l, l = c, c = u, u = d
                }, e
            }(),
            Tl = function() {
                function e() {
                    yl(this, e), this.listeners = {}
                }
                return e.prototype.on = function(e, t) {
                    this.listeners[e] || (this.listeners[e] = []), this.listeners[e].push(t)
                }, e.prototype.off = function(e, t) {
                    if (!this.listeners[e]) return !1;
                    var i = this.listeners[e].indexOf(t);
                    return this.listeners[e].splice(i, 1), -1 < i
                }, e.prototype.trigger = function(e) {
                    var t = this.listeners[e];
                    if (t)
                        if (2 === arguments.length)
                            for (var i = t.length, n = 0; n < i; ++n) t[n].call(this, arguments[1]);
                        else
                            for (var r = Array.prototype.slice.call(arguments, 1), a = t.length, o = 0; o < a; ++o) t[o].apply(this, r)
                }, e.prototype.dispose = function() {
                    this.listeners = {}
                }, e.prototype.pipe = function(e) {
                    this.on("data", function(t) {
                        e.push(t)
                    })
                }, e
            }(),
            Sl = function(e) {
                function t() {
                    yl(this, t);
                    var i = function(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }(this, e.call(this, Tl));
                    return i.jobs = [], i.delay = 1, i.timeout_ = null, i
                }
                return function(e, t) {
                    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                }(t, e), t.prototype.processJob_ = function() {
                    this.jobs.shift()(), this.timeout_ = this.jobs.length ? setTimeout(this.processJob_.bind(this), this.delay) : null
                }, t.prototype.push = function(e) {
                    this.jobs.push(e), this.timeout_ || (this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay))
                }, t
            }(Tl),
            El = function(e) {
                return e << 24 | (65280 & e) << 8 | (16711680 & e) >> 8 | e >>> 24
            },
            wl = function(e, t, i) {
                var n = new Int32Array(e.buffer, e.byteOffset, e.byteLength >> 2),
                    r = new _l(Array.prototype.slice.call(t)),
                    a = new Uint8Array(e.byteLength),
                    o = new Int32Array(a.buffer),
                    s = void 0,
                    l = void 0,
                    c = void 0,
                    u = void 0,
                    d = void 0,
                    h = void 0,
                    p = void 0,
                    f = void 0,
                    m = void 0;
                for (s = i[0], l = i[1], c = i[2], u = i[3], m = 0; m < n.length; m += 4) d = El(n[m]), h = El(n[m + 1]), p = El(n[m + 2]), f = El(n[m + 3]), r.decrypt(d, h, p, f, o, m), o[m] = El(o[m] ^ s), o[m + 1] = El(o[m + 1] ^ l), o[m + 2] = El(o[m + 2] ^ c), o[m + 3] = El(o[m + 3] ^ u), s = d, l = h, c = p, u = f;
                return a
            },
            Cl = function() {
                function e(t, i, n, r) {
                    yl(this, e);
                    var a = e.STEP,
                        o = new Int32Array(t.buffer),
                        s = new Uint8Array(t.byteLength),
                        l = 0;
                    for (this.asyncStream_ = new Sl, this.asyncStream_.push(this.decryptChunk_(o.subarray(l, l + a), i, n, s)), l = a; l < o.length; l += a) n = new Uint32Array([El(o[l - 4]), El(o[l - 3]), El(o[l - 2]), El(o[l - 1])]), this.asyncStream_.push(this.decryptChunk_(o.subarray(l, l + a), i, n, s));
                    this.asyncStream_.push(function() {
                        var e;
                        r(null, (e = s).subarray(0, e.byteLength - e[e.byteLength - 1]))
                    })
                }
                return e.prototype.decryptChunk_ = function(e, t, i, n) {
                    return function() {
                        var r = wl(e, t, i);
                        n.set(r, e.byteOffset)
                    }
                }, vl(e, null, [{
                    key: "STEP",
                    get: function() {
                        return 32e3
                    }
                }]), e
            }(),
            kl = function(e, t) {
                return /^[a-z]+:/i.test(t) ? t : (/\/\//i.test(e) || (e = ra.buildAbsoluteURL(i.location.href, e)), ra.buildAbsoluteURL(e, t))
            },
            Pl = function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            },
            Al = function() {
                function e(e, t) {
                    for (var i = 0; i < t.length; i++) {
                        var n = t[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
                    }
                }
                return function(t, i, n) {
                    return i && e(t.prototype, i), n && e(t, n), t
                }
            }(),
            Il = function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            },
            Ll = function(e, t) {
                if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !t || "object" != typeof t && "function" != typeof t ? e : t
            },
            Ol = function(e, t) {
                if (Array.isArray(e)) return e;
                if (Symbol.iterator in Object(e)) return function(e, t) {
                    var i = [],
                        n = !0,
                        r = !1,
                        a = void 0;
                    try {
                        for (var o, s = e[Symbol.iterator](); !(n = (o = s.next()).done) && (i.push(o.value), !t || i.length !== t); n = !0);
                    } catch (e) {
                        r = !0, a = e
                    } finally {
                        try {
                            !n && s.return && s.return()
                        } finally {
                            if (r) throw a
                        }
                    }
                    return i
                }(e, t);
                throw new TypeError("Invalid attempt to destructure non-iterable instance")
            },
            Dl = ta.mergeOptions,
            Rl = ta.EventTarget,
            xl = ta.log,
            Ml = function(e, t) {
                ["AUDIO", "SUBTITLES"].forEach(function(i) {
                    for (var n in e.mediaGroups[i])
                        for (var r in e.mediaGroups[i][n]) t(e.mediaGroups[i][n][r], i, n, r)
                })
            },
            Ul = function(e, t) {
                var i = Dl(e, {}),
                    n = i.playlists[t.uri];
                if (!n) return null;
                if (n.segments && t.segments && n.segments.length === t.segments.length && n.mediaSequence === t.mediaSequence) return null;
                var r = Dl(n, t);
                n.segments && (r.segments = function(e, t, i) {
                    var n = t.slice();
                    i = i || 0;
                    for (var r = Math.min(e.length, t.length + i), a = i; a < r; a++) n[a - i] = Dl(e[a], n[a - i]);
                    return n
                }(n.segments, t.segments, t.mediaSequence - n.mediaSequence)), r.segments.forEach(function(e) {
                    var t, i;
                    i = r.resolvedUri, (t = e).resolvedUri || (t.resolvedUri = kl(i, t.uri)), t.key && !t.key.resolvedUri && (t.key.resolvedUri = kl(i, t.key.uri)), t.map && !t.map.resolvedUri && (t.map.resolvedUri = kl(i, t.map.uri))
                });
                for (var a = 0; a < i.playlists.length; a++) i.playlists[a].uri === t.uri && (i.playlists[a] = r);
                return i.playlists[t.uri] = r, i
            },
            Nl = function(e) {
                for (var t = e.playlists.length; t--;) {
                    var i = e.playlists[t];
                    (e.playlists[i.uri] = i).resolvedUri = kl(e.uri, i.uri), i.id = t, i.attributes || (i.attributes = {}, xl.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))
                }
            },
            Fl = function(e) {
                Ml(e, function(t) {
                    t.uri && (t.resolvedUri = kl(e.uri, t.uri))
                })
            },
            Bl = function(e, t) {
                var i = e.segments[e.segments.length - 1];
                return t && i && i.duration ? 1e3 * i.duration : 500 * (e.targetDuration || 10)
            },
            Vl = function(e) {
                function t(e, i, n) {
                    Pl(this, t);
                    var r = Ll(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                    if (r.srcUrl = e, r.hls_ = i, r.withCredentials = n, !r.srcUrl) throw new Error("A non-empty playlist URL is required");
                    return r.state = "HAVE_NOTHING", r.on("mediaupdatetimeout", function() {
                        "HAVE_METADATA" === r.state && (r.state = "HAVE_CURRENT_METADATA", r.request = r.hls_.xhr({
                            uri: kl(r.master.uri, r.media().uri),
                            withCredentials: r.withCredentials
                        }, function(e, t) {
                            if (r.request) return e ? r.playlistRequestError(r.request, r.media().uri, "HAVE_METADATA") : void r.haveMetadata(r.request, r.media().uri)
                        }))
                    }), r
                }
                return Il(t, Rl), Al(t, [{
                    key: "playlistRequestError",
                    value: function(e, t, i) {
                        this.request = null, i && (this.state = i), this.error = {
                            playlist: this.master.playlists[t],
                            status: e.status,
                            message: "HLS playlist request error at URL: " + t,
                            responseText: e.responseText,
                            code: 500 <= e.status ? 4 : 2
                        }, this.trigger("error")
                    }
                }, {
                    key: "haveMetadata",
                    value: function(e, t) {
                        var n = this;
                        this.request = null, this.state = "HAVE_METADATA";
                        var r = new pa;
                        r.push(e.responseText), r.end(), r.manifest.uri = t, r.manifest.attributes = r.manifest.attributes || {};
                        var a = Ul(this.master, r.manifest);
                        this.targetDuration = r.manifest.targetDuration, a ? (this.master = a, this.media_ = this.master.playlists[r.manifest.uri]) : this.trigger("playlistunchanged"), this.media().endList || (i.clearTimeout(this.mediaUpdateTimeout), this.mediaUpdateTimeout = i.setTimeout(function() {
                            n.trigger("mediaupdatetimeout")
                        }, Bl(this.media(), !!a))), this.trigger("loadedplaylist")
                    }
                }, {
                    key: "dispose",
                    value: function() {
                        this.stopRequest(), i.clearTimeout(this.mediaUpdateTimeout)
                    }
                }, {
                    key: "stopRequest",
                    value: function() {
                        if (this.request) {
                            var e = this.request;
                            this.request = null, e.onreadystatechange = null, e.abort()
                        }
                    }
                }, {
                    key: "media",
                    value: function(e) {
                        var t = this;
                        if (!e) return this.media_;
                        if ("HAVE_NOTHING" === this.state) throw new Error("Cannot switch media playlist from " + this.state);
                        var i = this.state;
                        if ("string" == typeof e) {
                            if (!this.master.playlists[e]) throw new Error("Unknown playlist URI: " + e);
                            e = this.master.playlists[e]
                        }
                        var n = !this.media_ || e.uri !== this.media_.uri;
                        if (this.master.playlists[e.uri].endList) return this.request && (this.request.onreadystatechange = null, this.request.abort(), this.request = null), this.state = "HAVE_METADATA", this.media_ = e, void(n && (this.trigger("mediachanging"), this.trigger("mediachange")));
                        if (n) {
                            if (this.state = "SWITCHING_MEDIA", this.request) {
                                if (kl(this.master.uri, e.uri) === this.request.url) return;
                                this.request.onreadystatechange = null, this.request.abort(), this.request = null
                            }
                            this.media_ && this.trigger("mediachanging"), this.request = this.hls_.xhr({
                                uri: kl(this.master.uri, e.uri),
                                withCredentials: this.withCredentials
                            }, function(n, r) {
                                if (t.request) {
                                    if (n) return t.playlistRequestError(t.request, e.uri, i);
                                    t.haveMetadata(r, e.uri), t.trigger("HAVE_MASTER" === i ? "loadedmetadata" : "mediachange")
                                }
                            })
                        }
                    }
                }, {
                    key: "pause",
                    value: function() {
                        this.stopRequest(), i.clearTimeout(this.mediaUpdateTimeout), "HAVE_NOTHING" === this.state && (this.started = !1), "SWITCHING_MEDIA" === this.state ? this.state = this.media_ ? "HAVE_METADATA" : "HAVE_MASTER" : "HAVE_CURRENT_METADATA" === this.state && (this.state = "HAVE_METADATA")
                    }
                }, {
                    key: "load",
                    value: function(e) {
                        var t = this;
                        i.clearTimeout(this.mediaUpdateTimeout);
                        var n = this.media();
                        e ? this.mediaUpdateTimeout = i.setTimeout(function() {
                            return t.load()
                        }, n ? n.targetDuration / 2 * 1e3 : 5e3) : this.started ? this.trigger(n && !n.endList ? "mediaupdatetimeout" : "loadedplaylist") : this.start()
                    }
                }, {
                    key: "start",
                    value: function() {
                        var e = this;
                        this.started = !0, this.request = this.hls_.xhr({
                            uri: this.srcUrl,
                            withCredentials: this.withCredentials
                        }, function(t, n) {
                            if (e.request) {
                                if (e.request = null, t) return e.error = {
                                    status: n.status,
                                    message: "HLS playlist request error at URL: " + e.srcUrl,
                                    responseText: n.responseText,
                                    code: 2
                                }, "HAVE_NOTHING" === e.state && (e.started = !1), e.trigger("error");
                                var r = new pa;
                                return r.push(n.responseText), r.end(), e.state = "HAVE_MASTER", r.manifest.uri = e.srcUrl, r.manifest.playlists ? (e.master = r.manifest, Nl(e.master), Fl(e.master), e.trigger("loadedplaylist"), void(e.request || e.media(r.manifest.playlists[0]))) : (e.master = {
                                    mediaGroups: {
                                        AUDIO: {},
                                        VIDEO: {},
                                        "CLOSED-CAPTIONS": {},
                                        SUBTITLES: {}
                                    },
                                    uri: i.location.href,
                                    playlists: [{
                                        uri: e.srcUrl,
                                        id: 0
                                    }]
                                }, e.master.playlists[e.srcUrl] = e.master.playlists[0], e.master.playlists[0].resolvedUri = e.srcUrl, e.master.playlists[0].attributes = e.master.playlists[0].attributes || {}, e.haveMetadata(n, e.srcUrl), e.trigger("loadedmetadata"))
                            }
                        })
                    }
                }]), t
            }(),
            jl = ta.createTimeRange,
            zl = function(e, t, i) {
                var n, r;
                return void 0 === t && (t = e.mediaSequence + e.segments.length), t < e.mediaSequence ? 0 : (n = function(e, t) {
                    var i = 0,
                        n = t - e.mediaSequence,
                        r = e.segments[n];
                    if (r) {
                        if (void 0 !== r.start) return {
                            result: r.start,
                            precise: !0
                        };
                        if (void 0 !== r.end) return {
                            result: r.end - r.duration,
                            precise: !0
                        }
                    }
                    for (; n--;) {
                        if (void 0 !== (r = e.segments[n]).end) return {
                            result: i + r.end,
                            precise: !0
                        };
                        if (i += r.duration, void 0 !== r.start) return {
                            result: i + r.start,
                            precise: !0
                        }
                    }
                    return {
                        result: i,
                        precise: !1
                    }
                }(e, t)).precise ? n.result : (r = function(e, t) {
                    for (var i = 0, n = void 0, r = t - e.mediaSequence; r < e.segments.length; r++) {
                        if (void 0 !== (n = e.segments[r]).start) return {
                            result: n.start - i,
                            precise: !0
                        };
                        if (i += n.duration, void 0 !== n.end) return {
                            result: n.end - i,
                            precise: !0
                        }
                    }
                    return {
                        result: -1,
                        precise: !1
                    }
                }(e, t)).precise ? r.result : n.result + i
            },
            ql = function(e, t, n) {
                if (!e) return 0;
                if ("number" != typeof n && (n = 0), void 0 === t) {
                    if (e.totalDuration) return e.totalDuration;
                    if (!e.endList) return i.Infinity
                }
                return zl(e, t, n)
            },
            Hl = function(e, t, i) {
                var n = 0;
                if (i < t) {
                    var r = [i, t];
                    t = r[0], i = r[1]
                }
                if (t < 0) {
                    for (var a = t; a < Math.min(0, i); a++) n += e.targetDuration;
                    t = 0
                }
                for (var o = t; o < i; o++) n += e.segments[o].duration;
                return n
            },
            Gl = function(e) {
                if (!e.segments.length) return 0;
                for (var t = e.segments.length - 1, i = e.segments[t].duration || e.targetDuration, n = i + 2 * e.targetDuration; t-- && !(n <= (i += e.segments[t].duration)););
                return Math.max(0, t)
            },
            Wl = function(e, t, i) {
                if (!e || !e.segments) return null;
                if (e.endList) return ql(e);
                if (null === t) return null;
                t = t || 0;
                var n = i ? Gl(e) : e.segments.length;
                return zl(e, e.mediaSequence + n, t)
            },
            Yl = function(e) {
                return e - Math.floor(e) == 0
            },
            Kl = function(e, t) {
                if (Yl(t)) return t + .1 * e;
                for (var i = t.toString().split(".")[1].length, n = 1; n <= i; n++) {
                    var r = Math.pow(10, n),
                        a = t * r;
                    if (Yl(a) || n === i) return (a + e) / r
                }
            },
            Xl = Kl.bind(null, 1),
            Jl = Kl.bind(null, -1),
            $l = function(e) {
                return e.excludeUntil && e.excludeUntil > Date.now()
            },
            Ql = function(e) {
                return e.excludeUntil && e.excludeUntil === 1 / 0
            },
            Zl = function(e) {
                var t = $l(e);
                return !e.disabled && !t
            },
            ec = function(e, t) {
                return t.attributes && t.attributes[e]
            },
            tc = function(e, t) {
                if (1 === e.playlists.length) return !0;
                var i = t.attributes.BANDWIDTH || Number.MAX_VALUE;
                return 0 === e.playlists.filter(function(e) {
                    return !!Zl(e) && (e.attributes.BANDWIDTH || 0) < i
                }).length
            },
            ic = {
                duration: ql,
                seekable: function(e, t) {
                    var i = t || 0,
                        n = Wl(e, t, !0);
                    return null === n ? jl() : jl(i, n)
                },
                safeLiveIndex: Gl,
                getMediaInfoForTime: function(e, t, i, n) {
                    var r = void 0,
                        a = e.segments.length,
                        o = t - n;
                    if (o < 0) {
                        if (0 < i)
                            for (r = i - 1; 0 <= r; r--)
                                if (0 < (o += Jl(e.segments[r].duration))) return {
                                    mediaIndex: r,
                                    startTime: n - Hl(e, i, r)
                                };
                        return {
                            mediaIndex: 0,
                            startTime: t
                        }
                    }
                    if (i < 0) {
                        for (r = i; r < 0; r++)
                            if ((o -= e.targetDuration) < 0) return {
                                mediaIndex: 0,
                                startTime: t
                            };
                        i = 0
                    }
                    for (r = i; r < a; r++)
                        if ((o -= Xl(e.segments[r].duration)) < 0) return {
                            mediaIndex: r,
                            startTime: n + Hl(e, i, r)
                        };
                    return {
                        mediaIndex: a - 1,
                        startTime: t
                    }
                },
                isEnabled: Zl,
                isDisabled: function(e) {
                    return e.disabled
                },
                isBlacklisted: $l,
                isIncompatible: Ql,
                playlistEnd: Wl,
                isAes: function(e) {
                    for (var t = 0; t < e.segments.length; t++)
                        if (e.segments[t].key) return !0;
                    return !1
                },
                isFmp4: function(e) {
                    for (var t = 0; t < e.segments.length; t++)
                        if (e.segments[t].map) return !0;
                    return !1
                },
                hasAttribute: ec,
                estimateSegmentRequestTime: function(e, t, i) {
                    var n = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : 0;
                    return ec("BANDWIDTH", i) ? (e * i.attributes.BANDWIDTH - 8 * n) / t : NaN
                },
                isLowestEnabledRendition: tc
            },
            nc = ta.xhr,
            rc = ta.mergeOptions,
            ac = function() {
                return function e(t, i) {
                    t = rc({
                        timeout: 45e3
                    }, t);
                    var n = e.beforeRequest || ta.Hls.xhr.beforeRequest;
                    if (n && "function" == typeof n) {
                        var r = n(t);
                        r && (t = r)
                    }
                    var a = nc(t, function(e, t) {
                            var n = a.response;
                            !e && n && (a.responseTime = Date.now(), a.roundTripTime = a.responseTime - a.requestTime, a.bytesReceived = n.byteLength || n.length, a.bandwidth || (a.bandwidth = Math.floor(a.bytesReceived / a.roundTripTime * 8 * 1e3))), t.headers && (a.responseHeaders = t.headers), e && "ETIMEDOUT" === e.code && (a.timedout = !0), e || a.aborted || 200 === t.statusCode || 206 === t.statusCode || 0 === t.statusCode || (e = new Error("XHR Failed with a response of: " + (a && (n || a.responseText)))), i(e, a)
                        }),
                        o = a.abort;
                    return a.abort = function() {
                        return a.aborted = !0, o.apply(a, arguments)
                    }, a.uri = t.uri, a.requestTime = Date.now(), a
                }
            },
            oc = function(e, t) {
                var i = e.toString(16);
                return "00".substring(0, 2 - i.length) + i + (t % 2 ? " " : "")
            },
            sc = function(e) {
                return 32 <= e && e < 126 ? String.fromCharCode(e) : "."
            },
            lc = function(e) {
                var t = {};
                return Object.keys(e).forEach(function(i) {
                    var n = e[i];
                    t[i] = ArrayBuffer.isView(n) ? {
                        bytes: n.buffer,
                        byteOffset: n.byteOffset,
                        byteLength: n.byteLength
                    } : n
                }), t
            },
            cc = function(e) {
                var t = e.byterange || {
                    length: 1 / 0,
                    offset: 0
                };
                return [t.length, t.offset, e.resolvedUri].join(",")
            },
            uc = function(e) {
                for (var t = Array.prototype.slice.call(e), i = "", n = 0; n < t.length / 16; n++) i += t.slice(16 * n, 16 * n + 16).map(oc).join("") + " " + t.slice(16 * n, 16 * n + 16).map(sc).join("") + "\n";
                return i
            },
            dc = Object.freeze({
                createTransferableMessage: lc,
                initSegmentId: cc,
                hexDump: uc,
                tagDump: function(e) {
                    return uc(e.bytes)
                },
                textRanges: function(e) {
                    var t, i, n = "",
                        r = void 0;
                    for (r = 0; r < e.length; r++) n += (t = e).start(i = r) + "-" + t.end(i) + " ";
                    return n
                }
            }),
            hc = function(e, t, i, n) {
                var r = void 0;
                if ("stream" === t) {
                    r = new Date(1e3 * n + i.getTime());
                    var a = e.toISOString(),
                        o = i.toISOString(),
                        s = r.toISOString();
                    return o <= a && a <= s
                }
                if ("player" === t) return r = n + i, i <= e && e <= r
            },
            pc = function(e, t, i) {
                if (!i.segments || 0 === i.segments.length) return null;
                if ("player" !== t && "stream" !== t) return null;
                for (var n = 0, r = 0; r < i.segments.length; r++) {
                    var a, o = i.segments[r],
                        s = n + o.duration,
                        l = void 0;
                    a = "player" === t ? (l = o.start, n) : (l = o.dateTimeObject, o.dateTimeObject);
                    var c = void 0 !== o.start && void 0 !== o.end && hc(e, t, l, o.end - o.start),
                        u = hc(e, t, a, o.duration);
                    if (c) return {
                        segment: o,
                        estimatedStart: a,
                        type: "accurate"
                    };
                    if (u) return {
                        segment: o,
                        estimatedStart: a,
                        type: "estimate"
                    };
                    n = s
                }
                return null
            },
            fc = 1 / 30,
            mc = function(e, t) {
                var i = [],
                    n = void 0;
                if (e && e.length)
                    for (n = 0; n < e.length; n++) t(e.start(n), e.end(n)) && i.push([e.start(n), e.end(n)]);
                return ta.createTimeRanges(i)
            },
            gc = function(e, t) {
                return mc(e, function(e, i) {
                    return e - fc <= t && t <= i + fc
                })
            },
            yc = function(e, t) {
                return mc(e, function(e) {
                    return t <= e - fc
                })
            },
            vc = function(e) {
                var t = [];
                if (!e || !e.length) return "";
                for (var i = 0; i < e.length; i++) t.push(e.start(i) + " => " + e.end(i));
                return t.join(", ")
            },
            bc = function(e) {
                for (var t = [], i = 0; i < e.length; i++) t.push({
                    start: e.start(i),
                    end: e.end(i)
                });
                return t
            },
            _c = function(e, t, i) {
                var n = void 0,
                    r = void 0;
                if (i && i.cues)
                    for (n = i.cues.length; n--;)(r = i.cues[n]).startTime <= t && r.endTime >= e && i.removeCue(r)
            },
            Tc = function(e) {
                return isNaN(e) || Math.abs(e) === 1 / 0 ? Number.MAX_VALUE : e
            },
            Sc = "undefined" != typeof window ? window : {},
            Ec = "undefined" == typeof Symbol ? "__target" : Symbol(),
            wc = "application/javascript",
            Cc = Sc.BlobBuilder || Sc.WebKitBlobBuilder || Sc.MozBlobBuilder || Sc.MSBlobBuilder,
            kc = Sc.URL || Sc.webkitURL || kc && kc.msURL,
            Pc = Sc.Worker;

        function Ac(e, t) {
            return function(i) {
                var n = this;
                if (!t) return new Pc(e);
                if (Pc && !i) {
                    var r = Dc(t.toString().replace(/^function.+?{/, "").slice(0, -1));
                    return this[Ec] = new Pc(r),
                        function(e, t) {
                            if (e && t) {
                                var i = e.terminate;
                                e.objURL = t, e.terminate = function() {
                                    e.objURL && kc.revokeObjectURL(e.objURL), i.call(e)
                                }
                            }
                        }(this[Ec], r), this[Ec]
                }
                var a = {
                    postMessage: function(e) {
                        n.onmessage && setTimeout(function() {
                            n.onmessage({
                                data: e,
                                target: a
                            })
                        })
                    }
                };
                t.call(a), this.postMessage = function(e) {
                    setTimeout(function() {
                        a.onmessage({
                            data: e,
                            target: n
                        })
                    })
                }, this.isThisThread = !0
            }
        }
        if (Pc) {
            var Ic, Lc = Dc("self.onmessage = function () {}"),
                Oc = new Uint8Array(1);
            try {
                (Ic = new Pc(Lc)).postMessage(Oc, [Oc.buffer])
            } catch (e) {
                Pc = null
            } finally {
                kc.revokeObjectURL(Lc), Ic && Ic.terminate()
            }
        }

        function Dc(t) {
            try {
                return kc.createObjectURL(new Blob([t], {
                    type: wc
                }))
            } catch (e) {
                var i = new Cc;
                return i.append(t), kc.createObjectURL(i.getBlob(type))
            }
        }
        var Rc = new Ac("./transmuxer-worker.worker.js", function(e, t) {
                var i = this;
                ! function() {
                    var e, t, n, r, a, o, s, l, c, u, d, h, p, f, m, g, y, v, b, _, T, S, E, w, C, k, P, A, I, L, O, D, R, x, M, U, N, F, B, V, j = Math.pow(2, 32) - 1;
                    ! function() {
                        var e;
                        if (S = {
                                avc1: [],
                                avcC: [],
                                btrt: [],
                                dinf: [],
                                dref: [],
                                esds: [],
                                ftyp: [],
                                hdlr: [],
                                mdat: [],
                                mdhd: [],
                                mdia: [],
                                mfhd: [],
                                minf: [],
                                moof: [],
                                moov: [],
                                mp4a: [],
                                mvex: [],
                                mvhd: [],
                                sdtp: [],
                                smhd: [],
                                stbl: [],
                                stco: [],
                                stsc: [],
                                stsd: [],
                                stsz: [],
                                stts: [],
                                styp: [],
                                tfdt: [],
                                tfhd: [],
                                traf: [],
                                trak: [],
                                trun: [],
                                trex: [],
                                tkhd: [],
                                vmhd: []
                            }, "undefined" != typeof Uint8Array) {
                            for (e in S) S.hasOwnProperty(e) && (S[e] = [e.charCodeAt(0), e.charCodeAt(1), e.charCodeAt(2), e.charCodeAt(3)]);
                            E = new Uint8Array(["i".charCodeAt(0), "s".charCodeAt(0), "o".charCodeAt(0), "m".charCodeAt(0)]), C = new Uint8Array(["a".charCodeAt(0), "v".charCodeAt(0), "c".charCodeAt(0), "1".charCodeAt(0)]), w = new Uint8Array([0, 0, 0, 1]), k = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 86, 105, 100, 101, 111, 72, 97, 110, 100, 108, 101, 114, 0]), P = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0]), A = {
                                video: k,
                                audio: P
                            }, O = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1]), L = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]), D = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]), R = D, x = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]), M = D, I = new Uint8Array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0])
                        }
                    }(), e = function(e) {
                        var t, i, n = [],
                            r = 0;
                        for (t = 1; t < arguments.length; t++) n.push(arguments[t]);
                        for (t = n.length; t--;) r += n[t].byteLength;
                        for (i = new Uint8Array(r + 8), new DataView(i.buffer, i.byteOffset, i.byteLength).setUint32(0, i.byteLength), i.set(e, 4), t = 0, r = 8; t < n.length; t++) i.set(n[t], r), r += n[t].byteLength;
                        return i
                    }, t = function() {
                        return e(S.dinf, e(S.dref, O))
                    }, n = function(t) {
                        return e(S.esds, new Uint8Array([0, 0, 0, 0, 3, 25, 0, 0, 0, 4, 17, 64, 21, 0, 6, 0, 0, 0, 218, 192, 0, 0, 218, 192, 5, 2, t.audioobjecttype << 3 | t.samplingfrequencyindex >>> 1, t.samplingfrequencyindex << 7 | t.channelcount << 3, 6, 1, 2]))
                    }, m = function(t) {
                        return e(S.hdlr, A[t])
                    }, f = function(t) {
                        var i = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 3, 0, 1, 95, 144, t.duration >>> 24 & 255, t.duration >>> 16 & 255, t.duration >>> 8 & 255, 255 & t.duration, 85, 196, 0, 0]);
                        return t.samplerate && (i[12] = t.samplerate >>> 24 & 255, i[13] = t.samplerate >>> 16 & 255, i[14] = t.samplerate >>> 8 & 255, i[15] = 255 & t.samplerate), e(S.mdhd, i)
                    }, p = function(t) {
                        return e(S.mdia, f(t), m(t.type), o(t))
                    }, a = function(t) {
                        return e(S.mfhd, new Uint8Array([0, 0, 0, 0, (4278190080 & t) >> 24, (16711680 & t) >> 16, (65280 & t) >> 8, 255 & t]))
                    }, o = function(i) {
                        return e(S.minf, "video" === i.type ? e(S.vmhd, I) : e(S.smhd, L), t(), y(i))
                    }, s = function(t, i) {
                        for (var n = [], r = i.length; r--;) n[r] = b(i[r]);
                        return e.apply(null, [S.moof, a(t)].concat(n))
                    }, l = function(t) {
                        for (var i = t.length, n = []; i--;) n[i] = d(t[i]);
                        return e.apply(null, [S.moov, u(4294967295)].concat(n).concat(c(t)))
                    }, c = function(t) {
                        for (var i = t.length, n = []; i--;) n[i] = _(t[i]);
                        return e.apply(null, [S.mvex].concat(n))
                    }, u = function(t) {
                        var i = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 2, 0, 1, 95, 144, (4278190080 & t) >> 24, (16711680 & t) >> 16, (65280 & t) >> 8, 255 & t, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255]);
                        return e(S.mvhd, i)
                    }, g = function(t) {
                        var i, n, r = t.samples || [],
                            a = new Uint8Array(4 + r.length);
                        for (n = 0; n < r.length; n++) a[n + 4] = (i = r[n].flags).dependsOn << 4 | i.isDependedOn << 2 | i.hasRedundancy;
                        return e(S.sdtp, a)
                    }, y = function(t) {
                        return e(S.stbl, v(t), e(S.stts, M), e(S.stsc, R), e(S.stsz, x), e(S.stco, D))
                    }, v = function(t) {
                        return e(S.stsd, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1]), "video" === t.type ? U(t) : N(t))
                    }, U = function(t) {
                        var i, n = t.sps || [],
                            r = t.pps || [],
                            a = [],
                            o = [];
                        for (i = 0; i < n.length; i++) a.push((65280 & n[i].byteLength) >>> 8), a.push(255 & n[i].byteLength), a = a.concat(Array.prototype.slice.call(n[i]));
                        for (i = 0; i < r.length; i++) o.push((65280 & r[i].byteLength) >>> 8), o.push(255 & r[i].byteLength), o = o.concat(Array.prototype.slice.call(r[i]));
                        return e(S.avc1, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, (65280 & t.width) >> 8, 255 & t.width, (65280 & t.height) >> 8, 255 & t.height, 0, 72, 0, 0, 0, 72, 0, 0, 0, 0, 0, 0, 0, 1, 19, 118, 105, 100, 101, 111, 106, 115, 45, 99, 111, 110, 116, 114, 105, 98, 45, 104, 108, 115, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 24, 17, 17]), e(S.avcC, new Uint8Array([1, t.profileIdc, t.profileCompatibility, t.levelIdc, 255].concat([n.length]).concat(a).concat([r.length]).concat(o))), e(S.btrt, new Uint8Array([0, 28, 156, 128, 0, 45, 198, 192, 0, 45, 198, 192])))
                    }, N = function(t) {
                        return e(S.mp4a, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, (65280 & t.channelcount) >> 8, 255 & t.channelcount, (65280 & t.samplesize) >> 8, 255 & t.samplesize, 0, 0, 0, 0, (65280 & t.samplerate) >> 8, 255 & t.samplerate, 0, 0]), n(t))
                    }, h = function(t) {
                        var i = new Uint8Array([0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 0, (4278190080 & t.id) >> 24, (16711680 & t.id) >> 16, (65280 & t.id) >> 8, 255 & t.id, 0, 0, 0, 0, (4278190080 & t.duration) >> 24, (16711680 & t.duration) >> 16, (65280 & t.duration) >> 8, 255 & t.duration, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, (65280 & t.width) >> 8, 255 & t.width, 0, 0, (65280 & t.height) >> 8, 255 & t.height, 0, 0]);
                        return e(S.tkhd, i)
                    }, b = function(t) {
                        var i, n, r, a, o, s;
                        return i = e(S.tfhd, new Uint8Array([0, 0, 0, 58, (4278190080 & t.id) >> 24, (16711680 & t.id) >> 16, (65280 & t.id) >> 8, 255 & t.id, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])), o = Math.floor(t.baseMediaDecodeTime / (j + 1)), s = Math.floor(t.baseMediaDecodeTime % (j + 1)), n = e(S.tfdt, new Uint8Array([1, 0, 0, 0, o >>> 24 & 255, o >>> 16 & 255, o >>> 8 & 255, 255 & o, s >>> 24 & 255, s >>> 16 & 255, s >>> 8 & 255, 255 & s])), "audio" === t.type ? (r = T(t, 92), e(S.traf, i, n, r)) : (a = g(t), r = T(t, a.length + 92), e(S.traf, i, n, r, a))
                    }, d = function(t) {
                        return t.duration = t.duration || 4294967295, e(S.trak, h(t), p(t))
                    }, _ = function(t) {
                        var i = new Uint8Array([0, 0, 0, 0, (4278190080 & t.id) >> 24, (16711680 & t.id) >> 16, (65280 & t.id) >> 8, 255 & t.id, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1]);
                        return "video" !== t.type && (i[i.length - 1] = 0), e(S.trex, i)
                    }, V = function(e, t) {
                        var i = 0,
                            n = 0,
                            r = 0,
                            a = 0;
                        return e.length && (void 0 !== e[0].duration && (i = 1), void 0 !== e[0].size && (n = 2), void 0 !== e[0].flags && (r = 4), void 0 !== e[0].compositionTimeOffset && (a = 8)), [0, 0, i | n | r | a, 1, (4278190080 & e.length) >>> 24, (16711680 & e.length) >>> 16, (65280 & e.length) >>> 8, 255 & e.length, (4278190080 & t) >>> 24, (16711680 & t) >>> 16, (65280 & t) >>> 8, 255 & t]
                    }, B = function(t, i) {
                        var n, r, a, o;
                        for (i += 20 + 16 * (r = t.samples || []).length, n = V(r, i), o = 0; o < r.length; o++) n = n.concat([(4278190080 & (a = r[o]).duration) >>> 24, (16711680 & a.duration) >>> 16, (65280 & a.duration) >>> 8, 255 & a.duration, (4278190080 & a.size) >>> 24, (16711680 & a.size) >>> 16, (65280 & a.size) >>> 8, 255 & a.size, a.flags.isLeading << 2 | a.flags.dependsOn, a.flags.isDependedOn << 6 | a.flags.hasRedundancy << 4 | a.flags.paddingValue << 1 | a.flags.isNonSyncSample, 61440 & a.flags.degradationPriority, 15 & a.flags.degradationPriority, (4278190080 & a.compositionTimeOffset) >>> 24, (16711680 & a.compositionTimeOffset) >>> 16, (65280 & a.compositionTimeOffset) >>> 8, 255 & a.compositionTimeOffset]);
                        return e(S.trun, new Uint8Array(n))
                    }, F = function(t, i) {
                        var n, r, a, o;
                        for (i += 20 + 8 * (r = t.samples || []).length, n = V(r, i), o = 0; o < r.length; o++) n = n.concat([(4278190080 & (a = r[o]).duration) >>> 24, (16711680 & a.duration) >>> 16, (65280 & a.duration) >>> 8, 255 & a.duration, (4278190080 & a.size) >>> 24, (16711680 & a.size) >>> 16, (65280 & a.size) >>> 8, 255 & a.size]);
                        return e(S.trun, new Uint8Array(n))
                    }, T = function(e, t) {
                        return "audio" === e.type ? F(e, t) : B(e, t)
                    };
                    var z, q, H, G, W, Y = {
                            ftyp: r = function() {
                                return e(S.ftyp, E, w, E, C)
                            },
                            mdat: function(t) {
                                return e(S.mdat, t)
                            },
                            moof: s,
                            moov: l,
                            initSegment: function(e) {
                                var t, i = r(),
                                    n = l(e);
                                return (t = new Uint8Array(i.byteLength + n.byteLength)).set(i), t.set(n, i.byteLength), t
                            }
                        },
                        K = function(e) {
                            return e >>> 0
                        };
                    H = function(e) {
                        return z(e, ["moov", "trak"]).reduce(function(e, t) {
                            var i, n, r, a;
                            return (i = z(t, ["tkhd"])[0]) ? (r = K(i[n = 0 === i[0] ? 12 : 20] << 24 | i[n + 1] << 16 | i[n + 2] << 8 | i[n + 3]), (a = z(t, ["mdia", "mdhd"])[0]) ? (e[r] = K(a[n = 0 === a[0] ? 12 : 20] << 24 | a[n + 1] << 16 | a[n + 2] << 8 | a[n + 3]), e) : null) : null
                        }, {})
                    }, G = function(e, t) {
                        var i, n, r;
                        return i = z(t, ["moof", "traf"]), n = [].concat.apply([], i.map(function(t) {
                            return z(t, ["tfhd"]).map(function(i) {
                                var n, r;
                                return n = K(i[4] << 24 | i[5] << 16 | i[6] << 8 | i[7]), r = e[n] || 9e4, (z(t, ["tfdt"]).map(function(e) {
                                    var t, i;
                                    return t = e[0], i = K(e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7]), 1 === t && (i *= Math.pow(2, 32), i += K(e[8] << 24 | e[9] << 16 | e[10] << 8 | e[11])), i
                                })[0] || 1 / 0) / r
                            })
                        })), r = Math.min.apply(null, n), isFinite(r) ? r : 0
                    }, W = function(e) {
                        var t = z(e, ["moov", "trak"]),
                            i = [];
                        return t.forEach(function(e) {
                            var t = z(e, ["mdia", "hdlr"]),
                                n = z(e, ["tkhd"]);
                            t.forEach(function(e, t) {
                                var r, a, o = q(e.subarray(8, 12)),
                                    s = n[t];
                                "vide" === o && (a = 0 === (r = new DataView(s.buffer, s.byteOffset, s.byteLength)).getUint8(0) ? r.getUint32(12) : r.getUint32(20), i.push(a))
                            })
                        }), i
                    };
                    var X = {
                            findBox: z = function(e, t) {
                                var i, n, r, a, o, s = [];
                                if (!t.length) return null;
                                for (i = 0; i < e.byteLength;) n = K(e[i] << 24 | e[i + 1] << 16 | e[i + 2] << 8 | e[i + 3]), r = q(e.subarray(i + 4, i + 8)), a = 1 < n ? i + n : e.byteLength, r === t[0] && (1 === t.length ? s.push(e.subarray(i + 8, a)) : (o = z(e.subarray(i + 8, a), t.slice(1))).length && (s = s.concat(o))), i = a;
                                return s
                            },
                            parseType: q = function(e) {
                                var t = "";
                                return t += String.fromCharCode(e[0]), t += String.fromCharCode(e[1]), (t += String.fromCharCode(e[2])) + String.fromCharCode(e[3])
                            },
                            timescale: H,
                            startTime: G,
                            videoTrackIds: W
                        },
                        J = function() {
                            this.init = function() {
                                var e = {};
                                this.on = function(t, i) {
                                    e[t] || (e[t] = []), e[t] = e[t].concat(i)
                                }, this.off = function(t, i) {
                                    var n;
                                    return !!e[t] && (n = e[t].indexOf(i), e[t] = e[t].slice(), e[t].splice(n, 1), -1 < n)
                                }, this.trigger = function(t) {
                                    var i, n, r, a;
                                    if (i = e[t])
                                        if (2 === arguments.length)
                                            for (r = i.length, n = 0; n < r; ++n) i[n].call(this, arguments[1]);
                                        else {
                                            for (a = [], n = arguments.length, n = 1; n < arguments.length; ++n) a.push(arguments[n]);
                                            for (r = i.length, n = 0; n < r; ++n) i[n].apply(this, a)
                                        }
                                }, this.dispose = function() {
                                    e = {}
                                }
                            }
                        };
                    J.prototype.pipe = function(e) {
                        return this.on("data", function(t) {
                            e.push(t)
                        }), this.on("done", function(t) {
                            e.flush(t)
                        }), e
                    }, J.prototype.push = function(e) {
                        this.trigger("data", e)
                    }, J.prototype.flush = function(e) {
                        this.trigger("done", e)
                    };
                    var $, Q, Z, ee, te, ie, ne, re = J,
                        ae = [33, 16, 5, 32, 164, 27],
                        oe = [33, 65, 108, 84, 1, 2, 4, 8, 168, 2, 4, 8, 17, 191, 252],
                        se = function(e) {
                            for (var t = []; e--;) t.push(0);
                            return t
                        },
                        le = {
                            96000: [ae, [227, 64], se(154), [56]],
                            88200: [ae, [231], se(170), [56]],
                            64000: [ae, [248, 192], se(240), [56]],
                            48000: [ae, [255, 192], se(268), [55, 148, 128], se(54), [112]],
                            44100: [ae, [255, 192], se(268), [55, 163, 128], se(84), [112]],
                            32000: [ae, [255, 192], se(268), [55, 234], se(226), [112]],
                            24000: [ae, [255, 192], se(268), [55, 255, 128], se(268), [111, 112], se(126), [224]],
                            16000: [ae, [255, 192], se(268), [55, 255, 128], se(268), [111, 255], se(269), [223, 108], se(195), [1, 192]],
                            12000: [oe, se(268), [3, 127, 248], se(268), [6, 255, 240], se(268), [13, 255, 224], se(268), [27, 253, 128], se(259), [56]],
                            11025: [oe, se(268), [3, 127, 248], se(268), [6, 255, 240], se(268), [13, 255, 224], se(268), [27, 255, 192], se(268), [55, 175, 128], se(108), [112]],
                            8000: [oe, se(268), [3, 121, 16], se(47), [7]]
                        },
                        ce = ($ = le, Object.keys($).reduce(function(e, t) {
                            return e[t] = new Uint8Array($[t].reduce(function(e, t) {
                                return e.concat(t)
                            }, [])), e
                        }, {}));
                    ie = function(e, t) {
                        return Q(te(e, t))
                    }, ne = function(e, t) {
                        return Z(ee(e), t)
                    }, Q = function(e) {
                        return 9e4 * e
                    }, Z = function(e, t) {
                        return e * t
                    }, ee = function(e) {
                        return e / 9e4
                    }, te = function(e, t) {
                        return e / t
                    };
                    var ue = ie,
                        de = ne,
                        he = function(e) {
                            delete e.minSegmentDts, delete e.maxSegmentDts, delete e.minSegmentPts, delete e.maxSegmentPts
                        },
                        pe = function(e, t) {
                            var i, n = e.minSegmentDts;
                            return t || (n -= e.timelineStartInfo.dts), i = e.timelineStartInfo.baseMediaDecodeTime, i += n, i = Math.max(0, i), "audio" === e.type && (i *= e.samplerate / 9e4, i = Math.floor(i)), i
                        },
                        fe = function(e, t) {
                            "number" == typeof t.pts && (void 0 === e.timelineStartInfo.pts && (e.timelineStartInfo.pts = t.pts), e.minSegmentPts = void 0 === e.minSegmentPts ? t.pts : Math.min(e.minSegmentPts, t.pts), e.maxSegmentPts = void 0 === e.maxSegmentPts ? t.pts : Math.max(e.maxSegmentPts, t.pts)), "number" == typeof t.dts && (void 0 === e.timelineStartInfo.dts && (e.timelineStartInfo.dts = t.dts), e.minSegmentDts = void 0 === e.minSegmentDts ? t.dts : Math.min(e.minSegmentDts, t.dts), e.maxSegmentDts = void 0 === e.maxSegmentDts ? t.dts : Math.max(e.maxSegmentDts, t.dts))
                        },
                        me = function e() {
                            e.prototype.init.call(this), this.captionPackets_ = [], this.ccStreams_ = [new _e(0, 0), new _e(0, 1), new _e(1, 0), new _e(1, 1)], this.reset(), this.ccStreams_.forEach(function(e) {
                                e.on("data", this.trigger.bind(this, "data")), e.on("done", this.trigger.bind(this, "done"))
                            }, this)
                        };
                    (me.prototype = new re).push = function(e) {
                        var t, i, n;
                        if ("sei_rbsp" === e.nalUnitType && 4 === (t = function(e) {
                                for (var t = 0, i = {
                                        payloadType: -1,
                                        payloadSize: 0
                                    }, n = 0, r = 0; t < e.byteLength && 128 !== e[t];) {
                                    for (; 255 === e[t];) n += 255, t++;
                                    for (n += e[t++]; 255 === e[t];) r += 255, t++;
                                    if (r += e[t++], !i.payload && 4 === n) {
                                        i.payloadType = n, i.payloadSize = r, i.payload = e.subarray(t, t + r);
                                        break
                                    }
                                    t += r, r = n = 0
                                }
                                return i
                            }(e.escapedRBSP)).payloadType && (i = function(e) {
                                return 181 !== e.payload[0] ? null : 49 != (e.payload[1] << 8 | e.payload[2]) ? null : "GA94" !== String.fromCharCode(e.payload[3], e.payload[4], e.payload[5], e.payload[6]) ? null : 3 !== e.payload[7] ? null : e.payload.subarray(8, e.payload.length - 1)
                            }(t)))
                            if (e.dts < this.latestDts_) this.ignoreNextEqualDts_ = !0;
                            else {
                                if (e.dts === this.latestDts_ && this.ignoreNextEqualDts_) return this.numSameDts_--, void(this.numSameDts_ || (this.ignoreNextEqualDts_ = !1));
                                n = function(e, t) {
                                    var i, n, r, a, o = [];
                                    if (!(64 & t[0])) return o;
                                    for (n = 31 & t[0], i = 0; i < n; i++) a = {
                                        type: 3 & t[2 + (r = 3 * i)],
                                        pts: e
                                    }, 4 & t[r + 2] && (a.ccData = t[r + 3] << 8 | t[r + 4], o.push(a));
                                    return o
                                }(e.pts, i), this.captionPackets_ = this.captionPackets_.concat(n), this.latestDts_ !== e.dts && (this.numSameDts_ = 0), this.numSameDts_++, this.latestDts_ = e.dts
                            }
                    }, me.prototype.flush = function() {
                        this.captionPackets_.length ? (this.captionPackets_.forEach(function(e, t) {
                            e.presortIndex = t
                        }), this.captionPackets_.sort(function(e, t) {
                            return e.pts === t.pts ? e.presortIndex - t.presortIndex : e.pts - t.pts
                        }), this.captionPackets_.forEach(function(e) {
                            e.type < 2 && this.dispatchCea608Packet(e)
                        }, this), this.captionPackets_.length = 0, this.ccStreams_.forEach(function(e) {
                            e.flush()
                        }, this)) : this.ccStreams_.forEach(function(e) {
                            e.flush()
                        }, this)
                    }, me.prototype.reset = function() {
                        this.latestDts_ = null, this.ignoreNextEqualDts_ = !1, this.numSameDts_ = 0, this.activeCea608Channel_ = [null, null], this.ccStreams_.forEach(function(e) {
                            e.reset()
                        })
                    }, me.prototype.dispatchCea608Packet = function(e) {
                        this.setsChannel1Active(e) ? this.activeCea608Channel_[e.type] = 0 : this.setsChannel2Active(e) && (this.activeCea608Channel_[e.type] = 1), null !== this.activeCea608Channel_[e.type] && this.ccStreams_[(e.type << 1) + this.activeCea608Channel_[e.type]].push(e)
                    }, me.prototype.setsChannel1Active = function(e) {
                        return 4096 == (30720 & e.ccData)
                    }, me.prototype.setsChannel2Active = function(e) {
                        return 6144 == (30720 & e.ccData)
                    };
                    var ge = {
                            42: 225,
                            92: 233,
                            94: 237,
                            95: 243,
                            96: 250,
                            123: 231,
                            124: 247,
                            125: 209,
                            126: 241,
                            127: 9608,
                            304: 174,
                            305: 176,
                            306: 189,
                            307: 191,
                            308: 8482,
                            309: 162,
                            310: 163,
                            311: 9834,
                            312: 224,
                            313: 160,
                            314: 232,
                            315: 226,
                            316: 234,
                            317: 238,
                            318: 244,
                            319: 251,
                            544: 193,
                            545: 201,
                            546: 211,
                            547: 218,
                            548: 220,
                            549: 252,
                            550: 8216,
                            551: 161,
                            552: 42,
                            553: 39,
                            554: 8212,
                            555: 169,
                            556: 8480,
                            557: 8226,
                            558: 8220,
                            559: 8221,
                            560: 192,
                            561: 194,
                            562: 199,
                            563: 200,
                            564: 202,
                            565: 203,
                            566: 235,
                            567: 206,
                            568: 207,
                            569: 239,
                            570: 212,
                            571: 217,
                            572: 249,
                            573: 219,
                            574: 171,
                            575: 187,
                            800: 195,
                            801: 227,
                            802: 205,
                            803: 204,
                            804: 236,
                            805: 210,
                            806: 242,
                            807: 213,
                            808: 245,
                            809: 123,
                            810: 125,
                            811: 92,
                            812: 94,
                            813: 95,
                            814: 124,
                            815: 126,
                            816: 196,
                            817: 228,
                            818: 214,
                            819: 246,
                            820: 223,
                            821: 165,
                            822: 164,
                            823: 9474,
                            824: 197,
                            825: 229,
                            826: 216,
                            827: 248,
                            828: 9484,
                            829: 9488,
                            830: 9492,
                            831: 9496
                        },
                        ye = function(e) {
                            return null === e ? "" : (e = ge[e] || e, String.fromCharCode(e))
                        },
                        ve = [4352, 4384, 4608, 4640, 5376, 5408, 5632, 5664, 5888, 5920, 4096, 4864, 4896, 5120, 5152],
                        be = function() {
                            for (var e = [], t = 15; t--;) e.push("");
                            return e
                        },
                        _e = function e(t, i) {
                            e.prototype.init.call(this), this.field_ = t || 0, this.dataChannel_ = i || 0, this.name_ = "CC" + (1 + (this.field_ << 1 | this.dataChannel_)), this.setConstants(), this.reset(), this.push = function(e) {
                                var t, i, n, r, a;
                                if ((t = 32639 & e.ccData) !== this.lastControlCode_) {
                                    if (4096 == (61440 & t) ? this.lastControlCode_ = t : t !== this.PADDING_ && (this.lastControlCode_ = null), n = t >>> 8, r = 255 & t, t !== this.PADDING_)
                                        if (t === this.RESUME_CAPTION_LOADING_) this.mode_ = "popOn";
                                        else if (t === this.END_OF_CAPTION_) this.mode_ = "popOn", this.clearFormatting(e.pts), this.flushDisplayed(e.pts), i = this.displayed_, this.displayed_ = this.nonDisplayed_, this.nonDisplayed_ = i, this.startPts_ = e.pts;
                                    else if (t === this.ROLL_UP_2_ROWS_) this.rollUpRows_ = 2, this.setRollUp(e.pts);
                                    else if (t === this.ROLL_UP_3_ROWS_) this.rollUpRows_ = 3, this.setRollUp(e.pts);
                                    else if (t === this.ROLL_UP_4_ROWS_) this.rollUpRows_ = 4, this.setRollUp(e.pts);
                                    else if (t === this.CARRIAGE_RETURN_) this.clearFormatting(e.pts), this.flushDisplayed(e.pts), this.shiftRowsUp_(), this.startPts_ = e.pts;
                                    else if (t === this.BACKSPACE_) "popOn" === this.mode_ ? this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1) : this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1);
                                    else if (t === this.ERASE_DISPLAYED_MEMORY_) this.flushDisplayed(e.pts), this.displayed_ = be();
                                    else if (t === this.ERASE_NON_DISPLAYED_MEMORY_) this.nonDisplayed_ = be();
                                    else if (t === this.RESUME_DIRECT_CAPTIONING_) "paintOn" !== this.mode_ && (this.flushDisplayed(e.pts), this.displayed_ = be()), this.mode_ = "paintOn", this.startPts_ = e.pts;
                                    else if (this.isSpecialCharacter(n, r)) a = ye((n = (3 & n) << 8) | r), this[this.mode_](e.pts, a), this.column_++;
                                    else if (this.isExtCharacter(n, r)) "popOn" === this.mode_ ? this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1) : this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1), a = ye((n = (3 & n) << 8) | r), this[this.mode_](e.pts, a), this.column_++;
                                    else if (this.isMidRowCode(n, r)) this.clearFormatting(e.pts), this[this.mode_](e.pts, " "), this.column_++, 14 == (14 & r) && this.addFormatting(e.pts, ["i"]), 1 == (1 & r) && this.addFormatting(e.pts, ["u"]);
                                    else if (this.isOffsetControlCode(n, r)) this.column_ += 3 & r;
                                    else if (this.isPAC(n, r)) {
                                        var o = ve.indexOf(7968 & t);
                                        "rollUp" === this.mode_ && (o - this.rollUpRows_ + 1 < 0 && (o = this.rollUpRows_ - 1), this.setRollUp(e.pts, o)), o !== this.row_ && (this.clearFormatting(e.pts), this.row_ = o), 1 & r && -1 === this.formatting_.indexOf("u") && this.addFormatting(e.pts, ["u"]), 16 == (16 & t) && (this.column_ = 4 * ((14 & t) >> 1)), this.isColorPAC(r) && 14 == (14 & r) && this.addFormatting(e.pts, ["i"])
                                    } else this.isNormalChar(n) && (0 === r && (r = null), a = ye(n), a += ye(r), this[this.mode_](e.pts, a), this.column_ += a.length)
                                } else this.lastControlCode_ = null
                            }
                        };
                    _e.prototype = new re, _e.prototype.flushDisplayed = function(e) {
                        var t = this.displayed_.map(function(e) {
                            try {
                                return e.trim()
                            } catch (e) {
                                return ""
                            }
                        }).join("\n").replace(/^\n+|\n+$/g, "");
                        t.length && this.trigger("data", {
                            startPts: this.startPts_,
                            endPts: e,
                            text: t,
                            stream: this.name_
                        })
                    }, _e.prototype.reset = function() {
                        this.mode_ = "popOn", this.topRow_ = 0, this.startPts_ = 0, this.displayed_ = be(), this.nonDisplayed_ = be(), this.lastControlCode_ = null, this.column_ = 0, this.row_ = 14, this.rollUpRows_ = 2, this.formatting_ = []
                    }, _e.prototype.setConstants = function() {
                        0 === this.dataChannel_ ? (this.BASE_ = 16, this.EXT_ = 17, this.CONTROL_ = (20 | this.field_) << 8, this.OFFSET_ = 23) : 1 === this.dataChannel_ && (this.BASE_ = 24, this.EXT_ = 25, this.CONTROL_ = (28 | this.field_) << 8, this.OFFSET_ = 31), this.PADDING_ = 0, this.RESUME_CAPTION_LOADING_ = 32 | this.CONTROL_, this.END_OF_CAPTION_ = 47 | this.CONTROL_, this.ROLL_UP_2_ROWS_ = 37 | this.CONTROL_, this.ROLL_UP_3_ROWS_ = 38 | this.CONTROL_, this.ROLL_UP_4_ROWS_ = 39 | this.CONTROL_, this.CARRIAGE_RETURN_ = 45 | this.CONTROL_, this.RESUME_DIRECT_CAPTIONING_ = 41 | this.CONTROL_, this.BACKSPACE_ = 33 | this.CONTROL_, this.ERASE_DISPLAYED_MEMORY_ = 44 | this.CONTROL_, this.ERASE_NON_DISPLAYED_MEMORY_ = 46 | this.CONTROL_
                    }, _e.prototype.isSpecialCharacter = function(e, t) {
                        return e === this.EXT_ && 48 <= t && t <= 63
                    }, _e.prototype.isExtCharacter = function(e, t) {
                        return (e === this.EXT_ + 1 || e === this.EXT_ + 2) && 32 <= t && t <= 63
                    }, _e.prototype.isMidRowCode = function(e, t) {
                        return e === this.EXT_ && 32 <= t && t <= 47
                    }, _e.prototype.isOffsetControlCode = function(e, t) {
                        return e === this.OFFSET_ && 33 <= t && t <= 35
                    }, _e.prototype.isPAC = function(e, t) {
                        return e >= this.BASE_ && e < this.BASE_ + 8 && 64 <= t && t <= 127
                    }, _e.prototype.isColorPAC = function(e) {
                        return 64 <= e && e <= 79 || 96 <= e && e <= 127
                    }, _e.prototype.isNormalChar = function(e) {
                        return 32 <= e && e <= 127
                    }, _e.prototype.setRollUp = function(e, t) {
                        if ("rollUp" !== this.mode_ && (this.row_ = 14, this.mode_ = "rollUp", this.flushDisplayed(e), this.nonDisplayed_ = be(), this.displayed_ = be()), void 0 !== t && t !== this.row_)
                            for (var i = 0; i < this.rollUpRows_; i++) this.displayed_[t - i] = this.displayed_[this.row_ - i], this.displayed_[this.row_ - i] = "";
                        void 0 === t && (t = this.row_), this.topRow_ = t - this.rollUpRows_ + 1
                    }, _e.prototype.addFormatting = function(e, t) {
                        this.formatting_ = this.formatting_.concat(t);
                        var i = t.reduce(function(e, t) {
                            return e + "<" + t + ">"
                        }, "");
                        this[this.mode_](e, i)
                    }, _e.prototype.clearFormatting = function(e) {
                        if (this.formatting_.length) {
                            var t = this.formatting_.reverse().reduce(function(e, t) {
                                return e + "</" + t + ">"
                            }, "");
                            this.formatting_ = [], this[this.mode_](e, t)
                        }
                    }, _e.prototype.popOn = function(e, t) {
                        var i = this.nonDisplayed_[this.row_];
                        this.nonDisplayed_[this.row_] = i += t
                    }, _e.prototype.rollUp = function(e, t) {
                        var i = this.displayed_[this.row_];
                        this.displayed_[this.row_] = i += t
                    }, _e.prototype.shiftRowsUp_ = function() {
                        var e;
                        for (e = 0; e < this.topRow_; e++) this.displayed_[e] = "";
                        for (e = this.row_ + 1; e < 15; e++) this.displayed_[e] = "";
                        for (e = this.topRow_; e < this.row_; e++) this.displayed_[e] = this.displayed_[e + 1];
                        this.displayed_[this.row_] = ""
                    }, _e.prototype.paintOn = function(e, t) {
                        var i = this.displayed_[this.row_];
                        this.displayed_[this.row_] = i += t
                    };
                    var Te = {
                            CaptionStream: me,
                            Cea608Stream: _e
                        },
                        Se = {
                            H264_STREAM_TYPE: 27,
                            ADTS_STREAM_TYPE: 15,
                            METADATA_STREAM_TYPE: 21
                        },
                        Ee = function(e, t) {
                            var i = 1;
                            for (t < e && (i = -1); 4294967296 < Math.abs(t - e);) e += 8589934592 * i;
                            return e
                        },
                        we = function e(t) {
                            var i, n;
                            e.prototype.init.call(this), this.type_ = t, this.push = function(e) {
                                e.type === this.type_ && (void 0 === n && (n = e.dts), e.dts = Ee(e.dts, n), e.pts = Ee(e.pts, n), i = e.dts, this.trigger("data", e))
                            }, this.flush = function() {
                                n = i, this.trigger("done")
                            }, this.discontinuity = function() {
                                i = n = void 0
                            }
                        };
                    we.prototype = new re;
                    var Ce, ke = we,
                        Pe = function(e, t, i) {
                            var n, r = "";
                            for (n = t; n < i; n++) r += "%" + ("00" + e[n].toString(16)).slice(-2);
                            return r
                        },
                        Ae = function(e, t, i) {
                            return decodeURIComponent(Pe(e, t, i))
                        },
                        Ie = function(e) {
                            return e[0] << 21 | e[1] << 14 | e[2] << 7 | e[3]
                        },
                        Le = {
                            TXXX: function(e) {
                                var t;
                                if (3 === e.data[0]) {
                                    for (t = 1; t < e.data.length; t++)
                                        if (0 === e.data[t]) {
                                            e.description = Ae(e.data, 1, t), e.value = Ae(e.data, t + 1, e.data.length).replace(/\0*$/, "");
                                            break
                                        } e.data = e.value
                                }
                            },
                            WXXX: function(e) {
                                var t;
                                if (3 === e.data[0])
                                    for (t = 1; t < e.data.length; t++)
                                        if (0 === e.data[t]) {
                                            e.description = Ae(e.data, 1, t), e.url = Ae(e.data, t + 1, e.data.length);
                                            break
                                        }
                            },
                            PRIV: function(e) {
                                var t;
                                for (t = 0; t < e.data.length; t++)
                                    if (0 === e.data[t]) {
                                        e.owner = unescape(Pe(e.data, 0, t));
                                        break
                                    } e.privateData = e.data.subarray(t + 1), e.data = e.privateData
                            }
                        };
                    (Ce = function(e) {
                        var t, i = {
                                debug: !(!e || !e.debug),
                                descriptor: e && e.descriptor
                            },
                            n = 0,
                            r = [],
                            a = 0;
                        if (Ce.prototype.init.call(this), this.dispatchType = Se.METADATA_STREAM_TYPE.toString(16), i.descriptor)
                            for (t = 0; t < i.descriptor.length; t++) this.dispatchType += ("00" + i.descriptor[t].toString(16)).slice(-2);
                        this.push = function(e) {
                            var t, i, o, s, l;
                            if ("timed-metadata" === e.type)
                                if (e.dataAlignmentIndicator && (a = 0, r.length = 0), 0 === r.length && (e.data.length < 10 || e.data[0] !== "I".charCodeAt(0) || e.data[1] !== "D".charCodeAt(0) || e.data[2] !== "3".charCodeAt(0)));
                                else if (r.push(e), a += e.data.byteLength, 1 === r.length && (n = Ie(e.data.subarray(6, 10)), n += 10), !(a < n)) {
                                for (t = {
                                        data: new Uint8Array(n),
                                        frames: [],
                                        pts: r[0].pts,
                                        dts: r[0].dts
                                    }, l = 0; l < n;) t.data.set(r[0].data.subarray(0, n - l), l), l += r[0].data.byteLength, a -= r[0].data.byteLength, r.shift();
                                i = 10, 64 & t.data[5] && (i += 4, i += Ie(t.data.subarray(10, 14)), n -= Ie(t.data.subarray(16, 20)));
                                do {
                                    if ((o = Ie(t.data.subarray(i + 4, i + 8))) < 1) return;
                                    if ((s = {
                                            id: String.fromCharCode(t.data[i], t.data[i + 1], t.data[i + 2], t.data[i + 3]),
                                            data: t.data.subarray(i + 10, i + o + 10)
                                        }).key = s.id, Le[s.id] && (Le[s.id](s), "com.apple.streaming.transportStreamTimestamp" === s.owner)) {
                                        var c = s.data,
                                            u = (1 & c[3]) << 30 | c[4] << 22 | c[5] << 14 | c[6] << 6 | c[7] >>> 2;
                                        u *= 4, s.timeStamp = u += 3 & c[7], void 0 === t.pts && void 0 === t.dts && (t.pts = s.timeStamp, t.dts = s.timeStamp), this.trigger("timestamp", s)
                                    }
                                    t.frames.push(s), i += 10, i += o
                                } while (i < n);
                                this.trigger("data", t)
                            }
                        }
                    }).prototype = new re;
                    var Oe, De, Re, xe = Ce,
                        Me = ke;
                    (Oe = function() {
                        var e = new Uint8Array(188),
                            t = 0;
                        Oe.prototype.init.call(this), this.push = function(i) {
                            var n, r = 0,
                                a = 188;
                            for (t ? ((n = new Uint8Array(i.byteLength + t)).set(e.subarray(0, t)), n.set(i, t), t = 0) : n = i; a < n.byteLength;) 71 !== n[r] || 71 !== n[a] ? (r++, a++) : (this.trigger("data", n.subarray(r, a)), r += 188, a += 188);
                            r < n.byteLength && (e.set(n.subarray(r), 0), t = n.byteLength - r)
                        }, this.flush = function() {
                            188 === t && 71 === e[0] && (this.trigger("data", e), t = 0), this.trigger("done")
                        }
                    }).prototype = new re, (De = function() {
                        var e, t, i, n;
                        De.prototype.init.call(this), (n = this).packetsWaitingForPmt = [], this.programMapTable = void 0, e = function(e, n) {
                            var r = 0;
                            n.payloadUnitStartIndicator && (r += e[r] + 1), "pat" === n.type ? t(e.subarray(r), n) : i(e.subarray(r), n)
                        }, t = function(e, t) {
                            t.section_number = e[7], t.last_section_number = e[8], n.pmtPid = (31 & e[10]) << 8 | e[11], t.pmtPid = n.pmtPid
                        }, i = function(e, t) {
                            var i, r;
                            if (1 & e[5]) {
                                for (n.programMapTable = {
                                        video: null,
                                        audio: null,
                                        "timed-metadata": {}
                                    }, i = 3 + ((15 & e[1]) << 8 | e[2]) - 4, r = 12 + ((15 & e[10]) << 8 | e[11]); r < i;) {
                                    var a = e[r],
                                        o = (31 & e[r + 1]) << 8 | e[r + 2];
                                    a === Se.H264_STREAM_TYPE && null === n.programMapTable.video ? n.programMapTable.video = o : a === Se.ADTS_STREAM_TYPE && null === n.programMapTable.audio ? n.programMapTable.audio = o : a === Se.METADATA_STREAM_TYPE && (n.programMapTable["timed-metadata"][o] = a), r += 5 + ((15 & e[r + 3]) << 8 | e[r + 4])
                                }
                                t.programMapTable = n.programMapTable
                            }
                        }, this.push = function(t) {
                            var i = {},
                                n = 4;
                            if (i.payloadUnitStartIndicator = !!(64 & t[1]), i.pid = 31 & t[1], i.pid <<= 8, i.pid |= t[2], 1 < (48 & t[3]) >>> 4 && (n += t[n] + 1), 0 === i.pid) i.type = "pat", e(t.subarray(n), i), this.trigger("data", i);
                            else if (i.pid === this.pmtPid)
                                for (i.type = "pmt", e(t.subarray(n), i), this.trigger("data", i); this.packetsWaitingForPmt.length;) this.processPes_.apply(this, this.packetsWaitingForPmt.shift());
                            else void 0 === this.programMapTable ? this.packetsWaitingForPmt.push([t, n, i]) : this.processPes_(t, n, i)
                        }, this.processPes_ = function(e, t, i) {
                            i.streamType = i.pid === this.programMapTable.video ? Se.H264_STREAM_TYPE : i.pid === this.programMapTable.audio ? Se.ADTS_STREAM_TYPE : this.programMapTable["timed-metadata"][i.pid], i.type = "pes", i.data = e.subarray(t), this.trigger("data", i)
                        }
                    }).prototype = new re, De.STREAM_TYPES = {
                        h264: 27,
                        adts: 15
                    }, (Re = function() {
                        var e = this,
                            t = {
                                data: [],
                                size: 0
                            },
                            i = {
                                data: [],
                                size: 0
                            },
                            n = {
                                data: [],
                                size: 0
                            },
                            r = function(t, i, n) {
                                var r, a, o = new Uint8Array(t.size),
                                    s = {
                                        type: i
                                    },
                                    l = 0,
                                    c = 0;
                                if (t.data.length && !(t.size < 9)) {
                                    for (s.trackId = t.data[0].pid, l = 0; l < t.data.length; l++) o.set((a = t.data[l]).data, c), c += a.data.byteLength;
                                    var u, d, h;
                                    (d = s).packetLength = 6 + ((u = o)[4] << 8 | u[5]), d.dataAlignmentIndicator = 0 != (4 & u[6]), 192 & (h = u[7]) && (d.pts = (14 & u[9]) << 27 | (255 & u[10]) << 20 | (254 & u[11]) << 12 | (255 & u[12]) << 5 | (254 & u[13]) >>> 3, d.pts *= 4, d.pts += (6 & u[13]) >>> 1, d.dts = d.pts, 64 & h && (d.dts = (14 & u[14]) << 27 | (255 & u[15]) << 20 | (254 & u[16]) << 12 | (255 & u[17]) << 5 | (254 & u[18]) >>> 3, d.dts *= 4, d.dts += (6 & u[18]) >>> 1)), d.data = u.subarray(9 + u[8]), r = "video" === i || s.packetLength <= t.size, (n || r) && (t.size = 0, t.data.length = 0), r && e.trigger("data", s)
                                }
                            };
                        Re.prototype.init.call(this), this.push = function(a) {
                            ({
                                pat: function() {},
                                pes: function() {
                                    var e, o;
                                    switch (a.streamType) {
                                        case Se.H264_STREAM_TYPE:
                                        case Se.H264_STREAM_TYPE:
                                            e = t, o = "video";
                                            break;
                                        case Se.ADTS_STREAM_TYPE:
                                            e = i, o = "audio";
                                            break;
                                        case Se.METADATA_STREAM_TYPE:
                                            e = n, o = "timed-metadata";
                                            break;
                                        default:
                                            return
                                    }
                                    a.payloadUnitStartIndicator && r(e, o, !0), e.data.push(a), e.size += a.data.byteLength
                                },
                                pmt: function() {
                                    var t = {
                                            type: "metadata",
                                            tracks: []
                                        },
                                        i = a.programMapTable;
                                    null !== i.video && t.tracks.push({
                                        timelineStartInfo: {
                                            baseMediaDecodeTime: 0
                                        },
                                        id: +i.video,
                                        codec: "avc",
                                        type: "video"
                                    }), null !== i.audio && t.tracks.push({
                                        timelineStartInfo: {
                                            baseMediaDecodeTime: 0
                                        },
                                        id: +i.audio,
                                        codec: "adts",
                                        type: "audio"
                                    }), e.trigger("data", t)
                                }
                            })[a.type]()
                        }, this.flush = function() {
                            r(t, "video"), r(i, "audio"), r(n, "timed-metadata"), this.trigger("done")
                        }
                    }).prototype = new re;
                    var Ue = {
                        PAT_PID: 0,
                        MP2T_PACKET_LENGTH: 188,
                        TransportPacketStream: Oe,
                        TransportParseStream: De,
                        ElementaryStream: Re,
                        TimestampRolloverStream: Me,
                        CaptionStream: Te.CaptionStream,
                        Cea608Stream: Te.Cea608Stream,
                        MetadataStream: xe
                    };
                    for (var Ne in Se) Se.hasOwnProperty(Ne) && (Ue[Ne] = Se[Ne]);
                    var Fe, Be = Ue,
                        Ve = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350];
                    (Fe = function() {
                        var e;
                        Fe.prototype.init.call(this), this.push = function(t) {
                            var i, n, r, a, o = 0,
                                s = 0;
                            if ("audio" === t.type)
                                for (e ? (n = e, (e = new Uint8Array(n.byteLength + t.data.byteLength)).set(n), e.set(t.data, n.byteLength)) : e = t.data; o + 5 < e.length;)
                                    if (255 === e[o] && 240 == (246 & e[o + 1])) {
                                        if (a = 9e4 * (r = 1024 * (1 + (3 & e[o + 6]))) / Ve[(60 & e[o + 2]) >>> 2], e.byteLength < (i = o + ((3 & e[o + 3]) << 11 | e[o + 4] << 3 | (224 & e[o + 5]) >> 5))) return;
                                        if (this.trigger("data", {
                                                pts: t.pts + s * a,
                                                dts: t.dts + s * a,
                                                sampleCount: r,
                                                audioobjecttype: 1 + (e[o + 2] >>> 6 & 3),
                                                channelcount: (1 & e[o + 2]) << 2 | (192 & e[o + 3]) >>> 6,
                                                samplerate: Ve[(60 & e[o + 2]) >>> 2],
                                                samplingfrequencyindex: (60 & e[o + 2]) >>> 2,
                                                samplesize: 16,
                                                data: e.subarray(o + 7 + 2 * (1 & ~e[o + 1]), i)
                                            }), e.byteLength === i) return void(e = void 0);
                                        s++, e = e.subarray(i)
                                    } else o++
                        }, this.flush = function() {
                            this.trigger("done")
                        }
                    }).prototype = new re;
                    var je, ze, qe, He = Fe,
                        Ge = function(e) {
                            var t = e.byteLength,
                                i = 0,
                                n = 0;
                            this.length = function() {
                                return 8 * t
                            }, this.bitsAvailable = function() {
                                return 8 * t + n
                            }, this.loadWord = function() {
                                var r = e.byteLength - t,
                                    a = new Uint8Array(4),
                                    o = Math.min(4, t);
                                if (0 === o) throw new Error("no bytes available");
                                a.set(e.subarray(r, r + o)), i = new DataView(a.buffer).getUint32(0), n = 8 * o, t -= o
                            }, this.skipBits = function(e) {
                                var r;
                                e < n || (e -= n, e -= 8 * (r = Math.floor(e / 8)), t -= r, this.loadWord()), i <<= e, n -= e
                            }, this.readBits = function(e) {
                                var r = Math.min(n, e),
                                    a = i >>> 32 - r;
                                return 0 < (n -= r) ? i <<= r : 0 < t && this.loadWord(), 0 < (r = e - r) ? a << r | this.readBits(r) : a
                            }, this.skipLeadingZeros = function() {
                                var e;
                                for (e = 0; e < n; ++e)
                                    if (0 != (i & 2147483648 >>> e)) return i <<= e, n -= e, e;
                                return this.loadWord(), e + this.skipLeadingZeros()
                            }, this.skipUnsignedExpGolomb = function() {
                                this.skipBits(1 + this.skipLeadingZeros())
                            }, this.skipExpGolomb = function() {
                                this.skipBits(1 + this.skipLeadingZeros())
                            }, this.readUnsignedExpGolomb = function() {
                                var e = this.skipLeadingZeros();
                                return this.readBits(e + 1) - 1
                            }, this.readExpGolomb = function() {
                                var e = this.readUnsignedExpGolomb();
                                return 1 & e ? 1 + e >>> 1 : -1 * (e >>> 1)
                            }, this.readBoolean = function() {
                                return 1 === this.readBits(1)
                            }, this.readUnsignedByte = function() {
                                return this.readBits(8)
                            }, this.loadWord()
                        };
                    (ze = function() {
                        var e, t, i = 0;
                        ze.prototype.init.call(this), this.push = function(n) {
                            var r;
                            for (t = t ? ((r = new Uint8Array(t.byteLength + n.data.byteLength)).set(t), r.set(n.data, t.byteLength), r) : n.data; i < t.byteLength - 3; i++)
                                if (1 === t[i + 2]) {
                                    e = i + 5;
                                    break
                                } for (; e < t.byteLength;) switch (t[e]) {
                                case 0:
                                    if (0 !== t[e - 1]) {
                                        e += 2;
                                        break
                                    }
                                    if (0 !== t[e - 2]) {
                                        e++;
                                        break
                                    }
                                    for (i + 3 !== e - 2 && this.trigger("data", t.subarray(i + 3, e - 2)); 1 !== t[++e] && e < t.length;);
                                    i = e - 2, e += 3;
                                    break;
                                case 1:
                                    if (0 !== t[e - 1] || 0 !== t[e - 2]) {
                                        e += 3;
                                        break
                                    }
                                    this.trigger("data", t.subarray(i + 3, e - 2)), i = e - 2, e += 3;
                                    break;
                                default:
                                    e += 3
                            }
                            t = t.subarray(i), e -= i, i = 0
                        }, this.flush = function() {
                            t && 3 < t.byteLength && this.trigger("data", t.subarray(i + 3)), t = null, i = 0, this.trigger("done")
                        }
                    }).prototype = new re, qe = {
                        100: !0,
                        110: !0,
                        122: !0,
                        244: !0,
                        44: !0,
                        83: !0,
                        86: !0,
                        118: !0,
                        128: !0,
                        138: !0,
                        139: !0,
                        134: !0
                    }, (je = function() {
                        var e, t, i, n, r, a, o, s = new ze;
                        je.prototype.init.call(this), (e = this).push = function(e) {
                            "video" === e.type && (t = e.trackId, i = e.pts, n = e.dts, s.push(e))
                        }, s.on("data", function(o) {
                            var s = {
                                trackId: t,
                                pts: i,
                                dts: n,
                                data: o
                            };
                            switch (31 & o[0]) {
                                case 5:
                                    s.nalUnitType = "slice_layer_without_partitioning_rbsp_idr";
                                    break;
                                case 6:
                                    s.nalUnitType = "sei_rbsp", s.escapedRBSP = r(o.subarray(1));
                                    break;
                                case 7:
                                    s.nalUnitType = "seq_parameter_set_rbsp", s.escapedRBSP = r(o.subarray(1)), s.config = a(s.escapedRBSP);
                                    break;
                                case 8:
                                    s.nalUnitType = "pic_parameter_set_rbsp";
                                    break;
                                case 9:
                                    s.nalUnitType = "access_unit_delimiter_rbsp"
                            }
                            e.trigger("data", s)
                        }), s.on("done", function() {
                            e.trigger("done")
                        }), this.flush = function() {
                            s.flush()
                        }, o = function(e, t) {
                            var i, n = 8,
                                r = 8;
                            for (i = 0; i < e; i++) 0 !== r && (r = (n + t.readExpGolomb() + 256) % 256), n = 0 === r ? n : r
                        }, r = function(e) {
                            for (var t, i, n = e.byteLength, r = [], a = 1; a < n - 2;) 0 === e[a] && 0 === e[a + 1] && 3 === e[a + 2] ? (r.push(a + 2), a += 2) : a++;
                            if (0 === r.length) return e;
                            t = n - r.length, i = new Uint8Array(t);
                            var o = 0;
                            for (a = 0; a < t; o++, a++) o === r[0] && (o++, r.shift()), i[a] = e[o];
                            return i
                        }, a = function(e) {
                            var t, i, n, r, a, s, l, c, u, d, h, p, f, m = 0,
                                g = 0,
                                y = 0,
                                v = 0,
                                b = 1;
                            if (i = (t = new Ge(e)).readUnsignedByte(), r = t.readUnsignedByte(), n = t.readUnsignedByte(), t.skipUnsignedExpGolomb(), qe[i] && (3 === (a = t.readUnsignedExpGolomb()) && t.skipBits(1), t.skipUnsignedExpGolomb(), t.skipUnsignedExpGolomb(), t.skipBits(1), t.readBoolean()))
                                for (h = 3 !== a ? 8 : 12, f = 0; f < h; f++) t.readBoolean() && o(f < 6 ? 16 : 64, t);
                            if (t.skipUnsignedExpGolomb(), 0 === (s = t.readUnsignedExpGolomb())) t.readUnsignedExpGolomb();
                            else if (1 === s)
                                for (t.skipBits(1), t.skipExpGolomb(), t.skipExpGolomb(), l = t.readUnsignedExpGolomb(), f = 0; f < l; f++) t.skipExpGolomb();
                            if (t.skipUnsignedExpGolomb(), t.skipBits(1), c = t.readUnsignedExpGolomb(), u = t.readUnsignedExpGolomb(), 0 === (d = t.readBits(1)) && t.skipBits(1), t.skipBits(1), t.readBoolean() && (m = t.readUnsignedExpGolomb(), g = t.readUnsignedExpGolomb(), y = t.readUnsignedExpGolomb(), v = t.readUnsignedExpGolomb()), t.readBoolean() && t.readBoolean()) {
                                switch (t.readUnsignedByte()) {
                                    case 1:
                                        p = [1, 1];
                                        break;
                                    case 2:
                                        p = [12, 11];
                                        break;
                                    case 3:
                                        p = [10, 11];
                                        break;
                                    case 4:
                                        p = [16, 11];
                                        break;
                                    case 5:
                                        p = [40, 33];
                                        break;
                                    case 6:
                                        p = [24, 11];
                                        break;
                                    case 7:
                                        p = [20, 11];
                                        break;
                                    case 8:
                                        p = [32, 11];
                                        break;
                                    case 9:
                                        p = [80, 33];
                                        break;
                                    case 10:
                                        p = [18, 11];
                                        break;
                                    case 11:
                                        p = [15, 11];
                                        break;
                                    case 12:
                                        p = [64, 33];
                                        break;
                                    case 13:
                                        p = [160, 99];
                                        break;
                                    case 14:
                                        p = [4, 3];
                                        break;
                                    case 15:
                                        p = [3, 2];
                                        break;
                                    case 16:
                                        p = [2, 1];
                                        break;
                                    case 255:
                                        p = [t.readUnsignedByte() << 8 | t.readUnsignedByte(), t.readUnsignedByte() << 8 | t.readUnsignedByte()]
                                }
                                p && (b = p[0] / p[1])
                            }
                            return {
                                profileIdc: i,
                                levelIdc: n,
                                profileCompatibility: r,
                                width: Math.ceil((16 * (c + 1) - 2 * m - 2 * g) * b),
                                height: (2 - d) * (u + 1) * 16 - 2 * y - 2 * v
                            }
                        }
                    }).prototype = new re;
                    var We, Ye = {
                            H264Stream: je,
                            NalByteStream: ze
                        },
                        Ke = function(e, t) {
                            var i = e[t + 6] << 21 | e[t + 7] << 14 | e[t + 8] << 7 | e[t + 9];
                            return (16 & e[t + 5]) >> 4 ? i + 20 : i + 10
                        },
                        Xe = function(e, t) {
                            return 6144 & e[t + 3] | e[t + 4] << 3 | (224 & e[t + 5]) >> 5
                        };
                    (We = function() {
                        var e = new Uint8Array,
                            t = 0;
                        We.prototype.init.call(this), this.setTimestamp = function(e) {
                            t = e
                        }, this.push = function(i) {
                            var n, r, a, o = 0,
                                s = 0;
                            for (e.length ? (a = e.length, (e = new Uint8Array(i.byteLength + a)).set(e.subarray(0, a)), e.set(i, a)) : e = i; 3 <= e.length - s;)
                                if (e[s] !== "I".charCodeAt(0) || e[s + 1] !== "D".charCodeAt(0) || e[s + 2] !== "3".charCodeAt(0))
                                    if (255 != (255 & e[s]) || 240 != (240 & e[s + 1])) s++;
                                    else {
                                        if (e.length - s < 7) break;
                                        if (s + (o = Xe(e, s)) > e.length) break;
                                        r = {
                                            type: "audio",
                                            data: e.subarray(s, s + o),
                                            pts: t,
                                            dts: t
                                        }, this.trigger("data", r), s += o
                                    }
                            else {
                                if (e.length - s < 10) break;
                                if (s + (o = Ke(e, s)) > e.length) break;
                                n = {
                                    type: "timed-metadata",
                                    data: e.subarray(s, s + o)
                                }, this.trigger("data", n), s += o
                            }
                            e = 0 < e.length - s ? e.subarray(s) : new Uint8Array
                        }
                    }).prototype = new re;
                    var Je, $e, Qe, Ze, et = We,
                        tt = Ye.H264Stream,
                        it = ["audioobjecttype", "channelcount", "samplerate", "samplingfrequencyindex", "samplesize"],
                        nt = ["width", "height", "profileIdc", "levelIdc", "profileCompatibility"],
                        rt = function(e, t) {
                            var i;
                            if (e.length !== t.length) return !1;
                            for (i = 0; i < e.length; i++)
                                if (e[i] !== t[i]) return !1;
                            return !0
                        };
                    ($e = function(e, t) {
                        var i = [],
                            n = 0,
                            r = 0,
                            a = 0,
                            o = 1 / 0;
                        t = t || {}, $e.prototype.init.call(this), this.push = function(t) {
                            fe(e, t), e && it.forEach(function(i) {
                                e[i] = t[i]
                            }), i.push(t)
                        }, this.setEarliestDts = function(t) {
                            r = t - e.timelineStartInfo.baseMediaDecodeTime
                        }, this.setVideoBaseMediaDecodeTime = function(e) {
                            o = e
                        }, this.setAudioAppendStart = function(e) {
                            a = e
                        }, this.flush = function() {
                            var s, l, c, u;
                            0 !== i.length && (s = function(e, t, i) {
                                return t.minSegmentDts >= i ? e : (t.minSegmentDts = 1 / 0, e.filter(function(e) {
                                    return e.dts >= i && (t.minSegmentDts = Math.min(t.minSegmentDts, e.dts), t.minSegmentPts = t.minSegmentDts, !0)
                                }))
                            }(i, e, r), e.baseMediaDecodeTime = pe(e, t.keepOriginalTimestamps), function(e, t, i, n) {
                                var r, a, o, s, l = 0,
                                    c = 0,
                                    u = 0;
                                if (t.length && (r = ue(e.baseMediaDecodeTime, e.samplerate), a = Math.ceil(9e4 / (e.samplerate / 1024)), i && n && (l = r - Math.max(i, n), u = (c = Math.floor(l / a)) * a), !(c < 1 || 45e3 < u))) {
                                    for ((o = ce[e.samplerate]) || (o = t[0].data), s = 0; s < c; s++) t.splice(s, 0, {
                                        data: o
                                    });
                                    e.baseMediaDecodeTime -= Math.floor(de(u, e.samplerate))
                                }
                            }(e, s, a, o), e.samples = function(e) {
                                var t, i = [];
                                for (t = 0; t < e.length; t++) i.push({
                                    size: e[t].data.byteLength,
                                    duration: 1024
                                });
                                return i
                            }(s), c = Y.mdat(function(e) {
                                var t, i, n = 0,
                                    r = new Uint8Array(function(e) {
                                        var t, i = 0;
                                        for (t = 0; t < e.length; t++) i += e[t].data.byteLength;
                                        return i
                                    }(e));
                                for (t = 0; t < e.length; t++) r.set((i = e[t]).data, n), n += i.data.byteLength;
                                return r
                            }(s)), i = [], l = Y.moof(n, [e]), u = new Uint8Array(l.byteLength + c.byteLength), n++, u.set(l), u.set(c, l.byteLength), he(e), this.trigger("data", {
                                track: e,
                                boxes: u
                            })), this.trigger("done", "AudioSegmentStream")
                        }
                    }).prototype = new re, (Je = function(e, t) {
                        var i, n, r = 0,
                            a = [],
                            o = [];
                        t = t || {}, Je.prototype.init.call(this), delete e.minPTS, this.gopCache_ = [], this.push = function(t) {
                            fe(e, t), "seq_parameter_set_rbsp" !== t.nalUnitType || i || (i = t.config, e.sps = [t.data], nt.forEach(function(t) {
                                e[t] = i[t]
                            }, this)), "pic_parameter_set_rbsp" !== t.nalUnitType || n || (n = t.data, e.pps = [t.data]), a.push(t)
                        }, this.flush = function() {
                            for (var i, n, s, l, c, u; a.length && "access_unit_delimiter_rbsp" !== a[0].nalUnitType;) a.shift();
                            if (0 === a.length) return this.resetStream_(), void this.trigger("done", "VideoSegmentStream");
                            if (i = function(e) {
                                    var t, i, n = [],
                                        r = [];
                                    for (t = n.byteLength = 0; t < e.length; t++) "access_unit_delimiter_rbsp" === (i = e[t]).nalUnitType ? (n.length && (n.duration = i.dts - n.dts, r.push(n)), (n = [i]).byteLength = i.data.byteLength, n.pts = i.pts, n.dts = i.dts) : ("slice_layer_without_partitioning_rbsp_idr" === i.nalUnitType && (n.keyFrame = !0), n.duration = i.dts - n.dts, n.byteLength += i.data.byteLength, n.push(i));
                                    return r.length && (!n.duration || n.duration <= 0) && (n.duration = r[r.length - 1].duration), r.push(n), r
                                }(a), (s = function(e) {
                                    var t, i, n = [],
                                        r = [];
                                    for (n.byteLength = 0, n.nalCount = 0, n.duration = 0, n.pts = e[0].pts, n.dts = e[0].dts, r.byteLength = 0, r.nalCount = 0, r.duration = 0, r.pts = e[0].pts, r.dts = e[0].dts, t = 0; t < e.length; t++)(i = e[t]).keyFrame ? (n.length && (r.push(n), r.byteLength += n.byteLength, r.nalCount += n.nalCount, r.duration += n.duration), (n = [i]).nalCount = i.length, n.byteLength = i.byteLength, n.pts = i.pts, n.dts = i.dts, n.duration = i.duration) : (n.duration += i.duration, n.nalCount += i.length, n.byteLength += i.byteLength, n.push(i));
                                    return r.length && n.duration <= 0 && (n.duration = r[r.length - 1].duration), r.byteLength += n.byteLength, r.nalCount += n.nalCount, r.duration += n.duration, r.push(n), r
                                }(i))[0][0].keyFrame || ((n = this.getGopForFusion_(a[0], e)) ? (s.unshift(n), s.byteLength += n.byteLength, s.nalCount += n.nalCount, s.pts = n.pts, s.dts = n.dts, s.duration += n.duration) : s = function(e) {
                                    var t;
                                    return !e[0][0].keyFrame && 1 < e.length && (t = e.shift(), e.byteLength -= t.byteLength, e.nalCount -= t.nalCount, e[0][0].dts = t.dts, e[0][0].pts = t.pts, e[0][0].duration += t.duration), e
                                }(s)), o.length) {
                                var d;
                                if (!(d = t.alignGopsAtEnd ? this.alignGopsAtEnd_(s) : this.alignGopsAtStart_(s))) return this.gopCache_.unshift({
                                    gop: s.pop(),
                                    pps: e.pps,
                                    sps: e.sps
                                }), this.gopCache_.length = Math.min(6, this.gopCache_.length), a = [], this.resetStream_(), void this.trigger("done", "VideoSegmentStream");
                                he(e), s = d
                            }
                            fe(e, s), e.samples = function(e, t) {
                                var i, n, r, a, o, s, l = 0,
                                    c = [];
                                for (i = 0; i < e.length; i++)
                                    for (a = e[i], n = 0; n < a.length; n++) o = a[n], s = void 0, (s = {
                                        size: 0,
                                        flags: {
                                            isLeading: 0,
                                            dependsOn: 1,
                                            isDependedOn: 0,
                                            hasRedundancy: 0,
                                            degradationPriority: 0,
                                            isNonSyncSample: 1
                                        }
                                    }).dataOffset = l, s.compositionTimeOffset = o.pts - o.dts, s.duration = o.duration, s.size = 4 * o.length, s.size += o.byteLength, o.keyFrame && (s.flags.dependsOn = 2, s.flags.isNonSyncSample = 0), l += (r = s).size, c.push(r);
                                return c
                            }(s), c = Y.mdat(function(e) {
                                var t, i, n, r, a, o, s = 0,
                                    l = new Uint8Array(e.byteLength + 4 * e.nalCount),
                                    c = new DataView(l.buffer);
                                for (t = 0; t < e.length; t++)
                                    for (r = e[t], i = 0; i < r.length; i++)
                                        for (a = r[i], n = 0; n < a.length; n++) c.setUint32(s, (o = a[n]).data.byteLength), l.set(o.data, s += 4), s += o.data.byteLength;
                                return l
                            }(s)), e.baseMediaDecodeTime = pe(e, t.keepOriginalTimestamps), this.trigger("processedGopsInfo", s.map(function(e) {
                                return {
                                    pts: e.pts,
                                    dts: e.dts,
                                    byteLength: e.byteLength
                                }
                            })), this.gopCache_.unshift({
                                gop: s.pop(),
                                pps: e.pps,
                                sps: e.sps
                            }), this.gopCache_.length = Math.min(6, this.gopCache_.length), a = [], this.trigger("baseMediaDecodeTime", e.baseMediaDecodeTime), this.trigger("timelineStartInfo", e.timelineStartInfo), l = Y.moof(r, [e]), u = new Uint8Array(l.byteLength + c.byteLength), r++, u.set(l), u.set(c, l.byteLength), this.trigger("data", {
                                track: e,
                                boxes: u
                            }), this.resetStream_(), this.trigger("done", "VideoSegmentStream")
                        }, this.resetStream_ = function() {
                            he(e), n = i = void 0
                        }, this.getGopForFusion_ = function(t) {
                            var i, n, r, a, o, s = 1 / 0;
                            for (o = 0; o < this.gopCache_.length; o++) r = (a = this.gopCache_[o]).gop, e.pps && rt(e.pps[0], a.pps[0]) && e.sps && rt(e.sps[0], a.sps[0]) && (r.dts < e.timelineStartInfo.dts || -1e4 <= (i = t.dts - r.dts - r.duration) && i <= 45e3 && (!n || i < s) && (n = a, s = i));
                            return n ? n.gop : null
                        }, this.alignGopsAtStart_ = function(e) {
                            var t, i, n, r, a, s, l, c;
                            for (a = e.byteLength, s = e.nalCount, l = e.duration, t = i = 0; t < o.length && i < e.length && (n = o[t]).pts !== (r = e[i]).pts;) r.pts > n.pts ? t++ : (i++, a -= r.byteLength, s -= r.nalCount, l -= r.duration);
                            return 0 === i ? e : i === e.length ? null : ((c = e.slice(i)).byteLength = a, c.duration = l, c.nalCount = s, c.pts = c[0].pts, c.dts = c[0].dts, c)
                        }, this.alignGopsAtEnd_ = function(e) {
                            var t, i, n, r, a, s, l;
                            for (t = o.length - 1, i = e.length - 1, a = null, s = !1; 0 <= t && 0 <= i;) {
                                if ((n = o[t]).pts === (r = e[i]).pts) {
                                    s = !0;
                                    break
                                }
                                n.pts > r.pts ? t-- : (t === o.length - 1 && (a = i), i--)
                            }
                            if (!s && null === a) return null;
                            if (0 === (l = s ? i : a)) return e;
                            var c = e.slice(l),
                                u = c.reduce(function(e, t) {
                                    return e.byteLength += t.byteLength, e.duration += t.duration, e.nalCount += t.nalCount, e
                                }, {
                                    byteLength: 0,
                                    duration: 0,
                                    nalCount: 0
                                });
                            return c.byteLength = u.byteLength, c.duration = u.duration, c.nalCount = u.nalCount, c.pts = c[0].pts, c.dts = c[0].dts, c
                        }, this.alignGopsWith = function(e) {
                            o = e
                        }
                    }).prototype = new re, (Ze = function(e, t) {
                        this.numberOfTracks = 0, this.metadataStream = t, this.remuxTracks = void 0 === (e = e || {}).remux || !!e.remux, "boolean" == typeof e.keepOriginalTimestamps && (this.keepOriginalTimestamps = e.keepOriginalTimestamps), this.pendingTracks = [], this.videoTrack = null, this.pendingBoxes = [], this.pendingCaptions = [], this.pendingMetadata = [], this.pendingBytes = 0, this.emittedTracks = 0, Ze.prototype.init.call(this), this.push = function(e) {
                            return e.text ? this.pendingCaptions.push(e) : e.frames ? this.pendingMetadata.push(e) : (this.pendingTracks.push(e.track), this.pendingBoxes.push(e.boxes), this.pendingBytes += e.boxes.byteLength, "video" === e.track.type && (this.videoTrack = e.track), void("audio" === e.track.type && (this.audioTrack = e.track)))
                        }
                    }).prototype = new re, Ze.prototype.flush = function(e) {
                        var t, i, n, r, a = 0,
                            o = {
                                captions: [],
                                captionStreams: {},
                                metadata: [],
                                info: {}
                            },
                            s = 0;
                        if (this.pendingTracks.length < this.numberOfTracks) {
                            if ("VideoSegmentStream" !== e && "AudioSegmentStream" !== e) return;
                            if (this.remuxTracks) return;
                            if (0 === this.pendingTracks.length) return this.emittedTracks++, void(this.emittedTracks >= this.numberOfTracks && (this.trigger("done"), this.emittedTracks = 0))
                        }
                        for (this.videoTrack ? (s = this.videoTrack.timelineStartInfo.pts, nt.forEach(function(e) {
                                o.info[e] = this.videoTrack[e]
                            }, this)) : this.audioTrack && (s = this.audioTrack.timelineStartInfo.pts, it.forEach(function(e) {
                                o.info[e] = this.audioTrack[e]
                            }, this)), o.type = 1 === this.pendingTracks.length ? this.pendingTracks[0].type : "combined", this.emittedTracks += this.pendingTracks.length, n = Y.initSegment(this.pendingTracks), o.initSegment = new Uint8Array(n.byteLength), o.initSegment.set(n), o.data = new Uint8Array(this.pendingBytes), r = 0; r < this.pendingBoxes.length; r++) o.data.set(this.pendingBoxes[r], a), a += this.pendingBoxes[r].byteLength;
                        for (r = 0; r < this.pendingCaptions.length; r++)(t = this.pendingCaptions[r]).startTime = t.startPts, this.keepOriginalTimestamps || (t.startTime -= s), t.startTime /= 9e4, t.endTime = t.endPts, this.keepOriginalTimestamps || (t.endTime -= s), t.endTime /= 9e4, o.captionStreams[t.stream] = !0, o.captions.push(t);
                        for (r = 0; r < this.pendingMetadata.length; r++)(i = this.pendingMetadata[r]).cueTime = i.pts, this.keepOriginalTimestamps || (i.cueTime -= s), i.cueTime /= 9e4, o.metadata.push(i);
                        o.metadata.dispatchType = this.metadataStream.dispatchType, this.pendingTracks.length = 0, this.videoTrack = null, this.pendingBoxes.length = 0, this.pendingCaptions.length = 0, this.pendingBytes = 0, this.pendingMetadata.length = 0, this.trigger("data", o), this.emittedTracks >= this.numberOfTracks && (this.trigger("done"), this.emittedTracks = 0)
                    }, (Qe = function(e) {
                        var t, i, n = this,
                            r = !0;
                        Qe.prototype.init.call(this), this.baseMediaDecodeTime = (e = e || {}).baseMediaDecodeTime || 0, this.transmuxPipeline_ = {}, this.setupAacPipeline = function() {
                            var t = {};
                            (this.transmuxPipeline_ = t).type = "aac", t.metadataStream = new Be.MetadataStream, t.aacStream = new et, t.audioTimestampRolloverStream = new Be.TimestampRolloverStream("audio"), t.timedMetadataTimestampRolloverStream = new Be.TimestampRolloverStream("timed-metadata"), t.adtsStream = new He, t.coalesceStream = new Ze(e, t.metadataStream), t.headOfPipeline = t.aacStream, t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream), t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream), t.metadataStream.on("timestamp", function(e) {
                                t.aacStream.setTimestamp(e.timeStamp)
                            }), t.aacStream.on("data", function(r) {
                                "timed-metadata" !== r.type || t.audioSegmentStream || (i = i || {
                                    timelineStartInfo: {
                                        baseMediaDecodeTime: n.baseMediaDecodeTime
                                    },
                                    codec: "adts",
                                    type: "audio"
                                }, t.coalesceStream.numberOfTracks++, t.audioSegmentStream = new $e(i, e), t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream))
                            }), t.coalesceStream.on("data", this.trigger.bind(this, "data")), t.coalesceStream.on("done", this.trigger.bind(this, "done"))
                        }, this.setupTsPipeline = function() {
                            var r = {};
                            (this.transmuxPipeline_ = r).type = "ts", r.metadataStream = new Be.MetadataStream, r.packetStream = new Be.TransportPacketStream, r.parseStream = new Be.TransportParseStream, r.elementaryStream = new Be.ElementaryStream, r.videoTimestampRolloverStream = new Be.TimestampRolloverStream("video"), r.audioTimestampRolloverStream = new Be.TimestampRolloverStream("audio"), r.timedMetadataTimestampRolloverStream = new Be.TimestampRolloverStream("timed-metadata"), r.adtsStream = new He, r.h264Stream = new tt, r.captionStream = new Be.CaptionStream, r.coalesceStream = new Ze(e, r.metadataStream), r.headOfPipeline = r.packetStream, r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream), r.elementaryStream.pipe(r.videoTimestampRolloverStream).pipe(r.h264Stream), r.elementaryStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream), r.elementaryStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream), r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream), r.elementaryStream.on("data", function(a) {
                                var o;
                                if ("metadata" === a.type) {
                                    for (o = a.tracks.length; o--;) t || "video" !== a.tracks[o].type ? i || "audio" !== a.tracks[o].type || ((i = a.tracks[o]).timelineStartInfo.baseMediaDecodeTime = n.baseMediaDecodeTime) : (t = a.tracks[o]).timelineStartInfo.baseMediaDecodeTime = n.baseMediaDecodeTime;
                                    t && !r.videoSegmentStream && (r.coalesceStream.numberOfTracks++, r.videoSegmentStream = new Je(t, e), r.videoSegmentStream.on("timelineStartInfo", function(e) {
                                        i && (i.timelineStartInfo = e, r.audioSegmentStream.setEarliestDts(e.dts))
                                    }), r.videoSegmentStream.on("processedGopsInfo", n.trigger.bind(n, "gopInfo")), r.videoSegmentStream.on("baseMediaDecodeTime", function(e) {
                                        i && r.audioSegmentStream.setVideoBaseMediaDecodeTime(e)
                                    }), r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)), i && !r.audioSegmentStream && (r.coalesceStream.numberOfTracks++, r.audioSegmentStream = new $e(i, e), r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream))
                                }
                            }), r.coalesceStream.on("data", this.trigger.bind(this, "data")), r.coalesceStream.on("done", this.trigger.bind(this, "done"))
                        }, this.setBaseMediaDecodeTime = function(n) {
                            var r = this.transmuxPipeline_;
                            e.keepOriginalTimestamps || (this.baseMediaDecodeTime = n), i && (i.timelineStartInfo.dts = void 0, i.timelineStartInfo.pts = void 0, he(i), e.keepOriginalTimestamps || (i.timelineStartInfo.baseMediaDecodeTime = n), r.audioTimestampRolloverStream && r.audioTimestampRolloverStream.discontinuity()), t && (r.videoSegmentStream && (r.videoSegmentStream.gopCache_ = [], r.videoTimestampRolloverStream.discontinuity()), t.timelineStartInfo.dts = void 0, t.timelineStartInfo.pts = void 0, he(t), r.captionStream.reset(), e.keepOriginalTimestamps || (t.timelineStartInfo.baseMediaDecodeTime = n)), r.timedMetadataTimestampRolloverStream && r.timedMetadataTimestampRolloverStream.discontinuity()
                        }, this.setAudioAppendStart = function(e) {
                            i && this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)
                        }, this.alignGopsWith = function(e) {
                            t && this.transmuxPipeline_.videoSegmentStream && this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)
                        }, this.push = function(e) {
                            if (r) {
                                var t = function(e) {
                                    return e[0] === "I".charCodeAt(0) && e[1] === "D".charCodeAt(0) && e[2] === "3".charCodeAt(0)
                                }(e);
                                t && "aac" !== this.transmuxPipeline_.type ? this.setupAacPipeline() : t || "ts" === this.transmuxPipeline_.type || this.setupTsPipeline(), r = !1
                            }
                            this.transmuxPipeline_.headOfPipeline.push(e)
                        }, this.flush = function() {
                            r = !0, this.transmuxPipeline_.headOfPipeline.flush()
                        }, this.resetCaptions = function() {
                            this.transmuxPipeline_.captionStream && this.transmuxPipeline_.captionStream.reset()
                        }
                    }).prototype = new re;
                    var at, ot, st = {
                            Transmuxer: Qe,
                            VideoSegmentStream: Je,
                            AudioSegmentStream: $e,
                            AUDIO_PROPERTIES: it,
                            VIDEO_PROPERTIES: nt
                        },
                        lt = X.parseType,
                        ct = function(e) {
                            return new Date(1e3 * e - 20828448e5)
                        },
                        ut = function(e) {
                            return {
                                isLeading: (12 & e[0]) >>> 2,
                                dependsOn: 3 & e[0],
                                isDependedOn: (192 & e[1]) >>> 6,
                                hasRedundancy: (48 & e[1]) >>> 4,
                                paddingValue: (14 & e[1]) >>> 1,
                                isNonSyncSample: 1 & e[1],
                                degradationPriority: e[2] << 8 | e[3]
                            }
                        },
                        dt = {
                            avc1: function(e) {
                                var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                                return {
                                    dataReferenceIndex: t.getUint16(6),
                                    width: t.getUint16(24),
                                    height: t.getUint16(26),
                                    horizresolution: t.getUint16(28) + t.getUint16(30) / 16,
                                    vertresolution: t.getUint16(32) + t.getUint16(34) / 16,
                                    frameCount: t.getUint16(40),
                                    depth: t.getUint16(74),
                                    config: at(e.subarray(78, e.byteLength))
                                }
                            },
                            avcC: function(e) {
                                var t, i, n, r, a = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    o = {
                                        configurationVersion: e[0],
                                        avcProfileIndication: e[1],
                                        profileCompatibility: e[2],
                                        avcLevelIndication: e[3],
                                        lengthSizeMinusOne: 3 & e[4],
                                        sps: [],
                                        pps: []
                                    },
                                    s = 31 & e[5];
                                for (n = 6, r = 0; r < s; r++) i = a.getUint16(n), n += 2, o.sps.push(new Uint8Array(e.subarray(n, n + i))), n += i;
                                for (t = e[n], n++, r = 0; r < t; r++) i = a.getUint16(n), n += 2, o.pps.push(new Uint8Array(e.subarray(n, n + i))), n += i;
                                return o
                            },
                            btrt: function(e) {
                                var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                                return {
                                    bufferSizeDB: t.getUint32(0),
                                    maxBitrate: t.getUint32(4),
                                    avgBitrate: t.getUint32(8)
                                }
                            },
                            esds: function(e) {
                                return {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    esId: e[6] << 8 | e[7],
                                    streamPriority: 31 & e[8],
                                    decoderConfig: {
                                        objectProfileIndication: e[11],
                                        streamType: e[12] >>> 2 & 63,
                                        bufferSize: e[13] << 16 | e[14] << 8 | e[15],
                                        maxBitrate: e[16] << 24 | e[17] << 16 | e[18] << 8 | e[19],
                                        avgBitrate: e[20] << 24 | e[21] << 16 | e[22] << 8 | e[23],
                                        decoderConfigDescriptor: {
                                            tag: e[24],
                                            length: e[25],
                                            audioObjectType: e[26] >>> 3 & 31,
                                            samplingFrequencyIndex: (7 & e[26]) << 1 | e[27] >>> 7 & 1,
                                            channelConfiguration: e[27] >>> 3 & 15
                                        }
                                    }
                                }
                            },
                            ftyp: function(e) {
                                for (var t = new DataView(e.buffer, e.byteOffset, e.byteLength), i = {
                                        majorBrand: lt(e.subarray(0, 4)),
                                        minorVersion: t.getUint32(4),
                                        compatibleBrands: []
                                    }, n = 8; n < e.byteLength;) i.compatibleBrands.push(lt(e.subarray(n, n + 4))), n += 4;
                                return i
                            },
                            dinf: function(e) {
                                return {
                                    boxes: at(e)
                                }
                            },
                            dref: function(e) {
                                return {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    dataReferences: at(e.subarray(8))
                                }
                            },
                            hdlr: function(e) {
                                var t = {
                                        version: new DataView(e.buffer, e.byteOffset, e.byteLength).getUint8(0),
                                        flags: new Uint8Array(e.subarray(1, 4)),
                                        handlerType: lt(e.subarray(8, 12)),
                                        name: ""
                                    },
                                    i = 8;
                                for (i = 24; i < e.byteLength; i++) {
                                    if (0 === e[i]) {
                                        i++;
                                        break
                                    }
                                    t.name += String.fromCharCode(e[i])
                                }
                                return t.name = decodeURIComponent(escape(t.name)), t
                            },
                            mdat: function(e) {
                                return {
                                    byteLength: e.byteLength,
                                    nals: function(e) {
                                        var t, i, n = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                            r = [];
                                        for (t = 0; t + 4 < e.length; t += i)
                                            if (i = n.getUint32(t), t += 4, i <= 0) r.push("<span style='color:red;'>MALFORMED DATA</span>");
                                            else switch (31 & e[t]) {
                                                case 1:
                                                    r.push("slice_layer_without_partitioning_rbsp");
                                                    break;
                                                case 5:
                                                    r.push("slice_layer_without_partitioning_rbsp_idr");
                                                    break;
                                                case 6:
                                                    r.push("sei_rbsp");
                                                    break;
                                                case 7:
                                                    r.push("seq_parameter_set_rbsp");
                                                    break;
                                                case 8:
                                                    r.push("pic_parameter_set_rbsp");
                                                    break;
                                                case 9:
                                                    r.push("access_unit_delimiter_rbsp");
                                                    break;
                                                default:
                                                    r.push("UNKNOWN NAL - " + e[t] & 31)
                                            }
                                        return r
                                    }(e)
                                }
                            },
                            mdhd: function(e) {
                                var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    n = 4,
                                    r = {
                                        version: i.getUint8(0),
                                        flags: new Uint8Array(e.subarray(1, 4)),
                                        language: ""
                                    };
                                return 1 === r.version ? (r.creationTime = ct(i.getUint32(n += 4)), r.modificationTime = ct(i.getUint32(n += 8)), r.timescale = i.getUint32(n += 4), n += 8) : (r.creationTime = ct(i.getUint32(n)), r.modificationTime = ct(i.getUint32(n += 4)), r.timescale = i.getUint32(n += 4), n += 4), r.duration = i.getUint32(n), t = i.getUint16(n += 4), r.language += String.fromCharCode(96 + (t >> 10)), r.language += String.fromCharCode(96 + ((992 & t) >> 5)), r.language += String.fromCharCode(96 + (31 & t)), r
                            },
                            mdia: function(e) {
                                return {
                                    boxes: at(e)
                                }
                            },
                            mfhd: function(e) {
                                return {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    sequenceNumber: e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7]
                                }
                            },
                            minf: function(e) {
                                return {
                                    boxes: at(e)
                                }
                            },
                            mp4a: function(e) {
                                var t = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    i = {
                                        dataReferenceIndex: t.getUint16(6),
                                        channelcount: t.getUint16(16),
                                        samplesize: t.getUint16(18),
                                        samplerate: t.getUint16(24) + t.getUint16(26) / 65536
                                    };
                                return 28 < e.byteLength && (i.streamDescriptor = at(e.subarray(28))[0]), i
                            },
                            moof: function(e) {
                                return {
                                    boxes: at(e)
                                }
                            },
                            moov: function(e) {
                                return {
                                    boxes: at(e)
                                }
                            },
                            mvex: function(e) {
                                return {
                                    boxes: at(e)
                                }
                            },
                            mvhd: function(e) {
                                var t = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    i = 4,
                                    n = {
                                        version: t.getUint8(0),
                                        flags: new Uint8Array(e.subarray(1, 4))
                                    };
                                return 1 === n.version ? (n.creationTime = ct(t.getUint32(i += 4)), n.modificationTime = ct(t.getUint32(i += 8)), n.timescale = t.getUint32(i += 4), i += 8) : (n.creationTime = ct(t.getUint32(i)), n.modificationTime = ct(t.getUint32(i += 4)), n.timescale = t.getUint32(i += 4), i += 4), n.duration = t.getUint32(i), n.rate = t.getUint16(i += 4) + t.getUint16(i + 2) / 16, n.volume = t.getUint8(i += 4) + t.getUint8(i + 1) / 8, i += 2, i += 2, i += 8, n.matrix = new Uint32Array(e.subarray(i, i + 36)), i += 36, n.nextTrackId = t.getUint32(i += 24), n
                            },
                            pdin: function(e) {
                                var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                                return {
                                    version: t.getUint8(0),
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    rate: t.getUint32(4),
                                    initialDelay: t.getUint32(8)
                                }
                            },
                            sdtp: function(e) {
                                var t, i = {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    samples: []
                                };
                                for (t = 4; t < e.byteLength; t++) i.samples.push({
                                    dependsOn: (48 & e[t]) >> 4,
                                    isDependedOn: (12 & e[t]) >> 2,
                                    hasRedundancy: 3 & e[t]
                                });
                                return i
                            },
                            sidx: function(e) {
                                var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    n = {
                                        version: e[0],
                                        flags: new Uint8Array(e.subarray(1, 4)),
                                        references: [],
                                        referenceId: i.getUint32(4),
                                        timescale: i.getUint32(8),
                                        earliestPresentationTime: i.getUint32(12),
                                        firstOffset: i.getUint32(16)
                                    },
                                    r = i.getUint16(22);
                                for (t = 24; r; t += 12, r--) n.references.push({
                                    referenceType: (128 & e[t]) >>> 7,
                                    referencedSize: 2147483647 & i.getUint32(t),
                                    subsegmentDuration: i.getUint32(t + 4),
                                    startsWithSap: !!(128 & e[t + 8]),
                                    sapType: (112 & e[t + 8]) >>> 4,
                                    sapDeltaTime: 268435455 & i.getUint32(t + 8)
                                });
                                return n
                            },
                            smhd: function(e) {
                                return {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    balance: e[4] + e[5] / 256
                                }
                            },
                            stbl: function(e) {
                                return {
                                    boxes: at(e)
                                }
                            },
                            stco: function(e) {
                                var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    n = {
                                        version: e[0],
                                        flags: new Uint8Array(e.subarray(1, 4)),
                                        chunkOffsets: []
                                    },
                                    r = i.getUint32(4);
                                for (t = 8; r; t += 4, r--) n.chunkOffsets.push(i.getUint32(t));
                                return n
                            },
                            stsc: function(e) {
                                var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    n = i.getUint32(4),
                                    r = {
                                        version: e[0],
                                        flags: new Uint8Array(e.subarray(1, 4)),
                                        sampleToChunks: []
                                    };
                                for (t = 8; n; t += 12, n--) r.sampleToChunks.push({
                                    firstChunk: i.getUint32(t),
                                    samplesPerChunk: i.getUint32(t + 4),
                                    sampleDescriptionIndex: i.getUint32(t + 8)
                                });
                                return r
                            },
                            stsd: function(e) {
                                return {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    sampleDescriptions: at(e.subarray(8))
                                }
                            },
                            stsz: function(e) {
                                var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    n = {
                                        version: e[0],
                                        flags: new Uint8Array(e.subarray(1, 4)),
                                        sampleSize: i.getUint32(4),
                                        entries: []
                                    };
                                for (t = 12; t < e.byteLength; t += 4) n.entries.push(i.getUint32(t));
                                return n
                            },
                            stts: function(e) {
                                var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    n = {
                                        version: e[0],
                                        flags: new Uint8Array(e.subarray(1, 4)),
                                        timeToSamples: []
                                    },
                                    r = i.getUint32(4);
                                for (t = 8; r; t += 8, r--) n.timeToSamples.push({
                                    sampleCount: i.getUint32(t),
                                    sampleDelta: i.getUint32(t + 4)
                                });
                                return n
                            },
                            styp: function(e) {
                                return dt.ftyp(e)
                            },
                            tfdt: function(e) {
                                var t = {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    baseMediaDecodeTime: e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7]
                                };
                                return 1 === t.version && (t.baseMediaDecodeTime *= Math.pow(2, 32), t.baseMediaDecodeTime += e[8] << 24 | e[9] << 16 | e[10] << 8 | e[11]), t
                            },
                            tfhd: function(e) {
                                var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    n = {
                                        version: e[0],
                                        flags: new Uint8Array(e.subarray(1, 4)),
                                        trackId: i.getUint32(4)
                                    },
                                    r = 1 & n.flags[2],
                                    a = 2 & n.flags[2],
                                    o = 8 & n.flags[2],
                                    s = 16 & n.flags[2],
                                    l = 32 & n.flags[2],
                                    c = 65536 & n.flags[0],
                                    u = 131072 & n.flags[0];
                                return t = 8, r && (t += 4, n.baseDataOffset = i.getUint32(12), t += 4), a && (n.sampleDescriptionIndex = i.getUint32(t), t += 4), o && (n.defaultSampleDuration = i.getUint32(t), t += 4), s && (n.defaultSampleSize = i.getUint32(t), t += 4), l && (n.defaultSampleFlags = i.getUint32(t)), c && (n.durationIsEmpty = !0), !r && u && (n.baseDataOffsetIsMoof = !0), n
                            },
                            tkhd: function(e) {
                                var t = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    i = 4,
                                    n = {
                                        version: t.getUint8(0),
                                        flags: new Uint8Array(e.subarray(1, 4))
                                    };
                                return 1 === n.version ? (n.creationTime = ct(t.getUint32(i += 4)), n.modificationTime = ct(t.getUint32(i += 8)), n.trackId = t.getUint32(i += 4), i += 4, i += 8) : (n.creationTime = ct(t.getUint32(i)), n.modificationTime = ct(t.getUint32(i += 4)), n.trackId = t.getUint32(i += 4), i += 4, i += 4), n.duration = t.getUint32(i), i += 4, n.layer = t.getUint16(i += 8), n.alternateGroup = t.getUint16(i += 2), n.volume = t.getUint8(i += 2) + t.getUint8(i + 1) / 8, i += 2, i += 2, n.matrix = new Uint32Array(e.subarray(i, i + 36)), n.width = t.getUint16(i += 36) + t.getUint16(i + 2) / 16, n.height = t.getUint16(i += 4) + t.getUint16(i + 2) / 16, n
                            },
                            traf: function(e) {
                                return {
                                    boxes: at(e)
                                }
                            },
                            trak: function(e) {
                                return {
                                    boxes: at(e)
                                }
                            },
                            trex: function(e) {
                                var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                                return {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    trackId: t.getUint32(4),
                                    defaultSampleDescriptionIndex: t.getUint32(8),
                                    defaultSampleDuration: t.getUint32(12),
                                    defaultSampleSize: t.getUint32(16),
                                    sampleDependsOn: 3 & e[20],
                                    sampleIsDependedOn: (192 & e[21]) >> 6,
                                    sampleHasRedundancy: (48 & e[21]) >> 4,
                                    samplePaddingValue: (14 & e[21]) >> 1,
                                    sampleIsDifferenceSample: !!(1 & e[21]),
                                    sampleDegradationPriority: t.getUint16(22)
                                }
                            },
                            trun: function(e) {
                                var t, i = {
                                        version: e[0],
                                        flags: new Uint8Array(e.subarray(1, 4)),
                                        samples: []
                                    },
                                    n = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    r = 1 & i.flags[2],
                                    a = 4 & i.flags[2],
                                    o = 1 & i.flags[1],
                                    s = 2 & i.flags[1],
                                    l = 4 & i.flags[1],
                                    c = 8 & i.flags[1],
                                    u = n.getUint32(4),
                                    d = 8;
                                for (r && (i.dataOffset = n.getInt32(d), d += 4), a && u && (t = {
                                        flags: ut(e.subarray(d, d + 4))
                                    }, d += 4, o && (t.duration = n.getUint32(d), d += 4), s && (t.size = n.getUint32(d), d += 4), c && (t.compositionTimeOffset = n.getUint32(d), d += 4), i.samples.push(t), u--); u--;) t = {}, o && (t.duration = n.getUint32(d), d += 4), s && (t.size = n.getUint32(d), d += 4), l && (t.flags = ut(e.subarray(d, d + 4)), d += 4), c && (t.compositionTimeOffset = n.getUint32(d), d += 4), i.samples.push(t);
                                return i
                            },
                            "url ": function(e) {
                                return {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4))
                                }
                            },
                            vmhd: function(e) {
                                var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                                return {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    graphicsmode: t.getUint16(4),
                                    opcolor: new Uint16Array([t.getUint16(6), t.getUint16(8), t.getUint16(10)])
                                }
                            }
                        },
                        ht = {
                            inspect: at = function(e) {
                                for (var t, i, n, r, a, o = 0, s = [], l = new ArrayBuffer(e.length), c = new Uint8Array(l), u = 0; u < e.length; ++u) c[u] = e[u];
                                for (t = new DataView(l); o < e.byteLength;) i = t.getUint32(o), n = lt(e.subarray(o + 4, o + 8)), (a = (dt[n] || function(e) {
                                    return {
                                        data: e
                                    }
                                })(e.subarray(o + 8, r = 1 < i ? o + i : e.byteLength))).size = i, a.type = n, s.push(a), o = r;
                                return s
                            },
                            textify: ot = function(e, t) {
                                var i;
                                return t = t || 0, i = new Array(2 * t + 1).join(" "), e.map(function(e, n) {
                                    return i + e.type + "\n" + Object.keys(e).filter(function(e) {
                                        return "type" !== e && "boxes" !== e
                                    }).map(function(t) {
                                        var n = i + "  " + t + ": ",
                                            r = e[t];
                                        if (r instanceof Uint8Array || r instanceof Uint32Array) {
                                            var a = Array.prototype.slice.call(new Uint8Array(r.buffer, r.byteOffset, r.byteLength)).map(function(e) {
                                                return " " + ("00" + e.toString(16)).slice(-2)
                                            }).join("").match(/.{1,24}/g);
                                            return a ? 1 === a.length ? n + "<" + a.join("").slice(1) + ">" : n + "<\n" + a.map(function(e) {
                                                return i + "  " + e
                                            }).join("\n") + "\n" + i + "  >" : n + "<>"
                                        }
                                        return n + JSON.stringify(r, null, 2).split("\n").map(function(e, t) {
                                            return 0 === t ? e : i + "  " + e
                                        }).join("\n")
                                    }).join("\n") + (e.boxes ? "\n" + ot(e.boxes, t + 1) : "")
                                }).join("\n")
                            },
                            parseTfdt: dt.tfdt,
                            parseHdlr: dt.hdlr,
                            parseTfhd: dt.tfhd,
                            parseTrun: dt.trun
                        },
                        pt = function(e) {
                            for (var t, i, n = e.byteLength, r = [], a = 1; a < n - 2;) 0 === e[a] && 0 === e[a + 1] && 3 === e[a + 2] ? (r.push(a + 2), a += 2) : a++;
                            if (0 === r.length) return e;
                            t = n - r.length, i = new Uint8Array(t);
                            var o = 0;
                            for (a = 0; a < t; o++, a++) o === r[0] && (o++, r.shift()), i[a] = e[o];
                            return i
                        },
                        ft = Te.CaptionStream,
                        mt = function(e, t) {
                            for (var i = e, n = 0; n < t.length; n++) {
                                var r = t[n];
                                if (i < r.size) return r;
                                i -= r.size
                            }
                            return null
                        },
                        gt = function(e, t) {
                            var i = X.findBox(e, ["moof", "traf"]),
                                n = X.findBox(e, ["mdat"]),
                                r = {},
                                a = [];
                            return n.forEach(function(e, t) {
                                a.push({
                                    mdat: e,
                                    traf: i[t]
                                })
                            }), a.forEach(function(e) {
                                var i, n, a, o, s, l, c, u = e.mdat,
                                    d = e.traf,
                                    h = X.findBox(d, ["tfhd"]),
                                    p = ht.parseTfhd(h[0]),
                                    f = p.trackId,
                                    m = X.findBox(d, ["tfdt"]),
                                    g = 0 < m.length ? ht.parseTfdt(m[0]).baseMediaDecodeTime : 0,
                                    y = X.findBox(d, ["trun"]);
                                t === f && 0 < y.length && (a = g, o = (n = p).defaultSampleDuration || 0, s = n.defaultSampleSize || 0, l = n.trackId, c = [], y.forEach(function(e) {
                                    var t = ht.parseTrun(e).samples;
                                    t.forEach(function(e) {
                                        void 0 === e.duration && (e.duration = o), void 0 === e.size && (e.size = s), e.trackId = l, e.dts = a, void 0 === e.compositionTimeOffset && (e.compositionTimeOffset = 0), e.pts = a + e.compositionTimeOffset, a += e.duration
                                    }), c = c.concat(t)
                                }), i = function(e, t, i) {
                                    var n, r, a, o, s = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                        l = [];
                                    for (r = 0; r + 4 < e.length; r += a)
                                        if (a = s.getUint32(r), r += 4, !(a <= 0)) switch (31 & e[r]) {
                                            case 6:
                                                var c = e.subarray(r + 1, r + 1 + a),
                                                    u = mt(r, t);
                                                n = {
                                                    nalUnitType: "sei_rbsp",
                                                    size: a,
                                                    data: c,
                                                    escapedRBSP: pt(c),
                                                    trackId: i
                                                }, u ? (n.pts = u.pts, n.dts = u.dts, o = u) : (n.pts = o.pts, n.dts = o.dts), l.push(n)
                                        }
                                    return l
                                }(u, c, f), r[f] || (r[f] = []), r[f] = r[f].concat(i))
                            }), r
                        },
                        yt = {
                            generator: Y,
                            probe: X,
                            Transmuxer: st.Transmuxer,
                            AudioSegmentStream: st.AudioSegmentStream,
                            VideoSegmentStream: st.VideoSegmentStream,
                            CaptionParser: function() {
                                var e, t, i, n, r, a = !1;
                                this.isInitialized = function() {
                                    return a
                                }, this.init = function() {
                                    e = new ft, a = !0, e.on("data", function(e) {
                                        e.startTime = e.startPts / n, e.endTime = e.endPts / n, r.captions.push(e), r.captionStreams[e.stream] = !0
                                    })
                                }, this.isNewInit = function(e, t) {
                                    return !(e && 0 === e.length || t && "object" == typeof t && 0 === Object.keys(t).length || i === e[0] && n === t[i])
                                }, this.parse = function(e, a, o) {
                                    var s, l, c;
                                    if (!this.isInitialized()) return null;
                                    if (!a || !o) return null;
                                    if (this.isNewInit(a, o)) n = o[i = a[0]];
                                    else if (!i || !n) return t.push(e), null;
                                    for (; 0 < t.length;) {
                                        var u = t.shift();
                                        this.parse(u, a, o)
                                    }
                                    return c = n, null !== (s = (l = i) ? {
                                        seiNals: gt(e, l)[l],
                                        timescale: c
                                    } : null) && s.seiNals ? (this.pushNals(s.seiNals), this.flushStream(), r) : null
                                }, this.pushNals = function(t) {
                                    if (!this.isInitialized() || !t || 0 === t.length) return null;
                                    t.forEach(function(t) {
                                        e.push(t)
                                    })
                                }, this.flushStream = function() {
                                    if (!this.isInitialized()) return null;
                                    e.flush()
                                }, this.clearParsedCaptions = function() {
                                    r.captions = [], r.captionStreams = {}
                                }, this.resetCaptionStream = function() {
                                    if (!this.isInitialized()) return null;
                                    e.reset()
                                }, this.clearAllCaptions = function() {
                                    this.clearParsedCaptions(), this.resetCaptionStream()
                                }, this.reset = function() {
                                    t = [], n = i = null, r ? this.clearParsedCaptions() : r = {
                                        captions: [],
                                        captionStreams: {}
                                    }, this.resetCaptionStream()
                                }, this.reset()
                            }
                        },
                        vt = function() {
                            function e(e, t) {
                                for (var i = 0; i < t.length; i++) {
                                    var n = t[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
                                }
                            }
                            return function(t, i, n) {
                                return i && e(t.prototype, i), n && e(t, n), t
                            }
                        }(),
                        bt = function() {
                            function e(t, i) {
                                ! function(t, i) {
                                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                                }(this), this.options = i || {}, this.self = t, this.init()
                            }
                            return vt(e, [{
                                key: "init",
                                value: function() {
                                    var e, t;
                                    this.transmuxer && this.transmuxer.dispose(), this.transmuxer = new yt.Transmuxer(this.options), e = this.self, (t = this.transmuxer).on("data", function(t) {
                                        var i = t.initSegment;
                                        t.initSegment = {
                                            data: i.buffer,
                                            byteOffset: i.byteOffset,
                                            byteLength: i.byteLength
                                        };
                                        var n = t.data;
                                        t.data = n.buffer, e.postMessage({
                                            action: "data",
                                            segment: t,
                                            byteOffset: n.byteOffset,
                                            byteLength: n.byteLength
                                        }, [t.data])
                                    }), t.captionStream && t.captionStream.on("data", function(t) {
                                        e.postMessage({
                                            action: "caption",
                                            data: t
                                        })
                                    }), t.on("done", function(t) {
                                        e.postMessage({
                                            action: "done"
                                        })
                                    }), t.on("gopInfo", function(t) {
                                        e.postMessage({
                                            action: "gopInfo",
                                            gopInfo: t
                                        })
                                    })
                                }
                            }, {
                                key: "push",
                                value: function(e) {
                                    var t = new Uint8Array(e.data, e.byteOffset, e.byteLength);
                                    this.transmuxer.push(t)
                                }
                            }, {
                                key: "reset",
                                value: function() {
                                    this.init()
                                }
                            }, {
                                key: "setTimestampOffset",
                                value: function(e) {
                                    this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4 * (e.timestampOffset || 0)))
                                }
                            }, {
                                key: "setAudioAppendStart",
                                value: function(e) {
                                    this.transmuxer.setAudioAppendStart(Math.ceil(9e4 * e.appendStart))
                                }
                            }, {
                                key: "flush",
                                value: function(e) {
                                    this.transmuxer.flush()
                                }
                            }, {
                                key: "resetCaptions",
                                value: function() {
                                    this.transmuxer.resetCaptions()
                                }
                            }, {
                                key: "alignGopsWith",
                                value: function(e) {
                                    this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())
                                }
                            }]), e
                        }();
                    new function(e) {
                        e.onmessage = function(t) {
                            "init" === t.data.action && t.data.options ? this.messageHandlers = new bt(e, t.data.options) : (this.messageHandlers || (this.messageHandlers = new bt(e)), t.data && t.data.action && "init" !== t.data.action && this.messageHandlers[t.data.action] && this.messageHandlers[t.data.action](t.data))
                        }
                    }(i)
                }()
            }),
            xc = {
                videoCodec: "avc1",
                videoObjectTypeIndicator: ".4d400d",
                audioProfile: "2"
            },
            Mc = function(e) {
                return e.map(function(e) {
                    return e.replace(/avc1\.(\d+)\.(\d+)/i, function(e, t, i) {
                        return "avc1." + ("00" + Number(t).toString(16)).slice(-2) + "00" + ("00" + Number(i).toString(16)).slice(-2)
                    })
                })
            },
            Uc = function() {
                var e, t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : "",
                    i = {
                        codecCount: 0
                    };
                return i.codecCount = t.split(",").length, i.codecCount = i.codecCount || 2, (e = /(^|\s|,)+(avc[13])([^ ,]*)/i.exec(t)) && (i.videoCodec = e[2], i.videoObjectTypeIndicator = e[3]), i.audioProfile = /(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(t), i.audioProfile = i.audioProfile && i.audioProfile[2], i
            },
            Nc = function(e, t, i) {
                return e + "/" + t + '; codecs="' + i.filter(function(e) {
                    return !!e
                }).join(", ") + '"'
            },
            Fc = function(e) {
                return /mp4a\.\d+.\d+/i.test(e)
            },
            Bc = function(e) {
                return /avc1\.[\da-f]+/i.test(e)
            },
            Vc = function(e) {
                function t(e, i) {
                    Pl(this, t);
                    var n = Ll(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, ta.EventTarget));
                    n.timestampOffset_ = 0, n.pendingBuffers_ = [], n.bufferUpdating_ = !1, n.mediaSource_ = e, n.codecs_ = i, n.audioCodec_ = null, n.videoCodec_ = null, n.audioDisabled_ = !1, n.appendAudioInitSegment_ = !0, n.gopBuffer_ = [], n.timeMapping_ = 0, n.safeAppend_ = 11 <= ta.browser.IE_VERSION;
                    var r = {
                        remux: !1,
                        alignGopsAtEnd: n.safeAppend_
                    };
                    return n.codecs_.forEach(function(e) {
                        Fc(e) ? n.audioCodec_ = e : Bc(e) && (n.videoCodec_ = e)
                    }), n.transmuxer_ = new Rc, n.transmuxer_.postMessage({
                        action: "init",
                        options: r
                    }), n.transmuxer_.onmessage = function(e) {
                        return "data" === e.data.action ? n.data_(e) : "done" === e.data.action ? n.done_(e) : "gopInfo" === e.data.action ? n.appendGopInfo_(e) : void 0
                    }, Object.defineProperty(n, "timestampOffset", {
                        get: function() {
                            return this.timestampOffset_
                        },
                        set: function(e) {
                            "number" == typeof e && 0 <= e && (this.timestampOffset_ = e, this.appendAudioInitSegment_ = !0, this.gopBuffer_.length = 0, this.timeMapping_ = 0, this.transmuxer_.postMessage({
                                action: "setTimestampOffset",
                                timestampOffset: e
                            }))
                        }
                    }), Object.defineProperty(n, "appendWindowStart", {
                        get: function() {
                            return (this.videoBuffer_ || this.audioBuffer_).appendWindowStart
                        },
                        set: function(e) {
                            this.videoBuffer_ && (this.videoBuffer_.appendWindowStart = e), this.audioBuffer_ && (this.audioBuffer_.appendWindowStart = e)
                        }
                    }), Object.defineProperty(n, "updating", {
                        get: function() {
                            return !!(this.bufferUpdating_ || !this.audioDisabled_ && this.audioBuffer_ && this.audioBuffer_.updating || this.videoBuffer_ && this.videoBuffer_.updating)
                        }
                    }), Object.defineProperty(n, "buffered", {
                        get: function() {
                            return function(e, t, i) {
                                var n = null,
                                    r = null,
                                    a = 0,
                                    o = [],
                                    s = [];
                                if (!e && !t) return ta.createTimeRange();
                                if (!e) return t.buffered;
                                if (!t) return e.buffered;
                                if (i) return e.buffered;
                                if (0 === e.buffered.length && 0 === t.buffered.length) return ta.createTimeRange();
                                for (var l = e.buffered, c = t.buffered, u = l.length; u--;) o.push({
                                    time: l.start(u),
                                    type: "start"
                                }), o.push({
                                    time: l.end(u),
                                    type: "end"
                                });
                                for (u = c.length; u--;) o.push({
                                    time: c.start(u),
                                    type: "start"
                                }), o.push({
                                    time: c.end(u),
                                    type: "end"
                                });
                                for (o.sort(function(e, t) {
                                        return e.time - t.time
                                    }), u = 0; u < o.length; u++) "start" === o[u].type ? 2 == ++a && (n = o[u].time) : "end" === o[u].type && 1 == --a && (r = o[u].time), null !== n && null !== r && (s.push([n, r]), r = n = null);
                                return ta.createTimeRanges(s)
                            }(this.videoBuffer_, this.audioBuffer_, this.audioDisabled_)
                        }
                    }), n
                }
                return Il(t, ta.EventTarget), Al(t, [{
                    key: "data_",
                    value: function(e) {
                        var t = e.data.segment;
                        t.data = new Uint8Array(t.data, e.data.byteOffset, e.data.byteLength), t.initSegment = new Uint8Array(t.initSegment.data, t.initSegment.byteOffset, t.initSegment.byteLength),
                            function(e, t, i) {
                                var n = t.player_;
                                if (i.captions && i.captions.length)
                                    for (var r in e.inbandTextTracks_ || (e.inbandTextTracks_ = {}), i.captionStreams)
                                        if (!e.inbandTextTracks_[r]) {
                                            n.tech_.trigger({
                                                type: "usage",
                                                name: "hls-608"
                                            });
                                            var a = n.textTracks().getTrackById(r);
                                            e.inbandTextTracks_[r] = a || n.addRemoteTextTrack({
                                                kind: "captions",
                                                id: r,
                                                label: r
                                            }, !1).track
                                        } i.metadata && i.metadata.length && !e.metadataTrack_ && (e.metadataTrack_ = n.addRemoteTextTrack({
                                    kind: "metadata",
                                    label: "Timed Metadata"
                                }, !1).track, e.metadataTrack_.inBandMetadataTrackDispatchType = i.metadata.dispatchType)
                            }(this, this.mediaSource_, t), this.pendingBuffers_.push(t)
                    }
                }, {
                    key: "done_",
                    value: function(e) {
                        "closed" !== this.mediaSource_.readyState ? this.processPendingSegments_() : this.pendingBuffers_.length = 0
                    }
                }, {
                    key: "createRealSourceBuffers_",
                    value: function() {
                        var e = this,
                            t = ["audio", "video"];
                        t.forEach(function(i) {
                            if (e[i + "Codec_"] && !e[i + "Buffer_"]) {
                                var n = null;
                                e.mediaSource_[i + "Buffer_"] ? (n = e.mediaSource_[i + "Buffer_"]).updating = !1 : (n = function(e, t) {
                                    var i = e.addSourceBuffer(t),
                                        n = Object.create(null);
                                    n.updating = !1, n.realBuffer_ = i;
                                    var r = function(e) {
                                        "function" == typeof i[e] ? n[e] = function() {
                                            return i[e].apply(i, arguments)
                                        } : void 0 === n[e] && Object.defineProperty(n, e, {
                                            get: function() {
                                                return i[e]
                                            },
                                            set: function(t) {
                                                return i[e] = t
                                            }
                                        })
                                    };
                                    for (var a in i) r(a);
                                    return n
                                }(e.mediaSource_.nativeMediaSource_, i + '/mp4;codecs="' + e[i + "Codec_"] + '"'), e.mediaSource_[i + "Buffer_"] = n), e[i + "Buffer_"] = n, ["update", "updatestart", "updateend"].forEach(function(r) {
                                    n.addEventListener(r, function() {
                                        if ("audio" !== i || !e.audioDisabled_) return "updateend" === r && (e[i + "Buffer_"].updating = !1), t.every(function(t) {
                                            return !("audio" !== t || !e.audioDisabled_) || i === t || !e[t + "Buffer_"] || !e[t + "Buffer_"].updating
                                        }) ? e.trigger(r) : void 0
                                    })
                                })
                            }
                        })
                    }
                }, {
                    key: "appendBuffer",
                    value: function(e) {
                        if (this.bufferUpdating_ = !0, this.audioBuffer_ && this.audioBuffer_.buffered.length) {
                            var t = this.audioBuffer_.buffered;
                            this.transmuxer_.postMessage({
                                action: "setAudioAppendStart",
                                appendStart: t.end(t.length - 1)
                            })
                        }
                        this.videoBuffer_ && this.transmuxer_.postMessage({
                            action: "alignGopsWith",
                            gopsToAlignWith: function(e, t, i) {
                                if (null == t || !e.length) return [];
                                var n = Math.ceil(9e4 * (t - i + 3)),
                                    r = void 0;
                                for (r = 0; r < e.length && !(e[r].pts > n); r++);
                                return e.slice(r)
                            }(this.gopBuffer_, this.mediaSource_.player_ ? this.mediaSource_.player_.currentTime() : null, this.timeMapping_)
                        }), this.transmuxer_.postMessage({
                            action: "push",
                            data: e.buffer,
                            byteOffset: e.byteOffset,
                            byteLength: e.byteLength
                        }, [e.buffer]), this.transmuxer_.postMessage({
                            action: "flush"
                        })
                    }
                }, {
                    key: "appendGopInfo_",
                    value: function(e) {
                        this.gopBuffer_ = function(e, t, i) {
                            if (!t.length) return e;
                            if (i) return t.slice();
                            for (var n = t[0].pts, r = 0; r < e.length && !(e[r].pts >= n); r++);
                            return e.slice(0, r).concat(t)
                        }(this.gopBuffer_, e.data.gopInfo, this.safeAppend_)
                    }
                }, {
                    key: "remove",
                    value: function(e, t) {
                        if (this.videoBuffer_ && (this.videoBuffer_.updating = !0, this.videoBuffer_.remove(e, t), this.gopBuffer_ = function(e, t, i, n) {
                                for (var r = Math.ceil(9e4 * (t - n)), a = Math.ceil(9e4 * (i - n)), o = e.slice(), s = e.length; s-- && !(e[s].pts <= a););
                                if (-1 === s) return o;
                                for (var l = s + 1; l-- && !(e[l].pts <= r););
                                return l = Math.max(l, 0), o.splice(l, s - l + 1), o
                            }(this.gopBuffer_, e, t, this.timeMapping_)), !this.audioDisabled_ && this.audioBuffer_ && (this.audioBuffer_.updating = !0, this.audioBuffer_.remove(e, t)), _c(e, t, this.metadataTrack_), this.inbandTextTracks_)
                            for (var i in this.inbandTextTracks_) _c(e, t, this.inbandTextTracks_[i])
                    }
                }, {
                    key: "processPendingSegments_",
                    value: function() {
                        var e = {
                            video: {
                                segments: [],
                                bytes: 0
                            },
                            audio: {
                                segments: [],
                                bytes: 0
                            },
                            captions: [],
                            metadata: []
                        };
                        e = this.pendingBuffers_.reduce(function(e, t) {
                            var i = t.type,
                                n = t.data,
                                r = t.initSegment;
                            return e[i].segments.push(n), e[i].bytes += n.byteLength, e[i].initSegment = r, t.captions && (e.captions = e.captions.concat(t.captions)), t.info && (e[i].info = t.info), t.metadata && (e.metadata = e.metadata.concat(t.metadata)), e
                        }, e), this.videoBuffer_ || this.audioBuffer_ || (0 === e.video.bytes && (this.videoCodec_ = null), 0 === e.audio.bytes && (this.audioCodec_ = null), this.createRealSourceBuffers_()), e.audio.info && this.mediaSource_.trigger({
                            type: "audioinfo",
                            info: e.audio.info
                        }), e.video.info && this.mediaSource_.trigger({
                            type: "videoinfo",
                            info: e.video.info
                        }), this.appendAudioInitSegment_ && (!this.audioDisabled_ && this.audioBuffer_ && (e.audio.segments.unshift(e.audio.initSegment), e.audio.bytes += e.audio.initSegment.byteLength), this.appendAudioInitSegment_ = !1);
                        var t = !1;
                        this.videoBuffer_ && e.video.bytes ? (e.video.segments.unshift(e.video.initSegment), e.video.bytes += e.video.initSegment.byteLength, this.concatAndAppendSegments_(e.video, this.videoBuffer_), function(e, t, n) {
                            var r = i.WebKitDataCue || i.VTTCue;
                            if (t && t.forEach(function(e) {
                                    this.inbandTextTracks_[e.stream].addCue(new r(e.startTime + this.timestampOffset, e.endTime + this.timestampOffset, e.text))
                                }, e), n) {
                                var a = Tc(e.mediaSource_.duration);
                                if (n.forEach(function(e) {
                                        var t = e.cueTime + this.timestampOffset;
                                        e.frames.forEach(function(e) {
                                            var i, n = new r(t, t, e.value || e.url || e.data || "");
                                            n.frame = e, n.value = e, i = n, Object.defineProperties(i.frame, {
                                                id: {
                                                    get: function() {
                                                        return ta.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."), i.value.key
                                                    }
                                                },
                                                value: {
                                                    get: function() {
                                                        return ta.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."), i.value.data
                                                    }
                                                },
                                                privateData: {
                                                    get: function() {
                                                        return ta.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."), i.value.data
                                                    }
                                                }
                                            }), this.metadataTrack_.addCue(n)
                                        }, this)
                                    }, e), e.metadataTrack_ && e.metadataTrack_.cues && e.metadataTrack_.cues.length) {
                                    for (var o = e.metadataTrack_.cues, s = [], l = 0; l < o.length; l++) o[l] && s.push(o[l]);
                                    var c = s.reduce(function(e, t) {
                                            var i = e[t.startTime] || [];
                                            return i.push(t), e[t.startTime] = i, e
                                        }, {}),
                                        u = Object.keys(c).sort(function(e, t) {
                                            return Number(e) - Number(t)
                                        });
                                    u.forEach(function(e, t) {
                                        var i = c[e],
                                            n = Number(u[t + 1]) || a;
                                        i.forEach(function(e) {
                                            e.endTime = n
                                        })
                                    })
                                }
                            }
                        }(this, e.captions, e.metadata)) : !this.videoBuffer_ || !this.audioDisabled_ && this.audioBuffer_ || (t = !0), !this.audioDisabled_ && this.audioBuffer_ && this.concatAndAppendSegments_(e.audio, this.audioBuffer_), this.pendingBuffers_.length = 0, t && this.trigger("updateend"), this.bufferUpdating_ = !1
                    }
                }, {
                    key: "concatAndAppendSegments_",
                    value: function(e, t) {
                        var i = 0,
                            n = void 0;
                        if (e.bytes) {
                            n = new Uint8Array(e.bytes), e.segments.forEach(function(e) {
                                n.set(e, i), i += e.byteLength
                            });
                            try {
                                t.updating = !0, t.appendBuffer(n)
                            } catch (e) {
                                this.mediaSource_.player_ && this.mediaSource_.player_.error({
                                    code: -3,
                                    type: "APPEND_BUFFER_ERR",
                                    message: e.message,
                                    originalError: e
                                })
                            }
                        }
                    }
                }, {
                    key: "abort",
                    value: function() {
                        this.videoBuffer_ && this.videoBuffer_.abort(), !this.audioDisabled_ && this.audioBuffer_ && this.audioBuffer_.abort(), this.transmuxer_ && this.transmuxer_.postMessage({
                            action: "reset"
                        }), this.pendingBuffers_.length = 0, this.bufferUpdating_ = !1
                    }
                }]), t
            }(),
            jc = function(e) {
                function n() {
                    Pl(this, n);
                    var e = Ll(this, (n.__proto__ || Object.getPrototypeOf(n)).call(this)),
                        r = void 0;
                    for (r in e.nativeMediaSource_ = new i.MediaSource, e.nativeMediaSource_) r in n.prototype || "function" != typeof e.nativeMediaSource_[r] || (e[r] = e.nativeMediaSource_[r].bind(e.nativeMediaSource_));
                    return e.duration_ = NaN, Object.defineProperty(e, "duration", {
                        get: function() {
                            return this.duration_ === 1 / 0 ? this.duration_ : this.nativeMediaSource_.duration
                        },
                        set: function(e) {
                            (this.duration_ = e) === 1 / 0 || (this.nativeMediaSource_.duration = e)
                        }
                    }), Object.defineProperty(e, "seekable", {
                        get: function() {
                            return this.duration_ === 1 / 0 ? ta.createTimeRanges([
                                [0, this.nativeMediaSource_.duration]
                            ]) : this.nativeMediaSource_.seekable
                        }
                    }), Object.defineProperty(e, "readyState", {
                        get: function() {
                            return this.nativeMediaSource_.readyState
                        }
                    }), Object.defineProperty(e, "activeSourceBuffers", {
                        get: function() {
                            return this.activeSourceBuffers_
                        }
                    }), e.sourceBuffers = [], e.activeSourceBuffers_ = [], e.updateActiveSourceBuffers_ = function() {
                        if (e.activeSourceBuffers_.length = 0, 1 === e.sourceBuffers.length) {
                            var t = e.sourceBuffers[0];
                            return t.appendAudioInitSegment_ = !0, t.audioDisabled_ = !t.audioCodec_, void e.activeSourceBuffers_.push(t)
                        }
                        for (var i = !1, n = !0, r = 0; r < e.player_.audioTracks().length; r++) {
                            var a = e.player_.audioTracks()[r];
                            if (a.enabled && "main" !== a.kind) {
                                n = !(i = !0);
                                break
                            }
                        }
                        e.sourceBuffers.forEach(function(t, r) {
                            if (t.appendAudioInitSegment_ = !0, t.videoCodec_ && t.audioCodec_) t.audioDisabled_ = i;
                            else if (t.videoCodec_ && !t.audioCodec_) t.audioDisabled_ = !0, n = !1;
                            else if (!t.videoCodec_ && t.audioCodec_ && (t.audioDisabled_ = r ? n : !n, t.audioDisabled_)) return;
                            e.activeSourceBuffers_.push(t)
                        })
                    }, e.onPlayerMediachange_ = function() {
                        e.sourceBuffers.forEach(function(e) {
                            e.appendAudioInitSegment_ = !0
                        })
                    }, e.onHlsReset_ = function() {
                        e.sourceBuffers.forEach(function(e) {
                            e.transmuxer_ && e.transmuxer_.postMessage({
                                action: "resetCaptions"
                            })
                        })
                    }, e.onHlsSegmentTimeMapping_ = function(t) {
                        e.sourceBuffers.forEach(function(e) {
                            return e.timeMapping_ = t.mapping
                        })
                    }, ["sourceopen", "sourceclose", "sourceended"].forEach(function(e) {
                        this.nativeMediaSource_.addEventListener(e, this.trigger.bind(this))
                    }, e), e.on("sourceopen", function(i) {
                        var n = t.querySelector('[src="' + e.url_ + '"]');
                        n && (e.player_ = ta(n.parentNode), e.player_ && (e.player_.tech_.on("hls-reset", e.onHlsReset_), e.player_.tech_.on("hls-segment-time-mapping", e.onHlsSegmentTimeMapping_), e.player_.audioTracks && e.player_.audioTracks() && (e.player_.audioTracks().on("change", e.updateActiveSourceBuffers_), e.player_.audioTracks().on("addtrack", e.updateActiveSourceBuffers_), e.player_.audioTracks().on("removetrack", e.updateActiveSourceBuffers_)), e.player_.on("mediachange", e.onPlayerMediachange_)))
                    }), e.on("sourceended", function(t) {
                        for (var i = Tc(e.duration), n = 0; n < e.sourceBuffers.length; n++) {
                            var r = e.sourceBuffers[n],
                                a = r.metadataTrack_ && r.metadataTrack_.cues;
                            a && a.length && (a[a.length - 1].endTime = i)
                        }
                    }), e.on("sourceclose", function(e) {
                        this.sourceBuffers.forEach(function(e) {
                            e.transmuxer_ && e.transmuxer_.terminate()
                        }), this.sourceBuffers.length = 0, this.player_ && (this.player_.audioTracks && this.player_.audioTracks() && (this.player_.audioTracks().off("change", this.updateActiveSourceBuffers_), this.player_.audioTracks().off("addtrack", this.updateActiveSourceBuffers_), this.player_.audioTracks().off("removetrack", this.updateActiveSourceBuffers_)), this.player_.el_ && this.player_.off("mediachange", this.onPlayerMediachange_), this.player_.tech_ && this.player_.tech_.el_ && (this.player_.tech_.off("hls-reset", this.onHlsReset_), this.player_.tech_.off("hls-segment-time-mapping", this.onHlsSegmentTimeMapping_)))
                    }), e
                }
                return Il(n, ta.EventTarget), Al(n, [{
                    key: "addSeekableRange_",
                    value: function(e, t) {
                        var i = void 0;
                        if (this.duration !== 1 / 0) throw (i = new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name = "InvalidStateError", i.code = 11, i;
                        (t > this.nativeMediaSource_.duration || isNaN(this.nativeMediaSource_.duration)) && (this.nativeMediaSource_.duration = t)
                    }
                }, {
                    key: "addSourceBuffer",
                    value: function(e) {
                        var t, i, n = void 0,
                            r = (t = {
                                type: "",
                                parameters: {}
                            }, i = e.trim().split(";"), t.type = i.shift().trim(), i.forEach(function(e) {
                                var i = e.trim().split("=");
                                if (1 < i.length) {
                                    var n = i[0].replace(/"/g, "").trim(),
                                        r = i[1].replace(/"/g, "").trim();
                                    t.parameters[n] = r
                                }
                            }), t);
                        if (/^(video|audio)\/mp2t$/i.test(r.type)) {
                            var a = [];
                            r.parameters && r.parameters.codecs && (a = r.parameters.codecs.split(","), a = (a = Mc(a)).filter(function(e) {
                                return Fc(e) || Bc(e)
                            })), 0 === a.length && (a = ["avc1.4d400d", "mp4a.40.2"]), n = new Vc(this, a), 0 !== this.sourceBuffers.length && (this.sourceBuffers[0].createRealSourceBuffers_(), n.createRealSourceBuffers_(), this.sourceBuffers[0].audioDisabled_ = !0)
                        } else n = this.nativeMediaSource_.addSourceBuffer(e);
                        return this.sourceBuffers.push(n), n
                    }
                }]), n
            }(),
            zc = 0;
        ta.mediaSources = {};
        var qc = function(e, t) {
                var i = ta.mediaSources[e];
                if (!i) throw new Error("Media Source not found (Video.js)");
                i.trigger({
                    type: "sourceopen",
                    swfId: t
                })
            },
            Hc = function() {
                return !!i.MediaSource && !!i.MediaSource.isTypeSupported && i.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')
            },
            Gc = function() {
                if (this.MediaSource = {
                        open: qc,
                        supportsNativeMediaSources: Hc
                    }, Hc()) return new jc;
                throw new Error("Cannot use create a virtual MediaSource for this video")
            };
        Gc.open = qc, Gc.supportsNativeMediaSources = Hc;
        var Wc = {
            createObjectURL: function(e) {
                var t = void 0;
                return e instanceof jc ? (t = i.URL.createObjectURL(e.nativeMediaSource_), e.url_ = t) : e instanceof jc ? (t = "blob:vjs-media-source/" + zc, zc++, ta.mediaSources[t] = e, t) : (t = i.URL.createObjectURL(e), e.url_ = t)
            }
        };
        ta.MediaSource = Gc, ta.URL = Wc;
        var Yc = ta.EventTarget,
            Kc = ta.mergeOptions,
            Xc = function(e, t) {
                for (var i = Kc(e, {
                        duration: t.duration,
                        minimumUpdatePeriod: t.minimumUpdatePeriod
                    }), n = 0; n < t.playlists.length; n++) {
                    var r = Ul(i, t.playlists[n]);
                    r && (i = r)
                }
                return Ml(t, function(e, t, n, r) {
                    if (e.playlists && e.playlists.length) {
                        var a = e.playlists[0].uri,
                            o = Ul(i, e.playlists[0]);
                        o && ((i = o).mediaGroups[t][n][r].playlists[0] = i.playlists[a])
                    }
                }), i
            },
            Jc = function(e) {
                function t(e, n, r, a) {
                    Pl(this, t);
                    var o = Ll(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                    if (o.hls_ = n, o.withCredentials = r, !e) throw new Error("A non-empty playlist URL or playlist is required");
                    return o.on("minimumUpdatePeriod", function() {
                        o.refreshXml_()
                    }), o.on("mediaupdatetimeout", function() {
                        o.refreshMedia_()
                    }), "string" == typeof e ? (o.srcUrl = e, o.state = "HAVE_NOTHING", Ll(o)) : (o.masterPlaylistLoader_ = a, o.state = "HAVE_METADATA", o.started = !0, o.media(e), i.setTimeout(function() {
                        o.trigger("loadedmetadata")
                    }, 0), o)
                }
                return Il(t, Yc), Al(t, [{
                    key: "dispose",
                    value: function() {
                        this.stopRequest(), i.clearTimeout(this.mediaUpdateTimeout)
                    }
                }, {
                    key: "stopRequest",
                    value: function() {
                        if (this.request) {
                            var e = this.request;
                            this.request = null, e.onreadystatechange = null, e.abort()
                        }
                    }
                }, {
                    key: "media",
                    value: function(e) {
                        if (!e) return this.media_;
                        if ("HAVE_NOTHING" === this.state) throw new Error("Cannot switch media playlist from " + this.state);
                        var t = this.state;
                        if ("string" == typeof e) {
                            if (!this.master.playlists[e]) throw new Error("Unknown playlist URI: " + e);
                            e = this.master.playlists[e]
                        }
                        var i = !this.media_ || e.uri !== this.media_.uri;
                        this.state = "HAVE_METADATA", i && (this.media_ && this.trigger("mediachanging"), this.media_ = e, this.refreshMedia_(), "HAVE_MASTER" !== t && this.trigger("mediachange"))
                    }
                }, {
                    key: "pause",
                    value: function() {
                        this.stopRequest(), i.clearTimeout(this.mediaUpdateTimeout), "HAVE_NOTHING" === this.state && (this.started = !1)
                    }
                }, {
                    key: "load",
                    value: function(e) {
                        var t = this;
                        i.clearTimeout(this.mediaUpdateTimeout);
                        var n = this.media();
                        e ? this.mediaUpdateTimeout = i.setTimeout(function() {
                            return t.load()
                        }, n ? n.targetDuration / 2 * 1e3 : 5e3) : this.started ? this.trigger("loadedplaylist") : this.start()
                    }
                }, {
                    key: "parseMasterXml",
                    value: function() {
                        var e = function(e, t) {
                            return function(e) {
                                var t;
                                if (!e.length) return {};
                                var i = e[0].attributes,
                                    n = i.sourceDuration,
                                    r = i.minimumUpdatePeriod,
                                    a = void 0 === r ? 0 : r,
                                    o = va(e.filter(function(e) {
                                        var t = e.attributes;
                                        return "video/mp4" === t.mimeType || "video" === t.contentType
                                    })).map(ba),
                                    s = va(e.filter(function(e) {
                                        var t = e.attributes;
                                        return "audio/mp4" === t.mimeType || "audio" === t.contentType
                                    })),
                                    l = e.filter(function(e) {
                                        var t = e.attributes;
                                        return "text/vtt" === t.mimeType || "text" === t.contentType
                                    }),
                                    c = {
                                        allowCache: !0,
                                        discontinuityStarts: [],
                                        segments: [],
                                        endList: !0,
                                        mediaGroups: (t = {
                                            AUDIO: {},
                                            VIDEO: {}
                                        }, t["CLOSED-CAPTIONS"] = {}, t.SUBTITLES = {}, t),
                                        uri: "",
                                        duration: n,
                                        playlists: o,
                                        minimumUpdatePeriod: 1e3 * a
                                    };
                                return s.length && (c.mediaGroups.AUDIO.audio = s.reduce(function(e, t) {
                                    var i, n, r, a, o, s = t.attributes.role && t.attributes.role.value || "main",
                                        l = t.attributes.lang || "",
                                        c = "main";
                                    return l && (c = t.attributes.lang + " (" + s + ")"), e[c] && e[c].playlists[0].attributes.BANDWIDTH > t.attributes.bandwidth || (e[c] = {
                                        language: l,
                                        autoselect: !0,
                                        default: "main" === s,
                                        playlists: [(i = t, r = i.attributes, a = i.segments, o = {
                                            attributes: (n = {
                                                NAME: r.id,
                                                BANDWIDTH: r.bandwidth,
                                                CODECS: r.codecs
                                            }, n["PROGRAM-ID"] = 1, n),
                                            uri: "",
                                            endList: "static" === (r.type || "static"),
                                            timeline: r.periodIndex,
                                            resolvedUri: "",
                                            targetDuration: r.duration,
                                            segments: a,
                                            mediaSequence: a.length ? a[0].number : 1
                                        }, r.contentProtection && (o.contentProtection = r.contentProtection), o)],
                                        uri: ""
                                    }), e
                                }, {})), l.length && (c.mediaGroups.SUBTITLES.subs = l.reduce(function(e, t) {
                                    var i, n, r, a, o = t.attributes.lang || "text";
                                    return e[o] || (e[o] = {
                                        language: o,
                                        default: !1,
                                        autoselect: !1,
                                        playlists: [(i = t, r = i.attributes, a = i.segments, void 0 === a && (a = [{
                                            uri: r.baseUrl,
                                            timeline: r.periodIndex,
                                            resolvedUri: r.baseUrl || "",
                                            duration: r.sourceDuration,
                                            number: 0
                                        }], r.duration = r.sourceDuration), {
                                            attributes: (n = {
                                                NAME: r.id,
                                                BANDWIDTH: r.bandwidth
                                            }, n["PROGRAM-ID"] = 1, n),
                                            uri: "",
                                            endList: "static" === (r.type || "static"),
                                            timeline: r.periodIndex,
                                            resolvedUri: r.baseUrl || "",
                                            targetDuration: r.duration,
                                            segments: a,
                                            mediaSequence: a.length ? a[0].number : 1
                                        })],
                                        uri: ""
                                    }), e
                                }, {})), c
                            }(function(e, t) {
                                void 0 === t && (t = {});
                                var n = t,
                                    r = n.manifestUri,
                                    a = void 0 === r ? "" : r,
                                    o = n.NOW,
                                    s = void 0 === o ? Date.now() : o,
                                    l = n.clientOffset,
                                    c = void 0 === l ? 0 : l,
                                    u = Fa(e, "Period");
                                if (!u.length) throw new Error("INVALID_NUMBER_OF_PERIOD");
                                var d, h, p = za(e),
                                    f = Ha([a], Fa(e, "BaseURL"));
                                return p.sourceDuration = p.mediaPresentationDuration || 0, p.NOW = s, p.clientOffset = c, ga(u.map((d = p, h = f, function(e, t) {
                                    var n, r, a, o = Ha(h, Fa(e, "BaseURL")),
                                        s = za(e),
                                        l = parseInt(s.id, 10),
                                        c = i.isNaN(l) ? t : l,
                                        u = ma(d, {
                                            periodIndex: c
                                        }),
                                        p = Fa(e, "AdaptationSet"),
                                        f = Ga(e);
                                    return ga(p.map((n = u, r = o, a = f, function(e) {
                                        var t = za(e),
                                            o = Ha(r, Fa(e, "BaseURL")),
                                            s = Fa(e, "Role")[0],
                                            l = {
                                                role: za(s)
                                            },
                                            c = ma(n, t, l),
                                            u = function(e) {
                                                return e.reduce(function(e, t) {
                                                    var n = za(t),
                                                        r = qa[n.schemeIdUri];
                                                    if (r) {
                                                        e[r] = {
                                                            attributes: n
                                                        };
                                                        var a = Fa(t, "cenc:pssh")[0];
                                                        if (a) {
                                                            var o = Ba(a),
                                                                s = o && function(e) {
                                                                    for (var t = i.atob(o), n = new Uint8Array(t.length), r = 0; r < t.length; r++) n[r] = t.charCodeAt(r);
                                                                    return n
                                                                }();
                                                            e[r].pssh = s
                                                        }
                                                    }
                                                    return e
                                                }, {})
                                            }(Fa(e, "ContentProtection"));
                                        Object.keys(u).length && (c = ma(c, {
                                            contentProtection: u
                                        }));
                                        var d, h, p, f = Ga(e),
                                            m = Fa(e, "Representation"),
                                            g = ma(a, f);
                                        return ga(m.map((d = c, h = o, p = g, function(e) {
                                            var t = Fa(e, "BaseURL"),
                                                i = Ha(h, t),
                                                n = ma(d, za(e)),
                                                r = Ga(e);
                                            return i.map(function(e) {
                                                return {
                                                    segmentInfo: ma(p, r),
                                                    attributes: ma(n, {
                                                        baseUrl: e
                                                    })
                                                }
                                            })
                                        })))
                                    })))
                                })))
                            }(Wa(e), t).map(Na))
                        }(this.masterXml_, {
                            manifestUri: this.srcUrl,
                            clientOffset: this.clientOffset_
                        });
                        e.uri = this.srcUrl;
                        for (var t = 0; t < e.playlists.length; t++) {
                            var n = "placeholder-uri-" + t;
                            e.playlists[t].uri = n, e.playlists[n] = e.playlists[t]
                        }
                        return Ml(e, function(t, i, n, r) {
                            if (t.playlists && t.playlists.length) {
                                var a = "placeholder-uri-" + i + "-" + n + "-" + r;
                                t.playlists[0].uri = a, e.playlists[a] = t.playlists[0]
                            }
                        }), Nl(e), Fl(e), e
                    }
                }, {
                    key: "start",
                    value: function() {
                        var e = this;
                        this.started = !0, this.request = this.hls_.xhr({
                            uri: this.srcUrl,
                            withCredentials: this.withCredentials
                        }, function(t, i) {
                            if (e.request) {
                                if (e.request = null, t) return e.error = {
                                    status: i.status,
                                    message: "DASH playlist request error at URL: " + e.srcUrl,
                                    responseText: i.responseText,
                                    code: 2
                                }, "HAVE_NOTHING" === e.state && (e.started = !1), e.trigger("error");
                                e.masterXml_ = i.responseText, e.masterLoaded_ = i.responseHeaders && i.responseHeaders.date ? Date.parse(i.responseHeaders.date) : Date.now(), e.syncClientServerClock_(e.onClientServerClockSync_.bind(e))
                            }
                        })
                    }
                }, {
                    key: "syncClientServerClock_",
                    value: function(e) {
                        var t = this,
                            i = function(e) {
                                var t = Fa(e, "UTCTiming")[0];
                                if (!t) return null;
                                var i = za(t);
                                switch (i.schemeIdUri) {
                                    case "urn:mpeg:dash:utc:http-head:2014":
                                    case "urn:mpeg:dash:utc:http-head:2012":
                                        i.method = "HEAD";
                                        break;
                                    case "urn:mpeg:dash:utc:http-xsdate:2014":
                                    case "urn:mpeg:dash:utc:http-iso:2014":
                                    case "urn:mpeg:dash:utc:http-xsdate:2012":
                                    case "urn:mpeg:dash:utc:http-iso:2012":
                                        i.method = "GET";
                                        break;
                                    case "urn:mpeg:dash:utc:direct:2014":
                                    case "urn:mpeg:dash:utc:direct:2012":
                                        i.method = "DIRECT", i.value = Date.parse(i.value);
                                        break;
                                    case "urn:mpeg:dash:utc:http-ntp:2014":
                                    case "urn:mpeg:dash:utc:ntp:2014":
                                    case "urn:mpeg:dash:utc:sntp:2014":
                                    default:
                                        throw new Error("UNSUPPORTED_UTC_TIMING_SCHEME")
                                }
                                return i
                            }(Wa(this.masterXml_));
                        return null === i ? (this.clientOffset_ = this.masterLoaded_ - Date.now(), e()) : "DIRECT" === i.method ? (this.clientOffset_ = i.value - Date.now(), e()) : void(this.request = this.hls_.xhr({
                            uri: kl(this.srcUrl, i.value),
                            method: i.method,
                            withCredentials: this.withCredentials
                        }, function(n, r) {
                            if (t.request) {
                                if (n) return t.clientOffset_ = t.masterLoaded_ - Date.now(), e();
                                var a;
                                a = "HEAD" === i.method ? r.responseHeaders && r.responseHeaders.date ? Date.parse(r.responseHeaders.date) : t.masterLoaded_ : Date.parse(r.responseText), t.clientOffset_ = a - Date.now(), e()
                            }
                        }))
                    }
                }, {
                    key: "onClientServerClockSync_",
                    value: function() {
                        var e = this;
                        this.master = this.parseMasterXml(), this.state = "HAVE_MASTER", this.trigger("loadedplaylist"), this.media_ || this.media(this.master.playlists[0]), i.setTimeout(function() {
                            e.trigger("loadedmetadata")
                        }, 0), this.master.minimumUpdatePeriod && i.setTimeout(function() {
                            e.trigger("minimumUpdatePeriod")
                        }, this.master.minimumUpdatePeriod)
                    }
                }, {
                    key: "refreshXml_",
                    value: function() {
                        var e = this;
                        this.request = this.hls_.xhr({
                            uri: this.srcUrl,
                            withCredentials: this.withCredentials
                        }, function(t, n) {
                            if (e.request) {
                                if (e.request = null, t) return e.error = {
                                    status: n.status,
                                    message: "DASH playlist request error at URL: " + e.srcUrl,
                                    responseText: n.responseText,
                                    code: 2
                                }, "HAVE_NOTHING" === e.state && (e.started = !1), e.trigger("error");
                                e.masterXml_ = n.responseText;
                                var r = e.parseMasterXml();
                                e.master = Xc(e.master, r), i.setTimeout(function() {
                                    e.trigger("minimumUpdatePeriod")
                                }, e.master.minimumUpdatePeriod)
                            }
                        })
                    }
                }, {
                    key: "refreshMedia_",
                    value: function() {
                        var e, t = this,
                            n = void 0;
                        e = this.masterPlaylistLoader_ ? (n = this.masterPlaylistLoader_.master, this.masterPlaylistLoader_.parseMasterXml()) : (n = this.master, this.parseMasterXml());
                        var r = Xc(n, e);
                        r ? (this.masterPlaylistLoader_ ? this.masterPlaylistLoader_.master = r : this.master = r, this.media_ = r.playlists[this.media_.uri]) : this.trigger("playlistunchanged"), this.media().endList || (this.mediaUpdateTimeout = i.setTimeout(function() {
                            t.trigger("mediaupdatetimeout")
                        }, Bl(this.media(), !!r))), this.trigger("loadedplaylist")
                    }
                }]), t
            }(),
            $c = function(e) {
                return ta.log.debug ? ta.log.debug.bind(ta, "VHS:", e + " >") : function() {}
            };

        function Qc() {}
        var Zc = function() {
                function e(t, i, n, r) {
                    Pl(this, e), this.callbacks_ = [], this.pendingCallback_ = null, this.timestampOffset_ = 0, this.mediaSource = t, this.processedAppend_ = !1, this.type_ = n, this.mimeType_ = i, this.logger_ = $c("SourceUpdater[" + n + "][" + i + "]"), "closed" === t.readyState ? t.addEventListener("sourceopen", this.createSourceBuffer_.bind(this, i, r)) : this.createSourceBuffer_(i, r)
                }
                return Al(e, [{
                    key: "createSourceBuffer_",
                    value: function(e, t) {
                        var i = this;
                        this.sourceBuffer_ = this.mediaSource.addSourceBuffer(e), this.logger_("created SourceBuffer"), t && (t.trigger("sourcebufferadded"), this.mediaSource.sourceBuffers.length < 2) ? t.on("sourcebufferadded", function() {
                            i.start_()
                        }) : this.start_()
                    }
                }, {
                    key: "start_",
                    value: function() {
                        var e = this;
                        this.started_ = !0, this.onUpdateendCallback_ = function() {
                            var t = e.pendingCallback_;
                            e.pendingCallback_ = null, e.logger_("buffered [" + vc(e.buffered()) + "]"), t && t(), e.runCallback_()
                        }, this.sourceBuffer_.addEventListener("updateend", this.onUpdateendCallback_), this.runCallback_()
                    }
                }, {
                    key: "abort",
                    value: function(e) {
                        var t = this;
                        this.processedAppend_ && this.queueCallback_(function() {
                            t.sourceBuffer_.abort()
                        }, e)
                    }
                }, {
                    key: "appendBuffer",
                    value: function(e, t) {
                        var i = this;
                        this.processedAppend_ = !0, this.queueCallback_(function() {
                            i.sourceBuffer_.appendBuffer(e)
                        }, t)
                    }
                }, {
                    key: "buffered",
                    value: function() {
                        return this.sourceBuffer_ ? this.sourceBuffer_.buffered : ta.createTimeRanges()
                    }
                }, {
                    key: "remove",
                    value: function(e, t) {
                        var i = this;
                        this.processedAppend_ && this.queueCallback_(function() {
                            i.logger_("remove [" + e + " => " + t + "]"), i.sourceBuffer_.remove(e, t)
                        }, 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : Qc)
                    }
                }, {
                    key: "updating",
                    value: function() {
                        return !this.sourceBuffer_ || this.sourceBuffer_.updating || this.pendingCallback_
                    }
                }, {
                    key: "timestampOffset",
                    value: function(e) {
                        var t = this;
                        return void 0 !== e && (this.queueCallback_(function() {
                            t.sourceBuffer_.timestampOffset = e
                        }), this.timestampOffset_ = e), this.timestampOffset_
                    }
                }, {
                    key: "queueCallback_",
                    value: function(e, t) {
                        this.callbacks_.push([e.bind(this), t]), this.runCallback_()
                    }
                }, {
                    key: "runCallback_",
                    value: function() {
                        var e = void 0;
                        !this.updating() && this.callbacks_.length && this.started_ && (e = this.callbacks_.shift(), this.pendingCallback_ = e[1], e[0]())
                    }
                }, {
                    key: "dispose",
                    value: function() {
                        this.sourceBuffer_.removeEventListener("updateend", this.onUpdateendCallback_), this.sourceBuffer_ && "open" === this.mediaSource.readyState && this.sourceBuffer_.abort()
                    }
                }]), e
            }(),
            eu = {
                GOAL_BUFFER_LENGTH: 30,
                MAX_GOAL_BUFFER_LENGTH: 60,
                GOAL_BUFFER_LENGTH_RATE: 1,
                INITIAL_BANDWIDTH: 4194304,
                BANDWIDTH_VARIANCE: 1.2,
                BUFFER_LOW_WATER_LINE: 0,
                MAX_BUFFER_LOW_WATER_LINE: 30,
                BUFFER_LOW_WATER_LINE_RATE: 1
            },
            tu = function(e) {
                var t, i = {};
                return e.byterange && (i.Range = "bytes=" + (t = e.byterange).offset + "-" + (t.offset + t.length - 1)), i
            },
            iu = function(e) {
                e.forEach(function(e) {
                    e.abort()
                })
            },
            nu = function(e, t) {
                return t.timedout ? {
                    status: t.status,
                    message: "HLS request timed-out at URL: " + t.uri,
                    code: -101,
                    xhr: t
                } : t.aborted ? {
                    status: t.status,
                    message: "HLS request aborted at URL: " + t.uri,
                    code: -102,
                    xhr: t
                } : e ? {
                    status: t.status,
                    message: "HLS request errored at URL: " + t.uri,
                    code: 2,
                    xhr: t
                } : null
            },
            ru = function(e, t) {
                var n;
                return e && (n = i.getComputedStyle(e)) ? n[t] : ""
            },
            au = function(e, t) {
                var i = e.slice();
                e.sort(function(e, n) {
                    var r = t(e, n);
                    return 0 === r ? i.indexOf(e) - i.indexOf(n) : r
                })
            },
            ou = function(e, t) {
                var n = void 0,
                    r = void 0;
                return e.attributes.BANDWIDTH && (n = e.attributes.BANDWIDTH), t.attributes.BANDWIDTH && (r = t.attributes.BANDWIDTH), (n = n || i.Number.MAX_VALUE) - (r || i.Number.MAX_VALUE)
            },
            su = function(e, t, i) {
                return !(!e || !t) && e.endList && "open" === t.readyState && i === e.segments.length
            },
            lu = function(e) {
                return "number" == typeof e && isFinite(e)
            },
            cu = function(e) {
                function t(e) {
                    Pl(this, t);
                    var i = Ll(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                    if (!e) throw new TypeError("Initialization settings are required");
                    if ("function" != typeof e.currentTime) throw new TypeError("No currentTime getter specified");
                    if (!e.mediaSource) throw new TypeError("No MediaSource specified");
                    return i.bandwidth = e.bandwidth, i.throughput = {
                        rate: 0,
                        count: 0
                    }, i.roundTrip = NaN, i.resetStats_(), i.mediaIndex = null, i.hasPlayed_ = e.hasPlayed, i.currentTime_ = e.currentTime, i.seekable_ = e.seekable, i.seeking_ = e.seeking, i.duration_ = e.duration, i.mediaSource_ = e.mediaSource, i.hls_ = e.hls, i.loaderType_ = e.loaderType, i.startingMedia_ = void 0, i.segmentMetadataTrack_ = e.segmentMetadataTrack, i.goalBufferLength_ = e.goalBufferLength, i.sourceType_ = e.sourceType, i.inbandTextTracks_ = e.inbandTextTracks, i.state_ = "INIT", i.checkBufferTimeout_ = null, i.error_ = void 0, i.currentTimeline_ = -1, i.pendingSegment_ = null, i.mimeType_ = null, i.sourceUpdater_ = null, i.xhrOptions_ = null, i.activeInitSegmentId_ = null, i.initSegments_ = {}, i.captionParser_ = new sl, i.decrypter_ = e.decrypter, i.syncController_ = e.syncController, i.syncPoint_ = {
                        segmentIndex: 0,
                        time: 0
                    }, i.syncController_.on("syncinfoupdate", function() {
                        return i.trigger("syncinfoupdate")
                    }), i.mediaSource_.addEventListener("sourceopen", function() {
                        return i.ended_ = !1
                    }), i.fetchAtBuffer_ = !1, i.logger_ = $c("SegmentLoader[" + i.loaderType_ + "]"), Object.defineProperty(i, "state", {
                        get: function() {
                            return this.state_
                        },
                        set: function(e) {
                            e !== this.state_ && (this.logger_(this.state_ + " -> " + e), this.state_ = e)
                        }
                    }), i
                }
                return Il(t, ta.EventTarget), Al(t, [{
                    key: "resetStats_",
                    value: function() {
                        this.mediaBytesTransferred = 0, this.mediaRequests = 0, this.mediaRequestsAborted = 0, this.mediaRequestsTimedout = 0, this.mediaRequestsErrored = 0, this.mediaTransferDuration = 0, this.mediaSecondsLoaded = 0
                    }
                }, {
                    key: "dispose",
                    value: function() {
                        this.state = "DISPOSED", this.pause(), this.abort_(), this.sourceUpdater_ && this.sourceUpdater_.dispose(), this.resetStats_(), this.captionParser_.reset()
                    }
                }, {
                    key: "abort",
                    value: function() {
                        "WAITING" === this.state ? (this.abort_(), this.state = "READY", this.paused() || this.monitorBuffer_()) : this.pendingSegment_ && (this.pendingSegment_ = null)
                    }
                }, {
                    key: "abort_",
                    value: function() {
                        this.pendingSegment_ && this.pendingSegment_.abortRequests(), this.pendingSegment_ = null
                    }
                }, {
                    key: "error",
                    value: function(e) {
                        return void 0 !== e && (this.error_ = e), this.pendingSegment_ = null, this.error_
                    }
                }, {
                    key: "endOfStream",
                    value: function() {
                        this.ended_ = !0, this.pause(), this.trigger("ended")
                    }
                }, {
                    key: "buffered_",
                    value: function() {
                        return this.sourceUpdater_ ? this.sourceUpdater_.buffered() : ta.createTimeRanges()
                    }
                }, {
                    key: "initSegment",
                    value: function(e) {
                        var t = 1 < arguments.length && void 0 !== arguments[1] && arguments[1];
                        if (!e) return null;
                        var i = cc(e),
                            n = this.initSegments_[i];
                        return t && !n && e.bytes && (this.initSegments_[i] = n = {
                            resolvedUri: e.resolvedUri,
                            byterange: e.byterange,
                            bytes: e.bytes,
                            timescales: e.timescales,
                            videoTrackIds: e.videoTrackIds
                        }), n || e
                    }
                }, {
                    key: "couldBeginLoading_",
                    value: function() {
                        return this.playlist_ && (this.sourceUpdater_ || this.mimeType_ && "INIT" === this.state) && !this.paused()
                    }
                }, {
                    key: "load",
                    value: function() {
                        if (this.monitorBuffer_(), this.playlist_) {
                            if (this.syncController_.setDateTimeMapping(this.playlist_), "INIT" === this.state && this.couldBeginLoading_()) return this.init_();
                            !this.couldBeginLoading_() || "READY" !== this.state && "INIT" !== this.state || (this.state = "READY")
                        }
                    }
                }, {
                    key: "init_",
                    value: function() {
                        return this.state = "READY", this.sourceUpdater_ = new Zc(this.mediaSource_, this.mimeType_, this.loaderType_, this.sourceBufferEmitter_), this.resetEverything(), this.monitorBuffer_()
                    }
                }, {
                    key: "playlist",
                    value: function(e) {
                        var t = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {};
                        if (e) {
                            var i = this.playlist_,
                                n = this.pendingSegment_;
                            if (this.playlist_ = e, this.xhrOptions_ = t, this.hasPlayed_() || (e.syncInfo = {
                                    mediaSequence: e.mediaSequence,
                                    time: 0
                                }), this.logger_("playlist update [" + (i ? i.id : null) + " => " + e.id + "]"), this.trigger("syncinfoupdate"), "INIT" === this.state && this.couldBeginLoading_()) return this.init_();
                            if (i && i.uri === e.uri) {
                                var r = e.mediaSequence - i.mediaSequence;
                                this.logger_("live window shift [" + r + "]"), null !== this.mediaIndex && (this.mediaIndex -= r), n && (n.mediaIndex -= r, 0 <= n.mediaIndex && (n.segment = e.segments[n.mediaIndex])), this.syncController_.saveExpiredSegmentInfo(i, e)
                            } else null !== this.mediaIndex && this.resyncLoader()
                        }
                    }
                }, {
                    key: "pause",
                    value: function() {
                        this.checkBufferTimeout_ && (i.clearTimeout(this.checkBufferTimeout_), this.checkBufferTimeout_ = null)
                    }
                }, {
                    key: "paused",
                    value: function() {
                        return null === this.checkBufferTimeout_
                    }
                }, {
                    key: "mimeType",
                    value: function(e, t) {
                        this.mimeType_ || (this.mimeType_ = e, this.sourceBufferEmitter_ = t, "INIT" === this.state && this.couldBeginLoading_() && this.init_())
                    }
                }, {
                    key: "resetEverything",
                    value: function(e) {
                        this.ended_ = !1, this.resetLoader(), this.remove(0, this.duration_(), e), this.captionParser_.clearAllCaptions(), this.trigger("reseteverything")
                    }
                }, {
                    key: "resetLoader",
                    value: function() {
                        this.fetchAtBuffer_ = !1, this.resyncLoader()
                    }
                }, {
                    key: "resyncLoader",
                    value: function() {
                        this.mediaIndex = null, this.syncPoint_ = null, this.abort()
                    }
                }, {
                    key: "remove",
                    value: function(e, t, i) {
                        if (this.sourceUpdater_ && this.sourceUpdater_.remove(e, t, i), _c(e, t, this.segmentMetadataTrack_), this.inbandTextTracks_)
                            for (var n in this.inbandTextTracks_) _c(e, t, this.inbandTextTracks_[n])
                    }
                }, {
                    key: "monitorBuffer_",
                    value: function() {
                        this.checkBufferTimeout_ && i.clearTimeout(this.checkBufferTimeout_), this.checkBufferTimeout_ = i.setTimeout(this.monitorBufferTick_.bind(this), 1)
                    }
                }, {
                    key: "monitorBufferTick_",
                    value: function() {
                        "READY" === this.state && this.fillBuffer_(), this.checkBufferTimeout_ && i.clearTimeout(this.checkBufferTimeout_), this.checkBufferTimeout_ = i.setTimeout(this.monitorBufferTick_.bind(this), 500)
                    }
                }, {
                    key: "fillBuffer_",
                    value: function() {
                        if (!this.sourceUpdater_.updating()) {
                            this.syncPoint_ || (this.syncPoint_ = this.syncController_.getSyncPoint(this.playlist_, this.duration_(), this.currentTimeline_, this.currentTime_()));
                            var e = this.checkBuffer_(this.buffered_(), this.playlist_, this.mediaIndex, this.hasPlayed_(), this.currentTime_(), this.syncPoint_);
                            e && (su(this.playlist_, this.mediaSource_, e.mediaIndex) ? this.endOfStream() : (e.mediaIndex !== this.playlist_.segments.length - 1 || "ended" !== this.mediaSource_.readyState || this.seeking_()) && ((e.timeline !== this.currentTimeline_ || null !== e.startOfSegment && e.startOfSegment < this.sourceUpdater_.timestampOffset()) && (this.syncController_.reset(), e.timestampOffset = e.startOfSegment, this.captionParser_.clearAllCaptions()), this.loadSegment_(e)))
                        }
                    }
                }, {
                    key: "checkBuffer_",
                    value: function(e, t, i, n, r, a) {
                        var o = 0,
                            s = void 0;
                        e.length && (o = e.end(e.length - 1));
                        var l = Math.max(0, o - r);
                        if (!t.segments.length) return null;
                        if (l >= this.goalBufferLength_()) return null;
                        if (!n && 1 <= l) return null;
                        if (null === a) return i = this.getSyncSegmentCandidate_(t), this.generateSegmentInfo_(t, i, null, !0);
                        if (null !== i) {
                            var c = t.segments[i];
                            return this.generateSegmentInfo_(t, i + 1, s = c && c.end ? c.end : o, !1)
                        }
                        if (this.fetchAtBuffer_) {
                            var u = ic.getMediaInfoForTime(t, o, a.segmentIndex, a.time);
                            i = u.mediaIndex, s = u.startTime
                        } else {
                            var d = ic.getMediaInfoForTime(t, r, a.segmentIndex, a.time);
                            i = d.mediaIndex, s = d.startTime
                        }
                        return this.generateSegmentInfo_(t, i, s, !1)
                    }
                }, {
                    key: "getSyncSegmentCandidate_",
                    value: function(e) {
                        var t = this;
                        if (-1 === this.currentTimeline_) return 0;
                        var i = e.segments.map(function(e, t) {
                            return {
                                timeline: e.timeline,
                                segmentIndex: t
                            }
                        }).filter(function(e) {
                            return e.timeline === t.currentTimeline_
                        });
                        return i.length ? i[Math.min(i.length - 1, 1)].segmentIndex : Math.max(e.segments.length - 1, 0)
                    }
                }, {
                    key: "generateSegmentInfo_",
                    value: function(e, t, i, n) {
                        if (t < 0 || t >= e.segments.length) return null;
                        var r = e.segments[t];
                        return {
                            requestId: "segment-loader-" + Math.random(),
                            uri: r.resolvedUri,
                            mediaIndex: t,
                            isSyncRequest: n,
                            startOfSegment: i,
                            playlist: e,
                            bytes: null,
                            encryptedBytes: null,
                            timestampOffset: null,
                            timeline: r.timeline,
                            duration: r.duration,
                            segment: r
                        }
                    }
                }, {
                    key: "abortRequestEarly_",
                    value: function(e) {
                        if (this.hls_.tech_.paused() || !this.xhrOptions_.timeout || !this.playlist_.attributes.BANDWIDTH) return !1;
                        if (Date.now() - (e.firstBytesReceivedAt || Date.now()) < 1e3) return !1;
                        var t = this.currentTime_(),
                            i = e.bandwidth,
                            n = this.pendingSegment_.duration,
                            r = ic.estimateSegmentRequestTime(n, i, this.playlist_, e.bytesReceived),
                            a = function(e, t) {
                                var i = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : 1;
                                return ((e.length ? e.end(e.length - 1) : 0) - t) / i
                            }(this.buffered_(), t, this.hls_.tech_.playbackRate()) - 1;
                        if (r <= a) return !1;
                        var o = function(e) {
                            var t = e.currentTime,
                                i = e.bandwidth,
                                n = e.duration,
                                r = e.segmentDuration,
                                a = e.timeUntilRebuffer,
                                o = e.currentTimeline,
                                s = e.syncController,
                                l = e.master.playlists.filter(function(e) {
                                    return !ic.isIncompatible(e)
                                }),
                                c = l.filter(ic.isEnabled);
                            c.length || (c = l.filter(function(e) {
                                return !ic.isDisabled(e)
                            }));
                            var u = c.filter(ic.hasAttribute.bind(null, "BANDWIDTH")).map(function(e) {
                                    var l = s.getSyncPoint(e, n, o, t) ? 1 : 2;
                                    return {
                                        playlist: e,
                                        rebufferingImpact: ic.estimateSegmentRequestTime(r, i, e) * l - a
                                    }
                                }),
                                d = u.filter(function(e) {
                                    return e.rebufferingImpact <= 0
                                });
                            return au(d, function(e, t) {
                                return ou(t.playlist, e.playlist)
                            }), d.length ? d[0] : (au(u, function(e, t) {
                                return e.rebufferingImpact - t.rebufferingImpact
                            }), u[0] || null)
                        }({
                            master: this.hls_.playlists.master,
                            currentTime: t,
                            bandwidth: i,
                            duration: this.duration_(),
                            segmentDuration: n,
                            timeUntilRebuffer: a,
                            currentTimeline: this.currentTimeline_,
                            syncController: this.syncController_
                        });
                        if (o) {
                            var s = .5;
                            return a <= fc && (s = 1), !(!o.playlist || o.playlist.uri === this.playlist_.uri || r - a - o.rebufferingImpact < s || (this.bandwidth = o.playlist.attributes.BANDWIDTH * eu.BANDWIDTH_VARIANCE + 1, this.abort(), this.trigger("earlyabort"), 0))
                        }
                    }
                }, {
                    key: "handleProgress_",
                    value: function(e, t) {
                        this.pendingSegment_ && t.requestId === this.pendingSegment_.requestId && !this.abortRequestEarly_(t.stats) && this.trigger("progress")
                    }
                }, {
                    key: "loadSegment_",
                    value: function(e) {
                        this.state = "WAITING", this.pendingSegment_ = e, this.trimBackBuffer_(e), e.abortRequests = function(e, t, i, n, r, a, o) {
                            var s, l, c, u, d, h = [],
                                p = function(e, t, i) {
                                    var n = 0,
                                        r = !1;
                                    return function(a, o) {
                                        var s, l, c;
                                        if (!r) return a ? (r = !0, iu(e), i(a, o)) : (n += 1) === e.length ? (o.endOfAllRequests = Date.now(), o.encryptedBytes ? (l = o, c = i, (s = t).addEventListener("message", function e(t) {
                                            if (t.data.source === l.requestId) {
                                                s.removeEventListener("message", e);
                                                var i = t.data.decrypted;
                                                return l.bytes = new Uint8Array(i.bytes, i.byteOffset, i.byteLength), c(null, l)
                                            }
                                        }), void s.postMessage(lc({
                                            source: l.requestId,
                                            encrypted: l.encryptedBytes,
                                            key: l.key.bytes,
                                            iv: l.key.iv
                                        }), [l.encryptedBytes.buffer, l.key.bytes.buffer])) : i(null, o)) : void 0
                                    }
                                }(h, i, o);
                            if (r.key) {
                                var f = e(ta.mergeOptions(t, {
                                    uri: r.key.resolvedUri,
                                    responseType: "arraybuffer"
                                }), (s = r, l = p, function(e, t) {
                                    var i = t.response,
                                        n = nu(e, t);
                                    if (n) return l(n, s);
                                    if (16 !== i.byteLength) return l({
                                        status: t.status,
                                        message: "Invalid HLS key at URL: " + t.uri,
                                        code: 2,
                                        xhr: t
                                    }, s);
                                    var r = new DataView(i);
                                    return s.key.bytes = new Uint32Array([r.getUint32(0), r.getUint32(4), r.getUint32(8), r.getUint32(12)]), l(null, s)
                                }));
                                h.push(f)
                            }
                            if (r.map && !r.map.bytes) {
                                var m = e(ta.mergeOptions(t, {
                                    uri: r.map.resolvedUri,
                                    responseType: "arraybuffer",
                                    headers: tu(r.map)
                                }), (c = r, u = n, d = p, function(e, t) {
                                    var i = t.response,
                                        n = nu(e, t);
                                    return n ? d(n, c) : 0 === i.byteLength ? d({
                                        status: t.status,
                                        message: "Empty HLS segment content at URL: " + t.uri,
                                        code: 2,
                                        xhr: t
                                    }, c) : (c.map.bytes = new Uint8Array(t.response), u.isInitialized() || u.init(), c.map.timescales = Mo.timescale(c.map.bytes), c.map.videoTrackIds = Mo.videoTrackIds(c.map.bytes), d(null, c))
                                }));
                                h.push(m)
                            }
                            var g, y, v, b = e(ta.mergeOptions(t, {
                                uri: r.resolvedUri,
                                responseType: "arraybuffer",
                                headers: tu(r)
                            }), (g = r, y = n, v = p, function(e, t) {
                                var i, n = t.response,
                                    r = nu(e, t),
                                    a = void 0;
                                return r ? v(r, g) : 0 === n.byteLength ? v({
                                    status: t.status,
                                    message: "Empty HLS segment content at URL: " + t.uri,
                                    code: 2,
                                    xhr: t
                                }, g) : (g.stats = {
                                    bandwidth: (i = t).bandwidth,
                                    bytesReceived: i.bytesReceived || 0,
                                    roundTripTime: i.roundTripTime || 0
                                }, g.key ? g.encryptedBytes = new Uint8Array(t.response) : g.bytes = new Uint8Array(t.response), g.map && g.map.bytes && (y.isInitialized() || y.init(), (a = y.parse(g.bytes, g.map.videoTrackIds, g.map.timescales)) && a.captions && (g.captionStreams = a.captionStreams, g.fmp4Captions = a.captions)), v(null, g))
                            }));
                            return b.addEventListener("progress", function(e, t) {
                                    return function(i) {
                                        var n, r, a;
                                        return e.stats = ta.mergeOptions(e.stats, (r = (n = i).target, (a = {
                                            bandwidth: 1 / 0,
                                            bytesReceived: 0,
                                            roundTripTime: Date.now() - r.requestTime || 0
                                        }).bytesReceived = n.loaded, a.bandwidth = Math.floor(a.bytesReceived / a.roundTripTime * 8 * 1e3), a)), !e.stats.firstBytesReceivedAt && e.stats.bytesReceived && (e.stats.firstBytesReceivedAt = Date.now()), t(i, e)
                                    }
                                }(r, a)), h.push(b),
                                function() {
                                    return iu(h)
                                }
                        }(this.hls_.xhr, this.xhrOptions_, this.decrypter_, this.captionParser_, this.createSimplifiedSegmentObj_(e), this.handleProgress_.bind(this), this.segmentRequestFinished_.bind(this))
                    }
                }, {
                    key: "trimBackBuffer_",
                    value: function(e) {
                        var t, i, n, r, a = (t = this.seekable_(), i = this.currentTime_(), n = this.playlist_.targetDuration || 10, r = t.length && 0 < t.start(0) && t.start(0) < i ? t.start(0) : i - 30, Math.min(r, i - n));
                        0 < a && this.remove(0, a)
                    }
                }, {
                    key: "createSimplifiedSegmentObj_",
                    value: function(e) {
                        var t = e.segment,
                            i = {
                                resolvedUri: t.resolvedUri,
                                byterange: t.byterange,
                                requestId: e.requestId
                            };
                        if (t.key) {
                            var n = t.key.iv || new Uint32Array([0, 0, 0, e.mediaIndex + e.playlist.mediaSequence]);
                            i.key = {
                                resolvedUri: t.key.resolvedUri,
                                iv: n
                            }
                        }
                        return t.map && (i.map = this.initSegment(t.map)), i
                    }
                }, {
                    key: "segmentRequestFinished_",
                    value: function(e, t) {
                        if (this.mediaRequests += 1, t.stats && (this.mediaBytesTransferred += t.stats.bytesReceived, this.mediaTransferDuration += t.stats.roundTripTime), this.pendingSegment_) {
                            if (t.requestId === this.pendingSegment_.requestId) {
                                if (e) return this.pendingSegment_ = null, this.state = "READY", -102 === e.code ? void(this.mediaRequestsAborted += 1) : (this.pause(), -101 === e.code ? (this.mediaRequestsTimedout += 1, this.bandwidth = 1, this.roundTrip = NaN, void this.trigger("bandwidthupdate")) : (this.mediaRequestsErrored += 1, this.error(e), void this.trigger("error")));
                                this.bandwidth = t.stats.bandwidth, this.roundTrip = t.stats.roundTripTime, t.map && (t.map = this.initSegment(t.map, !0)), this.processSegmentResponse_(t)
                            }
                        } else this.mediaRequestsAborted += 1
                    }
                }, {
                    key: "processSegmentResponse_",
                    value: function(e) {
                        var t = this.pendingSegment_;
                        t.bytes = e.bytes, e.map && (t.segment.map.bytes = e.map.bytes), t.endOfAllRequests = e.endOfAllRequests, e.fmp4Captions && (function(e, t, i) {
                            for (var n in i)
                                if (!e[n]) {
                                    t.trigger({
                                        type: "usage",
                                        name: "hls-608"
                                    });
                                    var r = t.textTracks().getTrackById(n);
                                    e[n] = r || t.addRemoteTextTrack({
                                        kind: "captions",
                                        id: n,
                                        label: n
                                    }, !1).track
                                }
                        }(this.inbandTextTracks_, this.hls_.tech_, e.captionStreams), function(e) {
                            var t = e.inbandTextTracks,
                                i = e.captionArray,
                                n = e.timestampOffset;
                            if (i) {
                                var r = window.WebKitDataCue || window.VTTCue;
                                i.forEach(function(e) {
                                    var i = e.stream,
                                        a = e.startTime,
                                        o = e.endTime;
                                    t[i] && t[i].addCue(new r(a += n, o += n, e.text))
                                })
                            }
                        }({
                            inbandTextTracks: this.inbandTextTracks_,
                            captionArray: e.fmp4Captions,
                            timestampOffset: 0
                        }), this.captionParser_.clearParsedCaptions()), this.handleSegment_()
                    }
                }, {
                    key: "handleSegment_",
                    value: function() {
                        var e = this;
                        if (this.pendingSegment_) {
                            var t = this.pendingSegment_,
                                i = t.segment,
                                n = this.syncController_.probeSegmentInfo(t);
                            void 0 === this.startingMedia_ && n && (n.containsAudio || n.containsVideo) && (this.startingMedia_ = {
                                containsAudio: n.containsAudio,
                                containsVideo: n.containsVideo
                            });
                            var r, a, o = (r = this.startingMedia_, a = n, "main" === this.loaderType_ && r && a ? a.containsAudio || a.containsVideo ? r.containsVideo && !a.containsVideo ? "Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest." : !r.containsVideo && a.containsVideo ? "Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest." : null : "Neither audio nor video found in segment." : null);
                            if (o) return this.error({
                                message: o,
                                blacklistDuration: 1 / 0
                            }), void this.trigger("error");
                            if (t.isSyncRequest) return this.trigger("syncinfoupdate"), this.pendingSegment_ = null, void(this.state = "READY");
                            null !== t.timestampOffset && t.timestampOffset !== this.sourceUpdater_.timestampOffset() && (this.sourceUpdater_.timestampOffset(t.timestampOffset), this.trigger("timestampoffset"));
                            var s, l, c, u, d, h = this.syncController_.mappingForTimeline(t.timeline);
                            if (null !== h && this.trigger({
                                    type: "segmenttimemapping",
                                    mapping: h
                                }), this.state = "APPENDING", i.map) {
                                var p = cc(i.map);
                                if (!this.activeInitSegmentId_ || this.activeInitSegmentId_ !== p) {
                                    var f = this.initSegment(i.map);
                                    this.sourceUpdater_.appendBuffer(f.bytes, function() {
                                        e.activeInitSegmentId_ = p
                                    })
                                }
                            }
                            t.byteLength = t.bytes.byteLength, this.mediaSecondsLoaded += "number" == typeof i.start && "number" == typeof i.end ? i.end - i.start : i.duration, this.logger_((l = (s = t).segment, ["appending [" + s.mediaIndex + "] of [" + (u = (c = s.playlist).mediaSequence) + ", " + (u + (void 0 === (d = c.segments) ? [] : d).length) + "] from playlist [" + c.id + "]", "[" + l.start + " => " + l.end + "] in timeline [" + s.timeline + "]"].join(" "))), this.sourceUpdater_.appendBuffer(t.bytes, this.handleUpdateEnd_.bind(this))
                        } else this.state = "READY"
                    }
                }, {
                    key: "handleUpdateEnd_",
                    value: function() {
                        if (!this.pendingSegment_) return this.state = "READY", void(this.paused() || this.monitorBuffer_());
                        var e = this.pendingSegment_,
                            t = e.segment,
                            i = null !== this.mediaIndex;
                        this.pendingSegment_ = null, this.recordThroughput_(e), this.addSegmentMetadataCue_(e), this.state = "READY", this.mediaIndex = e.mediaIndex, this.fetchAtBuffer_ = !0, this.currentTimeline_ = e.timeline, this.trigger("syncinfoupdate"), t.end && this.currentTime_() - t.end > 3 * e.playlist.targetDuration ? this.resetEverything() : (i && this.trigger("bandwidthupdate"), this.trigger("progress"), su(e.playlist, this.mediaSource_, e.mediaIndex + 1) && this.endOfStream(), this.paused() || this.monitorBuffer_())
                    }
                }, {
                    key: "recordThroughput_",
                    value: function(e) {
                        var t = this.throughput.rate,
                            i = Date.now() - e.endOfAllRequests + 1,
                            n = Math.floor(e.byteLength / i * 8 * 1e3);
                        this.throughput.rate += (n - t) / ++this.throughput.count
                    }
                }, {
                    key: "addSegmentMetadataCue_",
                    value: function(e) {
                        if (this.segmentMetadataTrack_) {
                            var t = e.segment,
                                n = t.start,
                                r = t.end;
                            if (lu(n) && lu(r)) {
                                _c(n, r, this.segmentMetadataTrack_);
                                var a = {
                                        dateTimeObject: t.dateTimeObject,
                                        dateTimeString: t.dateTimeString,
                                        bandwidth: e.playlist.attributes.BANDWIDTH,
                                        resolution: e.playlist.attributes.RESOLUTION,
                                        codecs: e.playlist.attributes.CODECS,
                                        byteLength: e.byteLength,
                                        uri: e.uri,
                                        timeline: e.timeline,
                                        playlist: e.playlist.uri,
                                        start: n,
                                        end: r
                                    },
                                    o = new(i.WebKitDataCue || i.VTTCue)(n, r, JSON.stringify(a));
                                o.value = a, this.segmentMetadataTrack_.addCue(o)
                            }
                        }
                    }
                }]), t
            }(),
            uu = function(e) {
                return decodeURIComponent(escape(String.fromCharCode.apply(null, e)))
            },
            du = new Uint8Array("\n\n".split("").map(function(e) {
                return e.charCodeAt(0)
            })),
            hu = function(e) {
                function t(e) {
                    var i = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {};
                    Pl(this, t);
                    var n = Ll(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, i));
                    return n.mediaSource_ = null, n.subtitlesTrack_ = null, n
                }
                return Il(t, cu), Al(t, [{
                    key: "buffered_",
                    value: function() {
                        if (!this.subtitlesTrack_ || !this.subtitlesTrack_.cues.length) return ta.createTimeRanges();
                        var e = this.subtitlesTrack_.cues;
                        return ta.createTimeRanges([
                            [e[0].startTime, e[e.length - 1].startTime]
                        ])
                    }
                }, {
                    key: "initSegment",
                    value: function(e) {
                        var t = 1 < arguments.length && void 0 !== arguments[1] && arguments[1];
                        if (!e) return null;
                        var i = cc(e),
                            n = this.initSegments_[i];
                        if (t && !n && e.bytes) {
                            var r = new Uint8Array(du.byteLength + e.bytes.byteLength);
                            r.set(e.bytes), r.set(du, e.bytes.byteLength), this.initSegments_[i] = n = {
                                resolvedUri: e.resolvedUri,
                                byterange: e.byterange,
                                bytes: r
                            }
                        }
                        return n || e
                    }
                }, {
                    key: "couldBeginLoading_",
                    value: function() {
                        return this.playlist_ && this.subtitlesTrack_ && !this.paused()
                    }
                }, {
                    key: "init_",
                    value: function() {
                        return this.state = "READY", this.resetEverything(), this.monitorBuffer_()
                    }
                }, {
                    key: "track",
                    value: function(e) {
                        return void 0 === e || (this.subtitlesTrack_ = e, "INIT" === this.state && this.couldBeginLoading_() && this.init_()), this.subtitlesTrack_
                    }
                }, {
                    key: "remove",
                    value: function(e, t) {
                        _c(e, t, this.subtitlesTrack_)
                    }
                }, {
                    key: "fillBuffer_",
                    value: function() {
                        var e = this;
                        this.syncPoint_ || (this.syncPoint_ = this.syncController_.getSyncPoint(this.playlist_, this.duration_(), this.currentTimeline_, this.currentTime_()));
                        var t = this.checkBuffer_(this.buffered_(), this.playlist_, this.mediaIndex, this.hasPlayed_(), this.currentTime_(), this.syncPoint_);
                        if (t = this.skipEmptySegments_(t)) {
                            if (null === this.syncController_.timestampOffsetForTimeline(t.timeline)) return this.syncController_.one("timestampoffset", function() {
                                e.state = "READY", e.paused() || e.monitorBuffer_()
                            }), void(this.state = "WAITING_ON_TIMELINE");
                            this.loadSegment_(t)
                        }
                    }
                }, {
                    key: "skipEmptySegments_",
                    value: function(e) {
                        for (; e && e.segment.empty;) e = this.generateSegmentInfo_(e.playlist, e.mediaIndex + 1, e.startOfSegment + e.duration, e.isSyncRequest);
                        return e
                    }
                }, {
                    key: "handleSegment_",
                    value: function() {
                        var e = this;
                        if (this.pendingSegment_ && this.subtitlesTrack_) {
                            this.state = "APPENDING";
                            var t = this.pendingSegment_,
                                n = t.segment;
                            if ("function" != typeof i.WebVTT && this.subtitlesTrack_ && this.subtitlesTrack_.tech_) {
                                var r = function() {
                                    e.handleSegment_()
                                };
                                return this.state = "WAITING_ON_VTTJS", this.subtitlesTrack_.tech_.one("vttjsloaded", r), void this.subtitlesTrack_.tech_.one("vttjserror", function() {
                                    e.subtitlesTrack_.tech_.off("vttjsloaded", r), e.error({
                                        message: "Error loading vtt.js"
                                    }), e.state = "READY", e.pause(), e.trigger("error")
                                })
                            }
                            n.requested = !0;
                            try {
                                this.parseVTTCues_(t)
                            } catch (t) {
                                return this.error({
                                    message: t.message
                                }), this.state = "READY", this.pause(), this.trigger("error")
                            }
                            if (this.updateTimeMapping_(t, this.syncController_.timelines[t.timeline], this.playlist_), t.isSyncRequest) return this.trigger("syncinfoupdate"), this.pendingSegment_ = null, void(this.state = "READY");
                            t.byteLength = t.bytes.byteLength, this.mediaSecondsLoaded += n.duration, t.cues.length && this.remove(t.cues[0].endTime, t.cues[t.cues.length - 1].endTime), t.cues.forEach(function(t) {
                                e.subtitlesTrack_.addCue(t)
                            }), this.handleUpdateEnd_()
                        } else this.state = "READY"
                    }
                }, {
                    key: "parseVTTCues_",
                    value: function(e) {
                        var t = void 0,
                            n = !1;
                        "function" == typeof i.TextDecoder ? t = new i.TextDecoder("utf8") : (t = i.WebVTT.StringDecoder(), n = !0);
                        var r = new i.WebVTT.Parser(i, i.vttjs, t);
                        if (e.cues = [], e.timestampmap = {
                                MPEGTS: 0,
                                LOCAL: 0
                            }, r.oncue = e.cues.push.bind(e.cues), r.ontimestampmap = function(t) {
                                return e.timestampmap = t
                            }, r.onparsingerror = function(e) {
                                ta.log.warn("Error encountered when parsing cues: " + e.message)
                            }, e.segment.map) {
                            var a = e.segment.map.bytes;
                            n && (a = uu(a)), r.parse(a)
                        }
                        var o = e.bytes;
                        n && (o = uu(o)), r.parse(o), r.flush()
                    }
                }, {
                    key: "updateTimeMapping_",
                    value: function(e, t, i) {
                        var n = e.segment;
                        if (t)
                            if (e.cues.length) {
                                var r = e.timestampmap,
                                    a = r.MPEGTS / 9e4 - r.LOCAL + t.mapping;
                                e.cues.forEach(function(e) {
                                    e.startTime += a, e.endTime += a
                                }), i.syncInfo || (i.syncInfo = {
                                    mediaSequence: i.mediaSequence + e.mediaIndex,
                                    time: Math.min(e.cues[0].startTime, e.cues[e.cues.length - 1].startTime - n.duration)
                                })
                            } else n.empty = !0
                    }
                }]), t
            }(),
            pu = function(e, t) {
                for (var i = e.cues, n = 0; n < i.length; n++) {
                    var r = i[n];
                    if (t >= r.adStartTime && t <= r.adEndTime) return r
                }
                return null
            },
            fu = [{
                name: "VOD",
                run: function(e, t, i, n, r) {
                    return i === 1 / 0 ? null : {
                        time: 0,
                        segmentIndex: 0
                    }
                }
            }, {
                name: "ProgramDateTime",
                run: function(e, t, i, n, r) {
                    if (!e.datetimeToDisplayTime) return null;
                    var a = t.segments || [],
                        o = null,
                        s = null;
                    r = r || 0;
                    for (var l = 0; l < a.length; l++) {
                        var c = a[l];
                        if (c.dateTimeObject) {
                            var u = c.dateTimeObject.getTime() / 1e3 + e.datetimeToDisplayTime,
                                d = Math.abs(r - u);
                            if (null !== s && s < d) break;
                            s = d, o = {
                                time: u,
                                segmentIndex: l
                            }
                        }
                    }
                    return o
                }
            }, {
                name: "Segment",
                run: function(e, t, i, n, r) {
                    var a = t.segments || [],
                        o = null,
                        s = null;
                    r = r || 0;
                    for (var l = 0; l < a.length; l++) {
                        var c = a[l];
                        if (c.timeline === n && void 0 !== c.start) {
                            var u = Math.abs(r - c.start);
                            if (null !== s && s < u) break;
                            (!o || null === s || u <= s) && (s = u, o = {
                                time: c.start,
                                segmentIndex: l
                            })
                        }
                    }
                    return o
                }
            }, {
                name: "Discontinuity",
                run: function(e, t, i, n, r) {
                    var a = null;
                    if (r = r || 0, t.discontinuityStarts && t.discontinuityStarts.length)
                        for (var o = null, s = 0; s < t.discontinuityStarts.length; s++) {
                            var l = t.discontinuityStarts[s],
                                c = e.discontinuities[t.discontinuitySequence + s + 1];
                            if (c) {
                                var u = Math.abs(r - c.time);
                                if (null !== o && o < u) break;
                                (!a || null === o || u <= o) && (o = u, a = {
                                    time: c.time,
                                    segmentIndex: l
                                })
                            }
                        }
                    return a
                }
            }, {
                name: "Playlist",
                run: function(e, t, i, n, r) {
                    return t.syncInfo ? {
                        time: t.syncInfo.time,
                        segmentIndex: t.syncInfo.mediaSequence - t.mediaSequence
                    } : null
                }
            }],
            mu = function(e) {
                function t() {
                    Pl(this, t);
                    var e = Ll(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                    return e.inspectCache_ = void 0, e.timelines = [], e.discontinuities = [], e.datetimeToDisplayTime = null, e.logger_ = $c("SyncController"), e
                }
                return Il(t, ta.EventTarget), Al(t, [{
                    key: "getSyncPoint",
                    value: function(e, t, i, n) {
                        var r = this.runStrategies_(e, t, i, n);
                        return r.length ? this.selectSyncPoint_(r, {
                            key: "time",
                            value: n
                        }) : null
                    }
                }, {
                    key: "getExpiredTime",
                    value: function(e, t) {
                        if (!e || !e.segments) return null;
                        var i = this.runStrategies_(e, t, e.discontinuitySequence, 0);
                        if (!i.length) return null;
                        var n = this.selectSyncPoint_(i, {
                            key: "segmentIndex",
                            value: 0
                        });
                        return 0 < n.segmentIndex && (n.time *= -1), Math.abs(n.time + Hl(e, n.segmentIndex, 0))
                    }
                }, {
                    key: "runStrategies_",
                    value: function(e, t, i, n) {
                        for (var r = [], a = 0; a < fu.length; a++) {
                            var o = fu[a],
                                s = o.run(this, e, t, i, n);
                            s && (s.strategy = o.name, r.push({
                                strategy: o.name,
                                syncPoint: s
                            }))
                        }
                        return r
                    }
                }, {
                    key: "selectSyncPoint_",
                    value: function(e, t) {
                        for (var i = e[0].syncPoint, n = Math.abs(e[0].syncPoint[t.key] - t.value), r = e[0].strategy, a = 1; a < e.length; a++) {
                            var o = Math.abs(e[a].syncPoint[t.key] - t.value);
                            o < n && (n = o, i = e[a].syncPoint, r = e[a].strategy)
                        }
                        return this.logger_("syncPoint for [" + t.key + ": " + t.value + "] chosen with strategy [" + r + "]: [time:" + i.time + ", segmentIndex:" + i.segmentIndex + "]"), i
                    }
                }, {
                    key: "saveExpiredSegmentInfo",
                    value: function(e, t) {
                        for (var i = t.mediaSequence - e.mediaSequence - 1; 0 <= i; i--) {
                            var n = e.segments[i];
                            if (n && void 0 !== n.start) {
                                t.syncInfo = {
                                    mediaSequence: e.mediaSequence + i,
                                    time: n.start
                                }, this.logger_("playlist refresh sync: [time:" + t.syncInfo.time + ", mediaSequence: " + t.syncInfo.mediaSequence + "]"), this.trigger("syncinfoupdate");
                                break
                            }
                        }
                    }
                }, {
                    key: "setDateTimeMapping",
                    value: function(e) {
                        if (!this.datetimeToDisplayTime && e.segments && e.segments.length && e.segments[0].dateTimeObject) {
                            var t = e.segments[0].dateTimeObject.getTime() / 1e3;
                            this.datetimeToDisplayTime = -t
                        }
                    }
                }, {
                    key: "reset",
                    value: function() {
                        this.inspectCache_ = void 0
                    }
                }, {
                    key: "probeSegmentInfo",
                    value: function(e) {
                        var t, i = e.segment,
                            n = e.playlist;
                        return (t = i.map ? this.probeMp4Segment_(e) : this.probeTsSegment_(e)) && this.calculateSegmentTimeMapping_(e, t) && (this.saveDiscontinuitySyncInfo_(e), n.syncInfo || (n.syncInfo = {
                            mediaSequence: n.mediaSequence + e.mediaIndex,
                            time: i.start
                        })), t
                    }
                }, {
                    key: "probeMp4Segment_",
                    value: function(e) {
                        var t = e.segment,
                            i = Mo.timescale(t.map.bytes),
                            n = Mo.startTime(i, e.bytes);
                        return null !== e.timestampOffset && (e.timestampOffset -= n), {
                            start: n,
                            end: n + t.duration
                        }
                    }
                }, {
                    key: "probeTsSegment_",
                    value: function(e) {
                        var t = function(e, t) {
                                var i;
                                return (i = pl.aac.isLikelyAacData(e) ? function(e) {
                                    for (var t, i = !1, n = 0, r = null, a = null, o = 0, s = 0; 3 <= e.length - s;) {
                                        switch (pl.aac.parseType(e, s)) {
                                            case "timed-metadata":
                                                if (e.length - s < 10) {
                                                    i = !0;
                                                    break
                                                }
                                                if ((o = pl.aac.parseId3TagSize(e, s)) > e.length) {
                                                    i = !0;
                                                    break
                                                }
                                                null === a && (t = e.subarray(s, s + o), a = pl.aac.parseAacTimestamp(t)), s += o;
                                                break;
                                            case "audio":
                                                if (e.length - s < 7) {
                                                    i = !0;
                                                    break
                                                }
                                                if ((o = pl.aac.parseAdtsSize(e, s)) > e.length) {
                                                    i = !0;
                                                    break
                                                }
                                                null === r && (t = e.subarray(s, s + o), r = pl.aac.parseSampleRate(t)), n++, s += o;
                                                break;
                                            default:
                                                s++
                                        }
                                        if (i) return null
                                    }
                                    if (null === r || null === a) return null;
                                    var l = 9e4 / r;
                                    return {
                                        audio: [{
                                            type: "audio",
                                            dts: a,
                                            pts: a
                                        }, {
                                            type: "audio",
                                            dts: a + 1024 * n * l,
                                            pts: a + 1024 * n * l
                                        }]
                                    }
                                }(e) : function(e) {
                                    var t = {
                                            pid: null,
                                            table: null
                                        },
                                        i = {};
                                    for (var n in function(e, t) {
                                            for (var i, n = 0, r = fl; r < e.byteLength;)
                                                if (71 !== e[n] || 71 !== e[r]) n++, r++;
                                                else {
                                                    switch (i = e.subarray(n, r), pl.ts.parseType(i, t.pid)) {
                                                        case "pat":
                                                            t.pid || (t.pid = pl.ts.parsePat(i));
                                                            break;
                                                        case "pmt":
                                                            t.table || (t.table = pl.ts.parsePmt(i))
                                                    }
                                                    if (t.pid && t.table) return;
                                                    n += fl, r += fl
                                                }
                                        }(e, t), t.table)
                                        if (t.table.hasOwnProperty(n)) switch (t.table[n]) {
                                            case us.H264_STREAM_TYPE:
                                                i.video = [], gl(e, t, i), 0 === i.video.length && delete i.video;
                                                break;
                                            case us.ADTS_STREAM_TYPE:
                                                i.audio = [], ml(e, t, i), 0 === i.audio.length && delete i.audio
                                        }
                                    return i
                                }(e)) && (i.audio || i.video) ? (function(e, t) {
                                    if (e.audio && e.audio.length) {
                                        var i = t;
                                        void 0 === i && (i = e.audio[0].dts), e.audio.forEach(function(e) {
                                            e.dts = hl(e.dts, i), e.pts = hl(e.pts, i), e.dtsTime = e.dts / 9e4, e.ptsTime = e.pts / 9e4
                                        })
                                    }
                                    if (e.video && e.video.length) {
                                        var n = t;
                                        if (void 0 === n && (n = e.video[0].dts), e.video.forEach(function(e) {
                                                e.dts = hl(e.dts, n), e.pts = hl(e.pts, n), e.dtsTime = e.dts / 9e4, e.ptsTime = e.pts / 9e4
                                            }), e.firstKeyFrame) {
                                            var r = e.firstKeyFrame;
                                            r.dts = hl(r.dts, n), r.pts = hl(r.pts, n), r.dtsTime = r.dts / 9e4, r.ptsTime = r.dts / 9e4
                                        }
                                    }
                                }(i, t), i) : null
                            }(e.bytes, this.inspectCache_),
                            i = void 0,
                            n = void 0;
                        return t ? (t.video && 2 === t.video.length ? (this.inspectCache_ = t.video[1].dts, i = t.video[0].dtsTime, n = t.video[1].dtsTime) : t.audio && 2 === t.audio.length && (this.inspectCache_ = t.audio[1].dts, i = t.audio[0].dtsTime, n = t.audio[1].dtsTime), {
                            start: i,
                            end: n,
                            containsVideo: t.video && 2 === t.video.length,
                            containsAudio: t.audio && 2 === t.audio.length
                        }) : null
                    }
                }, {
                    key: "timestampOffsetForTimeline",
                    value: function(e) {
                        return void 0 === this.timelines[e] ? null : this.timelines[e].time
                    }
                }, {
                    key: "mappingForTimeline",
                    value: function(e) {
                        return void 0 === this.timelines[e] ? null : this.timelines[e].mapping
                    }
                }, {
                    key: "calculateSegmentTimeMapping_",
                    value: function(e, t) {
                        var i = e.segment,
                            n = this.timelines[e.timeline];
                        if (null !== e.timestampOffset) this.timelines[e.timeline] = n = {
                            time: e.startOfSegment,
                            mapping: e.startOfSegment - t.start
                        }, this.trigger("timestampoffset"), this.logger_("time mapping for timeline " + e.timeline + ": [time: " + n.time + "] [mapping: " + n.mapping + "]"), i.start = e.startOfSegment, i.end = t.end + n.mapping;
                        else {
                            if (!n) return !1;
                            i.start = t.start + n.mapping, i.end = t.end + n.mapping
                        }
                        return !0
                    }
                }, {
                    key: "saveDiscontinuitySyncInfo_",
                    value: function(e) {
                        var t = e.playlist,
                            i = e.segment;
                        if (i.discontinuity) this.discontinuities[i.timeline] = {
                            time: i.start,
                            accuracy: 0
                        };
                        else if (t.discontinuityStarts && t.discontinuityStarts.length)
                            for (var n = 0; n < t.discontinuityStarts.length; n++) {
                                var r, a = t.discontinuityStarts[n],
                                    o = t.discontinuitySequence + n + 1,
                                    s = a - e.mediaIndex,
                                    l = Math.abs(s);
                                (!this.discontinuities[o] || this.discontinuities[o].accuracy > l) && (r = s < 0 ? i.start - Hl(t, e.mediaIndex, a) : i.end + Hl(t, e.mediaIndex + 1, a), this.discontinuities[o] = {
                                    time: r,
                                    accuracy: l
                                })
                            }
                    }
                }]), t
            }(),
            gu = new Ac("./decrypter-worker.worker.js", function(e, t) {
                var i, n, r, a, o, s, l, c;
                i = function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }, n = function() {
                    function e(e, t) {
                        for (var i = 0; i < t.length; i++) {
                            var n = t[i];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
                        }
                    }
                    return function(t, i, n) {
                        return i && e(t.prototype, i), n && e(t, n), t
                    }
                }(), r = null, a = function() {
                    function e(t) {
                        i(this, e), r || (r = function() {
                            var e = [
                                    [
                                        [],
                                        [],
                                        [],
                                        [],
                                        []
                                    ],
                                    [
                                        [],
                                        [],
                                        [],
                                        [],
                                        []
                                    ]
                                ],
                                t = e[0],
                                i = e[1],
                                n = t[4],
                                r = i[4],
                                a = void 0,
                                o = void 0,
                                s = void 0,
                                l = [],
                                c = [],
                                u = void 0,
                                d = void 0,
                                h = void 0,
                                p = void 0,
                                f = void 0;
                            for (a = 0; a < 256; a++) c[(l[a] = a << 1 ^ 283 * (a >> 7)) ^ a] = a;
                            for (o = s = 0; !n[o]; o ^= u || 1, s = c[s] || 1)
                                for (h = (h = s ^ s << 1 ^ s << 2 ^ s << 3 ^ s << 4) >> 8 ^ 255 & h ^ 99, f = 16843009 * l[d = l[u = l[r[n[o] = h] = o]]] ^ 65537 * d ^ 257 * u ^ 16843008 * o, p = 257 * l[h] ^ 16843008 * h, a = 0; a < 4; a++) t[a][o] = p = p << 24 ^ p >>> 8, i[a][h] = f = f << 24 ^ f >>> 8;
                            for (a = 0; a < 5; a++) t[a] = t[a].slice(0), i[a] = i[a].slice(0);
                            return e
                        }()), this._tables = [
                            [r[0][0].slice(), r[0][1].slice(), r[0][2].slice(), r[0][3].slice(), r[0][4].slice()],
                            [r[1][0].slice(), r[1][1].slice(), r[1][2].slice(), r[1][3].slice(), r[1][4].slice()]
                        ];
                        var n = void 0,
                            a = void 0,
                            o = void 0,
                            s = void 0,
                            l = void 0,
                            c = this._tables[0][4],
                            u = this._tables[1],
                            d = t.length,
                            h = 1;
                        if (4 !== d && 6 !== d && 8 !== d) throw new Error("Invalid aes key size");
                        for (s = t.slice(0), this._key = [s, l = []], n = d; n < 4 * d + 28; n++) o = s[n - 1], (n % d == 0 || 8 === d && n % d == 4) && (o = c[o >>> 24] << 24 ^ c[o >> 16 & 255] << 16 ^ c[o >> 8 & 255] << 8 ^ c[255 & o], n % d == 0 && (o = o << 8 ^ o >>> 24 ^ h << 24, h = h << 1 ^ 283 * (h >> 7))), s[n] = s[n - d] ^ o;
                        for (a = 0; n; a++, n--) o = s[3 & a ? n : n - 4], l[a] = n <= 4 || a < 4 ? o : u[0][c[o >>> 24]] ^ u[1][c[o >> 16 & 255]] ^ u[2][c[o >> 8 & 255]] ^ u[3][c[255 & o]]
                    }
                    return e.prototype.decrypt = function(e, t, i, n, r, a) {
                        var o = this._key[1],
                            s = e ^ o[0],
                            l = n ^ o[1],
                            c = i ^ o[2],
                            u = t ^ o[3],
                            d = void 0,
                            h = void 0,
                            p = void 0,
                            f = o.length / 4 - 2,
                            m = void 0,
                            g = 4,
                            y = this._tables[1],
                            v = y[0],
                            b = y[1],
                            _ = y[2],
                            T = y[3],
                            S = y[4];
                        for (m = 0; m < f; m++) d = v[s >>> 24] ^ b[l >> 16 & 255] ^ _[c >> 8 & 255] ^ T[255 & u] ^ o[g], h = v[l >>> 24] ^ b[c >> 16 & 255] ^ _[u >> 8 & 255] ^ T[255 & s] ^ o[g + 1], p = v[c >>> 24] ^ b[u >> 16 & 255] ^ _[s >> 8 & 255] ^ T[255 & l] ^ o[g + 2], u = v[u >>> 24] ^ b[s >> 16 & 255] ^ _[l >> 8 & 255] ^ T[255 & c] ^ o[g + 3], g += 4, s = d, l = h, c = p;
                        for (m = 0; m < 4; m++) r[(3 & -m) + a] = S[s >>> 24] << 24 ^ S[l >> 16 & 255] << 16 ^ S[c >> 8 & 255] << 8 ^ S[255 & u] ^ o[g++], d = s, s = l, l = c, c = u, u = d
                    }, e
                }(), o = function() {
                    function e() {
                        i(this, e), this.listeners = {}
                    }
                    return e.prototype.on = function(e, t) {
                        this.listeners[e] || (this.listeners[e] = []), this.listeners[e].push(t)
                    }, e.prototype.off = function(e, t) {
                        if (!this.listeners[e]) return !1;
                        var i = this.listeners[e].indexOf(t);
                        return this.listeners[e].splice(i, 1), -1 < i
                    }, e.prototype.trigger = function(e) {
                        var t = this.listeners[e];
                        if (t)
                            if (2 === arguments.length)
                                for (var i = t.length, n = 0; n < i; ++n) t[n].call(this, arguments[1]);
                            else
                                for (var r = Array.prototype.slice.call(arguments, 1), a = t.length, o = 0; o < a; ++o) t[o].apply(this, r)
                    }, e.prototype.dispose = function() {
                        this.listeners = {}
                    }, e.prototype.pipe = function(e) {
                        this.on("data", function(t) {
                            e.push(t)
                        })
                    }, e
                }(), s = function(e) {
                    function t() {
                        i(this, t);
                        var n = function(e, t) {
                            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                            return !t || "object" != typeof t && "function" != typeof t ? e : t
                        }(this, e.call(this, o));
                        return n.jobs = [], n.delay = 1, n.timeout_ = null, n
                    }
                    return function(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }(t, e), t.prototype.processJob_ = function() {
                        this.jobs.shift()(), this.timeout_ = this.jobs.length ? setTimeout(this.processJob_.bind(this), this.delay) : null
                    }, t.prototype.push = function(e) {
                        this.jobs.push(e), this.timeout_ || (this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay))
                    }, t
                }(o), l = function(e) {
                    return e << 24 | (65280 & e) << 8 | (16711680 & e) >> 8 | e >>> 24
                }, c = function() {
                    function e(t, n, r, a) {
                        i(this, e);
                        var o = e.STEP,
                            c = new Int32Array(t.buffer),
                            u = new Uint8Array(t.byteLength),
                            d = 0;
                        for (this.asyncStream_ = new s, this.asyncStream_.push(this.decryptChunk_(c.subarray(d, d + o), n, r, u)), d = o; d < c.length; d += o) r = new Uint32Array([l(c[d - 4]), l(c[d - 3]), l(c[d - 2]), l(c[d - 1])]), this.asyncStream_.push(this.decryptChunk_(c.subarray(d, d + o), n, r, u));
                        this.asyncStream_.push(function() {
                            var e;
                            a(null, (e = u).subarray(0, e.byteLength - e[e.byteLength - 1]))
                        })
                    }
                    return e.prototype.decryptChunk_ = function(e, t, i, n) {
                        return function() {
                            var r = function(e, t, i) {
                                var n = new Int32Array(e.buffer, e.byteOffset, e.byteLength >> 2),
                                    r = new a(Array.prototype.slice.call(t)),
                                    o = new Uint8Array(e.byteLength),
                                    s = new Int32Array(o.buffer),
                                    c = void 0,
                                    u = void 0,
                                    d = void 0,
                                    h = void 0,
                                    p = void 0,
                                    f = void 0,
                                    m = void 0,
                                    g = void 0,
                                    y = void 0;
                                for (c = i[0], u = i[1], d = i[2], h = i[3], y = 0; y < n.length; y += 4) p = l(n[y]), f = l(n[y + 1]), m = l(n[y + 2]), g = l(n[y + 3]), r.decrypt(p, f, m, g, s, y), s[y] = l(s[y] ^ c), s[y + 1] = l(s[y + 1] ^ u), s[y + 2] = l(s[y + 2] ^ d), s[y + 3] = l(s[y + 3] ^ h), c = p, u = f, d = m, h = g;
                                return o
                            }(e, t, i);
                            n.set(r, e.byteOffset)
                        }
                    }, n(e, null, [{
                        key: "STEP",
                        get: function() {
                            return 32e3
                        }
                    }]), e
                }(), new function(e) {
                    e.onmessage = function(t) {
                        var i = t.data,
                            n = new Uint8Array(i.encrypted.bytes, i.encrypted.byteOffset, i.encrypted.byteLength),
                            r = new Uint32Array(i.key.bytes, i.key.byteOffset, i.key.byteLength / 4),
                            a = new Uint32Array(i.iv.bytes, i.iv.byteOffset, i.iv.byteLength / 4);
                        new c(n, r, a, function(t, n) {
                            var r, a;
                            e.postMessage((r = {
                                source: i.source,
                                decrypted: n
                            }, a = {}, Object.keys(r).forEach(function(e) {
                                var t = r[e];
                                a[e] = ArrayBuffer.isView(t) ? {
                                    bytes: t.buffer,
                                    byteOffset: t.byteOffset,
                                    byteLength: t.byteLength
                                } : t
                            }), a), [n.buffer])
                        })
                    }
                }(this)
            }),
            yu = function(e, t) {
                e.abort(), e.pause(), t && t.activePlaylistLoader && (t.activePlaylistLoader.pause(), t.activePlaylistLoader = null)
            },
            vu = function(e, t) {
                (t.activePlaylistLoader = e).load()
            },
            bu = {
                AUDIO: function(e, t) {
                    return function() {
                        var i = t.mediaTypes[e],
                            n = t.blacklistCurrentPlaylist;
                        yu(t.segmentLoaders[e], i);
                        var r = i.activeTrack(),
                            a = i.activeGroup(),
                            o = (a.filter(function(e) {
                                return e.default
                            })[0] || a[0]).id,
                            s = i.tracks[o];
                        if (r !== s) {
                            for (var l in ta.log.warn("Problem encountered loading the alternate audio track.Switching back to default."), i.tracks) i.tracks[l].enabled = i.tracks[l] === s;
                            i.onTrackChanged()
                        } else n({
                            message: "Problem encountered loading the default audio track."
                        })
                    }
                },
                SUBTITLES: function(e, t) {
                    return function() {
                        var i = t.segmentLoaders[e],
                            n = t.mediaTypes[e];
                        ta.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."), yu(i, n);
                        var r = n.activeTrack();
                        r && (r.mode = "disabled"), n.onTrackChanged()
                    }
                }
            },
            _u = {
                AUDIO: function(e, t, i) {
                    if (t) {
                        var n = i.tech,
                            r = i.requestOptions,
                            a = i.segmentLoaders[e];
                        t.on("loadedmetadata", function() {
                            var e = t.media();
                            a.playlist(e, r), (!n.paused() || e.endList && "none" !== n.preload()) && a.load()
                        }), t.on("loadedplaylist", function() {
                            a.playlist(t.media(), r), n.paused() || a.load()
                        }), t.on("error", bu[e](e, i))
                    }
                },
                SUBTITLES: function(e, t, i) {
                    var n = i.tech,
                        r = i.requestOptions,
                        a = i.segmentLoaders[e],
                        o = i.mediaTypes[e];
                    t.on("loadedmetadata", function() {
                        var e = t.media();
                        a.playlist(e, r), a.track(o.activeTrack()), (!n.paused() || e.endList && "none" !== n.preload()) && a.load()
                    }), t.on("loadedplaylist", function() {
                        a.playlist(t.media(), r), n.paused() || a.load()
                    }), t.on("error", bu[e](e, i))
                }
            },
            Tu = function(e, t) {
                return function(i) {
                    return i.attributes[e] === t
                }
            },
            Su = function(e) {
                return function(t) {
                    return t.resolvedUri === e
                }
            },
            Eu = {
                AUDIO: function(e, t) {
                    var i, n, r = t.hls,
                        a = t.sourceType,
                        o = t.segmentLoaders[e],
                        s = t.requestOptions.withCredentials,
                        l = t.master,
                        c = l.mediaGroups,
                        u = l.playlists,
                        d = t.mediaTypes[e],
                        h = d.groups,
                        p = d.tracks,
                        f = t.masterPlaylistLoader;
                    for (var m in c[e] && 0 !== Object.keys(c[e]).length || (c[e] = {
                            main: {
                                default: {
                                    default: !0
                                }
                            }
                        }), c[e]) {
                        h[m] || (h[m] = []);
                        var g = u.filter(Tu(e, m));
                        for (var y in c[e][m]) {
                            var v, b = c[e][m][y];
                            if (g.filter(Su(b.resolvedUri)).length && delete b.resolvedUri, v = b.resolvedUri ? new Vl(b.resolvedUri, r, s) : b.playlists && "dash" === a ? new Jc(b.playlists[0], r, s, f) : null, b = ta.mergeOptions({
                                    id: y,
                                    playlistLoader: v
                                }, b), _u[e](e, b.playlistLoader, t), h[m].push(b), void 0 === p[y]) {
                                var _ = new ta.AudioTrack({
                                    id: y,
                                    kind: (i = b, n = void 0, n = i.default ? "main" : "alternative", i.characteristics && 0 <= i.characteristics.indexOf("public.accessibility.describes-video") && (n = "main-desc"), n),
                                    enabled: !1,
                                    language: b.language,
                                    default: b.default,
                                    label: y
                                });
                                p[y] = _
                            }
                        }
                    }
                    o.on("error", bu[e](e, t))
                },
                SUBTITLES: function(e, t) {
                    var i = t.tech,
                        n = t.hls,
                        r = t.sourceType,
                        a = t.segmentLoaders[e],
                        o = t.requestOptions.withCredentials,
                        s = t.master.mediaGroups,
                        l = t.mediaTypes[e],
                        c = l.groups,
                        u = l.tracks,
                        d = t.masterPlaylistLoader;
                    for (var h in s[e])
                        for (var p in c[h] || (c[h] = []), s[e][h])
                            if (!s[e][h][p].forced) {
                                var f = s[e][h][p],
                                    m = void 0;
                                if ("hls" === r ? m = new Vl(f.resolvedUri, n, o) : "dash" === r && (m = new Jc(f.playlists[0], n, o, d)), f = ta.mergeOptions({
                                        id: p,
                                        playlistLoader: m
                                    }, f), _u[e](e, f.playlistLoader, t), c[h].push(f), void 0 === u[p]) {
                                    var g = i.addRemoteTextTrack({
                                        id: p,
                                        kind: "subtitles",
                                        default: f.default && f.autoselect,
                                        language: f.language,
                                        label: p
                                    }, !1).track;
                                    u[p] = g
                                }
                            } a.on("error", bu[e](e, t))
                },
                "CLOSED-CAPTIONS": function(e, t) {
                    var i = t.tech,
                        n = t.master.mediaGroups,
                        r = t.mediaTypes[e],
                        a = r.groups,
                        o = r.tracks;
                    for (var s in n[e])
                        for (var l in a[s] || (a[s] = []), n[e][s]) {
                            var c = n[e][s][l];
                            if (c.instreamId.match(/CC\d/) && (a[s].push(ta.mergeOptions({
                                    id: l
                                }, c)), void 0 === o[l])) {
                                var u = i.addRemoteTextTrack({
                                    id: c.instreamId,
                                    kind: "captions",
                                    default: c.default && c.autoselect,
                                    language: c.language,
                                    label: l
                                }, !1).track;
                                o[l] = u
                            }
                        }
                }
            },
            wu = {
                AUDIO: function(e, t) {
                    return function() {
                        var i = t.mediaTypes[e].tracks;
                        for (var n in i)
                            if (i[n].enabled) return i[n];
                        return null
                    }
                },
                SUBTITLES: function(e, t) {
                    return function() {
                        var i = t.mediaTypes[e].tracks;
                        for (var n in i)
                            if ("showing" === i[n].mode) return i[n];
                        return null
                    }
                }
            },
            Cu = void 0,
            ku = ["mediaRequests", "mediaRequestsAborted", "mediaRequestsTimedout", "mediaRequestsErrored", "mediaTransferDuration", "mediaBytesTransferred"],
            Pu = function(e) {
                function t(e) {
                    Pl(this, t);
                    var i, n = Ll(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this)),
                        r = e.url,
                        a = e.withCredentials,
                        o = e.tech,
                        s = e.bandwidth,
                        l = e.externHls,
                        c = e.useCueTags,
                        u = e.blacklistDuration,
                        d = e.enableLowInitialPlaylist,
                        h = e.sourceType,
                        p = e.seekTo;
                    if (!r) throw new Error("A non-empty playlist URL is required");
                    Cu = l, n.withCredentials = a, n.tech_ = o, n.hls_ = o.hls, n.seekTo_ = p, n.sourceType_ = h, n.useCueTags_ = c, n.blacklistDuration = u, n.enableLowInitialPlaylist = d, n.useCueTags_ && (n.cueTagsTrack_ = n.tech_.addTextTrack("metadata", "ad-cues"), n.cueTagsTrack_.inBandMetadataTrackDispatchType = ""), n.requestOptions_ = {
                        withCredentials: n.withCredentials,
                        timeout: null
                    }, n.mediaTypes_ = (i = {}, ["AUDIO", "SUBTITLES", "CLOSED-CAPTIONS"].forEach(function(e) {
                        i[e] = {
                            groups: {},
                            tracks: {},
                            activePlaylistLoader: null,
                            activeGroup: Qc,
                            activeTrack: Qc,
                            onGroupChanged: Qc,
                            onTrackChanged: Qc
                        }
                    }), i), n.mediaSource = new ta.MediaSource, n.mediaSource.addEventListener("sourceopen", n.handleSourceOpen_.bind(n)), n.seekable_ = ta.createTimeRanges(), n.hasPlayed_ = function() {
                        return !1
                    }, n.syncController_ = new mu(e), n.segmentMetadataTrack_ = o.addRemoteTextTrack({
                        kind: "metadata",
                        label: "segment-metadata"
                    }, !1).track, n.decrypter_ = new gu, n.inbandTextTracks_ = {};
                    var f = {
                        hls: n.hls_,
                        mediaSource: n.mediaSource,
                        currentTime: n.tech_.currentTime.bind(n.tech_),
                        seekable: function() {
                            return n.seekable()
                        },
                        seeking: function() {
                            return n.tech_.seeking()
                        },
                        duration: function() {
                            return n.mediaSource.duration
                        },
                        hasPlayed: function() {
                            return n.hasPlayed_()
                        },
                        goalBufferLength: function() {
                            return n.goalBufferLength()
                        },
                        bandwidth: s,
                        syncController: n.syncController_,
                        decrypter: n.decrypter_,
                        sourceType: n.sourceType_,
                        inbandTextTracks: n.inbandTextTracks_
                    };
                    return n.masterPlaylistLoader_ = "dash" === n.sourceType_ ? new Jc(r, n.hls_, n.withCredentials) : new Vl(r, n.hls_, n.withCredentials), n.setupMasterPlaylistLoaderListeners_(), n.mainSegmentLoader_ = new cu(ta.mergeOptions(f, {
                        segmentMetadataTrack: n.segmentMetadataTrack_,
                        loaderType: "main"
                    }), e), n.audioSegmentLoader_ = new cu(ta.mergeOptions(f, {
                        loaderType: "audio"
                    }), e), n.subtitleSegmentLoader_ = new hu(ta.mergeOptions(f, {
                        loaderType: "vtt"
                    }), e), n.setupSegmentLoaderListeners_(), ku.forEach(function(e) {
                        n[e + "_"] = (function(e) {
                            return this.audioSegmentLoader_[e] + this.mainSegmentLoader_[e]
                        }).bind(n, e)
                    }), n.logger_ = $c("MPC"), n.masterPlaylistLoader_.load(), n
                }
                return Il(t, ta.EventTarget), Al(t, [{
                    key: "setupMasterPlaylistLoaderListeners_",
                    value: function() {
                        var e = this;
                        this.masterPlaylistLoader_.on("loadedmetadata", function() {
                            var t = e.masterPlaylistLoader_.media(),
                                i = 1.5 * e.masterPlaylistLoader_.targetDuration * 1e3;
                            e.requestOptions_.timeout = tc(e.masterPlaylistLoader_.master, e.masterPlaylistLoader_.media()) ? 0 : i, t.endList && "none" !== e.tech_.preload() && (e.mainSegmentLoader_.playlist(t, e.requestOptions_), e.mainSegmentLoader_.load()),
                                function(e) {
                                    ["AUDIO", "SUBTITLES", "CLOSED-CAPTIONS"].forEach(function(t) {
                                        Eu[t](t, e)
                                    });
                                    var t = e.mediaTypes,
                                        i = e.masterPlaylistLoader,
                                        n = e.tech,
                                        r = e.hls;
                                    ["AUDIO", "SUBTITLES"].forEach(function(i) {
                                        var n, r, a, o, s, l;
                                        t[i].activeGroup = (n = i, r = e, function(e) {
                                            var t = r.mediaTypes[n].groups,
                                                i = r.masterPlaylistLoader.media();
                                            if (!i) return null;
                                            var a = null;
                                            return i.attributes[n] && (a = t[i.attributes[n]]), a = a || t.main, void 0 === e ? a : null === e ? null : a.filter(function(t) {
                                                return t.id === e.id
                                            })[0] || null
                                        }), t[i].activeTrack = wu[i](i, e), t[i].onGroupChanged = (a = i, o = e, function() {
                                            var e = o.segmentLoaders,
                                                t = e[a],
                                                i = e.main,
                                                n = o.mediaTypes[a],
                                                r = n.activeTrack(),
                                                s = n.activeGroup(r),
                                                l = n.activePlaylistLoader;
                                            yu(t, n), s && (s.playlistLoader ? (t.resyncLoader(), vu(s.playlistLoader, n)) : l && i.resetEverything())
                                        }), t[i].onTrackChanged = (s = i, l = e, function() {
                                            var e = l.segmentLoaders,
                                                t = e[s],
                                                i = e.main,
                                                n = l.mediaTypes[s],
                                                r = n.activeTrack(),
                                                a = n.activeGroup(r),
                                                o = n.activePlaylistLoader;
                                            yu(t, n), a && (a.playlistLoader ? (o !== a.playlistLoader && (t.track && t.track(r), t.resetEverything()), vu(a.playlistLoader, n)) : i.resetEverything())
                                        })
                                    });
                                    var a = t.AUDIO.activeGroup(),
                                        o = (a.filter(function(e) {
                                            return e.default
                                        })[0] || a[0]).id;
                                    t.AUDIO.tracks[o].enabled = !0, t.AUDIO.onTrackChanged(), i.on("mediachange", function() {
                                        ["AUDIO", "SUBTITLES"].forEach(function(e) {
                                            return t[e].onGroupChanged()
                                        })
                                    });
                                    var s = function() {
                                        t.AUDIO.onTrackChanged(), n.trigger({
                                            type: "usage",
                                            name: "hls-audio-change"
                                        })
                                    };
                                    for (var l in n.audioTracks().addEventListener("change", s), n.remoteTextTracks().addEventListener("change", t.SUBTITLES.onTrackChanged), r.on("dispose", function() {
                                            n.audioTracks().removeEventListener("change", s), n.remoteTextTracks().removeEventListener("change", t.SUBTITLES.onTrackChanged)
                                        }), n.clearTracks("audio"), t.AUDIO.tracks) n.audioTracks().addTrack(t.AUDIO.tracks[l])
                                }({
                                    sourceType: e.sourceType_,
                                    segmentLoaders: {
                                        AUDIO: e.audioSegmentLoader_,
                                        SUBTITLES: e.subtitleSegmentLoader_,
                                        main: e.mainSegmentLoader_
                                    },
                                    tech: e.tech_,
                                    requestOptions: e.requestOptions_,
                                    masterPlaylistLoader: e.masterPlaylistLoader_,
                                    hls: e.hls_,
                                    master: e.master(),
                                    mediaTypes: e.mediaTypes_,
                                    blacklistCurrentPlaylist: e.blacklistCurrentPlaylist.bind(e)
                                }), e.triggerPresenceUsage_(e.master(), t);
                            try {
                                e.setupSourceBuffers_()
                            } catch (t) {
                                return ta.log.warn("Failed to create SourceBuffers", t), e.mediaSource.endOfStream("decode")
                            }
                            e.setupFirstPlay(), e.trigger("selectedinitialmedia")
                        }), this.masterPlaylistLoader_.on("loadedplaylist", function() {
                            var t = e.masterPlaylistLoader_.media();
                            if (!t) {
                                e.excludeUnsupportedVariants_();
                                var i = void 0;
                                return e.enableLowInitialPlaylist && (i = e.selectInitialPlaylist()), i || (i = e.selectPlaylist()), e.initialMedia_ = i, void e.masterPlaylistLoader_.media(e.initialMedia_)
                            }
                            if (e.useCueTags_ && e.updateAdCues_(t), e.mainSegmentLoader_.playlist(t, e.requestOptions_), e.updateDuration(), e.tech_.paused() || (e.mainSegmentLoader_.load(), e.audioSegmentLoader_ && e.audioSegmentLoader_.load()), !t.endList) {
                                var n = function() {
                                    var t = e.seekable();
                                    0 !== t.length && e.mediaSource.addSeekableRange_(t.start(0), t.end(0))
                                };
                                e.duration() !== 1 / 0 ? e.tech_.one("durationchange", function t() {
                                    e.duration() === 1 / 0 ? n() : e.tech_.one("durationchange", t)
                                }) : n()
                            }
                        }), this.masterPlaylistLoader_.on("error", function() {
                            e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)
                        }), this.masterPlaylistLoader_.on("mediachanging", function() {
                            e.mainSegmentLoader_.abort(), e.mainSegmentLoader_.pause()
                        }), this.masterPlaylistLoader_.on("mediachange", function() {
                            var t = e.masterPlaylistLoader_.media(),
                                i = 1.5 * e.masterPlaylistLoader_.targetDuration * 1e3;
                            e.requestOptions_.timeout = tc(e.masterPlaylistLoader_.master, e.masterPlaylistLoader_.media()) ? 0 : i, e.mainSegmentLoader_.playlist(t, e.requestOptions_), e.mainSegmentLoader_.load(), e.tech_.trigger({
                                type: "mediachange",
                                bubbles: !0
                            })
                        }), this.masterPlaylistLoader_.on("playlistunchanged", function() {
                            var t = e.masterPlaylistLoader_.media();
                            e.stuckAtPlaylistEnd_(t) && (e.blacklistCurrentPlaylist({
                                message: "Playlist no longer updating."
                            }), e.tech_.trigger("playliststuck"))
                        }), this.masterPlaylistLoader_.on("renditiondisabled", function() {
                            e.tech_.trigger({
                                type: "usage",
                                name: "hls-rendition-disabled"
                            })
                        }), this.masterPlaylistLoader_.on("renditionenabled", function() {
                            e.tech_.trigger({
                                type: "usage",
                                name: "hls-rendition-enabled"
                            })
                        })
                    }
                }, {
                    key: "triggerPresenceUsage_",
                    value: function(e, t) {
                        var i = e.mediaGroups || {},
                            n = !0,
                            r = Object.keys(i.AUDIO);
                        for (var a in i.AUDIO)
                            for (var o in i.AUDIO[a]) i.AUDIO[a][o].uri || (n = !1);
                        n && this.tech_.trigger({
                            type: "usage",
                            name: "hls-demuxed"
                        }), Object.keys(i.SUBTITLES).length && this.tech_.trigger({
                            type: "usage",
                            name: "hls-webvtt"
                        }), Cu.Playlist.isAes(t) && this.tech_.trigger({
                            type: "usage",
                            name: "hls-aes"
                        }), Cu.Playlist.isFmp4(t) && this.tech_.trigger({
                            type: "usage",
                            name: "hls-fmp4"
                        }), r.length && 1 < Object.keys(i.AUDIO[r[0]]).length && this.tech_.trigger({
                            type: "usage",
                            name: "hls-alternate-audio"
                        }), this.useCueTags_ && this.tech_.trigger({
                            type: "usage",
                            name: "hls-playlist-cue-tags"
                        })
                    }
                }, {
                    key: "setupSegmentLoaderListeners_",
                    value: function() {
                        var e = this;
                        this.mainSegmentLoader_.on("bandwidthupdate", function() {
                            var t = e.selectPlaylist(),
                                i = e.masterPlaylistLoader_.media(),
                                n = e.tech_.buffered(),
                                r = n.length ? n.end(n.length - 1) - e.tech_.currentTime() : 0,
                                a = e.bufferLowWaterLine();
                            (!i.endList || e.duration() < eu.MAX_BUFFER_LOW_WATER_LINE || t.attributes.BANDWIDTH < i.attributes.BANDWIDTH || a <= r) && e.masterPlaylistLoader_.media(t), e.tech_.trigger("bandwidthupdate")
                        }), this.mainSegmentLoader_.on("progress", function() {
                            e.trigger("progress")
                        }), this.mainSegmentLoader_.on("error", function() {
                            e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())
                        }), this.mainSegmentLoader_.on("syncinfoupdate", function() {
                            e.onSyncInfoUpdate_()
                        }), this.mainSegmentLoader_.on("timestampoffset", function() {
                            e.tech_.trigger({
                                type: "usage",
                                name: "hls-timestamp-offset"
                            })
                        }), this.audioSegmentLoader_.on("syncinfoupdate", function() {
                            e.onSyncInfoUpdate_()
                        }), this.mainSegmentLoader_.on("ended", function() {
                            e.onEndOfStream()
                        }), this.mainSegmentLoader_.on("earlyabort", function() {
                            e.blacklistCurrentPlaylist({
                                message: "Aborted early because there isn't enough bandwidth to complete the request without rebuffering."
                            }, 120)
                        }), this.mainSegmentLoader_.on("reseteverything", function() {
                            e.tech_.trigger("hls-reset")
                        }), this.mainSegmentLoader_.on("segmenttimemapping", function(t) {
                            e.tech_.trigger({
                                type: "hls-segment-time-mapping",
                                mapping: t.mapping
                            })
                        }), this.audioSegmentLoader_.on("ended", function() {
                            e.onEndOfStream()
                        })
                    }
                }, {
                    key: "mediaSecondsLoaded_",
                    value: function() {
                        return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded + this.mainSegmentLoader_.mediaSecondsLoaded)
                    }
                }, {
                    key: "load",
                    value: function() {
                        this.mainSegmentLoader_.load(), this.mediaTypes_.AUDIO.activePlaylistLoader && this.audioSegmentLoader_.load(), this.mediaTypes_.SUBTITLES.activePlaylistLoader && this.subtitleSegmentLoader_.load()
                    }
                }, {
                    key: "smoothQualityChange_",
                    value: function() {
                        var e = this.selectPlaylist();
                        e !== this.masterPlaylistLoader_.media() && (this.masterPlaylistLoader_.media(e), this.mainSegmentLoader_.resetLoader())
                    }
                }, {
                    key: "fastQualityChange_",
                    value: function() {
                        var e = this,
                            t = this.selectPlaylist();
                        t !== this.masterPlaylistLoader_.media() && (this.masterPlaylistLoader_.media(t), this.mainSegmentLoader_.resetEverything(function() {
                            e.tech_.setCurrentTime(ta.browser.IE_VERSION || ta.browser.IS_EDGE ? e.tech_.currentTime() + .04 : e.tech_.currentTime())
                        }))
                    }
                }, {
                    key: "play",
                    value: function() {
                        if (!this.setupFirstPlay()) {
                            this.tech_.ended() && this.seekTo_(0), this.hasPlayed_() && this.load();
                            var e = this.tech_.seekable();
                            return this.tech_.duration() === 1 / 0 && this.tech_.currentTime() < e.start(0) ? this.seekTo_(e.end(e.length - 1)) : void 0
                        }
                    }
                }, {
                    key: "setupFirstPlay",
                    value: function() {
                        var e = this,
                            t = this.masterPlaylistLoader_.media();
                        if (!t || this.tech_.paused() || this.hasPlayed_()) return !1;
                        if (!t.endList) {
                            var i = this.seekable();
                            if (!i.length) return !1;
                            if (ta.browser.IE_VERSION && 0 === this.tech_.readyState()) return this.tech_.one("loadedmetadata", function() {
                                e.trigger("firstplay"), e.seekTo_(i.end(0)), e.hasPlayed_ = function() {
                                    return !0
                                }
                            }), !1;
                            this.trigger("firstplay"), this.seekTo_(i.end(0))
                        }
                        return this.hasPlayed_ = function() {
                            return !0
                        }, this.load(), !0
                    }
                }, {
                    key: "handleSourceOpen_",
                    value: function() {
                        try {
                            this.setupSourceBuffers_()
                        } catch (e) {
                            return ta.log.warn("Failed to create Source Buffers", e), this.mediaSource.endOfStream("decode")
                        }
                        if (this.tech_.autoplay()) {
                            var e = this.tech_.play();
                            void 0 !== e && "function" == typeof e.then && e.then(null, function(e) {})
                        }
                        this.trigger("sourceopen")
                    }
                }, {
                    key: "onEndOfStream",
                    value: function() {
                        var e = this.mainSegmentLoader_.ended_;
                        this.mediaTypes_.AUDIO.activePlaylistLoader && (e = !this.mainSegmentLoader_.startingMedia_ || this.mainSegmentLoader_.startingMedia_.containsVideo ? e && this.audioSegmentLoader_.ended_ : this.audioSegmentLoader_.ended_), e && this.mediaSource.endOfStream()
                    }
                }, {
                    key: "stuckAtPlaylistEnd_",
                    value: function(e) {
                        if (!this.seekable().length) return !1;
                        var t = this.syncController_.getExpiredTime(e, this.mediaSource.duration);
                        if (null === t) return !1;
                        var i = Cu.Playlist.playlistEnd(e, t),
                            n = this.tech_.currentTime(),
                            r = this.tech_.buffered();
                        if (!r.length) return i - n <= .1;
                        var a = r.end(r.length - 1);
                        return a - n <= .1 && i - a <= .1
                    }
                }, {
                    key: "blacklistCurrentPlaylist",
                    value: function() {
                        var e, t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {},
                            i = arguments[1],
                            n = void 0;
                        if (n = t.playlist || this.masterPlaylistLoader_.media(), i = i || t.blacklistDuration || this.blacklistDuration, !n) {
                            this.error = t;
                            try {
                                return this.mediaSource.endOfStream("network")
                            } catch (e) {
                                return this.trigger("error")
                            }
                        }
                        var r = 1 === this.masterPlaylistLoader_.master.playlists.filter(Zl).length;
                        return r ? (ta.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."), this.tech_.trigger("retryplaylist"), this.masterPlaylistLoader_.load(r)) : (n.excludeUntil = Date.now() + 1e3 * i, this.tech_.trigger("blacklistplaylist"), this.tech_.trigger({
                            type: "usage",
                            name: "hls-rendition-blacklisted"
                        }), e = this.selectPlaylist(), ta.log.warn("Problem encountered with the current HLS playlist." + (t.message ? " " + t.message : "") + " Switching to another playlist."), this.masterPlaylistLoader_.media(e))
                    }
                }, {
                    key: "pauseLoading",
                    value: function() {
                        this.mainSegmentLoader_.pause(), this.mediaTypes_.AUDIO.activePlaylistLoader && this.audioSegmentLoader_.pause(), this.mediaTypes_.SUBTITLES.activePlaylistLoader && this.subtitleSegmentLoader_.pause()
                    }
                }, {
                    key: "setCurrentTime",
                    value: function(e) {
                        var t = gc(this.tech_.buffered(), e);
                        return this.masterPlaylistLoader_ && this.masterPlaylistLoader_.media() && this.masterPlaylistLoader_.media().segments ? t && t.length ? e : (this.mainSegmentLoader_.resetEverything(), this.mainSegmentLoader_.abort(), this.mediaTypes_.AUDIO.activePlaylistLoader && (this.audioSegmentLoader_.resetEverything(), this.audioSegmentLoader_.abort()), this.mediaTypes_.SUBTITLES.activePlaylistLoader && (this.subtitleSegmentLoader_.resetEverything(), this.subtitleSegmentLoader_.abort()), void this.load()) : 0
                    }
                }, {
                    key: "duration",
                    value: function() {
                        return this.masterPlaylistLoader_ ? this.mediaSource ? this.mediaSource.duration : Cu.Playlist.duration(this.masterPlaylistLoader_.media()) : 0
                    }
                }, {
                    key: "seekable",
                    value: function() {
                        return this.seekable_
                    }
                }, {
                    key: "onSyncInfoUpdate_",
                    value: function() {
                        var e = void 0,
                            t = void 0;
                        if (this.masterPlaylistLoader_) {
                            var i = this.masterPlaylistLoader_.media();
                            if (i) {
                                var n = this.syncController_.getExpiredTime(i, this.mediaSource.duration);
                                if (null !== n && 0 !== (e = Cu.Playlist.seekable(i, n)).length) {
                                    if (this.mediaTypes_.AUDIO.activePlaylistLoader) {
                                        if (i = this.mediaTypes_.AUDIO.activePlaylistLoader.media(), null === (n = this.syncController_.getExpiredTime(i, this.mediaSource.duration))) return;
                                        if (0 === (t = Cu.Playlist.seekable(i, n)).length) return
                                    }
                                    this.seekable_ = t ? t.start(0) > e.end(0) || e.start(0) > t.end(0) ? e : ta.createTimeRanges([
                                        [t.start(0) > e.start(0) ? t.start(0) : e.start(0), t.end(0) < e.end(0) ? t.end(0) : e.end(0)]
                                    ]) : e, this.logger_("seekable updated [" + vc(this.seekable_) + "]"), this.tech_.trigger("seekablechanged")
                                }
                            }
                        }
                    }
                }, {
                    key: "updateDuration",
                    value: function() {
                        var e = this,
                            t = this.mediaSource.duration,
                            i = Cu.Playlist.duration(this.masterPlaylistLoader_.media()),
                            n = this.tech_.buffered(),
                            r = function t() {
                                e.mediaSource.duration = i, e.tech_.trigger("durationchange"), e.mediaSource.removeEventListener("sourceopen", t)
                            };
                        0 < n.length && (i = Math.max(i, n.end(n.length - 1))), t !== i && ("open" !== this.mediaSource.readyState ? this.mediaSource.addEventListener("sourceopen", r) : r())
                    }
                }, {
                    key: "dispose",
                    value: function() {
                        var e = this;
                        this.decrypter_.terminate(), this.masterPlaylistLoader_.dispose(), this.mainSegmentLoader_.dispose(), ["AUDIO", "SUBTITLES"].forEach(function(t) {
                            var i = e.mediaTypes_[t].groups;
                            for (var n in i) i[n].forEach(function(e) {
                                e.playlistLoader && e.playlistLoader.dispose()
                            })
                        }), this.audioSegmentLoader_.dispose(), this.subtitleSegmentLoader_.dispose()
                    }
                }, {
                    key: "master",
                    value: function() {
                        return this.masterPlaylistLoader_.master
                    }
                }, {
                    key: "media",
                    value: function() {
                        return this.masterPlaylistLoader_.media() || this.initialMedia_
                    }
                }, {
                    key: "setupSourceBuffers_",
                    value: function() {
                        var e, t = this.masterPlaylistLoader_.media();
                        if (t && "open" === this.mediaSource.readyState) {
                            if ((e = function(e, t) {
                                    var i, n, r = (i = t).segments && i.segments.length && i.segments[0].map ? "mp4" : "mp2t",
                                        a = (n = t.attributes || {}).CODECS ? Uc(n.CODECS) : xc,
                                        o = t.attributes || {},
                                        s = !0,
                                        l = !1;
                                    if (!t) return [];
                                    if (e.mediaGroups.AUDIO && o.AUDIO) {
                                        var c = e.mediaGroups.AUDIO[o.AUDIO];
                                        if (c)
                                            for (var u in s = !(l = !0), c)
                                                if (!c[u].uri && !c[u].playlists) {
                                                    s = !0;
                                                    break
                                                }
                                    }
                                    l && !a.audioProfile && (s || (a.audioProfile = function(e, t) {
                                        if (!e.mediaGroups.AUDIO || !t) return null;
                                        var i = e.mediaGroups.AUDIO[t];
                                        if (!i) return null;
                                        for (var n in i) {
                                            var r = i[n];
                                            if (r.default && r.playlists) return Uc(r.playlists[0].attributes.CODECS).audioProfile
                                        }
                                        return null
                                    }(e, o.AUDIO)), a.audioProfile || (ta.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"), a.audioProfile = xc.audioProfile));
                                    var d = {};
                                    a.videoCodec && (d.video = "" + a.videoCodec + a.videoObjectTypeIndicator), a.audioProfile && (d.audio = "mp4a.40." + a.audioProfile);
                                    var h = Nc("audio", r, [d.audio]),
                                        p = Nc("video", r, [d.video]),
                                        f = Nc("video", r, [d.video, d.audio]);
                                    return l ? !s && d.video ? [p, h] : s || d.video ? [f, h] : [h, h] : d.video ? [f] : [h]
                                }(this.masterPlaylistLoader_.master, t)).length < 1) return this.error = "No compatible SourceBuffer configuration for the variant stream:" + t.resolvedUri, this.mediaSource.endOfStream("decode");
                            this.configureLoaderMimeTypes_(e), this.excludeIncompatibleVariants_(t)
                        }
                    }
                }, {
                    key: "configureLoaderMimeTypes_",
                    value: function(e) {
                        var t = 1 < e.length && -1 === e[0].indexOf(",") && e[0] !== e[1] ? new ta.EventTarget : null;
                        this.mainSegmentLoader_.mimeType(e[0], t), e[1] && this.audioSegmentLoader_.mimeType(e[1], t)
                    }
                }, {
                    key: "excludeUnsupportedVariants_",
                    value: function() {
                        this.master().playlists.forEach(function(e) {
                            e.attributes.CODECS && i.MediaSource && i.MediaSource.isTypeSupported && !i.MediaSource.isTypeSupported('video/mp4; codecs="' + e.attributes.CODECS.replace(/avc1\.(\d+)\.(\d+)/i, function(e) {
                                return Mc([e])[0]
                            }) + '"') && (e.excludeUntil = 1 / 0)
                        })
                    }
                }, {
                    key: "excludeIncompatibleVariants_",
                    value: function(e) {
                        var t = 2,
                            i = null,
                            n = void 0;
                        e.attributes.CODECS && (n = Uc(e.attributes.CODECS), i = n.videoCodec, t = n.codecCount), this.master().playlists.forEach(function(e) {
                            var n = {
                                codecCount: 2,
                                videoCodec: null
                            };
                            e.attributes.CODECS && (n = Uc(e.attributes.CODECS)), n.codecCount !== t && (e.excludeUntil = 1 / 0), n.videoCodec !== i && (e.excludeUntil = 1 / 0)
                        })
                    }
                }, {
                    key: "updateAdCues_",
                    value: function(e) {
                        var t = 0,
                            n = this.seekable();
                        n.length && (t = n.start(0)),
                            function(e, t) {
                                if (e.segments)
                                    for (var n = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : 0, r = void 0, a = 0; a < e.segments.length; a++) {
                                        var o = e.segments[a];
                                        if (r || (r = pu(t, n + o.duration / 2)), r) {
                                            if ("cueIn" in o) {
                                                r.endTime = n, r.adEndTime = n, n += o.duration, r = null;
                                                continue
                                            }
                                            if (n < r.endTime) {
                                                n += o.duration;
                                                continue
                                            }
                                            r.endTime += o.duration
                                        } else if ("cueOut" in o && ((r = new i.VTTCue(n, n + o.duration, o.cueOut)).adStartTime = n, r.adEndTime = n + parseFloat(o.cueOut), t.addCue(r)), "cueOutCont" in o) {
                                            var s, l, c = o.cueOutCont.split("/").map(parseFloat),
                                                u = Ol(c, 2);
                                            s = u[0], l = u[1], (r = new i.VTTCue(n, n + o.duration, "")).adStartTime = n - s, r.adEndTime = r.adStartTime + l, t.addCue(r)
                                        }
                                        n += o.duration
                                    }
                            }(e, this.cueTagsTrack_, t)
                    }
                }, {
                    key: "goalBufferLength",
                    value: function() {
                        var e = this.tech_.currentTime(),
                            t = eu.GOAL_BUFFER_LENGTH,
                            i = eu.GOAL_BUFFER_LENGTH_RATE,
                            n = Math.max(t, eu.MAX_GOAL_BUFFER_LENGTH);
                        return Math.min(t + e * i, n)
                    }
                }, {
                    key: "bufferLowWaterLine",
                    value: function() {
                        var e = this.tech_.currentTime(),
                            t = eu.BUFFER_LOW_WATER_LINE,
                            i = eu.BUFFER_LOW_WATER_LINE_RATE,
                            n = Math.max(t, eu.MAX_BUFFER_LOW_WATER_LINE);
                        return Math.min(t + e * i, n)
                    }
                }]), t
            }(),
            Au = function e(t, i, n) {
                Pl(this, e);
                var r, a, o, s = t.masterPlaylistController_,
                    l = s[(t.options_.smoothQualityChange ? "smooth" : "fast") + "QualityChange_"].bind(s);
                if (i.attributes.RESOLUTION) {
                    var c = i.attributes.RESOLUTION;
                    this.width = c.width, this.height = c.height
                }
                this.bandwidth = i.attributes.BANDWIDTH, this.id = n, this.enabled = (r = t.playlists, a = i.uri, o = l, function(e) {
                    var t = r.master.playlists[a],
                        i = Ql(t),
                        n = Zl(t);
                    return void 0 === e ? n : (e ? delete t.disabled : t.disabled = !0, e === n || i || (o(), r.trigger(e ? "renditionenabled" : "renditiondisabled")), e)
                })
            },
            Iu = ["seeking", "seeked", "pause", "playing", "error"],
            Lu = function() {
                function e(t) {
                    var n = this;
                    Pl(this, e), this.tech_ = t.tech, this.seekable = t.seekable, this.seekTo = t.seekTo, this.consecutiveUpdates = 0, this.lastRecordedTime = null, this.timer_ = null, this.checkCurrentTimeTimeout_ = null, this.logger_ = $c("PlaybackWatcher"), this.logger_("initialize");
                    var r = function() {
                            return n.monitorCurrentTime_()
                        },
                        a = function() {
                            return n.techWaiting_()
                        },
                        o = function() {
                            return n.cancelTimer_()
                        },
                        s = function() {
                            return n.fixesBadSeeks_()
                        };
                    this.tech_.on("seekablechanged", s), this.tech_.on("waiting", a), this.tech_.on(Iu, o), this.tech_.on("canplay", r), this.dispose = function() {
                        n.logger_("dispose"), n.tech_.off("seekablechanged", s), n.tech_.off("waiting", a), n.tech_.off(Iu, o), n.tech_.off("canplay", r), n.checkCurrentTimeTimeout_ && i.clearTimeout(n.checkCurrentTimeTimeout_), n.cancelTimer_()
                    }
                }
                return Al(e, [{
                    key: "monitorCurrentTime_",
                    value: function() {
                        this.checkCurrentTime_(), this.checkCurrentTimeTimeout_ && i.clearTimeout(this.checkCurrentTimeTimeout_), this.checkCurrentTimeTimeout_ = i.setTimeout(this.monitorCurrentTime_.bind(this), 250)
                    }
                }, {
                    key: "checkCurrentTime_",
                    value: function() {
                        if (this.tech_.seeking() && this.fixesBadSeeks_()) return this.consecutiveUpdates = 0, void(this.lastRecordedTime = this.tech_.currentTime());
                        if (!this.tech_.paused() && !this.tech_.seeking()) {
                            var e = this.tech_.currentTime(),
                                t = this.tech_.buffered();
                            if (this.lastRecordedTime === e && (!t.length || e + .1 >= t.end(t.length - 1))) return this.techWaiting_();
                            5 <= this.consecutiveUpdates && e === this.lastRecordedTime ? (this.consecutiveUpdates++, this.waiting_()) : e === this.lastRecordedTime ? this.consecutiveUpdates++ : (this.consecutiveUpdates = 0, this.lastRecordedTime = e)
                        }
                    }
                }, {
                    key: "cancelTimer_",
                    value: function() {
                        this.consecutiveUpdates = 0, this.timer_ && (this.logger_("cancelTimer_"), clearTimeout(this.timer_)), this.timer_ = null
                    }
                }, {
                    key: "fixesBadSeeks_",
                    value: function() {
                        var e = this.tech_.seeking(),
                            t = this.seekable(),
                            i = this.tech_.currentTime(),
                            n = void 0;
                        return e && this.afterSeekableWindow_(t, i) && (n = t.end(t.length - 1)), e && this.beforeSeekableWindow_(t, i) && (n = t.start(0) + .1), void 0 !== n && (this.logger_("Trying to seek outside of seekable at time " + i + " with seekable range " + vc(t) + ". Seeking to " + n + "."), this.seekTo(n), !0)
                    }
                }, {
                    key: "waiting_",
                    value: function() {
                        if (!this.techWaiting_()) {
                            var e = this.tech_.currentTime(),
                                t = this.tech_.buffered(),
                                i = gc(t, e);
                            return i.length && e + 3 <= i.end(0) ? (this.cancelTimer_(), this.seekTo(e), this.logger_("Stopped at " + e + " while inside a buffered region [" + i.start(0) + " -> " + i.end(0) + "]. Attempting to resume playback by seeking to the current time."), void this.tech_.trigger({
                                type: "usage",
                                name: "hls-unknown-waiting"
                            })) : void 0
                        }
                    }
                }, {
                    key: "techWaiting_",
                    value: function() {
                        var e = this.seekable(),
                            t = this.tech_.currentTime();
                        if (this.tech_.seeking() && this.fixesBadSeeks_()) return !0;
                        if (this.tech_.seeking() || null !== this.timer_) return !0;
                        if (this.beforeSeekableWindow_(e, t)) {
                            var i = e.end(e.length - 1);
                            return this.logger_("Fell out of live window at time " + t + ". Seeking to live point (seekable end) " + i), this.cancelTimer_(), this.seekTo(i), this.tech_.trigger({
                                type: "usage",
                                name: "hls-live-resync"
                            }), !0
                        }
                        var n = this.tech_.buffered(),
                            r = yc(n, t);
                        if (this.videoUnderflow_(r, n, t)) return this.cancelTimer_(), this.seekTo(t), this.tech_.trigger({
                            type: "usage",
                            name: "hls-video-underflow"
                        }), !0;
                        if (0 < r.length) {
                            var a = r.start(0) - t;
                            return this.logger_("Stopped at " + t + ", setting timer for " + a + ", seeking to " + r.start(0)), this.timer_ = setTimeout(this.skipTheGap_.bind(this), 1e3 * a, t), !0
                        }
                        return !1
                    }
                }, {
                    key: "afterSeekableWindow_",
                    value: function(e, t) {
                        return !!e.length && t > e.end(e.length - 1) + .1
                    }
                }, {
                    key: "beforeSeekableWindow_",
                    value: function(e, t) {
                        return !!(e.length && 0 < e.start(0) && t < e.start(0) - .1)
                    }
                }, {
                    key: "videoUnderflow_",
                    value: function(e, t, i) {
                        if (0 === e.length) {
                            var n = this.gapFromVideoUnderflow_(t, i);
                            if (n) return this.logger_("Encountered a gap in video from " + n.start + " to " + n.end + ". Seeking to current time " + i), !0
                        }
                        return !1
                    }
                }, {
                    key: "skipTheGap_",
                    value: function(e) {
                        var t = this.tech_.buffered(),
                            i = this.tech_.currentTime(),
                            n = yc(t, i);
                        this.cancelTimer_(), 0 !== n.length && i === e && (this.logger_("skipTheGap_:", "currentTime:", i, "scheduled currentTime:", e, "nextRange start:", n.start(0)), this.seekTo(n.start(0) + fc), this.tech_.trigger({
                            type: "usage",
                            name: "hls-gap-skip"
                        }))
                    }
                }, {
                    key: "gapFromVideoUnderflow_",
                    value: function(e, t) {
                        for (var i = function(e) {
                                if (e.length < 2) return ta.createTimeRanges();
                                for (var t = [], i = 1; i < e.length; i++) {
                                    var n = e.end(i - 1),
                                        r = e.start(i);
                                    t.push([n, r])
                                }
                                return ta.createTimeRanges(t)
                            }(e), n = 0; n < i.length; n++) {
                            var r = i.start(n),
                                a = i.end(n);
                            if (t - r < 4 && 2 < t - r) return {
                                start: r,
                                end: a
                            }
                        }
                        return null
                    }
                }]), e
            }(),
            Ou = {
                errorInterval: 30,
                getSource: function(e) {
                    return e(this.tech({
                        IWillNotUseThisInPlugins: !0
                    }).currentSource_)
                }
            },
            Du = function(e) {
                ! function e(t, i) {
                    var n = 0,
                        r = 0,
                        a = ta.mergeOptions(Ou, i);
                    t.ready(function() {
                        t.trigger({
                            type: "usage",
                            name: "hls-error-reload-initialized"
                        })
                    });
                    var o = function() {
                            r && t.currentTime(r)
                        },
                        s = function(e) {
                            null != e && (r = t.duration() !== 1 / 0 && t.currentTime() || 0, t.one("loadedmetadata", o), t.src(e), t.trigger({
                                type: "usage",
                                name: "hls-error-reload"
                            }), t.play())
                        },
                        l = function() {
                            if (Date.now() - n < 1e3 * a.errorInterval) t.trigger({
                                type: "usage",
                                name: "hls-error-reload-canceled"
                            });
                            else {
                                if (a.getSource && "function" == typeof a.getSource) return n = Date.now(), a.getSource.call(t, s);
                                ta.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")
                            }
                        },
                        c = function e() {
                            t.off("loadedmetadata", o), t.off("error", l), t.off("dispose", e)
                        };
                    t.on("error", l), t.on("dispose", c), t.reloadSourceOnError = function(i) {
                        c(), e(t, i)
                    }
                }(this, e)
            };
        ta.use("*", function(e) {
            return {
                setSource: function(e, t) {
                    t(null, e)
                },
                setCurrentTime: function(t) {
                    return e.vhs && e.currentSource().src === e.vhs.source_.src && e.vhs.setCurrentTime(t), t
                },
                play: function() {
                    e.vhs && e.currentSource().src === e.vhs.source_.src && e.vhs.setCurrentTime(e.currentTime())
                }
            }
        });
        var Ru = {
            PlaylistLoader: Vl,
            Playlist: ic,
            Decrypter: Cl,
            AsyncStream: Sl,
            decrypt: wl,
            utils: dc,
            STANDARD_PLAYLIST_SELECTOR: function() {
                return function(e, t, n, r, a) {
                    var o = e.playlists.map(function(e) {
                        return {
                            bandwidth: e.attributes.BANDWIDTH || i.Number.MAX_VALUE,
                            width: e.attributes.RESOLUTION && e.attributes.RESOLUTION.width,
                            height: e.attributes.RESOLUTION && e.attributes.RESOLUTION.height,
                            playlist: e
                        }
                    });
                    au(o, function(e, t) {
                        return e.bandwidth - t.bandwidth
                    });
                    var s = (o = o.filter(function(e) {
                        return !ic.isIncompatible(e.playlist)
                    })).filter(function(e) {
                        return ic.isEnabled(e.playlist)
                    });
                    s.length || (s = o.filter(function(e) {
                        return !ic.isDisabled(e.playlist)
                    }));
                    var l = s.filter(function(e) {
                            return e.bandwidth * eu.BANDWIDTH_VARIANCE < t
                        }),
                        c = l[l.length - 1],
                        u = l.filter(function(e) {
                            return e.bandwidth === c.bandwidth
                        })[0];
                    if (!1 === a) {
                        var d = u || s[0] || o[0];
                        return d ? d.playlist : null
                    }
                    var h = l.filter(function(e) {
                        return e.width && e.height
                    });
                    au(h, function(e, t) {
                        return e.width - t.width
                    });
                    var p = h.filter(function(e) {
                        return e.width === n && e.height === r
                    });
                    c = p[p.length - 1];
                    var f = p.filter(function(e) {
                            return e.bandwidth === c.bandwidth
                        })[0],
                        m = void 0,
                        g = void 0,
                        y = void 0;
                    f || (g = (m = h.filter(function(e) {
                        return e.width > n || e.height > r
                    })).filter(function(e) {
                        return e.width === m[0].width && e.height === m[0].height
                    }), c = g[g.length - 1], y = g.filter(function(e) {
                        return e.bandwidth === c.bandwidth
                    })[0]);
                    var v = y || f || u || s[0] || o[0];
                    return v ? v.playlist : null
                }(this.playlists.master, this.systemBandwidth, parseInt(ru(this.tech_.el(), "width"), 10), parseInt(ru(this.tech_.el(), "height"), 10), this.limitRenditionByPlayerDimensions)
            },
            INITIAL_PLAYLIST_SELECTOR: function() {
                var e = this.playlists.master.playlists.filter(ic.isEnabled);
                return au(e, function(e, t) {
                    return ou(e, t)
                }), e.filter(function(e) {
                    return Uc(e.attributes.CODECS).videoCodec
                })[0] || null
            },
            comparePlaylistBandwidth: ou,
            comparePlaylistResolution: function(e, t) {
                var n = void 0,
                    r = void 0;
                return e.attributes.RESOLUTION && e.attributes.RESOLUTION.width && (n = e.attributes.RESOLUTION.width), t.attributes.RESOLUTION && t.attributes.RESOLUTION.width && (r = t.attributes.RESOLUTION.width), (n = n || i.Number.MAX_VALUE) === (r = r || i.Number.MAX_VALUE) && e.attributes.BANDWIDTH && t.attributes.BANDWIDTH ? e.attributes.BANDWIDTH - t.attributes.BANDWIDTH : n - r
            },
            xhr: ac()
        };
        ["GOAL_BUFFER_LENGTH", "MAX_GOAL_BUFFER_LENGTH", "GOAL_BUFFER_LENGTH_RATE", "BUFFER_LOW_WATER_LINE", "MAX_BUFFER_LOW_WATER_LINE", "BUFFER_LOW_WATER_LINE_RATE", "BANDWIDTH_VARIANCE"].forEach(function(e) {
            Object.defineProperty(Ru, e, {
                get: function() {
                    return ta.log.warn("using Hls." + e + " is UNSAFE be sure you know what you are doing"), eu[e]
                },
                set: function(t) {
                    ta.log.warn("using Hls." + e + " is UNSAFE be sure you know what you are doing"), "number" != typeof t || t < 0 ? ta.log.warn("value of Hls." + e + " must be greater than or equal to 0") : eu[e] = t
                }
            })
        });
        var xu = "videojs-vhs",
            Mu = function(e) {
                return /^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(e) ? "hls" : /^application\/dash\+xml/i.test(e) ? "dash" : null
            },
            Uu = function(e, t) {
                for (var i = t.media(), n = -1, r = 0; r < e.length; r++)
                    if (e[r].id === i.uri) {
                        n = r;
                        break
                    } e.selectedIndex_ = n, e.trigger({
                    selectedIndex: n,
                    type: "change"
                })
            };
        Ru.canPlaySource = function() {
            return ta.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")
        };
        var Nu = function() {
            if (!window.localStorage) return null;
            var e = window.localStorage.getItem(xu);
            if (!e) return null;
            try {
                return JSON.parse(e)
            } catch (e) {
                return null
            }
        };
        Ru.supportsNativeHls = function() {
            var e = t.createElement("video");
            return !!ta.getTech("Html5").isSupported() && ["application/vnd.apple.mpegurl", "audio/mpegurl", "audio/x-mpegurl", "application/x-mpegurl", "video/x-mpegurl", "video/mpegurl", "application/mpegurl"].some(function(t) {
                return /maybe|probably/i.test(e.canPlayType(t))
            })
        }(), Ru.supportsNativeDash = !!ta.getTech("Html5").isSupported() && /maybe|probably/i.test(t.createElement("video").canPlayType("application/dash+xml")), Ru.supportsTypeNatively = function(e) {
            return "hls" === e ? Ru.supportsNativeHls : "dash" === e && Ru.supportsNativeDash
        }, Ru.isSupported = function() {
            return ta.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")
        };
        var Fu = ta.getComponent("Component"),
            Bu = function(e) {
                function i(e, n, r) {
                    Pl(this, i);
                    var a = Ll(this, (i.__proto__ || Object.getPrototypeOf(i)).call(this, n, r.hls));
                    if (n.options_ && n.options_.playerId) {
                        var o = ta(n.options_.playerId);
                        o.hasOwnProperty("hls") || Object.defineProperty(o, "hls", {
                            get: function() {
                                return ta.log.warn("player.hls is deprecated. Use player.tech().hls instead."), n.trigger({
                                    type: "usage",
                                    name: "hls-player-access"
                                }), a
                            },
                            configurable: !0
                        }), o.vhs = a, (o.dash = a).player_ = o
                    }
                    if (a.tech_ = n, a.source_ = e, a.stats = {}, a.setOptions_(), a.options_.overrideNative && n.overrideNativeAudioTracks && n.overrideNativeVideoTracks) n.overrideNativeAudioTracks(!0), n.overrideNativeVideoTracks(!0);
                    else if (a.options_.overrideNative && (n.featuresNativeVideoTracks || n.featuresNativeAudioTracks)) throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");
                    return a.on(t, ["fullscreenchange", "webkitfullscreenchange", "mozfullscreenchange", "MSFullscreenChange"], function(e) {
                        var i = t.fullscreenElement || t.webkitFullscreenElement || t.mozFullScreenElement || t.msFullscreenElement;
                        i && i.contains(a.tech_.el()) && a.masterPlaylistController_.smoothQualityChange_()
                    }), a.on(a.tech_, "seeking", function() {
                        this.tech_.seeking() && 0 === this.tech_.currentTime() && this.tech_.player_.loop() && this.setCurrentTime(0)
                    }), a.on(a.tech_, "error", function() {
                        this.masterPlaylistController_ && this.masterPlaylistController_.pauseLoading()
                    }), a.on(a.tech_, "play", a.play), a
                }
                return Il(i, Fu), Al(i, [{
                    key: "setOptions_",
                    value: function() {
                        var e = this;
                        if (this.options_.withCredentials = this.options_.withCredentials || !1, this.options_.limitRenditionByPlayerDimensions = !1 !== this.options_.limitRenditionByPlayerDimensions, this.options_.smoothQualityChange = this.options_.smoothQualityChange || !1, this.options_.useBandwidthFromLocalStorage = void 0 !== this.source_.useBandwidthFromLocalStorage ? this.source_.useBandwidthFromLocalStorage : this.options_.useBandwidthFromLocalStorage || !1, "number" != typeof this.options_.blacklistDuration && (this.options_.blacklistDuration = 300), "number" != typeof this.options_.bandwidth && this.options_.useBandwidthFromLocalStorage) {
                            var t = Nu();
                            t && t.bandwidth && (this.options_.bandwidth = t.bandwidth, this.tech_.trigger({
                                type: "usage",
                                name: "hls-bandwidth-from-local-storage"
                            })), t && t.throughput && (this.options_.throughput = t.throughput, this.tech_.trigger({
                                type: "usage",
                                name: "hls-throughput-from-local-storage"
                            }))
                        }
                        "number" != typeof this.options_.bandwidth && (this.options_.bandwidth = eu.INITIAL_BANDWIDTH), this.options_.enableLowInitialPlaylist = this.options_.enableLowInitialPlaylist && this.options_.bandwidth === eu.INITIAL_BANDWIDTH, ["withCredentials", "limitRenditionByPlayerDimensions", "bandwidth", "smoothQualityChange"].forEach(function(t) {
                            void 0 !== e.source_[t] && (e.options_[t] = e.source_[t])
                        }), this.limitRenditionByPlayerDimensions = this.options_.limitRenditionByPlayerDimensions
                    }
                }, {
                    key: "src",
                    value: function(e, t) {
                        var i = this;
                        e && (this.setOptions_(), this.options_.url = this.source_.src, this.options_.tech = this.tech_, this.options_.externHls = Ru, this.options_.sourceType = Mu(t), this.options_.seekTo = function(e) {
                            i.tech_.setCurrentTime(e), i.setCurrentTime(e)
                        }, this.masterPlaylistController_ = new Pu(this.options_), this.playbackWatcher_ = new Lu(ta.mergeOptions(this.options_, {
                            seekable: function() {
                                return i.seekable()
                            }
                        })), this.masterPlaylistController_.on("error", function() {
                            ta.players[i.tech_.options_.playerId].error(i.masterPlaylistController_.error)
                        }), this.masterPlaylistController_.selectPlaylist = this.selectPlaylist ? this.selectPlaylist.bind(this) : Ru.STANDARD_PLAYLIST_SELECTOR.bind(this), this.masterPlaylistController_.selectInitialPlaylist = Ru.INITIAL_PLAYLIST_SELECTOR.bind(this), this.playlists = this.masterPlaylistController_.masterPlaylistLoader_, this.mediaSource = this.masterPlaylistController_.mediaSource, Object.defineProperties(this, {
                            selectPlaylist: {
                                get: function() {
                                    return this.masterPlaylistController_.selectPlaylist
                                },
                                set: function(e) {
                                    this.masterPlaylistController_.selectPlaylist = e.bind(this)
                                }
                            },
                            throughput: {
                                get: function() {
                                    return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate
                                },
                                set: function(e) {
                                    this.masterPlaylistController_.mainSegmentLoader_.throughput.rate = e, this.masterPlaylistController_.mainSegmentLoader_.throughput.count = 1
                                }
                            },
                            bandwidth: {
                                get: function() {
                                    return this.masterPlaylistController_.mainSegmentLoader_.bandwidth
                                },
                                set: function(e) {
                                    this.masterPlaylistController_.mainSegmentLoader_.bandwidth = e, this.masterPlaylistController_.mainSegmentLoader_.throughput = {
                                        rate: 0,
                                        count: 0
                                    }
                                }
                            },
                            systemBandwidth: {
                                get: function() {
                                    return Math.floor(1 / (1 / (this.bandwidth || 1) + (0 < this.throughput ? 1 / this.throughput : 0)))
                                },
                                set: function() {
                                    ta.log.error('The "systemBandwidth" property is read-only')
                                }
                            }
                        }), this.options_.bandwidth && (this.bandwidth = this.options_.bandwidth), this.options_.throughput && (this.throughput = this.options_.throughput), Object.defineProperties(this.stats, {
                            bandwidth: {
                                get: function() {
                                    return i.bandwidth || 0
                                },
                                enumerable: !0
                            },
                            mediaRequests: {
                                get: function() {
                                    return i.masterPlaylistController_.mediaRequests_() || 0
                                },
                                enumerable: !0
                            },
                            mediaRequestsAborted: {
                                get: function() {
                                    return i.masterPlaylistController_.mediaRequestsAborted_() || 0
                                },
                                enumerable: !0
                            },
                            mediaRequestsTimedout: {
                                get: function() {
                                    return i.masterPlaylistController_.mediaRequestsTimedout_() || 0
                                },
                                enumerable: !0
                            },
                            mediaRequestsErrored: {
                                get: function() {
                                    return i.masterPlaylistController_.mediaRequestsErrored_() || 0
                                },
                                enumerable: !0
                            },
                            mediaTransferDuration: {
                                get: function() {
                                    return i.masterPlaylistController_.mediaTransferDuration_() || 0
                                },
                                enumerable: !0
                            },
                            mediaBytesTransferred: {
                                get: function() {
                                    return i.masterPlaylistController_.mediaBytesTransferred_() || 0
                                },
                                enumerable: !0
                            },
                            mediaSecondsLoaded: {
                                get: function() {
                                    return i.masterPlaylistController_.mediaSecondsLoaded_() || 0
                                },
                                enumerable: !0
                            },
                            buffered: {
                                get: function() {
                                    return bc(i.tech_.buffered())
                                },
                                enumerable: !0
                            },
                            currentTime: {
                                get: function() {
                                    return i.tech_.currentTime()
                                },
                                enumerable: !0
                            },
                            currentSource: {
                                get: function() {
                                    return i.tech_.currentSource_
                                },
                                enumerable: !0
                            },
                            currentTech: {
                                get: function() {
                                    return i.tech_.name_
                                },
                                enumerable: !0
                            },
                            duration: {
                                get: function() {
                                    return i.tech_.duration()
                                },
                                enumerable: !0
                            },
                            master: {
                                get: function() {
                                    return i.playlists.master
                                },
                                enumerable: !0
                            },
                            playerDimensions: {
                                get: function() {
                                    return i.tech_.currentDimensions()
                                },
                                enumerable: !0
                            },
                            seekable: {
                                get: function() {
                                    return bc(i.tech_.seekable())
                                },
                                enumerable: !0
                            },
                            timestamp: {
                                get: function() {
                                    return Date.now()
                                },
                                enumerable: !0
                            },
                            videoPlaybackQuality: {
                                get: function() {
                                    return i.tech_.getVideoPlaybackQuality()
                                },
                                enumerable: !0
                            }
                        }), this.tech_.one("canplay", this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)), this.tech_.on("bandwidthupdate", function() {
                            i.options_.useBandwidthFromLocalStorage && function(e) {
                                if (window.localStorage) {
                                    var t = Nu();
                                    t = t ? ta.mergeOptions(t, e) : e;
                                    try {
                                        window.localStorage.setItem(xu, JSON.stringify(t))
                                    } catch (e) {
                                        return
                                    }
                                }
                            }({
                                bandwidth: i.bandwidth,
                                throughput: Math.round(i.throughput)
                            })
                        }), this.masterPlaylistController_.on("selectedinitialmedia", function() {
                            var e, t;
                            t = (e = i).playlists, e.representations = function() {
                                    return t.master.playlists.filter(function(e) {
                                        return !Ql(e)
                                    }).map(function(t, i) {
                                        return new Au(e, t, t.uri)
                                    })
                                },
                                function(e) {
                                    if ("dash" === e.options_.sourceType) {
                                        var t = ta.players[e.tech_.options_.playerId];
                                        if (t.eme) {
                                            var i = function(e, t, i) {
                                                if (!e) return e;
                                                var n = {};
                                                for (var r in e) n[r] = {
                                                    audioContentType: 'audio/mp4; codecs="' + i.attributes.CODECS + '"',
                                                    videoContentType: 'video/mp4; codecs="' + t.attributes.CODECS + '"'
                                                }, t.contentProtection && t.contentProtection[r] && t.contentProtection[r].pssh && (n[r].pssh = t.contentProtection[r].pssh), "string" == typeof e[r] && (n[r].url = e[r]);
                                                return ta.mergeOptions(e, n)
                                            }(e.source_.keySystems, e.playlists.media(), e.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media());
                                            i && (t.currentSource().keySystems = i, t.eme.initializeMediaKeys && t.eme.initializeMediaKeys())
                                        }
                                    }
                                }(i)
                        }), this.on(this.masterPlaylistController_, "progress", function() {
                            this.tech_.trigger("progress")
                        }), this.tech_.ready(function() {
                            return i.setupQualityLevels_()
                        }), this.tech_.el() && this.tech_.src(ta.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))
                    }
                }, {
                    key: "setupQualityLevels_",
                    value: function() {
                        var e = this,
                            t = ta.players[this.tech_.options_.playerId];
                        t && t.qualityLevels && (this.qualityLevels_ = t.qualityLevels(), this.masterPlaylistController_.on("selectedinitialmedia", function() {
                            var t, i;
                            t = e.qualityLevels_, (i = e).representations().forEach(function(e) {
                                t.addQualityLevel(e)
                            }), Uu(t, i.playlists)
                        }), this.playlists.on("mediachange", function() {
                            Uu(e.qualityLevels_, e.playlists)
                        }))
                    }
                }, {
                    key: "play",
                    value: function() {
                        this.masterPlaylistController_.play()
                    }
                }, {
                    key: "setCurrentTime",
                    value: function(e) {
                        this.masterPlaylistController_.setCurrentTime(e)
                    }
                }, {
                    key: "duration",
                    value: function() {
                        return this.masterPlaylistController_.duration()
                    }
                }, {
                    key: "seekable",
                    value: function() {
                        return this.masterPlaylistController_.seekable()
                    }
                }, {
                    key: "dispose",
                    value: function() {
                        this.playbackWatcher_ && this.playbackWatcher_.dispose(), this.masterPlaylistController_ && this.masterPlaylistController_.dispose(), this.qualityLevels_ && this.qualityLevels_.dispose(), this.player_ && (delete this.player_.vhs, delete this.player_.dash, delete this.player_.hls), this.tech_ && this.tech_.hls && delete this.tech_.hls,
                            function e(t, i, n) {
                                null === t && (t = Function.prototype);
                                var r = Object.getOwnPropertyDescriptor(t, i);
                                if (void 0 === r) {
                                    var a = Object.getPrototypeOf(t);
                                    return null === a ? void 0 : e(a, i, n)
                                }
                                if ("value" in r) return r.value;
                                var o = r.get;
                                return void 0 !== o ? o.call(n) : void 0
                            }(i.prototype.__proto__ || Object.getPrototypeOf(i.prototype), "dispose", this).call(this)
                    }
                }, {
                    key: "convertToStreamTime",
                    value: function(e, t) {
                        return function(e) {
                            var t = e.playlist,
                                i = e.time,
                                n = void 0 === i ? void 0 : i,
                                r = e.callback;
                            if (!r) throw new Error("getStreamTime: callback must be provided");
                            if (!t || void 0 === n) return r({
                                message: "getStreamTime: playlist and time must be provided"
                            });
                            var a = pc(n, "player", t);
                            if (!a) return r({
                                message: "valid streamTime was not found"
                            });
                            if ("estimate" === a.type) return r({
                                message: "Accurate streamTime could not be determined. Please seek to e.seekTime and try again",
                                seekTime: a.estimatedStart
                            });
                            var o = {
                                mediaSeconds: n
                            };
                            return a.segment.dateTimeObject && (o.programDateTime = a.segment.dateTimeObject.toISOString()), r(null, o)
                        }({
                            playlist: this.masterPlaylistController_.media(),
                            time: e,
                            callback: t
                        })
                    }
                }, {
                    key: "seekToStreamTime",
                    value: function(e, t) {
                        var i = !(2 < arguments.length && void 0 !== arguments[2]) || arguments[2],
                            n = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : 2;
                        return function e(t) {
                            var i = t.streamTime,
                                n = t.playlist,
                                r = t.retryCount,
                                a = void 0 === r ? 2 : r,
                                o = t.seekTo,
                                s = t.pauseAfterSeek,
                                l = void 0 === s || s,
                                c = t.tech,
                                u = t.callback;
                            if (!u) throw new Error("seekToStreamTime: callback must be provided");
                            if (void 0 === i || !n || !o) return u({
                                message: "seekToStreamTime: streamTime, seekTo and playlist must be provided"
                            });
                            if (!n.endList && !c.hasStarted_) return u({
                                message: "player must be playing a live stream to start buffering"
                            });
                            if (! function(e) {
                                    if (!e.segments || 0 === e.segments.length) return !1;
                                    for (var t = 0; t < e.segments.length; t++)
                                        if (!e.segments[t].dateTimeObject) return !1;
                                    return !0
                                }(n)) return u({
                                message: "programDateTime tags must be provided in the manifest " + n.resolvedUri
                            });
                            var d = function(e, t) {
                                var i = void 0;
                                try {
                                    i = new Date(e)
                                } catch (e) {
                                    return null
                                }
                                return pc(i, "stream", t)
                            }(i, n);
                            if (!d) return u({
                                message: i + " was not found in the stream"
                            });
                            if ("estimate" === d.type) return 0 === a ? u({
                                message: i + " is not buffered yet. Try again"
                            }) : e({
                                streamTime: i,
                                playlist: n,
                                retryCount: a - 1,
                                seekTo: o,
                                pauseAfterSeek: l,
                                tech: c,
                                callback: u
                            });
                            var h = d.segment,
                                p = function(e, t) {
                                    var i = void 0,
                                        n = void 0;
                                    try {
                                        i = new Date(e), n = new Date(t)
                                    } catch (e) {}
                                    var r = i.getTime();
                                    return (n.getTime() - r) / 1e3
                                }(h.dateTimeObject, i),
                                f = h.start + p;
                            c.one("seeked", function() {
                                return u(null, c.currentTime())
                            }), l && c.pause(), o(f)
                        }({
                            streamTime: e,
                            playlist: this.masterPlaylistController_.media(),
                            retryCount: n,
                            pauseAfterSeek: i,
                            seekTo: this.options_.seekTo,
                            tech: this.options_.tech,
                            callback: t
                        })
                    }
                }]), i
            }(),
            Vu = {
                name: "videojs-http-streaming",
                VERSION: "1.5.1",
                canHandleSource: function(e) {
                    var t = ta.mergeOptions(ta.options, 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {});
                    return Vu.canPlayType(e.type, t)
                },
                handleSource: function(e, t) {
                    var i = ta.mergeOptions(ta.options, 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : {});
                    return t.hls = new Bu(e, t, i), t.hls.xhr = ac(), t.hls.src(e.src, e.type), t.hls
                },
                canPlayType: function(e) {
                    var t = ta.mergeOptions(ta.options, 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {}).hls.overrideNative,
                        i = Mu(e);
                    return !i || Ru.supportsTypeNatively(i) && !t ? "" : "maybe"
                }
            };
        return void 0 !== ta.MediaSource && void 0 !== ta.URL || (ta.MediaSource = Gc, ta.URL = Wc), Gc.supportsNativeMediaSources() && ta.getTech("Html5").registerSourceHandler(Vu, 0), ta.HlsHandler = Bu, ta.HlsSourceHandler = Vu, ta.Hls = Ru, ta.use || ta.registerComponent("Hls", Ru), ta.options.hls = ta.options.hls || {}, ta.registerPlugin ? ta.registerPlugin("reloadSourceOnError", Du) : ta.plugin("reloadSourceOnError", Du), ta
    }),
    function(e, t) {
        "object" == typeof exports && "undefined" != typeof module ? t(exports, require("video.js")) : "function" == typeof define && define.amd ? define(["exports", "video.js"], t) : t(e.videojsHttpStreaming = {}, e.videojs)
    }(this, function(e, t) {
        "use strict";
        t = t && t.hasOwnProperty("default") ? t.default : t;
        var i, n = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {},
            r = {},
            a = Object.freeze({
                default: r
            }),
            o = void 0 !== n ? n : "undefined" != typeof window ? window : {};
        "undefined" != typeof document ? i = document : (i = o["__GLOBAL_DOCUMENT_CACHE@4"]) || (i = o["__GLOBAL_DOCUMENT_CACHE@4"] = a && r || a);
        var s, l = i,
            c = (function(e, t) {
                var i, n, r, a, o;
                i = /^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/, n = /^([^\/;?#]*)(.*)$/, r = /(?:\/|^)\.(?=\/)/g, a = /(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g, o = {
                    buildAbsoluteURL: function(e, t, i) {
                        if (i = i || {}, e = e.trim(), !(t = t.trim())) {
                            if (!i.alwaysNormalize) return e;
                            var r = this.parseURL(e);
                            if (!r) throw new Error("Error trying to parse base URL.");
                            return r.path = o.normalizePath(r.path), o.buildURLFromParts(r)
                        }
                        var a = this.parseURL(t);
                        if (!a) throw new Error("Error trying to parse relative URL.");
                        if (a.scheme) return i.alwaysNormalize ? (a.path = o.normalizePath(a.path), o.buildURLFromParts(a)) : t;
                        var s = this.parseURL(e);
                        if (!s) throw new Error("Error trying to parse base URL.");
                        if (!s.netLoc && s.path && "/" !== s.path[0]) {
                            var l = n.exec(s.path);
                            s.netLoc = l[1], s.path = l[2]
                        }
                        s.netLoc && !s.path && (s.path = "/");
                        var c = {
                            scheme: s.scheme,
                            netLoc: a.netLoc,
                            path: null,
                            params: a.params,
                            query: a.query,
                            fragment: a.fragment
                        };
                        if (!a.netLoc && (c.netLoc = s.netLoc, "/" !== a.path[0]))
                            if (a.path) {
                                var u = s.path,
                                    d = u.substring(0, u.lastIndexOf("/") + 1) + a.path;
                                c.path = o.normalizePath(d)
                            } else c.path = s.path, a.params || (c.params = s.params, a.query || (c.query = s.query));
                        return null === c.path && (c.path = i.alwaysNormalize ? o.normalizePath(a.path) : a.path), o.buildURLFromParts(c)
                    },
                    parseURL: function(e) {
                        var t = i.exec(e);
                        return t ? {
                            scheme: t[1] || "",
                            netLoc: t[2] || "",
                            path: t[3] || "",
                            params: t[4] || "",
                            query: t[5] || "",
                            fragment: t[6] || ""
                        } : null
                    },
                    normalizePath: function(e) {
                        for (e = e.split("").reverse().join("").replace(r, ""); e.length !== (e = e.replace(a, "")).length;);
                        return e.split("").reverse().join("")
                    },
                    buildURLFromParts: function(e) {
                        return e.scheme + e.netLoc + e.path + e.params + e.query + e.fragment
                    }
                }, e.exports = o
            }(s = {
                exports: {}
            }), s.exports),
            u = "undefined" != typeof window ? window : void 0 !== n ? n : "undefined" != typeof self ? self : {},
            d = function(e, t) {
                return /^[a-z]+:/i.test(t) ? t : (/\/\//i.test(e) || (e = c.buildAbsoluteURL(u.location.href, e)), c.buildAbsoluteURL(e, t))
            };

        function h() {
            return (h = Object.assign || function(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var i = arguments[t];
                    for (var n in i) Object.prototype.hasOwnProperty.call(i, n) && (e[n] = i[n])
                }
                return e
            }).apply(this, arguments)
        }

        function p(e, t) {
            e.prototype = Object.create(t.prototype), e.prototype.constructor = e, e.__proto__ = t
        }

        function f(e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }
        var m = function() {
                function e() {
                    this.listeners = {}
                }
                var t = e.prototype;
                return t.on = function(e, t) {
                    this.listeners[e] || (this.listeners[e] = []), this.listeners[e].push(t)
                }, t.off = function(e, t) {
                    if (!this.listeners[e]) return !1;
                    var i = this.listeners[e].indexOf(t);
                    return this.listeners[e].splice(i, 1), i > -1
                }, t.trigger = function(e) {
                    var t, i, n, r = this.listeners[e];
                    if (r)
                        if (2 === arguments.length)
                            for (i = r.length, t = 0; t < i; ++t) r[t].call(this, arguments[1]);
                        else
                            for (n = Array.prototype.slice.call(arguments, 1), i = r.length, t = 0; t < i; ++t) r[t].apply(this, n)
                }, t.dispose = function() {
                    this.listeners = {}
                }, t.pipe = function(e) {
                    this.on("data", function(t) {
                        e.push(t)
                    })
                }, e
            }(),
            g = function(e) {
                function t() {
                    var t;
                    return (t = e.call(this) || this).buffer = "", t
                }
                return p(t, e), t.prototype.push = function(e) {
                    var t;
                    for (this.buffer += e, t = this.buffer.indexOf("\n"); t > -1; t = this.buffer.indexOf("\n")) this.trigger("data", this.buffer.substring(0, t)), this.buffer = this.buffer.substring(t + 1)
                }, t
            }(m),
            y = function(e) {
                for (var t, i = e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')), n = {}, r = i.length; r--;) "" !== i[r] && ((t = /([^=]*)=(.*)/.exec(i[r]).slice(1))[0] = t[0].replace(/^\s+|\s+$/g, ""), t[1] = t[1].replace(/^\s+|\s+$/g, ""), t[1] = t[1].replace(/^['"](.*)['"]$/g, "$1"), n[t[0]] = t[1]);
                return n
            },
            v = function(e) {
                function t() {
                    var t;
                    return (t = e.call(this) || this).customParsers = [], t.tagMappers = [], t
                }
                p(t, e);
                var i = t.prototype;
                return i.push = function(e) {
                    var t, i, n = this;
                    0 !== (e = e.trim()).length && ("#" === e[0] ? this.tagMappers.reduce(function(t, i) {
                        var n = i(e);
                        return n === e ? t : t.concat([n])
                    }, [e]).forEach(function(e) {
                        for (var r = 0; r < n.customParsers.length; r++)
                            if (n.customParsers[r].call(n, e)) return;
                        if (0 === e.indexOf("#EXT"))
                            if (e = e.replace("\r", ""), t = /^#EXTM3U/.exec(e)) n.trigger("data", {
                                type: "tag",
                                tagType: "m3u"
                            });
                            else {
                                if (t = /^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e)) return i = {
                                    type: "tag",
                                    tagType: "inf"
                                }, t[1] && (i.duration = parseFloat(t[1])), t[2] && (i.title = t[2]), void n.trigger("data", i);
                                if (t = /^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e)) return i = {
                                    type: "tag",
                                    tagType: "targetduration"
                                }, t[1] && (i.duration = parseInt(t[1], 10)), void n.trigger("data", i);
                                if (t = /^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e)) return i = {
                                    type: "tag",
                                    tagType: "totalduration"
                                }, t[1] && (i.duration = parseInt(t[1], 10)), void n.trigger("data", i);
                                if (t = /^#EXT-X-VERSION:?([0-9.]*)?/.exec(e)) return i = {
                                    type: "tag",
                                    tagType: "version"
                                }, t[1] && (i.version = parseInt(t[1], 10)), void n.trigger("data", i);
                                if (t = /^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e)) return i = {
                                    type: "tag",
                                    tagType: "media-sequence"
                                }, t[1] && (i.number = parseInt(t[1], 10)), void n.trigger("data", i);
                                if (t = /^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e)) return i = {
                                    type: "tag",
                                    tagType: "discontinuity-sequence"
                                }, t[1] && (i.number = parseInt(t[1], 10)), void n.trigger("data", i);
                                if (t = /^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e)) return i = {
                                    type: "tag",
                                    tagType: "playlist-type"
                                }, t[1] && (i.playlistType = t[1]), void n.trigger("data", i);
                                if (t = /^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e)) return i = {
                                    type: "tag",
                                    tagType: "byterange"
                                }, t[1] && (i.length = parseInt(t[1], 10)), t[2] && (i.offset = parseInt(t[2], 10)), void n.trigger("data", i);
                                if (t = /^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e)) return i = {
                                    type: "tag",
                                    tagType: "allow-cache"
                                }, t[1] && (i.allowed = !/NO/.test(t[1])), void n.trigger("data", i);
                                if (t = /^#EXT-X-MAP:?(.*)$/.exec(e)) {
                                    if (i = {
                                            type: "tag",
                                            tagType: "map"
                                        }, t[1]) {
                                        var a = y(t[1]);
                                        if (a.URI && (i.uri = a.URI), a.BYTERANGE) {
                                            var o = a.BYTERANGE.split("@"),
                                                s = o[0],
                                                l = o[1];
                                            i.byterange = {}, s && (i.byterange.length = parseInt(s, 10)), l && (i.byterange.offset = parseInt(l, 10))
                                        }
                                    }
                                    n.trigger("data", i)
                                } else if (t = /^#EXT-X-STREAM-INF:?(.*)$/.exec(e)) {
                                    if (i = {
                                            type: "tag",
                                            tagType: "stream-inf"
                                        }, t[1]) {
                                        if (i.attributes = y(t[1]), i.attributes.RESOLUTION) {
                                            var c = i.attributes.RESOLUTION.split("x"),
                                                u = {};
                                            c[0] && (u.width = parseInt(c[0], 10)), c[1] && (u.height = parseInt(c[1], 10)), i.attributes.RESOLUTION = u
                                        }
                                        i.attributes.BANDWIDTH && (i.attributes.BANDWIDTH = parseInt(i.attributes.BANDWIDTH, 10)), i.attributes["PROGRAM-ID"] && (i.attributes["PROGRAM-ID"] = parseInt(i.attributes["PROGRAM-ID"], 10))
                                    }
                                    n.trigger("data", i)
                                } else {
                                    if (t = /^#EXT-X-MEDIA:?(.*)$/.exec(e)) return i = {
                                        type: "tag",
                                        tagType: "media"
                                    }, t[1] && (i.attributes = y(t[1])), void n.trigger("data", i);
                                    if (t = /^#EXT-X-ENDLIST/.exec(e)) n.trigger("data", {
                                        type: "tag",
                                        tagType: "endlist"
                                    });
                                    else if (t = /^#EXT-X-DISCONTINUITY/.exec(e)) n.trigger("data", {
                                        type: "tag",
                                        tagType: "discontinuity"
                                    });
                                    else {
                                        if (t = /^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e)) return i = {
                                            type: "tag",
                                            tagType: "program-date-time"
                                        }, t[1] && (i.dateTimeString = t[1], i.dateTimeObject = new Date(t[1])), void n.trigger("data", i);
                                        if (t = /^#EXT-X-KEY:?(.*)$/.exec(e)) return i = {
                                            type: "tag",
                                            tagType: "key"
                                        }, t[1] && (i.attributes = y(t[1]), i.attributes.IV && ("0x" === i.attributes.IV.substring(0, 2).toLowerCase() && (i.attributes.IV = i.attributes.IV.substring(2)), i.attributes.IV = i.attributes.IV.match(/.{8}/g), i.attributes.IV[0] = parseInt(i.attributes.IV[0], 16), i.attributes.IV[1] = parseInt(i.attributes.IV[1], 16), i.attributes.IV[2] = parseInt(i.attributes.IV[2], 16), i.attributes.IV[3] = parseInt(i.attributes.IV[3], 16), i.attributes.IV = new Uint32Array(i.attributes.IV))), void n.trigger("data", i);
                                        if (t = /^#EXT-X-START:?(.*)$/.exec(e)) return i = {
                                            type: "tag",
                                            tagType: "start"
                                        }, t[1] && (i.attributes = y(t[1]), i.attributes["TIME-OFFSET"] = parseFloat(i.attributes["TIME-OFFSET"]), i.attributes.PRECISE = /YES/.test(i.attributes.PRECISE)), void n.trigger("data", i);
                                        if (t = /^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e)) return (i = {
                                            type: "tag",
                                            tagType: "cue-out-cont"
                                        }).data = t[1] ? t[1] : "", void n.trigger("data", i);
                                        if (t = /^#EXT-X-CUE-OUT:?(.*)?$/.exec(e)) return (i = {
                                            type: "tag",
                                            tagType: "cue-out"
                                        }).data = t[1] ? t[1] : "", void n.trigger("data", i);
                                        if (t = /^#EXT-X-CUE-IN:?(.*)?$/.exec(e)) return (i = {
                                            type: "tag",
                                            tagType: "cue-in"
                                        }).data = t[1] ? t[1] : "", void n.trigger("data", i);
                                        n.trigger("data", {
                                            type: "tag",
                                            data: e.slice(4)
                                        })
                                    }
                                }
                            }
                        else n.trigger("data", {
                            type: "comment",
                            text: e.slice(1)
                        })
                    }) : this.trigger("data", {
                        type: "uri",
                        uri: e
                    }))
                }, i.addParser = function(e) {
                    var t = this,
                        i = e.expression,
                        n = e.customType,
                        r = e.dataParser,
                        a = e.segment;
                    "function" != typeof r && (r = function(e) {
                        return e
                    }), this.customParsers.push(function(e) {
                        if (i.exec(e)) return t.trigger("data", {
                            type: "custom",
                            data: r(e),
                            customType: n,
                            segment: a
                        }), !0
                    })
                }, i.addTagMapper = function(e) {
                    var t = e.expression,
                        i = e.map;
                    this.tagMappers.push(function(e) {
                        return t.test(e) ? i(e) : e
                    })
                }, t
            }(m),
            b = function(e) {
                function t() {
                    var t;
                    (t = e.call(this) || this).lineStream = new g, t.parseStream = new v, t.lineStream.pipe(t.parseStream);
                    var i, n, r = f(f(t)),
                        a = [],
                        o = {},
                        s = {
                            AUDIO: {},
                            VIDEO: {},
                            "CLOSED-CAPTIONS": {},
                            SUBTITLES: {}
                        },
                        l = 0;
                    return t.manifest = {
                        allowCache: !0,
                        discontinuityStarts: [],
                        segments: []
                    }, t.parseStream.on("data", function(e) {
                        var t, c;
                        ({
                            tag: function() {
                                ({
                                    "allow-cache": function() {
                                        this.manifest.allowCache = e.allowed, "allowed" in e || (this.trigger("info", {
                                            message: "defaulting allowCache to YES"
                                        }), this.manifest.allowCache = !0)
                                    },
                                    byterange: function() {
                                        var t = {};
                                        "length" in e && (o.byterange = t, t.length = e.length, "offset" in e || (this.trigger("info", {
                                            message: "defaulting offset to zero"
                                        }), e.offset = 0)), "offset" in e && (o.byterange = t, t.offset = e.offset)
                                    },
                                    endlist: function() {
                                        this.manifest.endList = !0
                                    },
                                    inf: function() {
                                        "mediaSequence" in this.manifest || (this.manifest.mediaSequence = 0, this.trigger("info", {
                                            message: "defaulting media sequence to zero"
                                        })), "discontinuitySequence" in this.manifest || (this.manifest.discontinuitySequence = 0, this.trigger("info", {
                                            message: "defaulting discontinuity sequence to zero"
                                        })), e.duration > 0 && (o.duration = e.duration), 0 === e.duration && (o.duration = .01, this.trigger("info", {
                                            message: "updating zero segment duration to a small value"
                                        })), this.manifest.segments = a
                                    },
                                    key: function() {
                                        e.attributes ? "NONE" !== e.attributes.METHOD ? e.attributes.URI ? (e.attributes.METHOD || this.trigger("warn", {
                                            message: "defaulting key method to AES-128"
                                        }), n = {
                                            method: e.attributes.METHOD || "AES-128",
                                            uri: e.attributes.URI
                                        }, void 0 !== e.attributes.IV && (n.iv = e.attributes.IV)) : this.trigger("warn", {
                                            message: "ignoring key declaration without URI"
                                        }) : n = null : this.trigger("warn", {
                                            message: "ignoring key declaration without attribute list"
                                        })
                                    },
                                    "media-sequence": function() {
                                        isFinite(e.number) ? this.manifest.mediaSequence = e.number : this.trigger("warn", {
                                            message: "ignoring invalid media sequence: " + e.number
                                        })
                                    },
                                    "discontinuity-sequence": function() {
                                        isFinite(e.number) ? (this.manifest.discontinuitySequence = e.number, l = e.number) : this.trigger("warn", {
                                            message: "ignoring invalid discontinuity sequence: " + e.number
                                        })
                                    },
                                    "playlist-type": function() {
                                        /VOD|EVENT/.test(e.playlistType) ? this.manifest.playlistType = e.playlistType : this.trigger("warn", {
                                            message: "ignoring unknown playlist type: " + e.playlist
                                        })
                                    },
                                    map: function() {
                                        i = {}, e.uri && (i.uri = e.uri), e.byterange && (i.byterange = e.byterange)
                                    },
                                    "stream-inf": function() {
                                        this.manifest.playlists = a, this.manifest.mediaGroups = this.manifest.mediaGroups || s, e.attributes ? (o.attributes || (o.attributes = {}), h(o.attributes, e.attributes)) : this.trigger("warn", {
                                            message: "ignoring empty stream-inf attributes"
                                        })
                                    },
                                    media: function() {
                                        if (this.manifest.mediaGroups = this.manifest.mediaGroups || s, e.attributes && e.attributes.TYPE && e.attributes["GROUP-ID"] && e.attributes.NAME) {
                                            var i = this.manifest.mediaGroups[e.attributes.TYPE];
                                            i[e.attributes["GROUP-ID"]] = i[e.attributes["GROUP-ID"]] || {}, t = i[e.attributes["GROUP-ID"]], c.autoselect = !!(c = {
                                                default: /yes/i.test(e.attributes.DEFAULT)
                                            }).default || /yes/i.test(e.attributes.AUTOSELECT), e.attributes.LANGUAGE && (c.language = e.attributes.LANGUAGE), e.attributes.URI && (c.uri = e.attributes.URI), e.attributes["INSTREAM-ID"] && (c.instreamId = e.attributes["INSTREAM-ID"]), e.attributes.CHARACTERISTICS && (c.characteristics = e.attributes.CHARACTERISTICS), e.attributes.FORCED && (c.forced = /yes/i.test(e.attributes.FORCED)), t[e.attributes.NAME] = c
                                        } else this.trigger("warn", {
                                            message: "ignoring incomplete or missing media group"
                                        })
                                    },
                                    discontinuity: function() {
                                        l += 1, o.discontinuity = !0, this.manifest.discontinuityStarts.push(a.length)
                                    },
                                    "program-date-time": function() {
                                        void 0 === this.manifest.dateTimeString && (this.manifest.dateTimeString = e.dateTimeString, this.manifest.dateTimeObject = e.dateTimeObject), o.dateTimeString = e.dateTimeString, o.dateTimeObject = e.dateTimeObject
                                    },
                                    targetduration: function() {
                                        !isFinite(e.duration) || e.duration < 0 ? this.trigger("warn", {
                                            message: "ignoring invalid target duration: " + e.duration
                                        }) : this.manifest.targetDuration = e.duration
                                    },
                                    totalduration: function() {
                                        !isFinite(e.duration) || e.duration < 0 ? this.trigger("warn", {
                                            message: "ignoring invalid total duration: " + e.duration
                                        }) : this.manifest.totalDuration = e.duration
                                    },
                                    start: function() {
                                        e.attributes && !isNaN(e.attributes["TIME-OFFSET"]) ? this.manifest.start = {
                                            timeOffset: e.attributes["TIME-OFFSET"],
                                            precise: e.attributes.PRECISE
                                        } : this.trigger("warn", {
                                            message: "ignoring start declaration without appropriate attribute list"
                                        })
                                    },
                                    "cue-out": function() {
                                        o.cueOut = e.data
                                    },
                                    "cue-out-cont": function() {
                                        o.cueOutCont = e.data
                                    },
                                    "cue-in": function() {
                                        o.cueIn = e.data
                                    }
                                } [e.tagType] || function() {}).call(r)
                            },
                            uri: function() {
                                o.uri = e.uri, a.push(o), !this.manifest.targetDuration || "duration" in o || (this.trigger("warn", {
                                    message: "defaulting segment duration to the target duration"
                                }), o.duration = this.manifest.targetDuration), n && (o.key = n), o.timeline = l, i && (o.map = i), o = {}
                            },
                            comment: function() {},
                            custom: function() {
                                e.segment ? (o.custom = o.custom || {}, o.custom[e.customType] = e.data) : (this.manifest.custom = this.manifest.custom || {}, this.manifest.custom[e.customType] = e.data)
                            }
                        })[e.type].call(r)
                    }), t
                }
                p(t, e);
                var i = t.prototype;
                return i.push = function(e) {
                    this.lineStream.push(e)
                }, i.end = function() {
                    this.lineStream.push("\n")
                }, i.addParser = function(e) {
                    this.parseStream.addParser(e)
                }, i.addTagMapper = function(e) {
                    this.parseStream.addTagMapper(e)
                }, t
            }(m),
            _ = function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            },
            T = function() {
                function e(e, t) {
                    for (var i = 0; i < t.length; i++) {
                        var n = t[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
                    }
                }
                return function(t, i, n) {
                    return i && e(t.prototype, i), n && e(t, n), t
                }
            }(),
            S = function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            },
            E = function(e, t) {
                if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !t || "object" != typeof t && "function" != typeof t ? e : t
            },
            w = function(e, t) {
                if (Array.isArray(e)) return e;
                if (Symbol.iterator in Object(e)) return function(e, t) {
                    var i = [],
                        n = !0,
                        r = !1,
                        a = void 0;
                    try {
                        for (var o, s = e[Symbol.iterator](); !(n = (o = s.next()).done) && (i.push(o.value), !t || i.length !== t); n = !0);
                    } catch (e) {
                        r = !0, a = e
                    } finally {
                        try {
                            !n && s.return && s.return()
                        } finally {
                            if (r) throw a
                        }
                    }
                    return i
                }(e, t);
                throw new TypeError("Invalid attempt to destructure non-iterable instance")
            },
            C = t.mergeOptions,
            k = t.EventTarget,
            P = t.log,
            A = function(e, t) {
                ["AUDIO", "SUBTITLES"].forEach(function(i) {
                    for (var n in e.mediaGroups[i])
                        for (var r in e.mediaGroups[i][n]) t(e.mediaGroups[i][n][r], i, n, r)
                })
            },
            I = function(e, t) {
                var i = C(e, {}),
                    n = i.playlists[t.uri];
                if (!n) return null;
                if (n.segments && t.segments && n.segments.length === t.segments.length && n.endList === t.endList && n.mediaSequence === t.mediaSequence) return null;
                var r = C(n, t);
                n.segments && (r.segments = function(e, t, i) {
                    var n = t.slice();
                    i = i || 0;
                    for (var r = Math.min(e.length, t.length + i), a = i; a < r; a++) n[a - i] = C(e[a], n[a - i]);
                    return n
                }(n.segments, t.segments, t.mediaSequence - n.mediaSequence)), r.segments.forEach(function(e) {
                    ! function(e, t) {
                        e.resolvedUri || (e.resolvedUri = d(t, e.uri)), e.key && !e.key.resolvedUri && (e.key.resolvedUri = d(t, e.key.uri)), e.map && !e.map.resolvedUri && (e.map.resolvedUri = d(t, e.map.uri))
                    }(e, r.resolvedUri)
                });
                for (var a = 0; a < i.playlists.length; a++) i.playlists[a].uri === t.uri && (i.playlists[a] = r);
                return i.playlists[t.uri] = r, i
            },
            L = function(e) {
                for (var t = e.playlists.length; t--;) {
                    var i = e.playlists[t];
                    e.playlists[i.uri] = i, i.resolvedUri = d(e.uri, i.uri), i.id = t, i.attributes || (i.attributes = {}, P.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))
                }
            },
            O = function(e) {
                A(e, function(t) {
                    t.uri && (t.resolvedUri = d(e.uri, t.uri))
                })
            },
            D = function(e, t) {
                var i = e.segments[e.segments.length - 1];
                return t && i && i.duration ? 1e3 * i.duration : 500 * (e.targetDuration || 10)
            },
            R = function(e) {
                function t(e, i, n) {
                    _(this, t);
                    var r = E(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                    r.srcUrl = e, r.hls_ = i, r.withCredentials = n;
                    var a = i.options_;
                    if (r.customTagParsers = a && a.customTagParsers || [], r.customTagMappers = a && a.customTagMappers || [], !r.srcUrl) throw new Error("A non-empty playlist URL is required");
                    return r.state = "HAVE_NOTHING", r.on("mediaupdatetimeout", function() {
                        "HAVE_METADATA" === r.state && (r.state = "HAVE_CURRENT_METADATA", r.request = r.hls_.xhr({
                            uri: d(r.master.uri, r.media().uri),
                            withCredentials: r.withCredentials
                        }, function(e, t) {
                            if (r.request) return e ? r.playlistRequestError(r.request, r.media().uri, "HAVE_METADATA") : void r.haveMetadata(r.request, r.media().uri)
                        }))
                    }), r
                }
                return S(t, k), T(t, [{
                    key: "playlistRequestError",
                    value: function(e, t, i) {
                        this.request = null, i && (this.state = i), this.error = {
                            playlist: this.master.playlists[t],
                            status: e.status,
                            message: "HLS playlist request error at URL: " + t,
                            responseText: e.responseText,
                            code: e.status >= 500 ? 4 : 2
                        }, this.trigger("error")
                    }
                }, {
                    key: "haveMetadata",
                    value: function(e, t) {
                        var i = this;
                        this.request = null, this.state = "HAVE_METADATA";
                        var n = new b;
                        this.customTagParsers.forEach(function(e) {
                            return n.addParser(e)
                        }), this.customTagMappers.forEach(function(e) {
                            return n.addTagMapper(e)
                        }), n.push(e.responseText), n.end(), n.manifest.uri = t, n.manifest.attributes = n.manifest.attributes || {};
                        var r = I(this.master, n.manifest);
                        this.targetDuration = n.manifest.targetDuration, r ? (this.master = r, this.media_ = this.master.playlists[n.manifest.uri]) : this.trigger("playlistunchanged"), this.media().endList || (u.clearTimeout(this.mediaUpdateTimeout), this.mediaUpdateTimeout = u.setTimeout(function() {
                            i.trigger("mediaupdatetimeout")
                        }, D(this.media(), !!r))), this.trigger("loadedplaylist")
                    }
                }, {
                    key: "dispose",
                    value: function() {
                        this.stopRequest(), u.clearTimeout(this.mediaUpdateTimeout)
                    }
                }, {
                    key: "stopRequest",
                    value: function() {
                        if (this.request) {
                            var e = this.request;
                            this.request = null, e.onreadystatechange = null, e.abort()
                        }
                    }
                }, {
                    key: "media",
                    value: function(e) {
                        var t = this;
                        if (!e) return this.media_;
                        if ("HAVE_NOTHING" === this.state) throw new Error("Cannot switch media playlist from " + this.state);
                        var i = this.state;
                        if ("string" == typeof e) {
                            if (!this.master.playlists[e]) throw new Error("Unknown playlist URI: " + e);
                            e = this.master.playlists[e]
                        }
                        var n = !this.media_ || e.uri !== this.media_.uri;
                        if (this.master.playlists[e.uri].endList) return this.request && (this.request.onreadystatechange = null, this.request.abort(), this.request = null), this.state = "HAVE_METADATA", this.media_ = e, void(n && (this.trigger("mediachanging"), this.trigger("mediachange")));
                        if (n) {
                            if (this.state = "SWITCHING_MEDIA", this.request) {
                                if (d(this.master.uri, e.uri) === this.request.url) return;
                                this.request.onreadystatechange = null, this.request.abort(), this.request = null
                            }
                            this.media_ && this.trigger("mediachanging"), this.request = this.hls_.xhr({
                                uri: d(this.master.uri, e.uri),
                                withCredentials: this.withCredentials
                            }, function(n, r) {
                                if (t.request) {
                                    if (n) return t.playlistRequestError(t.request, e.uri, i);
                                    t.haveMetadata(r, e.uri), t.trigger("HAVE_MASTER" === i ? "loadedmetadata" : "mediachange")
                                }
                            })
                        }
                    }
                }, {
                    key: "pause",
                    value: function() {
                        this.stopRequest(), u.clearTimeout(this.mediaUpdateTimeout), "HAVE_NOTHING" === this.state && (this.started = !1), "SWITCHING_MEDIA" === this.state ? this.state = this.media_ ? "HAVE_METADATA" : "HAVE_MASTER" : "HAVE_CURRENT_METADATA" === this.state && (this.state = "HAVE_METADATA")
                    }
                }, {
                    key: "load",
                    value: function(e) {
                        var t = this;
                        u.clearTimeout(this.mediaUpdateTimeout);
                        var i = this.media();
                        e ? this.mediaUpdateTimeout = u.setTimeout(function() {
                            return t.load()
                        }, i ? i.targetDuration / 2 * 1e3 : 5e3) : this.started ? this.trigger(i && !i.endList ? "mediaupdatetimeout" : "loadedplaylist") : this.start()
                    }
                }, {
                    key: "start",
                    value: function() {
                        var e = this;
                        this.started = !0, this.request = this.hls_.xhr({
                            uri: this.srcUrl,
                            withCredentials: this.withCredentials
                        }, function(t, i) {
                            if (e.request) {
                                if (e.request = null, t) return e.error = {
                                    status: i.status,
                                    message: "HLS playlist request error at URL: " + e.srcUrl,
                                    responseText: i.responseText,
                                    code: 2
                                }, "HAVE_NOTHING" === e.state && (e.started = !1), e.trigger("error");
                                var n = new b;
                                return e.customTagParsers.forEach(function(e) {
                                    return n.addParser(e)
                                }), e.customTagMappers.forEach(function(e) {
                                    return n.addTagMapper(e)
                                }), n.push(i.responseText), n.end(), e.state = "HAVE_MASTER", n.manifest.uri = e.srcUrl, n.manifest.playlists ? (e.master = n.manifest, L(e.master), O(e.master), e.trigger("loadedplaylist"), void(e.request || e.media(n.manifest.playlists[0]))) : (e.master = {
                                    mediaGroups: {
                                        AUDIO: {},
                                        VIDEO: {},
                                        "CLOSED-CAPTIONS": {},
                                        SUBTITLES: {}
                                    },
                                    uri: u.location.href,
                                    playlists: [{
                                        uri: e.srcUrl,
                                        id: 0
                                    }]
                                }, e.master.playlists[e.srcUrl] = e.master.playlists[0], e.master.playlists[0].resolvedUri = e.srcUrl, e.master.playlists[0].attributes = e.master.playlists[0].attributes || {}, e.haveMetadata(i, e.srcUrl), e.trigger("loadedmetadata"))
                            }
                        })
                    }
                }]), t
            }(),
            x = t.createTimeRange,
            M = function(e, t, i) {
                var n, r;
                return void 0 === t && (t = e.mediaSequence + e.segments.length), t < e.mediaSequence ? 0 : (n = function(e, t) {
                    var i = 0,
                        n = t - e.mediaSequence,
                        r = e.segments[n];
                    if (r) {
                        if (void 0 !== r.start) return {
                            result: r.start,
                            precise: !0
                        };
                        if (void 0 !== r.end) return {
                            result: r.end - r.duration,
                            precise: !0
                        }
                    }
                    for (; n--;) {
                        if (void 0 !== (r = e.segments[n]).end) return {
                            result: i + r.end,
                            precise: !0
                        };
                        if (i += r.duration, void 0 !== r.start) return {
                            result: i + r.start,
                            precise: !0
                        }
                    }
                    return {
                        result: i,
                        precise: !1
                    }
                }(e, t)).precise ? n.result : (r = function(e, t) {
                    for (var i = 0, n = void 0, r = t - e.mediaSequence; r < e.segments.length; r++) {
                        if (void 0 !== (n = e.segments[r]).start) return {
                            result: n.start - i,
                            precise: !0
                        };
                        if (i += n.duration, void 0 !== n.end) return {
                            result: n.end - i,
                            precise: !0
                        }
                    }
                    return {
                        result: -1,
                        precise: !1
                    }
                }(e, t)).precise ? r.result : n.result + i
            },
            U = function(e, t, i) {
                if (!e) return 0;
                if ("number" != typeof i && (i = 0), void 0 === t) {
                    if (e.totalDuration) return e.totalDuration;
                    if (!e.endList) return u.Infinity
                }
                return M(e, t, i)
            },
            N = function(e, t, i) {
                var n = 0;
                if (t > i) {
                    var r = [i, t];
                    t = r[0], i = r[1]
                }
                if (t < 0) {
                    for (var a = t; a < Math.min(0, i); a++) n += e.targetDuration;
                    t = 0
                }
                for (var o = t; o < i; o++) n += e.segments[o].duration;
                return n
            },
            F = function(e) {
                if (!e.segments.length) return 0;
                for (var t = e.segments.length - 1, i = e.segments[t].duration || e.targetDuration, n = i + 2 * e.targetDuration; t-- && !((i += e.segments[t].duration) >= n););
                return Math.max(0, t)
            },
            B = function(e, t, i) {
                if (!e || !e.segments) return null;
                if (e.endList) return U(e);
                if (null === t) return null;
                t = t || 0;
                var n = i ? F(e) : e.segments.length;
                return M(e, e.mediaSequence + n, t)
            },
            V = function(e) {
                return e - Math.floor(e) == 0
            },
            j = function(e, t) {
                if (V(t)) return t + .1 * e;
                for (var i = t.toString().split(".")[1].length, n = 1; n <= i; n++) {
                    var r = Math.pow(10, n),
                        a = t * r;
                    if (V(a) || n === i) return (a + e) / r
                }
            },
            z = j.bind(null, 1),
            q = j.bind(null, -1),
            H = function(e) {
                return e.excludeUntil && e.excludeUntil > Date.now()
            },
            G = function(e) {
                return e.excludeUntil && e.excludeUntil === 1 / 0
            },
            W = function(e) {
                var t = H(e);
                return !e.disabled && !t
            },
            Y = function(e, t) {
                return t.attributes && t.attributes[e]
            },
            K = function(e, t) {
                if (1 === e.playlists.length) return !0;
                var i = t.attributes.BANDWIDTH || Number.MAX_VALUE;
                return 0 === e.playlists.filter(function(e) {
                    return !!W(e) && (e.attributes.BANDWIDTH || 0) < i
                }).length
            },
            X = {
                duration: U,
                seekable: function(e, t) {
                    var i = t || 0,
                        n = B(e, t, !0);
                    return null === n ? x() : x(i, n)
                },
                safeLiveIndex: F,
                getMediaInfoForTime: function(e, t, i, n) {
                    var r = void 0,
                        a = e.segments.length,
                        o = t - n;
                    if (o < 0) {
                        if (i > 0)
                            for (r = i - 1; r >= 0; r--)
                                if ((o += q(e.segments[r].duration)) > 0) return {
                                    mediaIndex: r,
                                    startTime: n - N(e, i, r)
                                };
                        return {
                            mediaIndex: 0,
                            startTime: t
                        }
                    }
                    if (i < 0) {
                        for (r = i; r < 0; r++)
                            if ((o -= e.targetDuration) < 0) return {
                                mediaIndex: 0,
                                startTime: t
                            };
                        i = 0
                    }
                    for (r = i; r < a; r++)
                        if ((o -= z(e.segments[r].duration)) < 0) return {
                            mediaIndex: r,
                            startTime: n + N(e, i, r)
                        };
                    return {
                        mediaIndex: a - 1,
                        startTime: t
                    }
                },
                isEnabled: W,
                isDisabled: function(e) {
                    return e.disabled
                },
                isBlacklisted: H,
                isIncompatible: G,
                playlistEnd: B,
                isAes: function(e) {
                    for (var t = 0; t < e.segments.length; t++)
                        if (e.segments[t].key) return !0;
                    return !1
                },
                isFmp4: function(e) {
                    for (var t = 0; t < e.segments.length; t++)
                        if (e.segments[t].map) return !0;
                    return !1
                },
                hasAttribute: Y,
                estimateSegmentRequestTime: function(e, t, i) {
                    var n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
                    return Y("BANDWIDTH", i) ? (e * i.attributes.BANDWIDTH - 8 * n) / t : NaN
                },
                isLowestEnabledRendition: K
            },
            J = t.xhr,
            $ = t.mergeOptions,
            Q = function() {
                return function e(i, n) {
                    i = $({
                        timeout: 45e3
                    }, i);
                    var r = e.beforeRequest || t.Hls.xhr.beforeRequest;
                    if (r && "function" == typeof r) {
                        var a = r(i);
                        a && (i = a)
                    }
                    var o = J(i, function(e, t) {
                            var i = o.response;
                            !e && i && (o.responseTime = Date.now(), o.roundTripTime = o.responseTime - o.requestTime, o.bytesReceived = i.byteLength || i.length, o.bandwidth || (o.bandwidth = Math.floor(o.bytesReceived / o.roundTripTime * 8 * 1e3))), t.headers && (o.responseHeaders = t.headers), e && "ETIMEDOUT" === e.code && (o.timedout = !0), e || o.aborted || 200 === t.statusCode || 206 === t.statusCode || 0 === t.statusCode || (e = new Error("XHR Failed with a response of: " + (o && (i || o.responseText)))), n(e, o)
                        }),
                        s = o.abort;
                    return o.abort = function() {
                        return o.aborted = !0, s.apply(o, arguments)
                    }, o.uri = i.uri, o.requestTime = Date.now(), o
                }
            },
            Z = function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            },
            ee = function() {
                function e(e, t) {
                    for (var i = 0; i < t.length; i++) {
                        var n = t[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
                    }
                }
                return function(t, i, n) {
                    return i && e(t.prototype, i), n && e(t, n), t
                }
            }(),
            te = function(e, t) {
                if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !t || "object" != typeof t && "function" != typeof t ? e : t
            },
            ie = function() {
                var e = [
                        [
                            [],
                            [],
                            [],
                            [],
                            []
                        ],
                        [
                            [],
                            [],
                            [],
                            [],
                            []
                        ]
                    ],
                    t = e[0],
                    i = e[1],
                    n = t[4],
                    r = i[4],
                    a = void 0,
                    o = void 0,
                    s = void 0,
                    l = [],
                    c = [],
                    u = void 0,
                    d = void 0,
                    h = void 0,
                    p = void 0,
                    f = void 0;
                for (a = 0; a < 256; a++) c[(l[a] = a << 1 ^ 283 * (a >> 7)) ^ a] = a;
                for (o = s = 0; !n[o]; o ^= u || 1, s = c[s] || 1)
                    for (h = (h = s ^ s << 1 ^ s << 2 ^ s << 3 ^ s << 4) >> 8 ^ 255 & h ^ 99, n[o] = h, r[h] = o, f = 16843009 * l[d = l[u = l[o]]] ^ 65537 * d ^ 257 * u ^ 16843008 * o, p = 257 * l[h] ^ 16843008 * h, a = 0; a < 4; a++) t[a][o] = p = p << 24 ^ p >>> 8, i[a][h] = f = f << 24 ^ f >>> 8;
                for (a = 0; a < 5; a++) t[a] = t[a].slice(0), i[a] = i[a].slice(0);
                return e
            },
            ne = null,
            re = function() {
                function e(t) {
                    Z(this, e), ne || (ne = ie()), this._tables = [
                        [ne[0][0].slice(), ne[0][1].slice(), ne[0][2].slice(), ne[0][3].slice(), ne[0][4].slice()],
                        [ne[1][0].slice(), ne[1][1].slice(), ne[1][2].slice(), ne[1][3].slice(), ne[1][4].slice()]
                    ];
                    var i = void 0,
                        n = void 0,
                        r = void 0,
                        a = void 0,
                        o = void 0,
                        s = this._tables[0][4],
                        l = this._tables[1],
                        c = t.length,
                        u = 1;
                    if (4 !== c && 6 !== c && 8 !== c) throw new Error("Invalid aes key size");
                    for (a = t.slice(0), this._key = [a, o = []], i = c; i < 4 * c + 28; i++) r = a[i - 1], (i % c == 0 || 8 === c && i % c == 4) && (r = s[r >>> 24] << 24 ^ s[r >> 16 & 255] << 16 ^ s[r >> 8 & 255] << 8 ^ s[255 & r], i % c == 0 && (r = r << 8 ^ r >>> 24 ^ u << 24, u = u << 1 ^ 283 * (u >> 7))), a[i] = a[i - c] ^ r;
                    for (n = 0; i; n++, i--) r = a[3 & n ? i : i - 4], o[n] = i <= 4 || n < 4 ? r : l[0][s[r >>> 24]] ^ l[1][s[r >> 16 & 255]] ^ l[2][s[r >> 8 & 255]] ^ l[3][s[255 & r]]
                }
                return e.prototype.decrypt = function(e, t, i, n, r, a) {
                    var o = this._key[1],
                        s = e ^ o[0],
                        l = n ^ o[1],
                        c = i ^ o[2],
                        u = t ^ o[3],
                        d = void 0,
                        h = void 0,
                        p = void 0,
                        f = o.length / 4 - 2,
                        m = void 0,
                        g = 4,
                        y = this._tables[1],
                        v = y[0],
                        b = y[1],
                        _ = y[2],
                        T = y[3],
                        S = y[4];
                    for (m = 0; m < f; m++) d = v[s >>> 24] ^ b[l >> 16 & 255] ^ _[c >> 8 & 255] ^ T[255 & u] ^ o[g], h = v[l >>> 24] ^ b[c >> 16 & 255] ^ _[u >> 8 & 255] ^ T[255 & s] ^ o[g + 1], p = v[c >>> 24] ^ b[u >> 16 & 255] ^ _[s >> 8 & 255] ^ T[255 & l] ^ o[g + 2], u = v[u >>> 24] ^ b[s >> 16 & 255] ^ _[l >> 8 & 255] ^ T[255 & c] ^ o[g + 3], g += 4, s = d, l = h, c = p;
                    for (m = 0; m < 4; m++) r[(3 & -m) + a] = S[s >>> 24] << 24 ^ S[l >> 16 & 255] << 16 ^ S[c >> 8 & 255] << 8 ^ S[255 & u] ^ o[g++], d = s, s = l, l = c, c = u, u = d
                }, e
            }(),
            ae = function() {
                function e() {
                    Z(this, e), this.listeners = {}
                }
                return e.prototype.on = function(e, t) {
                    this.listeners[e] || (this.listeners[e] = []), this.listeners[e].push(t)
                }, e.prototype.off = function(e, t) {
                    if (!this.listeners[e]) return !1;
                    var i = this.listeners[e].indexOf(t);
                    return this.listeners[e].splice(i, 1), i > -1
                }, e.prototype.trigger = function(e) {
                    var t = this.listeners[e];
                    if (t)
                        if (2 === arguments.length)
                            for (var i = t.length, n = 0; n < i; ++n) t[n].call(this, arguments[1]);
                        else
                            for (var r = Array.prototype.slice.call(arguments, 1), a = t.length, o = 0; o < a; ++o) t[o].apply(this, r)
                }, e.prototype.dispose = function() {
                    this.listeners = {}
                }, e.prototype.pipe = function(e) {
                    this.on("data", function(t) {
                        e.push(t)
                    })
                }, e
            }(),
            oe = function(e) {
                function t() {
                    Z(this, t);
                    var i = te(this, e.call(this, ae));
                    return i.jobs = [], i.delay = 1, i.timeout_ = null, i
                }
                return function(e, t) {
                    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                }(t, e), t.prototype.processJob_ = function() {
                    this.jobs.shift()(), this.timeout_ = this.jobs.length ? setTimeout(this.processJob_.bind(this), this.delay) : null
                }, t.prototype.push = function(e) {
                    this.jobs.push(e), this.timeout_ || (this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay))
                }, t
            }(ae),
            se = function(e) {
                return e << 24 | (65280 & e) << 8 | (16711680 & e) >> 8 | e >>> 24
            },
            le = function(e, t, i) {
                var n = new Int32Array(e.buffer, e.byteOffset, e.byteLength >> 2),
                    r = new re(Array.prototype.slice.call(t)),
                    a = new Uint8Array(e.byteLength),
                    o = new Int32Array(a.buffer),
                    s = void 0,
                    l = void 0,
                    c = void 0,
                    u = void 0,
                    d = void 0,
                    h = void 0,
                    p = void 0,
                    f = void 0,
                    m = void 0;
                for (s = i[0], l = i[1], c = i[2], u = i[3], m = 0; m < n.length; m += 4) d = se(n[m]), h = se(n[m + 1]), p = se(n[m + 2]), f = se(n[m + 3]), r.decrypt(d, h, p, f, o, m), o[m] = se(o[m] ^ s), o[m + 1] = se(o[m + 1] ^ l), o[m + 2] = se(o[m + 2] ^ c), o[m + 3] = se(o[m + 3] ^ u), s = d, l = h, c = p, u = f;
                return a
            },
            ce = function() {
                function e(t, i, n, r) {
                    Z(this, e);
                    var a = e.STEP,
                        o = new Int32Array(t.buffer),
                        s = new Uint8Array(t.byteLength),
                        l = 0;
                    for (this.asyncStream_ = new oe, this.asyncStream_.push(this.decryptChunk_(o.subarray(l, l + a), i, n, s)), l = a; l < o.length; l += a) n = new Uint32Array([se(o[l - 4]), se(o[l - 3]), se(o[l - 2]), se(o[l - 1])]), this.asyncStream_.push(this.decryptChunk_(o.subarray(l, l + a), i, n, s));
                    this.asyncStream_.push(function() {
                        var e;
                        r(null, (e = s).subarray(0, e.byteLength - e[e.byteLength - 1]))
                    })
                }
                return e.prototype.decryptChunk_ = function(e, t, i, n) {
                    return function() {
                        var r = le(e, t, i);
                        n.set(r, e.byteOffset)
                    }
                }, ee(e, null, [{
                    key: "STEP",
                    get: function() {
                        return 32e3
                    }
                }]), e
            }(),
            ue = function(e, t) {
                return e.start(t) + "-" + e.end(t)
            },
            de = function(e, t) {
                var i = e.toString(16);
                return "00".substring(0, 2 - i.length) + i + (t % 2 ? " " : "")
            },
            he = function(e) {
                return e >= 32 && e < 126 ? String.fromCharCode(e) : "."
            },
            pe = function(e) {
                var t = {};
                return Object.keys(e).forEach(function(i) {
                    var n = e[i];
                    t[i] = ArrayBuffer.isView(n) ? {
                        bytes: n.buffer,
                        byteOffset: n.byteOffset,
                        byteLength: n.byteLength
                    } : n
                }), t
            },
            fe = function(e) {
                var t = e.byterange || {
                    length: 1 / 0,
                    offset: 0
                };
                return [t.length, t.offset, e.resolvedUri].join(",")
            },
            me = function(e) {
                for (var t = Array.prototype.slice.call(e), i = "", n = 0; n < t.length / 16; n++) i += t.slice(16 * n, 16 * n + 16).map(de).join("") + " " + t.slice(16 * n, 16 * n + 16).map(he).join("") + "\n";
                return i
            },
            ge = Object.freeze({
                createTransferableMessage: pe,
                initSegmentId: fe,
                hexDump: me,
                tagDump: function(e) {
                    return me(e.bytes)
                },
                textRanges: function(e) {
                    var t = "",
                        i = void 0;
                    for (i = 0; i < e.length; i++) t += ue(e, i) + " ";
                    return t
                }
            }),
            ye = function(e, i) {
                var n = [],
                    r = void 0;
                if (e && e.length)
                    for (r = 0; r < e.length; r++) i(e.start(r), e.end(r)) && n.push([e.start(r), e.end(r)]);
                return t.createTimeRanges(n)
            },
            ve = function(e, t) {
                return ye(e, function(e, i) {
                    return e - 1 / 30 <= t && i + 1 / 30 >= t
                })
            },
            be = function(e, t) {
                return ye(e, function(e) {
                    return e - 1 / 30 >= t
                })
            },
            _e = function(e) {
                var t = [];
                if (!e || !e.length) return "";
                for (var i = 0; i < e.length; i++) t.push(e.start(i) + " => " + e.end(i));
                return t.join(", ")
            },
            Te = function(e) {
                for (var t = [], i = 0; i < e.length; i++) t.push({
                    start: e.start(i),
                    end: e.end(i)
                });
                return t
            },
            Se = function(e, t, i) {
                var n = void 0,
                    r = void 0;
                if (i && i.cues)
                    for (n = i.cues.length; n--;)(r = i.cues[n]).startTime <= t && r.endTime >= e && i.removeCue(r)
            },
            Ee = function(e) {
                return isNaN(e) || Math.abs(e) === 1 / 0 ? Number.MAX_VALUE : e
            },
            we = function(e, i, n) {
                var r = u.WebKitDataCue || u.VTTCue;
                if (i && i.forEach(function(e) {
                        this.inbandTextTracks_[e.stream].addCue(new r(e.startTime + this.timestampOffset, e.endTime + this.timestampOffset, e.text))
                    }, e), n) {
                    var a = Ee(e.mediaSource_.duration);
                    if (n.forEach(function(e) {
                            var i = e.cueTime + this.timestampOffset;
                            e.frames.forEach(function(e) {
                                var n = new r(i, i, e.value || e.url || e.data || "");
                                n.frame = e, n.value = e,
                                    function(e) {
                                        Object.defineProperties(e.frame, {
                                            id: {
                                                get: function() {
                                                    return t.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."), e.value.key
                                                }
                                            },
                                            value: {
                                                get: function() {
                                                    return t.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."), e.value.data
                                                }
                                            },
                                            privateData: {
                                                get: function() {
                                                    return t.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."), e.value.data
                                                }
                                            }
                                        })
                                    }(n), this.metadataTrack_.addCue(n)
                            }, this)
                        }, e), e.metadataTrack_ && e.metadataTrack_.cues && e.metadataTrack_.cues.length) {
                        for (var o = e.metadataTrack_.cues, s = [], l = 0; l < o.length; l++) o[l] && s.push(o[l]);
                        var c = s.reduce(function(e, t) {
                                var i = e[t.startTime] || [];
                                return i.push(t), e[t.startTime] = i, e
                            }, {}),
                            d = Object.keys(c).sort(function(e, t) {
                                return Number(e) - Number(t)
                            });
                        d.forEach(function(e, t) {
                            var i = c[e],
                                n = Number(d[t + 1]) || a;
                            i.forEach(function(e) {
                                e.endTime = n
                            })
                        })
                    }
                }
            },
            Ce = "undefined" != typeof window ? window : {},
            ke = "undefined" == typeof Symbol ? "__target" : Symbol(),
            Pe = "application/javascript",
            Ae = Ce.BlobBuilder || Ce.WebKitBlobBuilder || Ce.MozBlobBuilder || Ce.MSBlobBuilder,
            Ie = Ce.URL || Ce.webkitURL || Ie && Ie.msURL,
            Le = Ce.Worker;

        function Oe(e, t) {
            return function(i) {
                var n = this;
                if (!t) return new Le(e);
                if (Le && !i) {
                    var r = Me(t.toString().replace(/^function.+?{/, "").slice(0, -1));
                    return this[ke] = new Le(r),
                        function(e, t) {
                            if (e && r) {
                                var i = e.terminate;
                                e.objURL = r, e.terminate = function() {
                                    e.objURL && Ie.revokeObjectURL(e.objURL), i.call(e)
                                }
                            }
                        }(this[ke]), this[ke]
                }
                var a = {
                    postMessage: function(e) {
                        n.onmessage && setTimeout(function() {
                            n.onmessage({
                                data: e,
                                target: a
                            })
                        })
                    }
                };
                t.call(a), this.postMessage = function(e) {
                    setTimeout(function() {
                        a.onmessage({
                            data: e,
                            target: n
                        })
                    })
                }, this.isThisThread = !0
            }
        }
        if (Le) {
            var De, Re = Me("self.onmessage = function () {}"),
                xe = new Uint8Array(1);
            try {
                (De = new Le(Re)).postMessage(xe, [xe.buffer])
            } catch (e) {
                Le = null
            } finally {
                Ie.revokeObjectURL(Re), De && De.terminate()
            }
        }

        function Me(e) {
            try {
                return Ie.createObjectURL(new Blob([e], {
                    type: Pe
                }))
            } catch (n) {
                var t = new Ae;
                return t.append(e), Ie.createObjectURL(t.getBlob(type))
            }
        }
        var Ue = new Oe("./transmuxer-worker.worker.js", function(e, t) {
                var i = this;
                ! function() {
                    var e, t, n, r, a, o, s, l, c, u, d, h, p, f, m, g, y, v, b, _, T, S, E, w, C, k, P, A, I, L, O, D, R, x, M, U, N, F, B, V, j = Math.pow(2, 32) - 1;
                    ! function() {
                        var e;
                        if (S = {
                                avc1: [],
                                avcC: [],
                                btrt: [],
                                dinf: [],
                                dref: [],
                                esds: [],
                                ftyp: [],
                                hdlr: [],
                                mdat: [],
                                mdhd: [],
                                mdia: [],
                                mfhd: [],
                                minf: [],
                                moof: [],
                                moov: [],
                                mp4a: [],
                                mvex: [],
                                mvhd: [],
                                sdtp: [],
                                smhd: [],
                                stbl: [],
                                stco: [],
                                stsc: [],
                                stsd: [],
                                stsz: [],
                                stts: [],
                                styp: [],
                                tfdt: [],
                                tfhd: [],
                                traf: [],
                                trak: [],
                                trun: [],
                                trex: [],
                                tkhd: [],
                                vmhd: []
                            }, "undefined" != typeof Uint8Array) {
                            for (e in S) S.hasOwnProperty(e) && (S[e] = [e.charCodeAt(0), e.charCodeAt(1), e.charCodeAt(2), e.charCodeAt(3)]);
                            E = new Uint8Array(["i".charCodeAt(0), "s".charCodeAt(0), "o".charCodeAt(0), "m".charCodeAt(0)]), C = new Uint8Array(["a".charCodeAt(0), "v".charCodeAt(0), "c".charCodeAt(0), "1".charCodeAt(0)]), w = new Uint8Array([0, 0, 0, 1]), k = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 86, 105, 100, 101, 111, 72, 97, 110, 100, 108, 101, 114, 0]), P = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0]), A = {
                                video: k,
                                audio: P
                            }, O = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1]), L = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]), D = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]), R = D, x = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]), M = D, I = new Uint8Array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0])
                        }
                    }(), e = function(e) {
                        var t, i, n = [],
                            r = 0;
                        for (t = 1; t < arguments.length; t++) n.push(arguments[t]);
                        for (t = n.length; t--;) r += n[t].byteLength;
                        for (i = new Uint8Array(r + 8), new DataView(i.buffer, i.byteOffset, i.byteLength).setUint32(0, i.byteLength), i.set(e, 4), t = 0, r = 8; t < n.length; t++) i.set(n[t], r), r += n[t].byteLength;
                        return i
                    }, t = function() {
                        return e(S.dinf, e(S.dref, O))
                    }, n = function(t) {
                        return e(S.esds, new Uint8Array([0, 0, 0, 0, 3, 25, 0, 0, 0, 4, 17, 64, 21, 0, 6, 0, 0, 0, 218, 192, 0, 0, 218, 192, 5, 2, t.audioobjecttype << 3 | t.samplingfrequencyindex >>> 1, t.samplingfrequencyindex << 7 | t.channelcount << 3, 6, 1, 2]))
                    }, m = function(t) {
                        return e(S.hdlr, A[t])
                    }, f = function(t) {
                        var i = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 3, 0, 1, 95, 144, t.duration >>> 24 & 255, t.duration >>> 16 & 255, t.duration >>> 8 & 255, 255 & t.duration, 85, 196, 0, 0]);
                        return t.samplerate && (i[12] = t.samplerate >>> 24 & 255, i[13] = t.samplerate >>> 16 & 255, i[14] = t.samplerate >>> 8 & 255, i[15] = 255 & t.samplerate), e(S.mdhd, i)
                    }, p = function(t) {
                        return e(S.mdia, f(t), m(t.type), o(t))
                    }, a = function(t) {
                        return e(S.mfhd, new Uint8Array([0, 0, 0, 0, (4278190080 & t) >> 24, (16711680 & t) >> 16, (65280 & t) >> 8, 255 & t]))
                    }, o = function(i) {
                        return e(S.minf, "video" === i.type ? e(S.vmhd, I) : e(S.smhd, L), t(), y(i))
                    }, s = function(t, i) {
                        for (var n = [], r = i.length; r--;) n[r] = b(i[r]);
                        return e.apply(null, [S.moof, a(t)].concat(n))
                    }, l = function(t) {
                        for (var i = t.length, n = []; i--;) n[i] = d(t[i]);
                        return e.apply(null, [S.moov, u(4294967295)].concat(n).concat(c(t)))
                    }, c = function(t) {
                        for (var i = t.length, n = []; i--;) n[i] = _(t[i]);
                        return e.apply(null, [S.mvex].concat(n))
                    }, u = function(t) {
                        var i = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 2, 0, 1, 95, 144, (4278190080 & t) >> 24, (16711680 & t) >> 16, (65280 & t) >> 8, 255 & t, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255]);
                        return e(S.mvhd, i)
                    }, g = function(t) {
                        var i, n, r = t.samples || [],
                            a = new Uint8Array(4 + r.length);
                        for (n = 0; n < r.length; n++) a[n + 4] = (i = r[n].flags).dependsOn << 4 | i.isDependedOn << 2 | i.hasRedundancy;
                        return e(S.sdtp, a)
                    }, y = function(t) {
                        return e(S.stbl, v(t), e(S.stts, M), e(S.stsc, R), e(S.stsz, x), e(S.stco, D))
                    }, v = function(t) {
                        return e(S.stsd, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1]), "video" === t.type ? U(t) : N(t))
                    }, U = function(t) {
                        var i, n = t.sps || [],
                            r = t.pps || [],
                            a = [],
                            o = [];
                        for (i = 0; i < n.length; i++) a.push((65280 & n[i].byteLength) >>> 8), a.push(255 & n[i].byteLength), a = a.concat(Array.prototype.slice.call(n[i]));
                        for (i = 0; i < r.length; i++) o.push((65280 & r[i].byteLength) >>> 8), o.push(255 & r[i].byteLength), o = o.concat(Array.prototype.slice.call(r[i]));
                        return e(S.avc1, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, (65280 & t.width) >> 8, 255 & t.width, (65280 & t.height) >> 8, 255 & t.height, 0, 72, 0, 0, 0, 72, 0, 0, 0, 0, 0, 0, 0, 1, 19, 118, 105, 100, 101, 111, 106, 115, 45, 99, 111, 110, 116, 114, 105, 98, 45, 104, 108, 115, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 24, 17, 17]), e(S.avcC, new Uint8Array([1, t.profileIdc, t.profileCompatibility, t.levelIdc, 255].concat([n.length]).concat(a).concat([r.length]).concat(o))), e(S.btrt, new Uint8Array([0, 28, 156, 128, 0, 45, 198, 192, 0, 45, 198, 192])))
                    }, N = function(t) {
                        return e(S.mp4a, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, (65280 & t.channelcount) >> 8, 255 & t.channelcount, (65280 & t.samplesize) >> 8, 255 & t.samplesize, 0, 0, 0, 0, (65280 & t.samplerate) >> 8, 255 & t.samplerate, 0, 0]), n(t))
                    }, h = function(t) {
                        var i = new Uint8Array([0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 0, (4278190080 & t.id) >> 24, (16711680 & t.id) >> 16, (65280 & t.id) >> 8, 255 & t.id, 0, 0, 0, 0, (4278190080 & t.duration) >> 24, (16711680 & t.duration) >> 16, (65280 & t.duration) >> 8, 255 & t.duration, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, (65280 & t.width) >> 8, 255 & t.width, 0, 0, (65280 & t.height) >> 8, 255 & t.height, 0, 0]);
                        return e(S.tkhd, i)
                    }, b = function(t) {
                        var i, n, r, a, o, s;
                        return i = e(S.tfhd, new Uint8Array([0, 0, 0, 58, (4278190080 & t.id) >> 24, (16711680 & t.id) >> 16, (65280 & t.id) >> 8, 255 & t.id, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])), o = Math.floor(t.baseMediaDecodeTime / (j + 1)), s = Math.floor(t.baseMediaDecodeTime % (j + 1)), n = e(S.tfdt, new Uint8Array([1, 0, 0, 0, o >>> 24 & 255, o >>> 16 & 255, o >>> 8 & 255, 255 & o, s >>> 24 & 255, s >>> 16 & 255, s >>> 8 & 255, 255 & s])), "audio" === t.type ? (r = T(t, 92), e(S.traf, i, n, r)) : (a = g(t), r = T(t, a.length + 92), e(S.traf, i, n, r, a))
                    }, d = function(t) {
                        return t.duration = t.duration || 4294967295, e(S.trak, h(t), p(t))
                    }, _ = function(t) {
                        var i = new Uint8Array([0, 0, 0, 0, (4278190080 & t.id) >> 24, (16711680 & t.id) >> 16, (65280 & t.id) >> 8, 255 & t.id, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1]);
                        return "video" !== t.type && (i[i.length - 1] = 0), e(S.trex, i)
                    }, V = function(e, t) {
                        var i = 0,
                            n = 0,
                            r = 0,
                            a = 0;
                        return e.length && (void 0 !== e[0].duration && (i = 1), void 0 !== e[0].size && (n = 2), void 0 !== e[0].flags && (r = 4), void 0 !== e[0].compositionTimeOffset && (a = 8)), [0, 0, i | n | r | a, 1, (4278190080 & e.length) >>> 24, (16711680 & e.length) >>> 16, (65280 & e.length) >>> 8, 255 & e.length, (4278190080 & t) >>> 24, (16711680 & t) >>> 16, (65280 & t) >>> 8, 255 & t]
                    }, B = function(t, i) {
                        var n, r, a, o;
                        for (i += 20 + 16 * (r = t.samples || []).length, n = V(r, i), o = 0; o < r.length; o++) n = n.concat([(4278190080 & (a = r[o]).duration) >>> 24, (16711680 & a.duration) >>> 16, (65280 & a.duration) >>> 8, 255 & a.duration, (4278190080 & a.size) >>> 24, (16711680 & a.size) >>> 16, (65280 & a.size) >>> 8, 255 & a.size, a.flags.isLeading << 2 | a.flags.dependsOn, a.flags.isDependedOn << 6 | a.flags.hasRedundancy << 4 | a.flags.paddingValue << 1 | a.flags.isNonSyncSample, 61440 & a.flags.degradationPriority, 15 & a.flags.degradationPriority, (4278190080 & a.compositionTimeOffset) >>> 24, (16711680 & a.compositionTimeOffset) >>> 16, (65280 & a.compositionTimeOffset) >>> 8, 255 & a.compositionTimeOffset]);
                        return e(S.trun, new Uint8Array(n))
                    }, F = function(t, i) {
                        var n, r, a, o;
                        for (i += 20 + 8 * (r = t.samples || []).length, n = V(r, i), o = 0; o < r.length; o++) n = n.concat([(4278190080 & (a = r[o]).duration) >>> 24, (16711680 & a.duration) >>> 16, (65280 & a.duration) >>> 8, 255 & a.duration, (4278190080 & a.size) >>> 24, (16711680 & a.size) >>> 16, (65280 & a.size) >>> 8, 255 & a.size]);
                        return e(S.trun, new Uint8Array(n))
                    }, T = function(e, t) {
                        return "audio" === e.type ? F(e, t) : B(e, t)
                    };
                    var z, q, H = {
                            ftyp: r = function() {
                                return e(S.ftyp, E, w, E, C)
                            },
                            mdat: function(t) {
                                return e(S.mdat, t)
                            },
                            moof: s,
                            moov: l,
                            initSegment: function(e) {
                                var t, i = r(),
                                    n = l(e);
                                return (t = new Uint8Array(i.byteLength + n.byteLength)).set(i), t.set(n, i.byteLength), t
                            }
                        },
                        G = function(e) {
                            return e >>> 0
                        },
                        W = {
                            findBox: z = function(e, t) {
                                var i, n, r, a, o, s = [];
                                if (!t.length) return null;
                                for (i = 0; i < e.byteLength;) n = G(e[i] << 24 | e[i + 1] << 16 | e[i + 2] << 8 | e[i + 3]), r = q(e.subarray(i + 4, i + 8)), a = n > 1 ? i + n : e.byteLength, r === t[0] && (1 === t.length ? s.push(e.subarray(i + 8, a)) : (o = z(e.subarray(i + 8, a), t.slice(1))).length && (s = s.concat(o))), i = a;
                                return s
                            },
                            parseType: q = function(e) {
                                var t = "";
                                return t += String.fromCharCode(e[0]), t += String.fromCharCode(e[1]), (t += String.fromCharCode(e[2])) + String.fromCharCode(e[3])
                            },
                            timescale: function(e) {
                                return z(e, ["moov", "trak"]).reduce(function(e, t) {
                                    var i, n, r, a;
                                    return (i = z(t, ["tkhd"])[0]) ? (r = G(i[n = 0 === i[0] ? 12 : 20] << 24 | i[n + 1] << 16 | i[n + 2] << 8 | i[n + 3]), (a = z(t, ["mdia", "mdhd"])[0]) ? (e[r] = G(a[n = 0 === a[0] ? 12 : 20] << 24 | a[n + 1] << 16 | a[n + 2] << 8 | a[n + 3]), e) : null) : null
                                }, {})
                            },
                            startTime: function(e, t) {
                                var i, n, r;
                                return i = z(t, ["moof", "traf"]), n = [].concat.apply([], i.map(function(t) {
                                    return z(t, ["tfhd"]).map(function(i) {
                                        var n, r;
                                        return n = G(i[4] << 24 | i[5] << 16 | i[6] << 8 | i[7]), r = e[n] || 9e4, (z(t, ["tfdt"]).map(function(e) {
                                            var t, i;
                                            return t = e[0], i = G(e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7]), 1 === t && (i *= Math.pow(2, 32), i += G(e[8] << 24 | e[9] << 16 | e[10] << 8 | e[11])), i
                                        })[0] || 1 / 0) / r
                                    })
                                })), r = Math.min.apply(null, n), isFinite(r) ? r : 0
                            },
                            videoTrackIds: function(e) {
                                var t = [];
                                return z(e, ["moov", "trak"]).forEach(function(e) {
                                    var i = z(e, ["mdia", "hdlr"]),
                                        n = z(e, ["tkhd"]);
                                    i.forEach(function(e, i) {
                                        var r, a, o = q(e.subarray(8, 12)),
                                            s = n[i];
                                        "vide" === o && (a = 0 === (r = new DataView(s.buffer, s.byteOffset, s.byteLength)).getUint8(0) ? r.getUint32(12) : r.getUint32(20), t.push(a))
                                    })
                                }), t
                            }
                        },
                        Y = function() {
                            this.init = function() {
                                var e = {};
                                this.on = function(t, i) {
                                    e[t] || (e[t] = []), e[t] = e[t].concat(i)
                                }, this.off = function(t, i) {
                                    var n;
                                    return !!e[t] && (n = e[t].indexOf(i), e[t] = e[t].slice(), e[t].splice(n, 1), n > -1)
                                }, this.trigger = function(t) {
                                    var i, n, r, a;
                                    if (i = e[t])
                                        if (2 === arguments.length)
                                            for (r = i.length, n = 0; n < r; ++n) i[n].call(this, arguments[1]);
                                        else {
                                            for (a = [], n = arguments.length, n = 1; n < arguments.length; ++n) a.push(arguments[n]);
                                            for (r = i.length, n = 0; n < r; ++n) i[n].apply(this, a)
                                        }
                                }, this.dispose = function() {
                                    e = {}
                                }
                            }
                        };
                    Y.prototype.pipe = function(e) {
                        return this.on("data", function(t) {
                            e.push(t)
                        }), this.on("done", function(t) {
                            e.flush(t)
                        }), e
                    }, Y.prototype.push = function(e) {
                        this.trigger("data", e)
                    }, Y.prototype.flush = function(e) {
                        this.trigger("done", e)
                    };
                    var K, X, J, $, Q, Z = Y,
                        ee = function(e, t) {
                            var i = {
                                size: 0,
                                flags: {
                                    isLeading: 0,
                                    dependsOn: 1,
                                    isDependedOn: 0,
                                    hasRedundancy: 0,
                                    degradationPriority: 0,
                                    isNonSyncSample: 1
                                }
                            };
                            return i.dataOffset = t, i.compositionTimeOffset = e.pts - e.dts, i.duration = e.duration, i.size = 4 * e.length, i.size += e.byteLength, e.keyFrame && (i.flags.dependsOn = 2, i.flags.isNonSyncSample = 0), i
                        },
                        te = [33, 16, 5, 32, 164, 27],
                        ie = [33, 65, 108, 84, 1, 2, 4, 8, 168, 2, 4, 8, 17, 191, 252],
                        ne = function(e) {
                            for (var t = []; e--;) t.push(0);
                            return t
                        },
                        re = {
                            96000: [te, [227, 64], ne(154), [56]],
                            88200: [te, [231], ne(170), [56]],
                            64000: [te, [248, 192], ne(240), [56]],
                            48000: [te, [255, 192], ne(268), [55, 148, 128], ne(54), [112]],
                            44100: [te, [255, 192], ne(268), [55, 163, 128], ne(84), [112]],
                            32000: [te, [255, 192], ne(268), [55, 234], ne(226), [112]],
                            24000: [te, [255, 192], ne(268), [55, 255, 128], ne(268), [111, 112], ne(126), [224]],
                            16000: [te, [255, 192], ne(268), [55, 255, 128], ne(268), [111, 255], ne(269), [223, 108], ne(195), [1, 192]],
                            12000: [ie, ne(268), [3, 127, 248], ne(268), [6, 255, 240], ne(268), [13, 255, 224], ne(268), [27, 253, 128], ne(259), [56]],
                            11025: [ie, ne(268), [3, 127, 248], ne(268), [6, 255, 240], ne(268), [13, 255, 224], ne(268), [27, 255, 192], ne(268), [55, 175, 128], ne(108), [112]],
                            8000: [ie, ne(268), [3, 121, 16], ne(47), [7]]
                        },
                        ae = (K = re, Object.keys(K).reduce(function(e, t) {
                            return e[t] = new Uint8Array(K[t].reduce(function(e, t) {
                                return e.concat(t)
                            }, [])), e
                        }, {})),
                        oe = (X = function(e) {
                            return 9e4 * e
                        }, J = function(e, t) {
                            return e * t
                        }, $ = function(e) {
                            return e / 9e4
                        }, Q = function(e, t) {
                            return e / t
                        }, function(e, t) {
                            return X(Q(e, t))
                        }),
                        se = function(e) {
                            delete e.minSegmentDts, delete e.maxSegmentDts, delete e.minSegmentPts, delete e.maxSegmentPts
                        },
                        le = function(e, t) {
                            var i, n = e.minSegmentDts;
                            return t || (n -= e.timelineStartInfo.dts), i = e.timelineStartInfo.baseMediaDecodeTime, i += n, i = Math.max(0, i), "audio" === e.type && (i *= e.samplerate / 9e4, i = Math.floor(i)), i
                        },
                        ce = function(e, t) {
                            "number" == typeof t.pts && (void 0 === e.timelineStartInfo.pts && (e.timelineStartInfo.pts = t.pts), e.minSegmentPts = void 0 === e.minSegmentPts ? t.pts : Math.min(e.minSegmentPts, t.pts), e.maxSegmentPts = void 0 === e.maxSegmentPts ? t.pts : Math.max(e.maxSegmentPts, t.pts)), "number" == typeof t.dts && (void 0 === e.timelineStartInfo.dts && (e.timelineStartInfo.dts = t.dts), e.minSegmentDts = void 0 === e.minSegmentDts ? t.dts : Math.min(e.minSegmentDts, t.dts), e.maxSegmentDts = void 0 === e.maxSegmentDts ? t.dts : Math.max(e.maxSegmentDts, t.dts))
                        },
                        ue = function e() {
                            e.prototype.init.call(this), this.captionPackets_ = [], this.ccStreams_ = [new me(0, 0), new me(0, 1), new me(1, 0), new me(1, 1)], this.reset(), this.ccStreams_.forEach(function(e) {
                                e.on("data", this.trigger.bind(this, "data")), e.on("done", this.trigger.bind(this, "done"))
                            }, this)
                        };
                    (ue.prototype = new Z).push = function(e) {
                        var t, i, n;
                        if ("sei_rbsp" === e.nalUnitType && 4 === (t = function(e) {
                                for (var t = 0, i = {
                                        payloadType: -1,
                                        payloadSize: 0
                                    }, n = 0, r = 0; t < e.byteLength && 128 !== e[t];) {
                                    for (; 255 === e[t];) n += 255, t++;
                                    for (n += e[t++]; 255 === e[t];) r += 255, t++;
                                    if (r += e[t++], !i.payload && 4 === n) {
                                        i.payloadType = n, i.payloadSize = r, i.payload = e.subarray(t, t + r);
                                        break
                                    }
                                    t += r, n = 0, r = 0
                                }
                                return i
                            }(e.escapedRBSP)).payloadType && (i = function(e) {
                                return 181 !== e.payload[0] ? null : 49 != (e.payload[1] << 8 | e.payload[2]) ? null : "GA94" !== String.fromCharCode(e.payload[3], e.payload[4], e.payload[5], e.payload[6]) ? null : 3 !== e.payload[7] ? null : e.payload.subarray(8, e.payload.length - 1)
                            }(t)))
                            if (e.dts < this.latestDts_) this.ignoreNextEqualDts_ = !0;
                            else {
                                if (e.dts === this.latestDts_ && this.ignoreNextEqualDts_) return this.numSameDts_--, void(this.numSameDts_ || (this.ignoreNextEqualDts_ = !1));
                                n = function(e, t) {
                                    var i, n, r, a, o = [];
                                    if (!(64 & t[0])) return o;
                                    for (n = 31 & t[0], i = 0; i < n; i++) a = {
                                        type: 3 & t[2 + (r = 3 * i)],
                                        pts: e
                                    }, 4 & t[r + 2] && (a.ccData = t[r + 3] << 8 | t[r + 4], o.push(a));
                                    return o
                                }(e.pts, i), this.captionPackets_ = this.captionPackets_.concat(n), this.latestDts_ !== e.dts && (this.numSameDts_ = 0), this.numSameDts_++, this.latestDts_ = e.dts
                            }
                    }, ue.prototype.flush = function() {
                        this.captionPackets_.length ? (this.captionPackets_.forEach(function(e, t) {
                            e.presortIndex = t
                        }), this.captionPackets_.sort(function(e, t) {
                            return e.pts === t.pts ? e.presortIndex - t.presortIndex : e.pts - t.pts
                        }), this.captionPackets_.forEach(function(e) {
                            e.type < 2 && this.dispatchCea608Packet(e)
                        }, this), this.captionPackets_.length = 0, this.ccStreams_.forEach(function(e) {
                            e.flush()
                        }, this)) : this.ccStreams_.forEach(function(e) {
                            e.flush()
                        }, this)
                    }, ue.prototype.reset = function() {
                        this.latestDts_ = null, this.ignoreNextEqualDts_ = !1, this.numSameDts_ = 0, this.activeCea608Channel_ = [null, null], this.ccStreams_.forEach(function(e) {
                            e.reset()
                        })
                    }, ue.prototype.dispatchCea608Packet = function(e) {
                        this.setsChannel1Active(e) ? this.activeCea608Channel_[e.type] = 0 : this.setsChannel2Active(e) && (this.activeCea608Channel_[e.type] = 1), null !== this.activeCea608Channel_[e.type] && this.ccStreams_[(e.type << 1) + this.activeCea608Channel_[e.type]].push(e)
                    }, ue.prototype.setsChannel1Active = function(e) {
                        return 4096 == (30720 & e.ccData)
                    }, ue.prototype.setsChannel2Active = function(e) {
                        return 6144 == (30720 & e.ccData)
                    };
                    var de = {
                            42: 225,
                            92: 233,
                            94: 237,
                            95: 243,
                            96: 250,
                            123: 231,
                            124: 247,
                            125: 209,
                            126: 241,
                            127: 9608,
                            304: 174,
                            305: 176,
                            306: 189,
                            307: 191,
                            308: 8482,
                            309: 162,
                            310: 163,
                            311: 9834,
                            312: 224,
                            313: 160,
                            314: 232,
                            315: 226,
                            316: 234,
                            317: 238,
                            318: 244,
                            319: 251,
                            544: 193,
                            545: 201,
                            546: 211,
                            547: 218,
                            548: 220,
                            549: 252,
                            550: 8216,
                            551: 161,
                            552: 42,
                            553: 39,
                            554: 8212,
                            555: 169,
                            556: 8480,
                            557: 8226,
                            558: 8220,
                            559: 8221,
                            560: 192,
                            561: 194,
                            562: 199,
                            563: 200,
                            564: 202,
                            565: 203,
                            566: 235,
                            567: 206,
                            568: 207,
                            569: 239,
                            570: 212,
                            571: 217,
                            572: 249,
                            573: 219,
                            574: 171,
                            575: 187,
                            800: 195,
                            801: 227,
                            802: 205,
                            803: 204,
                            804: 236,
                            805: 210,
                            806: 242,
                            807: 213,
                            808: 245,
                            809: 123,
                            810: 125,
                            811: 92,
                            812: 94,
                            813: 95,
                            814: 124,
                            815: 126,
                            816: 196,
                            817: 228,
                            818: 214,
                            819: 246,
                            820: 223,
                            821: 165,
                            822: 164,
                            823: 9474,
                            824: 197,
                            825: 229,
                            826: 216,
                            827: 248,
                            828: 9484,
                            829: 9488,
                            830: 9492,
                            831: 9496
                        },
                        he = function(e) {
                            return null === e ? "" : (e = de[e] || e, String.fromCharCode(e))
                        },
                        pe = [4352, 4384, 4608, 4640, 5376, 5408, 5632, 5664, 5888, 5920, 4096, 4864, 4896, 5120, 5152],
                        fe = function() {
                            for (var e = [], t = 15; t--;) e.push("");
                            return e
                        },
                        me = function e(t, i) {
                            e.prototype.init.call(this), this.field_ = t || 0, this.dataChannel_ = i || 0, this.name_ = "CC" + (1 + (this.field_ << 1 | this.dataChannel_)), this.setConstants(), this.reset(), this.push = function(e) {
                                var t, i, n, r, a;
                                if ((t = 32639 & e.ccData) !== this.lastControlCode_) {
                                    if (4096 == (61440 & t) ? this.lastControlCode_ = t : t !== this.PADDING_ && (this.lastControlCode_ = null), n = t >>> 8, r = 255 & t, t !== this.PADDING_)
                                        if (t === this.RESUME_CAPTION_LOADING_) this.mode_ = "popOn";
                                        else if (t === this.END_OF_CAPTION_) this.mode_ = "popOn", this.clearFormatting(e.pts), this.flushDisplayed(e.pts), i = this.displayed_, this.displayed_ = this.nonDisplayed_, this.nonDisplayed_ = i, this.startPts_ = e.pts;
                                    else if (t === this.ROLL_UP_2_ROWS_) this.rollUpRows_ = 2, this.setRollUp(e.pts);
                                    else if (t === this.ROLL_UP_3_ROWS_) this.rollUpRows_ = 3, this.setRollUp(e.pts);
                                    else if (t === this.ROLL_UP_4_ROWS_) this.rollUpRows_ = 4, this.setRollUp(e.pts);
                                    else if (t === this.CARRIAGE_RETURN_) this.clearFormatting(e.pts), this.flushDisplayed(e.pts), this.shiftRowsUp_(), this.startPts_ = e.pts;
                                    else if (t === this.BACKSPACE_) "popOn" === this.mode_ ? this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1) : this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1);
                                    else if (t === this.ERASE_DISPLAYED_MEMORY_) this.flushDisplayed(e.pts), this.displayed_ = fe();
                                    else if (t === this.ERASE_NON_DISPLAYED_MEMORY_) this.nonDisplayed_ = fe();
                                    else if (t === this.RESUME_DIRECT_CAPTIONING_) "paintOn" !== this.mode_ && (this.flushDisplayed(e.pts), this.displayed_ = fe()), this.mode_ = "paintOn", this.startPts_ = e.pts;
                                    else if (this.isSpecialCharacter(n, r)) a = he((n = (3 & n) << 8) | r), this[this.mode_](e.pts, a), this.column_++;
                                    else if (this.isExtCharacter(n, r)) "popOn" === this.mode_ ? this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1) : this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1), a = he((n = (3 & n) << 8) | r), this[this.mode_](e.pts, a), this.column_++;
                                    else if (this.isMidRowCode(n, r)) this.clearFormatting(e.pts), this[this.mode_](e.pts, " "), this.column_++, 14 == (14 & r) && this.addFormatting(e.pts, ["i"]), 1 == (1 & r) && this.addFormatting(e.pts, ["u"]);
                                    else if (this.isOffsetControlCode(n, r)) this.column_ += 3 & r;
                                    else if (this.isPAC(n, r)) {
                                        var o = pe.indexOf(7968 & t);
                                        "rollUp" === this.mode_ && (o - this.rollUpRows_ + 1 < 0 && (o = this.rollUpRows_ - 1), this.setRollUp(e.pts, o)), o !== this.row_ && (this.clearFormatting(e.pts), this.row_ = o), 1 & r && -1 === this.formatting_.indexOf("u") && this.addFormatting(e.pts, ["u"]), 16 == (16 & t) && (this.column_ = 4 * ((14 & t) >> 1)), this.isColorPAC(r) && 14 == (14 & r) && this.addFormatting(e.pts, ["i"])
                                    } else this.isNormalChar(n) && (0 === r && (r = null), a = he(n), a += he(r), this[this.mode_](e.pts, a), this.column_ += a.length)
                                } else this.lastControlCode_ = null
                            }
                        };
                    me.prototype = new Z, me.prototype.flushDisplayed = function(e) {
                        var t = this.displayed_.map(function(e) {
                            try {
                                return e.trim()
                            } catch (e) {
                                return console.error("Skipping malformed caption."), ""
                            }
                        }).join("\n").replace(/^\n+|\n+$/g, "");
                        t.length && this.trigger("data", {
                            startPts: this.startPts_,
                            endPts: e,
                            text: t,
                            stream: this.name_
                        })
                    }, me.prototype.reset = function() {
                        this.mode_ = "popOn", this.topRow_ = 0, this.startPts_ = 0, this.displayed_ = fe(), this.nonDisplayed_ = fe(), this.lastControlCode_ = null, this.column_ = 0, this.row_ = 14, this.rollUpRows_ = 2, this.formatting_ = []
                    }, me.prototype.setConstants = function() {
                        0 === this.dataChannel_ ? (this.BASE_ = 16, this.EXT_ = 17, this.CONTROL_ = (20 | this.field_) << 8, this.OFFSET_ = 23) : 1 === this.dataChannel_ && (this.BASE_ = 24, this.EXT_ = 25, this.CONTROL_ = (28 | this.field_) << 8, this.OFFSET_ = 31), this.PADDING_ = 0, this.RESUME_CAPTION_LOADING_ = 32 | this.CONTROL_, this.END_OF_CAPTION_ = 47 | this.CONTROL_, this.ROLL_UP_2_ROWS_ = 37 | this.CONTROL_, this.ROLL_UP_3_ROWS_ = 38 | this.CONTROL_, this.ROLL_UP_4_ROWS_ = 39 | this.CONTROL_, this.CARRIAGE_RETURN_ = 45 | this.CONTROL_, this.RESUME_DIRECT_CAPTIONING_ = 41 | this.CONTROL_, this.BACKSPACE_ = 33 | this.CONTROL_, this.ERASE_DISPLAYED_MEMORY_ = 44 | this.CONTROL_, this.ERASE_NON_DISPLAYED_MEMORY_ = 46 | this.CONTROL_
                    }, me.prototype.isSpecialCharacter = function(e, t) {
                        return e === this.EXT_ && t >= 48 && t <= 63
                    }, me.prototype.isExtCharacter = function(e, t) {
                        return (e === this.EXT_ + 1 || e === this.EXT_ + 2) && t >= 32 && t <= 63
                    }, me.prototype.isMidRowCode = function(e, t) {
                        return e === this.EXT_ && t >= 32 && t <= 47
                    }, me.prototype.isOffsetControlCode = function(e, t) {
                        return e === this.OFFSET_ && t >= 33 && t <= 35
                    }, me.prototype.isPAC = function(e, t) {
                        return e >= this.BASE_ && e < this.BASE_ + 8 && t >= 64 && t <= 127
                    }, me.prototype.isColorPAC = function(e) {
                        return e >= 64 && e <= 79 || e >= 96 && e <= 127
                    }, me.prototype.isNormalChar = function(e) {
                        return e >= 32 && e <= 127
                    }, me.prototype.setRollUp = function(e, t) {
                        if ("rollUp" !== this.mode_ && (this.row_ = 14, this.mode_ = "rollUp", this.flushDisplayed(e), this.nonDisplayed_ = fe(), this.displayed_ = fe()), void 0 !== t && t !== this.row_)
                            for (var i = 0; i < this.rollUpRows_; i++) this.displayed_[t - i] = this.displayed_[this.row_ - i], this.displayed_[this.row_ - i] = "";
                        void 0 === t && (t = this.row_), this.topRow_ = t - this.rollUpRows_ + 1
                    }, me.prototype.addFormatting = function(e, t) {
                        this.formatting_ = this.formatting_.concat(t);
                        var i = t.reduce(function(e, t) {
                            return e + "<" + t + ">"
                        }, "");
                        this[this.mode_](e, i)
                    }, me.prototype.clearFormatting = function(e) {
                        if (this.formatting_.length) {
                            var t = this.formatting_.reverse().reduce(function(e, t) {
                                return e + "</" + t + ">"
                            }, "");
                            this.formatting_ = [], this[this.mode_](e, t)
                        }
                    }, me.prototype.popOn = function(e, t) {
                        var i = this.nonDisplayed_[this.row_];
                        this.nonDisplayed_[this.row_] = i += t
                    }, me.prototype.rollUp = function(e, t) {
                        var i = this.displayed_[this.row_];
                        this.displayed_[this.row_] = i += t
                    }, me.prototype.shiftRowsUp_ = function() {
                        var e;
                        for (e = 0; e < this.topRow_; e++) this.displayed_[e] = "";
                        for (e = this.row_ + 1; e < 15; e++) this.displayed_[e] = "";
                        for (e = this.topRow_; e < this.row_; e++) this.displayed_[e] = this.displayed_[e + 1];
                        this.displayed_[this.row_] = ""
                    }, me.prototype.paintOn = function(e, t) {
                        var i = this.displayed_[this.row_];
                        this.displayed_[this.row_] = i += t
                    };
                    var ge = {
                            CaptionStream: ue,
                            Cea608Stream: me
                        },
                        ye = {
                            H264_STREAM_TYPE: 27,
                            ADTS_STREAM_TYPE: 15,
                            METADATA_STREAM_TYPE: 21
                        },
                        ve = function(e, t) {
                            var i = 1;
                            for (e > t && (i = -1); Math.abs(t - e) > 4294967296;) e += 8589934592 * i;
                            return e
                        },
                        be = function e(t) {
                            var i, n;
                            e.prototype.init.call(this), this.type_ = t, this.push = function(e) {
                                e.type === this.type_ && (void 0 === n && (n = e.dts), e.dts = ve(e.dts, n), e.pts = ve(e.pts, n), i = e.dts, this.trigger("data", e))
                            }, this.flush = function() {
                                n = i, this.trigger("done")
                            }, this.discontinuity = function() {
                                n = void 0, i = void 0
                            }
                        };
                    be.prototype = new Z;
                    var _e, Te = be,
                        Se = function(e, t, i) {
                            var n, r = "";
                            for (n = t; n < i; n++) r += "%" + ("00" + e[n].toString(16)).slice(-2);
                            return r
                        },
                        Ee = function(e, t, i) {
                            return decodeURIComponent(Se(e, t, i))
                        },
                        we = function(e) {
                            return e[0] << 21 | e[1] << 14 | e[2] << 7 | e[3]
                        },
                        Ce = {
                            TXXX: function(e) {
                                var t;
                                if (3 === e.data[0]) {
                                    for (t = 1; t < e.data.length; t++)
                                        if (0 === e.data[t]) {
                                            e.description = Ee(e.data, 1, t), e.value = Ee(e.data, t + 1, e.data.length).replace(/\0*$/, "");
                                            break
                                        } e.data = e.value
                                }
                            },
                            WXXX: function(e) {
                                var t;
                                if (3 === e.data[0])
                                    for (t = 1; t < e.data.length; t++)
                                        if (0 === e.data[t]) {
                                            e.description = Ee(e.data, 1, t), e.url = Ee(e.data, t + 1, e.data.length);
                                            break
                                        }
                            },
                            PRIV: function(e) {
                                var t;
                                for (t = 0; t < e.data.length; t++)
                                    if (0 === e.data[t]) {
                                        e.owner = unescape(Se(e.data, 0, t));
                                        break
                                    } e.privateData = e.data.subarray(t + 1), e.data = e.privateData
                            }
                        };
                    (_e = function(e) {
                        var t, i = {
                                debug: !(!e || !e.debug),
                                descriptor: e && e.descriptor
                            },
                            n = 0,
                            r = [],
                            a = 0;
                        if (_e.prototype.init.call(this), this.dispatchType = ye.METADATA_STREAM_TYPE.toString(16), i.descriptor)
                            for (t = 0; t < i.descriptor.length; t++) this.dispatchType += ("00" + i.descriptor[t].toString(16)).slice(-2);
                        this.push = function(e) {
                            var t, o, s, l, c;
                            if ("timed-metadata" === e.type)
                                if (e.dataAlignmentIndicator && (a = 0, r.length = 0), 0 === r.length && (e.data.length < 10 || e.data[0] !== "I".charCodeAt(0) || e.data[1] !== "D".charCodeAt(0) || e.data[2] !== "3".charCodeAt(0))) i.debug && console.log("Skipping unrecognized metadata packet");
                                else if (r.push(e), a += e.data.byteLength, 1 === r.length && (n = we(e.data.subarray(6, 10)), n += 10), !(a < n)) {
                                for (t = {
                                        data: new Uint8Array(n),
                                        frames: [],
                                        pts: r[0].pts,
                                        dts: r[0].dts
                                    }, c = 0; c < n;) t.data.set(r[0].data.subarray(0, n - c), c), c += r[0].data.byteLength, a -= r[0].data.byteLength, r.shift();
                                o = 10, 64 & t.data[5] && (o += 4, o += we(t.data.subarray(10, 14)), n -= we(t.data.subarray(16, 20)));
                                do {
                                    if ((s = we(t.data.subarray(o + 4, o + 8))) < 1) return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");
                                    if ((l = {
                                            id: String.fromCharCode(t.data[o], t.data[o + 1], t.data[o + 2], t.data[o + 3]),
                                            data: t.data.subarray(o + 10, o + s + 10)
                                        }).key = l.id, Ce[l.id] && (Ce[l.id](l), "com.apple.streaming.transportStreamTimestamp" === l.owner)) {
                                        var u = l.data,
                                            d = (1 & u[3]) << 30 | u[4] << 22 | u[5] << 14 | u[6] << 6 | u[7] >>> 2;
                                        d *= 4, l.timeStamp = d += 3 & u[7], void 0 === t.pts && void 0 === t.dts && (t.pts = l.timeStamp, t.dts = l.timeStamp), this.trigger("timestamp", l)
                                    }
                                    t.frames.push(l), o += 10, o += s
                                } while (o < n);
                                this.trigger("data", t)
                            }
                        }
                    }).prototype = new Z;
                    var ke, Pe, Ae, Ie = _e,
                        Le = Te;
                    (ke = function() {
                        var e = new Uint8Array(188),
                            t = 0;
                        ke.prototype.init.call(this), this.push = function(i) {
                            var n, r = 0,
                                a = 188;
                            for (t ? ((n = new Uint8Array(i.byteLength + t)).set(e.subarray(0, t)), n.set(i, t), t = 0) : n = i; a < n.byteLength;) 71 !== n[r] || 71 !== n[a] ? (r++, a++) : (this.trigger("data", n.subarray(r, a)), r += 188, a += 188);
                            r < n.byteLength && (e.set(n.subarray(r), 0), t = n.byteLength - r)
                        }, this.flush = function() {
                            188 === t && 71 === e[0] && (this.trigger("data", e), t = 0), this.trigger("done")
                        }
                    }).prototype = new Z, (Pe = function() {
                        var e, t, i, n;
                        Pe.prototype.init.call(this), n = this, this.packetsWaitingForPmt = [], this.programMapTable = void 0, e = function(e, n) {
                            var r = 0;
                            n.payloadUnitStartIndicator && (r += e[r] + 1), "pat" === n.type ? t(e.subarray(r), n) : i(e.subarray(r), n)
                        }, t = function(e, t) {
                            t.section_number = e[7], t.last_section_number = e[8], n.pmtPid = (31 & e[10]) << 8 | e[11], t.pmtPid = n.pmtPid
                        }, i = function(e, t) {
                            var i, r;
                            if (1 & e[5]) {
                                for (n.programMapTable = {
                                        video: null,
                                        audio: null,
                                        "timed-metadata": {}
                                    }, i = 3 + ((15 & e[1]) << 8 | e[2]) - 4, r = 12 + ((15 & e[10]) << 8 | e[11]); r < i;) {
                                    var a = e[r],
                                        o = (31 & e[r + 1]) << 8 | e[r + 2];
                                    a === ye.H264_STREAM_TYPE && null === n.programMapTable.video ? n.programMapTable.video = o : a === ye.ADTS_STREAM_TYPE && null === n.programMapTable.audio ? n.programMapTable.audio = o : a === ye.METADATA_STREAM_TYPE && (n.programMapTable["timed-metadata"][o] = a), r += 5 + ((15 & e[r + 3]) << 8 | e[r + 4])
                                }
                                t.programMapTable = n.programMapTable
                            }
                        }, this.push = function(t) {
                            var i = {},
                                n = 4;
                            if (i.payloadUnitStartIndicator = !!(64 & t[1]), i.pid = 31 & t[1], i.pid <<= 8, i.pid |= t[2], (48 & t[3]) >>> 4 > 1 && (n += t[n] + 1), 0 === i.pid) i.type = "pat", e(t.subarray(n), i), this.trigger("data", i);
                            else if (i.pid === this.pmtPid)
                                for (i.type = "pmt", e(t.subarray(n), i), this.trigger("data", i); this.packetsWaitingForPmt.length;) this.processPes_.apply(this, this.packetsWaitingForPmt.shift());
                            else void 0 === this.programMapTable ? this.packetsWaitingForPmt.push([t, n, i]) : this.processPes_(t, n, i)
                        }, this.processPes_ = function(e, t, i) {
                            i.streamType = i.pid === this.programMapTable.video ? ye.H264_STREAM_TYPE : i.pid === this.programMapTable.audio ? ye.ADTS_STREAM_TYPE : this.programMapTable["timed-metadata"][i.pid], i.type = "pes", i.data = e.subarray(t), this.trigger("data", i)
                        }
                    }).prototype = new Z, Pe.STREAM_TYPES = {
                        h264: 27,
                        adts: 15
                    }, (Ae = function() {
                        var e = this,
                            t = {
                                data: [],
                                size: 0
                            },
                            i = {
                                data: [],
                                size: 0
                            },
                            n = {
                                data: [],
                                size: 0
                            },
                            r = function(t, i, n) {
                                var r, a, o = new Uint8Array(t.size),
                                    s = {
                                        type: i
                                    },
                                    l = 0,
                                    c = 0;
                                if (t.data.length && !(t.size < 9)) {
                                    for (s.trackId = t.data[0].pid, l = 0; l < t.data.length; l++) o.set((a = t.data[l]).data, c), c += a.data.byteLength;
                                    var u, d, h;
                                    (d = s).packetLength = 6 + ((u = o)[4] << 8 | u[5]), d.dataAlignmentIndicator = 0 != (4 & u[6]), 192 & (h = u[7]) && (d.pts = (14 & u[9]) << 27 | (255 & u[10]) << 20 | (254 & u[11]) << 12 | (255 & u[12]) << 5 | (254 & u[13]) >>> 3, d.pts *= 4, d.pts += (6 & u[13]) >>> 1, d.dts = d.pts, 64 & h && (d.dts = (14 & u[14]) << 27 | (255 & u[15]) << 20 | (254 & u[16]) << 12 | (255 & u[17]) << 5 | (254 & u[18]) >>> 3, d.dts *= 4, d.dts += (6 & u[18]) >>> 1)), d.data = u.subarray(9 + u[8]), r = "video" === i || s.packetLength <= t.size, (n || r) && (t.size = 0, t.data.length = 0), r && e.trigger("data", s)
                                }
                            };
                        Ae.prototype.init.call(this), this.push = function(a) {
                            ({
                                pat: function() {},
                                pes: function() {
                                    var e, o;
                                    switch (a.streamType) {
                                        case ye.H264_STREAM_TYPE:
                                        case ye.H264_STREAM_TYPE:
                                            e = t, o = "video";
                                            break;
                                        case ye.ADTS_STREAM_TYPE:
                                            e = i, o = "audio";
                                            break;
                                        case ye.METADATA_STREAM_TYPE:
                                            e = n, o = "timed-metadata";
                                            break;
                                        default:
                                            return
                                    }
                                    a.payloadUnitStartIndicator && r(e, o, !0), e.data.push(a), e.size += a.data.byteLength
                                },
                                pmt: function() {
                                    var t = {
                                            type: "metadata",
                                            tracks: []
                                        },
                                        i = a.programMapTable;
                                    null !== i.video && t.tracks.push({
                                        timelineStartInfo: {
                                            baseMediaDecodeTime: 0
                                        },
                                        id: +i.video,
                                        codec: "avc",
                                        type: "video"
                                    }), null !== i.audio && t.tracks.push({
                                        timelineStartInfo: {
                                            baseMediaDecodeTime: 0
                                        },
                                        id: +i.audio,
                                        codec: "adts",
                                        type: "audio"
                                    }), e.trigger("data", t)
                                }
                            })[a.type]()
                        }, this.flush = function() {
                            r(t, "video"), r(i, "audio"), r(n, "timed-metadata"), this.trigger("done")
                        }
                    }).prototype = new Z;
                    var Oe = {
                        PAT_PID: 0,
                        MP2T_PACKET_LENGTH: 188,
                        TransportPacketStream: ke,
                        TransportParseStream: Pe,
                        ElementaryStream: Ae,
                        TimestampRolloverStream: Le,
                        CaptionStream: ge.CaptionStream,
                        Cea608Stream: ge.Cea608Stream,
                        MetadataStream: Ie
                    };
                    for (var De in ye) ye.hasOwnProperty(De) && (Oe[De] = ye[De]);
                    var Re, xe = Oe,
                        Me = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350];
                    (Re = function() {
                        var e;
                        Re.prototype.init.call(this), this.push = function(t) {
                            var i, n, r, a, o = 0,
                                s = 0;
                            if ("audio" === t.type)
                                for (e ? (n = e, (e = new Uint8Array(n.byteLength + t.data.byteLength)).set(n), e.set(t.data, n.byteLength)) : e = t.data; o + 5 < e.length;)
                                    if (255 === e[o] && 240 == (246 & e[o + 1])) {
                                        if (a = 9e4 * (r = 1024 * (1 + (3 & e[o + 6]))) / Me[(60 & e[o + 2]) >>> 2], e.byteLength < (i = o + ((3 & e[o + 3]) << 11 | e[o + 4] << 3 | (224 & e[o + 5]) >> 5))) return;
                                        if (this.trigger("data", {
                                                pts: t.pts + s * a,
                                                dts: t.dts + s * a,
                                                sampleCount: r,
                                                audioobjecttype: 1 + (e[o + 2] >>> 6 & 3),
                                                channelcount: (1 & e[o + 2]) << 2 | (192 & e[o + 3]) >>> 6,
                                                samplerate: Me[(60 & e[o + 2]) >>> 2],
                                                samplingfrequencyindex: (60 & e[o + 2]) >>> 2,
                                                samplesize: 16,
                                                data: e.subarray(o + 7 + 2 * (1 & ~e[o + 1]), i)
                                            }), e.byteLength === i) return void(e = void 0);
                                        s++, e = e.subarray(i)
                                    } else o++
                        }, this.flush = function() {
                            this.trigger("done")
                        }
                    }).prototype = new Z;
                    var Ue, Ne, Fe, Be = Re,
                        Ve = function(e) {
                            var t = e.byteLength,
                                i = 0,
                                n = 0;
                            this.length = function() {
                                return 8 * t
                            }, this.bitsAvailable = function() {
                                return 8 * t + n
                            }, this.loadWord = function() {
                                var r = e.byteLength - t,
                                    a = new Uint8Array(4),
                                    o = Math.min(4, t);
                                if (0 === o) throw new Error("no bytes available");
                                a.set(e.subarray(r, r + o)), i = new DataView(a.buffer).getUint32(0), n = 8 * o, t -= o
                            }, this.skipBits = function(e) {
                                var r;
                                n > e ? (i <<= e, n -= e) : (e -= n, e -= 8 * (r = Math.floor(e / 8)), t -= r, this.loadWord(), i <<= e, n -= e)
                            }, this.readBits = function(e) {
                                var r = Math.min(n, e),
                                    a = i >>> 32 - r;
                                return (n -= r) > 0 ? i <<= r : t > 0 && this.loadWord(), (r = e - r) > 0 ? a << r | this.readBits(r) : a
                            }, this.skipLeadingZeros = function() {
                                var e;
                                for (e = 0; e < n; ++e)
                                    if (0 != (i & 2147483648 >>> e)) return i <<= e, n -= e, e;
                                return this.loadWord(), e + this.skipLeadingZeros()
                            }, this.skipUnsignedExpGolomb = function() {
                                this.skipBits(1 + this.skipLeadingZeros())
                            }, this.skipExpGolomb = function() {
                                this.skipBits(1 + this.skipLeadingZeros())
                            }, this.readUnsignedExpGolomb = function() {
                                var e = this.skipLeadingZeros();
                                return this.readBits(e + 1) - 1
                            }, this.readExpGolomb = function() {
                                var e = this.readUnsignedExpGolomb();
                                return 1 & e ? 1 + e >>> 1 : -1 * (e >>> 1)
                            }, this.readBoolean = function() {
                                return 1 === this.readBits(1)
                            }, this.readUnsignedByte = function() {
                                return this.readBits(8)
                            }, this.loadWord()
                        };
                    (Ne = function() {
                        var e, t, i = 0;
                        Ne.prototype.init.call(this), this.push = function(n) {
                            var r;
                            for (t ? ((r = new Uint8Array(t.byteLength + n.data.byteLength)).set(t), r.set(n.data, t.byteLength), t = r) : t = n.data; i < t.byteLength - 3; i++)
                                if (1 === t[i + 2]) {
                                    e = i + 5;
                                    break
                                } for (; e < t.byteLength;) switch (t[e]) {
                                case 0:
                                    if (0 !== t[e - 1]) {
                                        e += 2;
                                        break
                                    }
                                    if (0 !== t[e - 2]) {
                                        e++;
                                        break
                                    }
                                    i + 3 !== e - 2 && this.trigger("data", t.subarray(i + 3, e - 2));
                                    do {
                                        e++
                                    } while (1 !== t[e] && e < t.length);
                                    i = e - 2, e += 3;
                                    break;
                                case 1:
                                    if (0 !== t[e - 1] || 0 !== t[e - 2]) {
                                        e += 3;
                                        break
                                    }
                                    this.trigger("data", t.subarray(i + 3, e - 2)), i = e - 2, e += 3;
                                    break;
                                default:
                                    e += 3
                            }
                            t = t.subarray(i), e -= i, i = 0
                        }, this.flush = function() {
                            t && t.byteLength > 3 && this.trigger("data", t.subarray(i + 3)), t = null, i = 0, this.trigger("done")
                        }
                    }).prototype = new Z, Fe = {
                        100: !0,
                        110: !0,
                        122: !0,
                        244: !0,
                        44: !0,
                        83: !0,
                        86: !0,
                        118: !0,
                        128: !0,
                        138: !0,
                        139: !0,
                        134: !0
                    }, (Ue = function() {
                        var e, t, i, n, r, a, o, s = new Ne;
                        Ue.prototype.init.call(this), e = this, this.push = function(e) {
                            "video" === e.type && (t = e.trackId, i = e.pts, n = e.dts, s.push(e))
                        }, s.on("data", function(o) {
                            var s = {
                                trackId: t,
                                pts: i,
                                dts: n,
                                data: o
                            };
                            switch (31 & o[0]) {
                                case 5:
                                    s.nalUnitType = "slice_layer_without_partitioning_rbsp_idr";
                                    break;
                                case 6:
                                    s.nalUnitType = "sei_rbsp", s.escapedRBSP = r(o.subarray(1));
                                    break;
                                case 7:
                                    s.nalUnitType = "seq_parameter_set_rbsp", s.escapedRBSP = r(o.subarray(1)), s.config = a(s.escapedRBSP);
                                    break;
                                case 8:
                                    s.nalUnitType = "pic_parameter_set_rbsp";
                                    break;
                                case 9:
                                    s.nalUnitType = "access_unit_delimiter_rbsp"
                            }
                            e.trigger("data", s)
                        }), s.on("done", function() {
                            e.trigger("done")
                        }), this.flush = function() {
                            s.flush()
                        }, o = function(e, t) {
                            var i, n = 8,
                                r = 8;
                            for (i = 0; i < e; i++) 0 !== r && (r = (n + t.readExpGolomb() + 256) % 256), n = 0 === r ? n : r
                        }, r = function(e) {
                            for (var t, i, n = e.byteLength, r = [], a = 1; a < n - 2;) 0 === e[a] && 0 === e[a + 1] && 3 === e[a + 2] ? (r.push(a + 2), a += 2) : a++;
                            if (0 === r.length) return e;
                            t = n - r.length, i = new Uint8Array(t);
                            var o = 0;
                            for (a = 0; a < t; o++, a++) o === r[0] && (o++, r.shift()), i[a] = e[o];
                            return i
                        }, a = function(e) {
                            var t, i, n, r, a, s, l, c, u, d, h, p, f, m = 0,
                                g = 0,
                                y = 0,
                                v = 0,
                                b = 1;
                            if (i = (t = new Ve(e)).readUnsignedByte(), r = t.readUnsignedByte(), n = t.readUnsignedByte(), t.skipUnsignedExpGolomb(), Fe[i] && (3 === (a = t.readUnsignedExpGolomb()) && t.skipBits(1), t.skipUnsignedExpGolomb(), t.skipUnsignedExpGolomb(), t.skipBits(1), t.readBoolean()))
                                for (h = 3 !== a ? 8 : 12, f = 0; f < h; f++) t.readBoolean() && o(f < 6 ? 16 : 64, t);
                            if (t.skipUnsignedExpGolomb(), 0 === (s = t.readUnsignedExpGolomb())) t.readUnsignedExpGolomb();
                            else if (1 === s)
                                for (t.skipBits(1), t.skipExpGolomb(), t.skipExpGolomb(), l = t.readUnsignedExpGolomb(), f = 0; f < l; f++) t.skipExpGolomb();
                            if (t.skipUnsignedExpGolomb(), t.skipBits(1), c = t.readUnsignedExpGolomb(), u = t.readUnsignedExpGolomb(), 0 === (d = t.readBits(1)) && t.skipBits(1), t.skipBits(1), t.readBoolean() && (m = t.readUnsignedExpGolomb(), g = t.readUnsignedExpGolomb(), y = t.readUnsignedExpGolomb(), v = t.readUnsignedExpGolomb()), t.readBoolean() && t.readBoolean()) {
                                switch (t.readUnsignedByte()) {
                                    case 1:
                                        p = [1, 1];
                                        break;
                                    case 2:
                                        p = [12, 11];
                                        break;
                                    case 3:
                                        p = [10, 11];
                                        break;
                                    case 4:
                                        p = [16, 11];
                                        break;
                                    case 5:
                                        p = [40, 33];
                                        break;
                                    case 6:
                                        p = [24, 11];
                                        break;
                                    case 7:
                                        p = [20, 11];
                                        break;
                                    case 8:
                                        p = [32, 11];
                                        break;
                                    case 9:
                                        p = [80, 33];
                                        break;
                                    case 10:
                                        p = [18, 11];
                                        break;
                                    case 11:
                                        p = [15, 11];
                                        break;
                                    case 12:
                                        p = [64, 33];
                                        break;
                                    case 13:
                                        p = [160, 99];
                                        break;
                                    case 14:
                                        p = [4, 3];
                                        break;
                                    case 15:
                                        p = [3, 2];
                                        break;
                                    case 16:
                                        p = [2, 1];
                                        break;
                                    case 255:
                                        p = [t.readUnsignedByte() << 8 | t.readUnsignedByte(), t.readUnsignedByte() << 8 | t.readUnsignedByte()]
                                }
                                p && (b = p[0] / p[1])
                            }
                            return {
                                profileIdc: i,
                                levelIdc: n,
                                profileCompatibility: r,
                                width: Math.ceil((16 * (c + 1) - 2 * m - 2 * g) * b),
                                height: (2 - d) * (u + 1) * 16 - 2 * y - 2 * v
                            }
                        }
                    }).prototype = new Z;
                    var je, ze = {
                            H264Stream: Ue,
                            NalByteStream: Ne
                        },
                        qe = function(e, t) {
                            var i = e[t + 6] << 21 | e[t + 7] << 14 | e[t + 8] << 7 | e[t + 9];
                            return (16 & e[t + 5]) >> 4 ? i + 20 : i + 10
                        },
                        He = function(e, t) {
                            return 6144 & e[t + 3] | e[t + 4] << 3 | (224 & e[t + 5]) >> 5
                        };
                    (je = function() {
                        var e = new Uint8Array,
                            t = 0;
                        je.prototype.init.call(this), this.setTimestamp = function(e) {
                            t = e
                        }, this.push = function(i) {
                            var n, r, a, o = 0,
                                s = 0;
                            for (e.length ? (a = e.length, (e = new Uint8Array(i.byteLength + a)).set(e.subarray(0, a)), e.set(i, a)) : e = i; e.length - s >= 3;)
                                if (e[s] !== "I".charCodeAt(0) || e[s + 1] !== "D".charCodeAt(0) || e[s + 2] !== "3".charCodeAt(0))
                                    if (255 != (255 & e[s]) || 240 != (240 & e[s + 1])) s++;
                                    else {
                                        if (e.length - s < 7) break;
                                        if (s + (o = He(e, s)) > e.length) break;
                                        r = {
                                            type: "audio",
                                            data: e.subarray(s, s + o),
                                            pts: t,
                                            dts: t
                                        }, this.trigger("data", r), s += o
                                    }
                            else {
                                if (e.length - s < 10) break;
                                if (s + (o = qe(e, s)) > e.length) break;
                                n = {
                                    type: "timed-metadata",
                                    data: e.subarray(s, s + o)
                                }, this.trigger("data", n), s += o
                            }
                            e = e.length - s > 0 ? e.subarray(s) : new Uint8Array
                        }
                    }).prototype = new Z;
                    var Ge, We, Ye, Ke, Xe = je,
                        Je = ze.H264Stream,
                        $e = ["audioobjecttype", "channelcount", "samplerate", "samplingfrequencyindex", "samplesize"],
                        Qe = ["width", "height", "profileIdc", "levelIdc", "profileCompatibility"],
                        Ze = function(e, t) {
                            var i;
                            if (e.length !== t.length) return !1;
                            for (i = 0; i < e.length; i++)
                                if (e[i] !== t[i]) return !1;
                            return !0
                        },
                        et = function(e, t, i, n, r) {
                            return {
                                start: {
                                    dts: e,
                                    pts: t
                                },
                                end: {
                                    dts: i,
                                    pts: n
                                },
                                prependedContentDuration: r
                            }
                        };
                    (We = function(e, t) {
                        var i = [],
                            n = 0,
                            r = 0,
                            a = 0,
                            o = 1 / 0;
                        t = t || {}, We.prototype.init.call(this), this.push = function(t) {
                            ce(e, t), e && $e.forEach(function(i) {
                                e[i] = t[i]
                            }), i.push(t)
                        }, this.setEarliestDts = function(t) {
                            r = t - e.timelineStartInfo.baseMediaDecodeTime
                        }, this.setVideoBaseMediaDecodeTime = function(e) {
                            o = e
                        }, this.setAudioAppendStart = function(e) {
                            a = e
                        }, this.flush = function() {
                            var s, l, c, u;
                            0 !== i.length ? (s = function(e, t, i) {
                                return t.minSegmentDts >= i ? e : (t.minSegmentDts = 1 / 0, e.filter(function(e) {
                                    return e.dts >= i && (t.minSegmentDts = Math.min(t.minSegmentDts, e.dts), t.minSegmentPts = t.minSegmentDts, !0)
                                }))
                            }(i, e, r), e.baseMediaDecodeTime = le(e, t.keepOriginalTimestamps), function(e, t, i, n) {
                                var r, a, o, s, l = 0,
                                    c = 0,
                                    u = 0;
                                if (t.length && (r = oe(e.baseMediaDecodeTime, e.samplerate), a = Math.ceil(9e4 / (e.samplerate / 1024)), i && n && (l = r - Math.max(i, n), u = (c = Math.floor(l / a)) * a), !(c < 1 || u > 45e3))) {
                                    for ((o = ae[e.samplerate]) || (o = t[0].data), s = 0; s < c; s++) t.splice(s, 0, {
                                        data: o
                                    });
                                    e.baseMediaDecodeTime -= Math.floor(function(e, t) {
                                        return J($(u), t)
                                    }(0, e.samplerate))
                                }
                            }(e, s, a, o), e.samples = function(e) {
                                var t, i = [];
                                for (t = 0; t < e.length; t++) i.push({
                                    size: e[t].data.byteLength,
                                    duration: 1024
                                });
                                return i
                            }(s), c = H.mdat(function(e) {
                                var t, i, n = 0,
                                    r = new Uint8Array(function(e) {
                                        var t, i = 0;
                                        for (t = 0; t < e.length; t++) i += e[t].data.byteLength;
                                        return i
                                    }(e));
                                for (t = 0; t < e.length; t++) r.set((i = e[t]).data, n), n += i.data.byteLength;
                                return r
                            }(s)), i = [], l = H.moof(n, [e]), u = new Uint8Array(l.byteLength + c.byteLength), n++, u.set(l), u.set(c, l.byteLength), se(e), this.trigger("data", {
                                track: e,
                                boxes: u
                            }), this.trigger("done", "AudioSegmentStream")) : this.trigger("done", "AudioSegmentStream")
                        }
                    }).prototype = new Z, (Ge = function(e, t) {
                        var i, n, r = 0,
                            a = [],
                            o = [];
                        t = t || {}, Ge.prototype.init.call(this), delete e.minPTS, this.gopCache_ = [], this.push = function(t) {
                            ce(e, t), "seq_parameter_set_rbsp" !== t.nalUnitType || i || (i = t.config, e.sps = [t.data], Qe.forEach(function(t) {
                                e[t] = i[t]
                            }, this)), "pic_parameter_set_rbsp" !== t.nalUnitType || n || (n = t.data, e.pps = [t.data]), a.push(t)
                        }, this.flush = function() {
                            for (var i, n, s, l, c, u, d, h = 0; a.length && "access_unit_delimiter_rbsp" !== a[0].nalUnitType;) a.shift();
                            if (0 === a.length) return this.resetStream_(), void this.trigger("done", "VideoSegmentStream");
                            if ((n = function(e) {
                                    var t, i, n = [],
                                        r = [];
                                    for (n.byteLength = 0, n.nalCount = 0, n.duration = 0, n.pts = e[0].pts, n.dts = e[0].dts, r.byteLength = 0, r.nalCount = 0, r.duration = 0, r.pts = e[0].pts, r.dts = e[0].dts, t = 0; t < e.length; t++)(i = e[t]).keyFrame ? (n.length && (r.push(n), r.byteLength += n.byteLength, r.nalCount += n.nalCount, r.duration += n.duration), (n = [i]).nalCount = i.length, n.byteLength = i.byteLength, n.pts = i.pts, n.dts = i.dts, n.duration = i.duration) : (n.duration += i.duration, n.nalCount += i.length, n.byteLength += i.byteLength, n.push(i));
                                    return r.length && n.duration <= 0 && (n.duration = r[r.length - 1].duration), r.byteLength += n.byteLength, r.nalCount += n.nalCount, r.duration += n.duration, r.push(n), r
                                }(function(e) {
                                    var t, i, n = [],
                                        r = [];
                                    for (n.byteLength = 0, t = 0; t < e.length; t++) "access_unit_delimiter_rbsp" === (i = e[t]).nalUnitType ? (n.length && (n.duration = i.dts - n.dts, r.push(n)), (n = [i]).byteLength = i.data.byteLength, n.pts = i.pts, n.dts = i.dts) : ("slice_layer_without_partitioning_rbsp_idr" === i.nalUnitType && (n.keyFrame = !0), n.duration = i.dts - n.dts, n.byteLength += i.data.byteLength, n.push(i));
                                    return r.length && (!n.duration || n.duration <= 0) && (n.duration = r[r.length - 1].duration), r.push(n), r
                                }(a)))[0][0].keyFrame || ((i = this.getGopForFusion_(a[0], e)) ? (h = i.duration, n.unshift(i), n.byteLength += i.byteLength, n.nalCount += i.nalCount, n.pts = i.pts, n.dts = i.dts, n.duration += i.duration) : n = function(e) {
                                    var t;
                                    return !e[0][0].keyFrame && e.length > 1 && (t = e.shift(), e.byteLength -= t.byteLength, e.nalCount -= t.nalCount, e[0][0].dts = t.dts, e[0][0].pts = t.pts, e[0][0].duration += t.duration), e
                                }(n)), o.length) {
                                var p;
                                if (!(p = t.alignGopsAtEnd ? this.alignGopsAtEnd_(n) : this.alignGopsAtStart_(n))) return this.gopCache_.unshift({
                                    gop: n.pop(),
                                    pps: e.pps,
                                    sps: e.sps
                                }), this.gopCache_.length = Math.min(6, this.gopCache_.length), a = [], this.resetStream_(), void this.trigger("done", "VideoSegmentStream");
                                se(e), n = p
                            }
                            ce(e, n), e.samples = function(e, t) {
                                var i, n, r, a, o = 0,
                                    s = [];
                                for (i = 0; i < e.length; i++)
                                    for (a = e[i], n = 0; n < a.length; n++) o += (r = ee(a[n], o)).size, s.push(r);
                                return s
                            }(n), l = H.mdat(function(e) {
                                var t, i, n, r, a, o, s = 0,
                                    l = new Uint8Array(e.byteLength + 4 * e.nalCount),
                                    c = new DataView(l.buffer);
                                for (t = 0; t < e.length; t++)
                                    for (r = e[t], i = 0; i < r.length; i++)
                                        for (a = r[i], n = 0; n < a.length; n++) c.setUint32(s, (o = a[n]).data.byteLength), l.set(o.data, s += 4), s += o.data.byteLength;
                                return l
                            }(n)), e.baseMediaDecodeTime = le(e, t.keepOriginalTimestamps), this.trigger("processedGopsInfo", n.map(function(e) {
                                return {
                                    pts: e.pts,
                                    dts: e.dts,
                                    byteLength: e.byteLength
                                }
                            })), this.trigger("segmentTimingInfo", et((u = n[0]).dts, u.pts, (d = n[n.length - 1]).dts + d.duration, d.pts + d.duration, h)), this.gopCache_.unshift({
                                gop: n.pop(),
                                pps: e.pps,
                                sps: e.sps
                            }), this.gopCache_.length = Math.min(6, this.gopCache_.length), a = [], this.trigger("baseMediaDecodeTime", e.baseMediaDecodeTime), this.trigger("timelineStartInfo", e.timelineStartInfo), s = H.moof(r, [e]), c = new Uint8Array(s.byteLength + l.byteLength), r++, c.set(s), c.set(l, s.byteLength), this.trigger("data", {
                                track: e,
                                boxes: c
                            }), this.resetStream_(), this.trigger("done", "VideoSegmentStream")
                        }, this.resetStream_ = function() {
                            se(e), i = void 0, n = void 0
                        }, this.getGopForFusion_ = function(t) {
                            var i, n, r, a, o, s = 1 / 0;
                            for (o = 0; o < this.gopCache_.length; o++) r = (a = this.gopCache_[o]).gop, e.pps && Ze(e.pps[0], a.pps[0]) && e.sps && Ze(e.sps[0], a.sps[0]) && (r.dts < e.timelineStartInfo.dts || (i = t.dts - r.dts - r.duration) >= -1e4 && i <= 45e3 && (!n || s > i) && (n = a, s = i));
                            return n ? n.gop : null
                        }, this.alignGopsAtStart_ = function(e) {
                            var t, i, n, r, a, s, l, c;
                            for (a = e.byteLength, s = e.nalCount, l = e.duration, t = i = 0; t < o.length && i < e.length && (n = o[t]).pts !== (r = e[i]).pts;) r.pts > n.pts ? t++ : (i++, a -= r.byteLength, s -= r.nalCount, l -= r.duration);
                            return 0 === i ? e : i === e.length ? null : ((c = e.slice(i)).byteLength = a, c.duration = l, c.nalCount = s, c.pts = c[0].pts, c.dts = c[0].dts, c)
                        }, this.alignGopsAtEnd_ = function(e) {
                            var t, i, n, r, a, s, l;
                            for (t = o.length - 1, i = e.length - 1, a = null, s = !1; t >= 0 && i >= 0;) {
                                if ((n = o[t]).pts === (r = e[i]).pts) {
                                    s = !0;
                                    break
                                }
                                n.pts > r.pts ? t-- : (t === o.length - 1 && (a = i), i--)
                            }
                            if (!s && null === a) return null;
                            if (0 === (l = s ? i : a)) return e;
                            var c = e.slice(l),
                                u = c.reduce(function(e, t) {
                                    return e.byteLength += t.byteLength, e.duration += t.duration, e.nalCount += t.nalCount, e
                                }, {
                                    byteLength: 0,
                                    duration: 0,
                                    nalCount: 0
                                });
                            return c.byteLength = u.byteLength, c.duration = u.duration, c.nalCount = u.nalCount, c.pts = c[0].pts, c.dts = c[0].dts, c
                        }, this.alignGopsWith = function(e) {
                            o = e
                        }
                    }).prototype = new Z, (Ke = function(e, t) {
                        this.numberOfTracks = 0, this.metadataStream = t, this.remuxTracks = void 0 === (e = e || {}).remux || !!e.remux, "boolean" == typeof e.keepOriginalTimestamps && (this.keepOriginalTimestamps = e.keepOriginalTimestamps), this.pendingTracks = [], this.videoTrack = null, this.pendingBoxes = [], this.pendingCaptions = [], this.pendingMetadata = [], this.pendingBytes = 0, this.emittedTracks = 0, Ke.prototype.init.call(this), this.push = function(e) {
                            return e.text ? this.pendingCaptions.push(e) : e.frames ? this.pendingMetadata.push(e) : (this.pendingTracks.push(e.track), this.pendingBoxes.push(e.boxes), this.pendingBytes += e.boxes.byteLength, "video" === e.track.type && (this.videoTrack = e.track), void("audio" === e.track.type && (this.audioTrack = e.track)))
                        }
                    }).prototype = new Z, Ke.prototype.flush = function(e) {
                        var t, i, n, r, a = 0,
                            o = {
                                captions: [],
                                captionStreams: {},
                                metadata: [],
                                info: {}
                            },
                            s = 0;
                        if (this.pendingTracks.length < this.numberOfTracks) {
                            if ("VideoSegmentStream" !== e && "AudioSegmentStream" !== e) return;
                            if (this.remuxTracks) return;
                            if (0 === this.pendingTracks.length) return this.emittedTracks++, void(this.emittedTracks >= this.numberOfTracks && (this.trigger("done"), this.emittedTracks = 0))
                        }
                        for (this.videoTrack ? (s = this.videoTrack.timelineStartInfo.pts, Qe.forEach(function(e) {
                                o.info[e] = this.videoTrack[e]
                            }, this)) : this.audioTrack && (s = this.audioTrack.timelineStartInfo.pts, $e.forEach(function(e) {
                                o.info[e] = this.audioTrack[e]
                            }, this)), o.type = 1 === this.pendingTracks.length ? this.pendingTracks[0].type : "combined", this.emittedTracks += this.pendingTracks.length, n = H.initSegment(this.pendingTracks), o.initSegment = new Uint8Array(n.byteLength), o.initSegment.set(n), o.data = new Uint8Array(this.pendingBytes), r = 0; r < this.pendingBoxes.length; r++) o.data.set(this.pendingBoxes[r], a), a += this.pendingBoxes[r].byteLength;
                        for (r = 0; r < this.pendingCaptions.length; r++)(t = this.pendingCaptions[r]).startTime = t.startPts, this.keepOriginalTimestamps || (t.startTime -= s), t.startTime /= 9e4, t.endTime = t.endPts, this.keepOriginalTimestamps || (t.endTime -= s), t.endTime /= 9e4, o.captionStreams[t.stream] = !0, o.captions.push(t);
                        for (r = 0; r < this.pendingMetadata.length; r++)(i = this.pendingMetadata[r]).cueTime = i.pts, this.keepOriginalTimestamps || (i.cueTime -= s), i.cueTime /= 9e4, o.metadata.push(i);
                        o.metadata.dispatchType = this.metadataStream.dispatchType, this.pendingTracks.length = 0, this.videoTrack = null, this.pendingBoxes.length = 0, this.pendingCaptions.length = 0, this.pendingBytes = 0, this.pendingMetadata.length = 0, this.trigger("data", o), this.emittedTracks >= this.numberOfTracks && (this.trigger("done"), this.emittedTracks = 0)
                    }, (Ye = function(e) {
                        var t, i, n = this,
                            r = !0;
                        Ye.prototype.init.call(this), this.baseMediaDecodeTime = (e = e || {}).baseMediaDecodeTime || 0, this.transmuxPipeline_ = {}, this.setupAacPipeline = function() {
                            var t = {};
                            this.transmuxPipeline_ = t, t.type = "aac", t.metadataStream = new xe.MetadataStream, t.aacStream = new Xe, t.audioTimestampRolloverStream = new xe.TimestampRolloverStream("audio"), t.timedMetadataTimestampRolloverStream = new xe.TimestampRolloverStream("timed-metadata"), t.adtsStream = new Be, t.coalesceStream = new Ke(e, t.metadataStream), t.headOfPipeline = t.aacStream, t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream), t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream), t.metadataStream.on("timestamp", function(e) {
                                t.aacStream.setTimestamp(e.timeStamp)
                            }), t.aacStream.on("data", function(r) {
                                "timed-metadata" !== r.type || t.audioSegmentStream || (i = i || {
                                    timelineStartInfo: {
                                        baseMediaDecodeTime: n.baseMediaDecodeTime
                                    },
                                    codec: "adts",
                                    type: "audio"
                                }, t.coalesceStream.numberOfTracks++, t.audioSegmentStream = new We(i, e), t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream))
                            }), t.coalesceStream.on("data", this.trigger.bind(this, "data")), t.coalesceStream.on("done", this.trigger.bind(this, "done"))
                        }, this.setupTsPipeline = function() {
                            var r = {};
                            this.transmuxPipeline_ = r, r.type = "ts", r.metadataStream = new xe.MetadataStream, r.packetStream = new xe.TransportPacketStream, r.parseStream = new xe.TransportParseStream, r.elementaryStream = new xe.ElementaryStream, r.videoTimestampRolloverStream = new xe.TimestampRolloverStream("video"), r.audioTimestampRolloverStream = new xe.TimestampRolloverStream("audio"), r.timedMetadataTimestampRolloverStream = new xe.TimestampRolloverStream("timed-metadata"), r.adtsStream = new Be, r.h264Stream = new Je, r.captionStream = new xe.CaptionStream, r.coalesceStream = new Ke(e, r.metadataStream), r.headOfPipeline = r.packetStream, r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream), r.elementaryStream.pipe(r.videoTimestampRolloverStream).pipe(r.h264Stream), r.elementaryStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream), r.elementaryStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream), r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream), r.elementaryStream.on("data", function(a) {
                                var o;
                                if ("metadata" === a.type) {
                                    for (o = a.tracks.length; o--;) t || "video" !== a.tracks[o].type ? i || "audio" !== a.tracks[o].type || ((i = a.tracks[o]).timelineStartInfo.baseMediaDecodeTime = n.baseMediaDecodeTime) : (t = a.tracks[o]).timelineStartInfo.baseMediaDecodeTime = n.baseMediaDecodeTime;
                                    t && !r.videoSegmentStream && (r.coalesceStream.numberOfTracks++, r.videoSegmentStream = new Ge(t, e), r.videoSegmentStream.on("timelineStartInfo", function(e) {
                                        i && (i.timelineStartInfo = e, r.audioSegmentStream.setEarliestDts(e.dts))
                                    }), r.videoSegmentStream.on("processedGopsInfo", n.trigger.bind(n, "gopInfo")), r.videoSegmentStream.on("segmentTimingInfo", n.trigger.bind(n, "videoSegmentTimingInfo")), r.videoSegmentStream.on("baseMediaDecodeTime", function(e) {
                                        i && r.audioSegmentStream.setVideoBaseMediaDecodeTime(e)
                                    }), r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)), i && !r.audioSegmentStream && (r.coalesceStream.numberOfTracks++, r.audioSegmentStream = new We(i, e), r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream))
                                }
                            }), r.coalesceStream.on("data", this.trigger.bind(this, "data")), r.coalesceStream.on("done", this.trigger.bind(this, "done"))
                        }, this.setBaseMediaDecodeTime = function(n) {
                            var r = this.transmuxPipeline_;
                            e.keepOriginalTimestamps || (this.baseMediaDecodeTime = n), i && (i.timelineStartInfo.dts = void 0, i.timelineStartInfo.pts = void 0, se(i), e.keepOriginalTimestamps || (i.timelineStartInfo.baseMediaDecodeTime = n), r.audioTimestampRolloverStream && r.audioTimestampRolloverStream.discontinuity()), t && (r.videoSegmentStream && (r.videoSegmentStream.gopCache_ = [], r.videoTimestampRolloverStream.discontinuity()), t.timelineStartInfo.dts = void 0, t.timelineStartInfo.pts = void 0, se(t), r.captionStream.reset(), e.keepOriginalTimestamps || (t.timelineStartInfo.baseMediaDecodeTime = n)), r.timedMetadataTimestampRolloverStream && r.timedMetadataTimestampRolloverStream.discontinuity()
                        }, this.setAudioAppendStart = function(e) {
                            i && this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)
                        }, this.alignGopsWith = function(e) {
                            t && this.transmuxPipeline_.videoSegmentStream && this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)
                        }, this.push = function(e) {
                            if (r) {
                                var t = function(e) {
                                    return e[0] === "I".charCodeAt(0) && e[1] === "D".charCodeAt(0) && e[2] === "3".charCodeAt(0)
                                }(e);
                                t && "aac" !== this.transmuxPipeline_.type ? this.setupAacPipeline() : t || "ts" === this.transmuxPipeline_.type || this.setupTsPipeline(), r = !1
                            }
                            this.transmuxPipeline_.headOfPipeline.push(e)
                        }, this.flush = function() {
                            r = !0, this.transmuxPipeline_.headOfPipeline.flush()
                        }, this.resetCaptions = function() {
                            this.transmuxPipeline_.captionStream && this.transmuxPipeline_.captionStream.reset()
                        }
                    }).prototype = new Z;
                    var tt, it, nt = {
                            Transmuxer: Ye,
                            VideoSegmentStream: Ge,
                            AudioSegmentStream: We,
                            AUDIO_PROPERTIES: $e,
                            VIDEO_PROPERTIES: Qe,
                            generateVideoSegmentTimingInfo: et
                        },
                        rt = W.parseType,
                        at = function(e) {
                            return new Date(1e3 * e - 20828448e5)
                        },
                        ot = function(e) {
                            return {
                                isLeading: (12 & e[0]) >>> 2,
                                dependsOn: 3 & e[0],
                                isDependedOn: (192 & e[1]) >>> 6,
                                hasRedundancy: (48 & e[1]) >>> 4,
                                paddingValue: (14 & e[1]) >>> 1,
                                isNonSyncSample: 1 & e[1],
                                degradationPriority: e[2] << 8 | e[3]
                            }
                        },
                        st = {
                            avc1: function(e) {
                                var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                                return {
                                    dataReferenceIndex: t.getUint16(6),
                                    width: t.getUint16(24),
                                    height: t.getUint16(26),
                                    horizresolution: t.getUint16(28) + t.getUint16(30) / 16,
                                    vertresolution: t.getUint16(32) + t.getUint16(34) / 16,
                                    frameCount: t.getUint16(40),
                                    depth: t.getUint16(74),
                                    config: tt(e.subarray(78, e.byteLength))
                                }
                            },
                            avcC: function(e) {
                                var t, i, n, r, a = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    o = {
                                        configurationVersion: e[0],
                                        avcProfileIndication: e[1],
                                        profileCompatibility: e[2],
                                        avcLevelIndication: e[3],
                                        lengthSizeMinusOne: 3 & e[4],
                                        sps: [],
                                        pps: []
                                    },
                                    s = 31 & e[5];
                                for (n = 6, r = 0; r < s; r++) i = a.getUint16(n), n += 2, o.sps.push(new Uint8Array(e.subarray(n, n + i))), n += i;
                                for (t = e[n], n++, r = 0; r < t; r++) i = a.getUint16(n), n += 2, o.pps.push(new Uint8Array(e.subarray(n, n + i))), n += i;
                                return o
                            },
                            btrt: function(e) {
                                var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                                return {
                                    bufferSizeDB: t.getUint32(0),
                                    maxBitrate: t.getUint32(4),
                                    avgBitrate: t.getUint32(8)
                                }
                            },
                            esds: function(e) {
                                return {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    esId: e[6] << 8 | e[7],
                                    streamPriority: 31 & e[8],
                                    decoderConfig: {
                                        objectProfileIndication: e[11],
                                        streamType: e[12] >>> 2 & 63,
                                        bufferSize: e[13] << 16 | e[14] << 8 | e[15],
                                        maxBitrate: e[16] << 24 | e[17] << 16 | e[18] << 8 | e[19],
                                        avgBitrate: e[20] << 24 | e[21] << 16 | e[22] << 8 | e[23],
                                        decoderConfigDescriptor: {
                                            tag: e[24],
                                            length: e[25],
                                            audioObjectType: e[26] >>> 3 & 31,
                                            samplingFrequencyIndex: (7 & e[26]) << 1 | e[27] >>> 7 & 1,
                                            channelConfiguration: e[27] >>> 3 & 15
                                        }
                                    }
                                }
                            },
                            ftyp: function(e) {
                                for (var t = new DataView(e.buffer, e.byteOffset, e.byteLength), i = {
                                        majorBrand: rt(e.subarray(0, 4)),
                                        minorVersion: t.getUint32(4),
                                        compatibleBrands: []
                                    }, n = 8; n < e.byteLength;) i.compatibleBrands.push(rt(e.subarray(n, n + 4))), n += 4;
                                return i
                            },
                            dinf: function(e) {
                                return {
                                    boxes: tt(e)
                                }
                            },
                            dref: function(e) {
                                return {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    dataReferences: tt(e.subarray(8))
                                }
                            },
                            hdlr: function(e) {
                                var t = {
                                        version: new DataView(e.buffer, e.byteOffset, e.byteLength).getUint8(0),
                                        flags: new Uint8Array(e.subarray(1, 4)),
                                        handlerType: rt(e.subarray(8, 12)),
                                        name: ""
                                    },
                                    i = 8;
                                for (i = 24; i < e.byteLength; i++) {
                                    if (0 === e[i]) {
                                        i++;
                                        break
                                    }
                                    t.name += String.fromCharCode(e[i])
                                }
                                return t.name = decodeURIComponent(escape(t.name)), t
                            },
                            mdat: function(e) {
                                return {
                                    byteLength: e.byteLength,
                                    nals: function(e) {
                                        var t, i, n = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                            r = [];
                                        for (t = 0; t + 4 < e.length; t += i)
                                            if (i = n.getUint32(t), t += 4, i <= 0) r.push("<span style='color:red;'>MALFORMED DATA</span>");
                                            else switch (31 & e[t]) {
                                                case 1:
                                                    r.push("slice_layer_without_partitioning_rbsp");
                                                    break;
                                                case 5:
                                                    r.push("slice_layer_without_partitioning_rbsp_idr");
                                                    break;
                                                case 6:
                                                    r.push("sei_rbsp");
                                                    break;
                                                case 7:
                                                    r.push("seq_parameter_set_rbsp");
                                                    break;
                                                case 8:
                                                    r.push("pic_parameter_set_rbsp");
                                                    break;
                                                case 9:
                                                    r.push("access_unit_delimiter_rbsp");
                                                    break;
                                                default:
                                                    r.push("UNKNOWN NAL - " + e[t] & 31)
                                            }
                                        return r
                                    }(e)
                                }
                            },
                            mdhd: function(e) {
                                var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    n = 4,
                                    r = {
                                        version: i.getUint8(0),
                                        flags: new Uint8Array(e.subarray(1, 4)),
                                        language: ""
                                    };
                                return 1 === r.version ? (r.creationTime = at(i.getUint32(n += 4)), r.modificationTime = at(i.getUint32(n += 8)), r.timescale = i.getUint32(n += 4), r.duration = i.getUint32(n += 8)) : (r.creationTime = at(i.getUint32(n)), r.modificationTime = at(i.getUint32(n += 4)), r.timescale = i.getUint32(n += 4), r.duration = i.getUint32(n += 4)), t = i.getUint16(n += 4), r.language += String.fromCharCode(96 + (t >> 10)), r.language += String.fromCharCode(96 + ((992 & t) >> 5)), r.language += String.fromCharCode(96 + (31 & t)), r
                            },
                            mdia: function(e) {
                                return {
                                    boxes: tt(e)
                                }
                            },
                            mfhd: function(e) {
                                return {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    sequenceNumber: e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7]
                                }
                            },
                            minf: function(e) {
                                return {
                                    boxes: tt(e)
                                }
                            },
                            mp4a: function(e) {
                                var t = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    i = {
                                        dataReferenceIndex: t.getUint16(6),
                                        channelcount: t.getUint16(16),
                                        samplesize: t.getUint16(18),
                                        samplerate: t.getUint16(24) + t.getUint16(26) / 65536
                                    };
                                return e.byteLength > 28 && (i.streamDescriptor = tt(e.subarray(28))[0]), i
                            },
                            moof: function(e) {
                                return {
                                    boxes: tt(e)
                                }
                            },
                            moov: function(e) {
                                return {
                                    boxes: tt(e)
                                }
                            },
                            mvex: function(e) {
                                return {
                                    boxes: tt(e)
                                }
                            },
                            mvhd: function(e) {
                                var t = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    i = 4,
                                    n = {
                                        version: t.getUint8(0),
                                        flags: new Uint8Array(e.subarray(1, 4))
                                    };
                                return 1 === n.version ? (n.creationTime = at(t.getUint32(i += 4)), n.modificationTime = at(t.getUint32(i += 8)), n.timescale = t.getUint32(i += 4), n.duration = t.getUint32(i += 8)) : (n.creationTime = at(t.getUint32(i)), n.modificationTime = at(t.getUint32(i += 4)), n.timescale = t.getUint32(i += 4), n.duration = t.getUint32(i += 4)), n.rate = t.getUint16(i += 4) + t.getUint16(i + 2) / 16, n.volume = t.getUint8(i += 4) + t.getUint8(i + 1) / 8, i += 2, i += 2, i += 8, n.matrix = new Uint32Array(e.subarray(i, i + 36)), i += 36, n.nextTrackId = t.getUint32(i += 24), n
                            },
                            pdin: function(e) {
                                var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                                return {
                                    version: t.getUint8(0),
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    rate: t.getUint32(4),
                                    initialDelay: t.getUint32(8)
                                }
                            },
                            sdtp: function(e) {
                                var t, i = {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    samples: []
                                };
                                for (t = 4; t < e.byteLength; t++) i.samples.push({
                                    dependsOn: (48 & e[t]) >> 4,
                                    isDependedOn: (12 & e[t]) >> 2,
                                    hasRedundancy: 3 & e[t]
                                });
                                return i
                            },
                            sidx: function(e) {
                                var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    n = {
                                        version: e[0],
                                        flags: new Uint8Array(e.subarray(1, 4)),
                                        references: [],
                                        referenceId: i.getUint32(4),
                                        timescale: i.getUint32(8),
                                        earliestPresentationTime: i.getUint32(12),
                                        firstOffset: i.getUint32(16)
                                    },
                                    r = i.getUint16(22);
                                for (t = 24; r; t += 12, r--) n.references.push({
                                    referenceType: (128 & e[t]) >>> 7,
                                    referencedSize: 2147483647 & i.getUint32(t),
                                    subsegmentDuration: i.getUint32(t + 4),
                                    startsWithSap: !!(128 & e[t + 8]),
                                    sapType: (112 & e[t + 8]) >>> 4,
                                    sapDeltaTime: 268435455 & i.getUint32(t + 8)
                                });
                                return n
                            },
                            smhd: function(e) {
                                return {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    balance: e[4] + e[5] / 256
                                }
                            },
                            stbl: function(e) {
                                return {
                                    boxes: tt(e)
                                }
                            },
                            stco: function(e) {
                                var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    n = {
                                        version: e[0],
                                        flags: new Uint8Array(e.subarray(1, 4)),
                                        chunkOffsets: []
                                    },
                                    r = i.getUint32(4);
                                for (t = 8; r; t += 4, r--) n.chunkOffsets.push(i.getUint32(t));
                                return n
                            },
                            stsc: function(e) {
                                var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    n = i.getUint32(4),
                                    r = {
                                        version: e[0],
                                        flags: new Uint8Array(e.subarray(1, 4)),
                                        sampleToChunks: []
                                    };
                                for (t = 8; n; t += 12, n--) r.sampleToChunks.push({
                                    firstChunk: i.getUint32(t),
                                    samplesPerChunk: i.getUint32(t + 4),
                                    sampleDescriptionIndex: i.getUint32(t + 8)
                                });
                                return r
                            },
                            stsd: function(e) {
                                return {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    sampleDescriptions: tt(e.subarray(8))
                                }
                            },
                            stsz: function(e) {
                                var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    n = {
                                        version: e[0],
                                        flags: new Uint8Array(e.subarray(1, 4)),
                                        sampleSize: i.getUint32(4),
                                        entries: []
                                    };
                                for (t = 12; t < e.byteLength; t += 4) n.entries.push(i.getUint32(t));
                                return n
                            },
                            stts: function(e) {
                                var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    n = {
                                        version: e[0],
                                        flags: new Uint8Array(e.subarray(1, 4)),
                                        timeToSamples: []
                                    },
                                    r = i.getUint32(4);
                                for (t = 8; r; t += 8, r--) n.timeToSamples.push({
                                    sampleCount: i.getUint32(t),
                                    sampleDelta: i.getUint32(t + 4)
                                });
                                return n
                            },
                            styp: function(e) {
                                return st.ftyp(e)
                            },
                            tfdt: function(e) {
                                var t = {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    baseMediaDecodeTime: e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7]
                                };
                                return 1 === t.version && (t.baseMediaDecodeTime *= Math.pow(2, 32), t.baseMediaDecodeTime += e[8] << 24 | e[9] << 16 | e[10] << 8 | e[11]), t
                            },
                            tfhd: function(e) {
                                var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    n = {
                                        version: e[0],
                                        flags: new Uint8Array(e.subarray(1, 4)),
                                        trackId: i.getUint32(4)
                                    },
                                    r = 1 & n.flags[2],
                                    a = 2 & n.flags[2],
                                    o = 8 & n.flags[2],
                                    s = 16 & n.flags[2],
                                    l = 32 & n.flags[2],
                                    c = 65536 & n.flags[0],
                                    u = 131072 & n.flags[0];
                                return t = 8, r && (t += 4, n.baseDataOffset = i.getUint32(12), t += 4), a && (n.sampleDescriptionIndex = i.getUint32(t), t += 4), o && (n.defaultSampleDuration = i.getUint32(t), t += 4), s && (n.defaultSampleSize = i.getUint32(t), t += 4), l && (n.defaultSampleFlags = i.getUint32(t)), c && (n.durationIsEmpty = !0), !r && u && (n.baseDataOffsetIsMoof = !0), n
                            },
                            tkhd: function(e) {
                                var t = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    i = 4,
                                    n = {
                                        version: t.getUint8(0),
                                        flags: new Uint8Array(e.subarray(1, 4))
                                    };
                                return 1 === n.version ? (n.creationTime = at(t.getUint32(i += 4)), n.modificationTime = at(t.getUint32(i += 8)), n.trackId = t.getUint32(i += 4), i += 4, n.duration = t.getUint32(i += 8)) : (n.creationTime = at(t.getUint32(i)), n.modificationTime = at(t.getUint32(i += 4)), n.trackId = t.getUint32(i += 4), i += 4, n.duration = t.getUint32(i += 4)), i += 4, n.layer = t.getUint16(i += 8), n.alternateGroup = t.getUint16(i += 2), n.volume = t.getUint8(i += 2) + t.getUint8(i + 1) / 8, i += 2, i += 2, n.matrix = new Uint32Array(e.subarray(i, i + 36)), n.width = t.getUint16(i += 36) + t.getUint16(i + 2) / 16, n.height = t.getUint16(i += 4) + t.getUint16(i + 2) / 16, n
                            },
                            traf: function(e) {
                                return {
                                    boxes: tt(e)
                                }
                            },
                            trak: function(e) {
                                return {
                                    boxes: tt(e)
                                }
                            },
                            trex: function(e) {
                                var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                                return {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    trackId: t.getUint32(4),
                                    defaultSampleDescriptionIndex: t.getUint32(8),
                                    defaultSampleDuration: t.getUint32(12),
                                    defaultSampleSize: t.getUint32(16),
                                    sampleDependsOn: 3 & e[20],
                                    sampleIsDependedOn: (192 & e[21]) >> 6,
                                    sampleHasRedundancy: (48 & e[21]) >> 4,
                                    samplePaddingValue: (14 & e[21]) >> 1,
                                    sampleIsDifferenceSample: !!(1 & e[21]),
                                    sampleDegradationPriority: t.getUint16(22)
                                }
                            },
                            trun: function(e) {
                                var t, i = {
                                        version: e[0],
                                        flags: new Uint8Array(e.subarray(1, 4)),
                                        samples: []
                                    },
                                    n = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    r = 1 & i.flags[2],
                                    a = 4 & i.flags[2],
                                    o = 1 & i.flags[1],
                                    s = 2 & i.flags[1],
                                    l = 4 & i.flags[1],
                                    c = 8 & i.flags[1],
                                    u = n.getUint32(4),
                                    d = 8;
                                for (r && (i.dataOffset = n.getInt32(d), d += 4), a && u && (t = {
                                        flags: ot(e.subarray(d, d + 4))
                                    }, d += 4, o && (t.duration = n.getUint32(d), d += 4), s && (t.size = n.getUint32(d), d += 4), c && (t.compositionTimeOffset = n.getUint32(d), d += 4), i.samples.push(t), u--); u--;) t = {}, o && (t.duration = n.getUint32(d), d += 4), s && (t.size = n.getUint32(d), d += 4), l && (t.flags = ot(e.subarray(d, d + 4)), d += 4), c && (t.compositionTimeOffset = n.getUint32(d), d += 4), i.samples.push(t);
                                return i
                            },
                            "url ": function(e) {
                                return {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4))
                                }
                            },
                            vmhd: function(e) {
                                var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                                return {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    graphicsmode: t.getUint16(4),
                                    opcolor: new Uint16Array([t.getUint16(6), t.getUint16(8), t.getUint16(10)])
                                }
                            }
                        },
                        lt = {
                            inspect: tt = function(e) {
                                for (var t, i, n, r, a, o = 0, s = [], l = new ArrayBuffer(e.length), c = new Uint8Array(l), u = 0; u < e.length; ++u) c[u] = e[u];
                                for (t = new DataView(l); o < e.byteLength;) i = t.getUint32(o), n = rt(e.subarray(o + 4, o + 8)), (a = (st[n] || function(e) {
                                    return {
                                        data: e
                                    }
                                })(e.subarray(o + 8, r = i > 1 ? o + i : e.byteLength))).size = i, a.type = n, s.push(a), o = r;
                                return s
                            },
                            textify: it = function(e, t) {
                                var i;
                                return t = t || 0, i = new Array(2 * t + 1).join(" "), e.map(function(e, n) {
                                    return i + e.type + "\n" + Object.keys(e).filter(function(e) {
                                        return "type" !== e && "boxes" !== e
                                    }).map(function(t) {
                                        var n = i + "  " + t + ": ",
                                            r = e[t];
                                        if (r instanceof Uint8Array || r instanceof Uint32Array) {
                                            var a = Array.prototype.slice.call(new Uint8Array(r.buffer, r.byteOffset, r.byteLength)).map(function(e) {
                                                return " " + ("00" + e.toString(16)).slice(-2)
                                            }).join("").match(/.{1,24}/g);
                                            return a ? 1 === a.length ? n + "<" + a.join("").slice(1) + ">" : n + "<\n" + a.map(function(e) {
                                                return i + "  " + e
                                            }).join("\n") + "\n" + i + "  >" : n + "<>"
                                        }
                                        return n + JSON.stringify(r, null, 2).split("\n").map(function(e, t) {
                                            return 0 === t ? e : i + "  " + e
                                        }).join("\n")
                                    }).join("\n") + (e.boxes ? "\n" + it(e.boxes, t + 1) : "")
                                }).join("\n")
                            },
                            parseTfdt: st.tfdt,
                            parseHdlr: st.hdlr,
                            parseTfhd: st.tfhd,
                            parseTrun: st.trun,
                            parseSidx: st.sidx
                        },
                        ct = function(e) {
                            for (var t, i, n = e.byteLength, r = [], a = 1; a < n - 2;) 0 === e[a] && 0 === e[a + 1] && 3 === e[a + 2] ? (r.push(a + 2), a += 2) : a++;
                            if (0 === r.length) return e;
                            t = n - r.length, i = new Uint8Array(t);
                            var o = 0;
                            for (a = 0; a < t; o++, a++) o === r[0] && (o++, r.shift()), i[a] = e[o];
                            return i
                        },
                        ut = ge.CaptionStream,
                        dt = function(e, t) {
                            for (var i = e, n = 0; n < t.length; n++) {
                                var r = t[n];
                                if (i < r.size) return r;
                                i -= r.size
                            }
                            return null
                        },
                        ht = function(e, t) {
                            var i = W.findBox(e, ["moof", "traf"]),
                                n = {},
                                r = [];
                            return W.findBox(e, ["mdat"]).forEach(function(e, t) {
                                r.push({
                                    mdat: e,
                                    traf: i[t]
                                })
                            }), r.forEach(function(e) {
                                var i, r = e.mdat,
                                    a = e.traf,
                                    o = W.findBox(a, ["tfhd"]),
                                    s = lt.parseTfhd(o[0]),
                                    l = s.trackId,
                                    c = W.findBox(a, ["tfdt"]),
                                    u = c.length > 0 ? lt.parseTfdt(c[0]).baseMediaDecodeTime : 0,
                                    d = W.findBox(a, ["trun"]);
                                t === l && d.length > 0 && (i = function(e, t, i) {
                                    var n, r, a, o, s = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                        l = [];
                                    for (r = 0; r + 4 < e.length; r += a)
                                        if (a = s.getUint32(r), r += 4, !(a <= 0)) switch (31 & e[r]) {
                                            case 6:
                                                var c = e.subarray(r + 1, r + 1 + a),
                                                    u = dt(r, t);
                                                n = {
                                                    nalUnitType: "sei_rbsp",
                                                    size: a,
                                                    data: c,
                                                    escapedRBSP: ct(c),
                                                    trackId: i
                                                }, u ? (n.pts = u.pts, n.dts = u.dts, o = u) : (n.pts = o.pts, n.dts = o.dts), l.push(n)
                                        }
                                    return l
                                }(r, function(e, t, i) {
                                    var n = u,
                                        r = i.defaultSampleDuration || 0,
                                        a = i.defaultSampleSize || 0,
                                        o = i.trackId,
                                        s = [];
                                    return d.forEach(function(e) {
                                        var t = lt.parseTrun(e).samples;
                                        t.forEach(function(e) {
                                            void 0 === e.duration && (e.duration = r), void 0 === e.size && (e.size = a), e.trackId = o, e.dts = n, void 0 === e.compositionTimeOffset && (e.compositionTimeOffset = 0), e.pts = n + e.compositionTimeOffset, n += e.duration
                                        }), s = s.concat(t)
                                    }), s
                                }(0, 0, s), l), n[l] || (n[l] = []), n[l] = n[l].concat(i))
                            }), n
                        },
                        pt = {
                            generator: H,
                            probe: W,
                            Transmuxer: nt.Transmuxer,
                            AudioSegmentStream: nt.AudioSegmentStream,
                            VideoSegmentStream: nt.VideoSegmentStream,
                            CaptionParser: function() {
                                var e, t, i, n, r, a = !1;
                                this.isInitialized = function() {
                                    return a
                                }, this.init = function() {
                                    e = new ut, a = !0, e.on("data", function(e) {
                                        e.startTime = e.startPts / n, e.endTime = e.endPts / n, r.captions.push(e), r.captionStreams[e.stream] = !0
                                    })
                                }, this.isNewInit = function(e, t) {
                                    return !(e && 0 === e.length || t && "object" == typeof t && 0 === Object.keys(t).length || i === e[0] && n === t[i])
                                }, this.parse = function(e, a, o) {
                                    var s;
                                    if (!this.isInitialized()) return null;
                                    if (!a || !o) return null;
                                    if (this.isNewInit(a, o)) n = o[i = a[0]];
                                    else if (!i || !n) return t.push(e), null;
                                    for (; t.length > 0;) {
                                        var l = t.shift();
                                        this.parse(l, a, o)
                                    }
                                    return null !== (s = function(e, t, i) {
                                        return t ? {
                                            seiNals: ht(e, t)[t],
                                            timescale: i
                                        } : null
                                    }(e, i, n)) && s.seiNals ? (this.pushNals(s.seiNals), this.flushStream(), r) : null
                                }, this.pushNals = function(t) {
                                    if (!this.isInitialized() || !t || 0 === t.length) return null;
                                    t.forEach(function(t) {
                                        e.push(t)
                                    })
                                }, this.flushStream = function() {
                                    if (!this.isInitialized()) return null;
                                    e.flush()
                                }, this.clearParsedCaptions = function() {
                                    r.captions = [], r.captionStreams = {}
                                }, this.resetCaptionStream = function() {
                                    if (!this.isInitialized()) return null;
                                    e.reset()
                                }, this.clearAllCaptions = function() {
                                    this.clearParsedCaptions(), this.resetCaptionStream()
                                }, this.reset = function() {
                                    t = [], i = null, n = null, r ? this.clearParsedCaptions() : r = {
                                        captions: [],
                                        captionStreams: {}
                                    }, this.resetCaptionStream()
                                }, this.reset()
                            }
                        },
                        ft = function(e, t) {
                            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                        },
                        mt = function() {
                            function e(e, t) {
                                for (var i = 0; i < t.length; i++) {
                                    var n = t[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
                                }
                            }
                            return function(t, i, n) {
                                return i && e(t.prototype, i), n && e(t, n), t
                            }
                        }(),
                        gt = function() {
                            function e(t, i) {
                                ft(this, e), this.options = i || {}, this.self = t, this.init()
                            }
                            return mt(e, [{
                                key: "init",
                                value: function() {
                                    var e, t;
                                    this.transmuxer && this.transmuxer.dispose(), this.transmuxer = new pt.Transmuxer(this.options), e = this.self, (t = this.transmuxer).on("data", function(t) {
                                        var i = t.initSegment;
                                        t.initSegment = {
                                            data: i.buffer,
                                            byteOffset: i.byteOffset,
                                            byteLength: i.byteLength
                                        };
                                        var n = t.data;
                                        t.data = n.buffer, e.postMessage({
                                            action: "data",
                                            segment: t,
                                            byteOffset: n.byteOffset,
                                            byteLength: n.byteLength
                                        }, [t.data])
                                    }), t.captionStream && t.captionStream.on("data", function(t) {
                                        e.postMessage({
                                            action: "caption",
                                            data: t
                                        })
                                    }), t.on("done", function(t) {
                                        e.postMessage({
                                            action: "done"
                                        })
                                    }), t.on("gopInfo", function(t) {
                                        e.postMessage({
                                            action: "gopInfo",
                                            gopInfo: t
                                        })
                                    }), t.on("videoSegmentTimingInfo", function(t) {
                                        e.postMessage({
                                            action: "videoSegmentTimingInfo",
                                            videoSegmentTimingInfo: t
                                        })
                                    })
                                }
                            }, {
                                key: "push",
                                value: function(e) {
                                    var t = new Uint8Array(e.data, e.byteOffset, e.byteLength);
                                    this.transmuxer.push(t)
                                }
                            }, {
                                key: "reset",
                                value: function() {
                                    this.init()
                                }
                            }, {
                                key: "setTimestampOffset",
                                value: function(e) {
                                    this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4 * (e.timestampOffset || 0)))
                                }
                            }, {
                                key: "setAudioAppendStart",
                                value: function(e) {
                                    this.transmuxer.setAudioAppendStart(Math.ceil(9e4 * e.appendStart))
                                }
                            }, {
                                key: "flush",
                                value: function(e) {
                                    this.transmuxer.flush()
                                }
                            }, {
                                key: "resetCaptions",
                                value: function() {
                                    this.transmuxer.resetCaptions()
                                }
                            }, {
                                key: "alignGopsWith",
                                value: function(e) {
                                    this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())
                                }
                            }]), e
                        }();
                    new function(e) {
                        e.onmessage = function(t) {
                            "init" === t.data.action && t.data.options ? this.messageHandlers = new gt(e, t.data.options) : (this.messageHandlers || (this.messageHandlers = new gt(e)), t.data && t.data.action && "init" !== t.data.action && this.messageHandlers[t.data.action] && this.messageHandlers[t.data.action](t.data))
                        }
                    }(i)
                }()
            }),
            Ne = {
                videoCodec: "avc1",
                videoObjectTypeIndicator: ".4d400d",
                audioProfile: "2"
            },
            Fe = function(e) {
                return e.map(function(e) {
                    return e.replace(/avc1\.(\d+)\.(\d+)/i, function(e, t, i) {
                        return "avc1." + ("00" + Number(t).toString(16)).slice(-2) + "00" + ("00" + Number(i).toString(16)).slice(-2)
                    })
                })
            },
            Be = function() {
                var e, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
                    i = {
                        codecCount: 0
                    };
                return i.codecCount = t.split(",").length, i.codecCount = i.codecCount || 2, (e = /(^|\s|,)+(avc[13])([^ ,]*)/i.exec(t)) && (i.videoCodec = e[2], i.videoObjectTypeIndicator = e[3]), i.audioProfile = /(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(t), i.audioProfile = i.audioProfile && i.audioProfile[2], i
            },
            Ve = function(e, t, i) {
                return e + "/" + t + '; codecs="' + i.filter(function(e) {
                    return !!e
                }).join(", ") + '"'
            },
            je = function(e, i) {
                var n = i.segments && i.segments.length && i.segments[0].map ? "mp4" : "mp2t",
                    r = function(e) {
                        var t = i.attributes || {};
                        return t.CODECS ? Be(t.CODECS) : Ne
                    }(),
                    a = i.attributes || {},
                    o = !0,
                    s = !1;
                if (!i) return [];
                if (e.mediaGroups.AUDIO && a.AUDIO) {
                    var l = e.mediaGroups.AUDIO[a.AUDIO];
                    if (l)
                        for (var c in s = !0, o = !1, l)
                            if (!l[c].uri && !l[c].playlists) {
                                o = !0;
                                break
                            }
                }
                s && !r.audioProfile && (o || (r.audioProfile = function(e, t) {
                    if (!e.mediaGroups.AUDIO || !t) return null;
                    var i = e.mediaGroups.AUDIO[t];
                    if (!i) return null;
                    for (var n in i) {
                        var r = i[n];
                        if (r.default && r.playlists) return Be(r.playlists[0].attributes.CODECS).audioProfile
                    }
                    return null
                }(e, a.AUDIO)), r.audioProfile || (t.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"), r.audioProfile = Ne.audioProfile));
                var u = {};
                r.videoCodec && (u.video = "" + r.videoCodec + r.videoObjectTypeIndicator), r.audioProfile && (u.audio = "mp4a.40." + r.audioProfile);
                var d = Ve("audio", n, [u.audio]),
                    h = Ve("video", n, [u.video]),
                    p = Ve("video", n, [u.video, u.audio]);
                return s ? !o && u.video ? [h, d] : o || u.video ? [p, d] : [d, d] : u.video ? [p] : [d]
            },
            ze = function(e) {
                return /mp4a\.\d+.\d+/i.test(e)
            },
            qe = function(e) {
                return /avc1\.[\da-f]+/i.test(e)
            },
            He = function(e, i, n) {
                var r = null,
                    a = null,
                    o = 0,
                    s = [],
                    l = [];
                if (!e && !i) return t.createTimeRange();
                if (!e) return i.buffered;
                if (!i) return e.buffered;
                if (n) return e.buffered;
                if (0 === e.buffered.length && 0 === i.buffered.length) return t.createTimeRange();
                for (var c = e.buffered, u = i.buffered, d = c.length; d--;) s.push({
                    time: c.start(d),
                    type: "start"
                }), s.push({
                    time: c.end(d),
                    type: "end"
                });
                for (d = u.length; d--;) s.push({
                    time: u.start(d),
                    type: "start"
                }), s.push({
                    time: u.end(d),
                    type: "end"
                });
                for (s.sort(function(e, t) {
                        return e.time - t.time
                    }), d = 0; d < s.length; d++) "start" === s[d].type ? 2 == ++o && (r = s[d].time) : "end" === s[d].type && 1 == --o && (a = s[d].time), null !== r && null !== a && (l.push([r, a]), r = null, a = null);
                return t.createTimeRanges(l)
            },
            Ge = function(e) {
                function i(e, n) {
                    _(this, i);
                    var r = E(this, (i.__proto__ || Object.getPrototypeOf(i)).call(this, t.EventTarget));
                    r.timestampOffset_ = 0, r.pendingBuffers_ = [], r.bufferUpdating_ = !1, r.mediaSource_ = e, r.codecs_ = n, r.audioCodec_ = null, r.videoCodec_ = null, r.audioDisabled_ = !1, r.appendAudioInitSegment_ = !0, r.gopBuffer_ = [], r.timeMapping_ = 0, r.safeAppend_ = t.browser.IE_VERSION >= 11;
                    var a = {
                        remux: !1,
                        alignGopsAtEnd: r.safeAppend_
                    };
                    return r.codecs_.forEach(function(e) {
                        ze(e) ? r.audioCodec_ = e : qe(e) && (r.videoCodec_ = e)
                    }), r.transmuxer_ = new Ue, r.transmuxer_.postMessage({
                        action: "init",
                        options: a
                    }), r.transmuxer_.onmessage = function(e) {
                        return "data" === e.data.action ? r.data_(e) : "done" === e.data.action ? r.done_(e) : "gopInfo" === e.data.action ? r.appendGopInfo_(e) : "videoSegmentTimingInfo" === e.data.action ? r.videoSegmentTimingInfo_(e.data.videoSegmentTimingInfo) : void 0
                    }, Object.defineProperty(r, "timestampOffset", {
                        get: function() {
                            return this.timestampOffset_
                        },
                        set: function(e) {
                            "number" == typeof e && e >= 0 && (this.timestampOffset_ = e, this.appendAudioInitSegment_ = !0, this.gopBuffer_.length = 0, this.timeMapping_ = 0, this.transmuxer_.postMessage({
                                action: "setTimestampOffset",
                                timestampOffset: e
                            }))
                        }
                    }), Object.defineProperty(r, "appendWindowStart", {
                        get: function() {
                            return (this.videoBuffer_ || this.audioBuffer_).appendWindowStart
                        },
                        set: function(e) {
                            this.videoBuffer_ && (this.videoBuffer_.appendWindowStart = e), this.audioBuffer_ && (this.audioBuffer_.appendWindowStart = e)
                        }
                    }), Object.defineProperty(r, "updating", {
                        get: function() {
                            return !!(this.bufferUpdating_ || !this.audioDisabled_ && this.audioBuffer_ && this.audioBuffer_.updating || this.videoBuffer_ && this.videoBuffer_.updating)
                        }
                    }), Object.defineProperty(r, "buffered", {
                        get: function() {
                            return He(this.videoBuffer_, this.audioBuffer_, this.audioDisabled_)
                        }
                    }), r
                }
                return S(i, t.EventTarget), T(i, [{
                    key: "data_",
                    value: function(e) {
                        var t = e.data.segment;
                        t.data = new Uint8Array(t.data, e.data.byteOffset, e.data.byteLength), t.initSegment = new Uint8Array(t.initSegment.data, t.initSegment.byteOffset, t.initSegment.byteLength),
                            function(e, t, i) {
                                var n = t.player_;
                                if (i.captions && i.captions.length)
                                    for (var r in e.inbandTextTracks_ || (e.inbandTextTracks_ = {}), i.captionStreams)
                                        if (!e.inbandTextTracks_[r]) {
                                            n.tech_.trigger({
                                                type: "usage",
                                                name: "hls-608"
                                            });
                                            var a = n.textTracks().getTrackById(r);
                                            e.inbandTextTracks_[r] = a || n.addRemoteTextTrack({
                                                kind: "captions",
                                                id: r,
                                                label: r
                                            }, !1).track
                                        } i.metadata && i.metadata.length && !e.metadataTrack_ && (e.metadataTrack_ = n.addRemoteTextTrack({
                                    kind: "metadata",
                                    label: "Timed Metadata"
                                }, !1).track, e.metadataTrack_.inBandMetadataTrackDispatchType = i.metadata.dispatchType)
                            }(this, this.mediaSource_, t), this.pendingBuffers_.push(t)
                    }
                }, {
                    key: "done_",
                    value: function(e) {
                        "closed" !== this.mediaSource_.readyState ? this.processPendingSegments_() : this.pendingBuffers_.length = 0
                    }
                }, {
                    key: "videoSegmentTimingInfo_",
                    value: function(e) {
                        var t = {
                            start: {
                                decode: e.start.dts / 9e4,
                                presentation: e.start.pts / 9e4
                            },
                            end: {
                                decode: e.end.dts / 9e4,
                                presentation: e.end.pts / 9e4
                            },
                            baseMediaDecodeTime: e.baseMediaDecodeTime / 9e4
                        };
                        e.prependedContentDuration && (t.prependedContentDuration = e.prependedContentDuration / 9e4), this.trigger({
                            type: "videoSegmentTimingInfo",
                            videoSegmentTimingInfo: t
                        })
                    }
                }, {
                    key: "createRealSourceBuffers_",
                    value: function() {
                        var e = this,
                            t = ["audio", "video"];
                        t.forEach(function(i) {
                            if (e[i + "Codec_"] && !e[i + "Buffer_"]) {
                                var n = null;
                                e.mediaSource_[i + "Buffer_"] ? (n = e.mediaSource_[i + "Buffer_"]).updating = !1 : (n = function(e, t) {
                                    var i = e.addSourceBuffer(t),
                                        n = Object.create(null);
                                    n.updating = !1, n.realBuffer_ = i;
                                    var r = function(e) {
                                        "function" == typeof i[e] ? n[e] = function() {
                                            return i[e].apply(i, arguments)
                                        } : void 0 === n[e] && Object.defineProperty(n, e, {
                                            get: function() {
                                                return i[e]
                                            },
                                            set: function(t) {
                                                return i[e] = t
                                            }
                                        })
                                    };
                                    for (var a in i) r(a);
                                    return n
                                }(e.mediaSource_.nativeMediaSource_, i + '/mp4;codecs="' + e[i + "Codec_"] + '"'), e.mediaSource_[i + "Buffer_"] = n), e[i + "Buffer_"] = n, ["update", "updatestart", "updateend"].forEach(function(r) {
                                    n.addEventListener(r, function() {
                                        if ("audio" !== i || !e.audioDisabled_) return "updateend" === r && (e[i + "Buffer_"].updating = !1), t.every(function(t) {
                                            return !("audio" !== t || !e.audioDisabled_) || i === t || !e[t + "Buffer_"] || !e[t + "Buffer_"].updating
                                        }) ? e.trigger(r) : void 0
                                    })
                                })
                            }
                        })
                    }
                }, {
                    key: "appendBuffer",
                    value: function(e) {
                        if (this.bufferUpdating_ = !0, this.audioBuffer_ && this.audioBuffer_.buffered.length) {
                            var t = this.audioBuffer_.buffered;
                            this.transmuxer_.postMessage({
                                action: "setAudioAppendStart",
                                appendStart: t.end(t.length - 1)
                            })
                        }
                        this.videoBuffer_ && this.transmuxer_.postMessage({
                            action: "alignGopsWith",
                            gopsToAlignWith: function(e, t, i) {
                                if (null == t || !e.length) return [];
                                var n = Math.ceil(9e4 * (t - i + 3)),
                                    r = void 0;
                                for (r = 0; r < e.length && !(e[r].pts > n); r++);
                                return e.slice(r)
                            }(this.gopBuffer_, this.mediaSource_.player_ ? this.mediaSource_.player_.currentTime() : null, this.timeMapping_)
                        }), this.transmuxer_.postMessage({
                            action: "push",
                            data: e.buffer,
                            byteOffset: e.byteOffset,
                            byteLength: e.byteLength
                        }, [e.buffer]), this.transmuxer_.postMessage({
                            action: "flush"
                        })
                    }
                }, {
                    key: "appendGopInfo_",
                    value: function(e) {
                        this.gopBuffer_ = function(e, t, i) {
                            if (!t.length) return e;
                            if (i) return t.slice();
                            for (var n = t[0].pts, r = 0; r < e.length && !(e[r].pts >= n); r++);
                            return e.slice(0, r).concat(t)
                        }(this.gopBuffer_, e.data.gopInfo, this.safeAppend_)
                    }
                }, {
                    key: "remove",
                    value: function(e, t) {
                        if (this.videoBuffer_ && (this.videoBuffer_.updating = !0, this.videoBuffer_.remove(e, t), this.gopBuffer_ = function(e, t, i, n) {
                                for (var r = Math.ceil(9e4 * (t - n)), a = Math.ceil(9e4 * (i - n)), o = e.slice(), s = e.length; s-- && !(e[s].pts <= a););
                                if (-1 === s) return o;
                                for (var l = s + 1; l-- && !(e[l].pts <= r););
                                return l = Math.max(l, 0), o.splice(l, s - l + 1), o
                            }(this.gopBuffer_, e, t, this.timeMapping_)), !this.audioDisabled_ && this.audioBuffer_ && (this.audioBuffer_.updating = !0, this.audioBuffer_.remove(e, t)), Se(e, t, this.metadataTrack_), this.inbandTextTracks_)
                            for (var i in this.inbandTextTracks_) Se(e, t, this.inbandTextTracks_[i])
                    }
                }, {
                    key: "processPendingSegments_",
                    value: function() {
                        var e = {
                            video: {
                                segments: [],
                                bytes: 0
                            },
                            audio: {
                                segments: [],
                                bytes: 0
                            },
                            captions: [],
                            metadata: []
                        };
                        e = this.pendingBuffers_.reduce(function(e, t) {
                            var i = t.type,
                                n = t.data,
                                r = t.initSegment;
                            return e[i].segments.push(n), e[i].bytes += n.byteLength, e[i].initSegment = r, t.captions && (e.captions = e.captions.concat(t.captions)), t.info && (e[i].info = t.info), t.metadata && (e.metadata = e.metadata.concat(t.metadata)), e
                        }, e), this.videoBuffer_ || this.audioBuffer_ || (0 === e.video.bytes && (this.videoCodec_ = null), 0 === e.audio.bytes && (this.audioCodec_ = null), this.createRealSourceBuffers_()), e.audio.info && this.mediaSource_.trigger({
                            type: "audioinfo",
                            info: e.audio.info
                        }), e.video.info && this.mediaSource_.trigger({
                            type: "videoinfo",
                            info: e.video.info
                        }), this.appendAudioInitSegment_ && (!this.audioDisabled_ && this.audioBuffer_ && (e.audio.segments.unshift(e.audio.initSegment), e.audio.bytes += e.audio.initSegment.byteLength), this.appendAudioInitSegment_ = !1);
                        var t = !1;
                        this.videoBuffer_ && e.video.bytes ? (e.video.segments.unshift(e.video.initSegment), e.video.bytes += e.video.initSegment.byteLength, this.concatAndAppendSegments_(e.video, this.videoBuffer_)) : !this.videoBuffer_ || !this.audioDisabled_ && this.audioBuffer_ || (t = !0), we(this, e.captions, e.metadata), !this.audioDisabled_ && this.audioBuffer_ && this.concatAndAppendSegments_(e.audio, this.audioBuffer_), this.pendingBuffers_.length = 0, t && this.trigger("updateend"), this.bufferUpdating_ = !1
                    }
                }, {
                    key: "concatAndAppendSegments_",
                    value: function(e, t) {
                        var i = 0,
                            n = void 0;
                        if (e.bytes) {
                            n = new Uint8Array(e.bytes), e.segments.forEach(function(e) {
                                n.set(e, i), i += e.byteLength
                            });
                            try {
                                t.updating = !0, t.appendBuffer(n)
                            } catch (e) {
                                this.mediaSource_.player_ && this.mediaSource_.player_.error({
                                    code: -3,
                                    type: "APPEND_BUFFER_ERR",
                                    message: e.message,
                                    originalError: e
                                })
                            }
                        }
                    }
                }, {
                    key: "abort",
                    value: function() {
                        this.videoBuffer_ && this.videoBuffer_.abort(), !this.audioDisabled_ && this.audioBuffer_ && this.audioBuffer_.abort(), this.transmuxer_ && this.transmuxer_.postMessage({
                            action: "reset"
                        }), this.pendingBuffers_.length = 0, this.bufferUpdating_ = !1
                    }
                }]), i
            }(),
            We = function(e) {
                function i() {
                    _(this, i);
                    var e = E(this, (i.__proto__ || Object.getPrototypeOf(i)).call(this)),
                        n = void 0;
                    for (n in e.nativeMediaSource_ = new u.MediaSource, e.nativeMediaSource_) n in i.prototype || "function" != typeof e.nativeMediaSource_[n] || (e[n] = e.nativeMediaSource_[n].bind(e.nativeMediaSource_));
                    return e.duration_ = NaN, Object.defineProperty(e, "duration", {
                        get: function() {
                            return this.duration_ === 1 / 0 ? this.duration_ : this.nativeMediaSource_.duration
                        },
                        set: function(e) {
                            this.duration_ = e, e === 1 / 0 || (this.nativeMediaSource_.duration = e)
                        }
                    }), Object.defineProperty(e, "seekable", {
                        get: function() {
                            return this.duration_ === 1 / 0 ? t.createTimeRanges([
                                [0, this.nativeMediaSource_.duration]
                            ]) : this.nativeMediaSource_.seekable
                        }
                    }), Object.defineProperty(e, "readyState", {
                        get: function() {
                            return this.nativeMediaSource_.readyState
                        }
                    }), Object.defineProperty(e, "activeSourceBuffers", {
                        get: function() {
                            return this.activeSourceBuffers_
                        }
                    }), e.sourceBuffers = [], e.activeSourceBuffers_ = [], e.updateActiveSourceBuffers_ = function() {
                        if (e.activeSourceBuffers_.length = 0, 1 === e.sourceBuffers.length) {
                            var t = e.sourceBuffers[0];
                            return t.appendAudioInitSegment_ = !0, t.audioDisabled_ = !t.audioCodec_, void e.activeSourceBuffers_.push(t)
                        }
                        for (var i = !1, n = !0, r = 0; r < e.player_.audioTracks().length; r++) {
                            var a = e.player_.audioTracks()[r];
                            if (a.enabled && "main" !== a.kind) {
                                i = !0, n = !1;
                                break
                            }
                        }
                        e.sourceBuffers.forEach(function(t, r) {
                            if (t.appendAudioInitSegment_ = !0, t.videoCodec_ && t.audioCodec_) t.audioDisabled_ = i;
                            else if (t.videoCodec_ && !t.audioCodec_) t.audioDisabled_ = !0, n = !1;
                            else if (!t.videoCodec_ && t.audioCodec_ && (t.audioDisabled_ = r ? n : !n, t.audioDisabled_)) return;
                            e.activeSourceBuffers_.push(t)
                        })
                    }, e.onPlayerMediachange_ = function() {
                        e.sourceBuffers.forEach(function(e) {
                            e.appendAudioInitSegment_ = !0
                        })
                    }, e.onHlsReset_ = function() {
                        e.sourceBuffers.forEach(function(e) {
                            e.transmuxer_ && e.transmuxer_.postMessage({
                                action: "resetCaptions"
                            })
                        })
                    }, e.onHlsSegmentTimeMapping_ = function(t) {
                        e.sourceBuffers.forEach(function(e) {
                            return e.timeMapping_ = t.mapping
                        })
                    }, ["sourceopen", "sourceclose", "sourceended"].forEach(function(e) {
                        this.nativeMediaSource_.addEventListener(e, this.trigger.bind(this))
                    }, e), e.on("sourceopen", function(i) {
                        var n = l.querySelector('[src="' + e.url_ + '"]');
                        n && (e.player_ = t(n.parentNode), e.player_ && (e.player_.tech_.on("hls-reset", e.onHlsReset_), e.player_.tech_.on("hls-segment-time-mapping", e.onHlsSegmentTimeMapping_), e.player_.audioTracks && e.player_.audioTracks() && (e.player_.audioTracks().on("change", e.updateActiveSourceBuffers_), e.player_.audioTracks().on("addtrack", e.updateActiveSourceBuffers_), e.player_.audioTracks().on("removetrack", e.updateActiveSourceBuffers_)), e.player_.on("mediachange", e.onPlayerMediachange_)))
                    }), e.on("sourceended", function(t) {
                        for (var i = Ee(e.duration), n = 0; n < e.sourceBuffers.length; n++) {
                            var r = e.sourceBuffers[n],
                                a = r.metadataTrack_ && r.metadataTrack_.cues;
                            a && a.length && (a[a.length - 1].endTime = i)
                        }
                    }), e.on("sourceclose", function(e) {
                        this.sourceBuffers.forEach(function(e) {
                            e.transmuxer_ && e.transmuxer_.terminate()
                        }), this.sourceBuffers.length = 0, this.player_ && (this.player_.audioTracks && this.player_.audioTracks() && (this.player_.audioTracks().off("change", this.updateActiveSourceBuffers_), this.player_.audioTracks().off("addtrack", this.updateActiveSourceBuffers_), this.player_.audioTracks().off("removetrack", this.updateActiveSourceBuffers_)), this.player_.el_ && this.player_.off("mediachange", this.onPlayerMediachange_), this.player_.tech_ && this.player_.tech_.el_ && (this.player_.tech_.off("hls-reset", this.onHlsReset_), this.player_.tech_.off("hls-segment-time-mapping", this.onHlsSegmentTimeMapping_)))
                    }), e
                }
                return S(i, t.EventTarget), T(i, [{
                    key: "addSeekableRange_",
                    value: function(e, t) {
                        var i = void 0;
                        if (this.duration !== 1 / 0) throw (i = new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name = "InvalidStateError", i.code = 11, i;
                        (t > this.nativeMediaSource_.duration || isNaN(this.nativeMediaSource_.duration)) && (this.nativeMediaSource_.duration = t)
                    }
                }, {
                    key: "addSourceBuffer",
                    value: function(e) {
                        var t = void 0,
                            i = function(e) {
                                var t = {
                                        type: "",
                                        parameters: {}
                                    },
                                    i = e.trim().split(";");
                                return t.type = i.shift().trim(), i.forEach(function(e) {
                                    var i = e.trim().split("=");
                                    if (i.length > 1) {
                                        var n = i[0].replace(/"/g, "").trim(),
                                            r = i[1].replace(/"/g, "").trim();
                                        t.parameters[n] = r
                                    }
                                }), t
                            }(e);
                        if (/^(video|audio)\/mp2t$/i.test(i.type)) {
                            var n = [];
                            i.parameters && i.parameters.codecs && (n = i.parameters.codecs.split(","), n = (n = Fe(n)).filter(function(e) {
                                return ze(e) || qe(e)
                            })), 0 === n.length && (n = ["avc1.4d400d", "mp4a.40.2"]), t = new Ge(this, n), 0 !== this.sourceBuffers.length && (this.sourceBuffers[0].createRealSourceBuffers_(), t.createRealSourceBuffers_(), this.sourceBuffers[0].audioDisabled_ = !0)
                        } else t = this.nativeMediaSource_.addSourceBuffer(e);
                        return this.sourceBuffers.push(t), t
                    }
                }]), i
            }(),
            Ye = 0;
        t.mediaSources = {};
        var Ke = function(e, i) {
                var n = t.mediaSources[e];
                if (!n) throw new Error("Media Source not found (Video.js)");
                n.trigger({
                    type: "sourceopen",
                    swfId: i
                })
            },
            Xe = function() {
                return !!u.MediaSource && !!u.MediaSource.isTypeSupported && u.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')
            },
            Je = function() {
                if (this.MediaSource = {
                        open: Ke,
                        supportsNativeMediaSources: Xe
                    }, Xe()) return new We;
                throw new Error("Cannot use create a virtual MediaSource for this video")
            };
        Je.open = Ke, Je.supportsNativeMediaSources = Xe;
        var $e = {
            createObjectURL: function(e) {
                var i = void 0;
                return e instanceof We ? (i = u.URL.createObjectURL(e.nativeMediaSource_), e.url_ = i, i) : e instanceof We ? (i = "blob:vjs-media-source/" + Ye, Ye++, t.mediaSources[i] = e, i) : (i = u.URL.createObjectURL(e), e.url_ = i, i)
            }
        };
        t.MediaSource = Je, t.URL = $e;
        var Qe = function(e) {
                return !!e && "object" == typeof e
            },
            Ze = function e() {
                for (var t = arguments.length, i = new Array(t), n = 0; n < t; n++) i[n] = arguments[n];
                return i.reduce(function(t, i) {
                    return Object.keys(i).forEach(function(n) {
                        t[n] = Array.isArray(t[n]) && Array.isArray(i[n]) ? t[n].concat(i[n]) : Qe(t[n]) && Qe(i[n]) ? e(t[n], i[n]) : i[n]
                    }), t
                }, {})
            },
            et = function(e) {
                return e.reduce(function(e, t) {
                    return e.concat(t)
                }, [])
            },
            tt = function(e) {
                if (!e.length) return [];
                for (var t = [], i = 0; i < e.length; i++) t.push(e[i]);
                return t
            },
            it = function(e) {
                var t;
                return (t = e.reduce(function(e, t) {
                    var i, n = t.attributes.id + (t.attributes.lang || "");
                    return e[n] ? (t.segments[0].discontinuity = !0, (i = e[n].segments).push.apply(i, t.segments), t.attributes.contentProtection && (e[n].attributes.contentProtection = t.attributes.contentProtection)) : e[n] = t, e
                }, {}), Object.keys(t).map(function(e) {
                    return t[e]
                })).map(function(e) {
                    return e.discontinuityStarts = e.segments.reduce(function(e, t, i) {
                        return t.discontinuity && e.push(i), e
                    }, []), e
                })
            },
            nt = function(e) {
                var t, i = e.attributes,
                    n = e.segments,
                    r = {
                        attributes: (t = {
                            NAME: i.id,
                            AUDIO: "audio",
                            SUBTITLES: "subs",
                            RESOLUTION: {
                                width: i.width,
                                height: i.height
                            },
                            CODECS: i.codecs,
                            BANDWIDTH: i.bandwidth
                        }, t["PROGRAM-ID"] = 1, t),
                        uri: "",
                        endList: "static" === (i.type || "static"),
                        timeline: i.periodIndex,
                        resolvedUri: "",
                        targetDuration: i.duration,
                        segments: n,
                        mediaSequence: n.length ? n[0].number : 1
                    };
                return i.contentProtection && (r.contentProtection = i.contentProtection), r
            };
        "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self && self;
        var rt = function(e, t) {
                return function(e, t) {
                    var i, n, r, a, o;
                    i = /^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/, n = /^([^\/?#]*)(.*)$/, r = /(?:\/|^)\.(?=\/)/g, a = /(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g, o = {
                        buildAbsoluteURL: function(e, t, i) {
                            if (i = i || {}, e = e.trim(), !(t = t.trim())) {
                                if (!i.alwaysNormalize) return e;
                                var r = o.parseURL(e);
                                if (!r) throw new Error("Error trying to parse base URL.");
                                return r.path = o.normalizePath(r.path), o.buildURLFromParts(r)
                            }
                            var a = o.parseURL(t);
                            if (!a) throw new Error("Error trying to parse relative URL.");
                            if (a.scheme) return i.alwaysNormalize ? (a.path = o.normalizePath(a.path), o.buildURLFromParts(a)) : t;
                            var s = o.parseURL(e);
                            if (!s) throw new Error("Error trying to parse base URL.");
                            if (!s.netLoc && s.path && "/" !== s.path[0]) {
                                var l = n.exec(s.path);
                                s.netLoc = l[1], s.path = l[2]
                            }
                            s.netLoc && !s.path && (s.path = "/");
                            var c = {
                                scheme: s.scheme,
                                netLoc: a.netLoc,
                                path: null,
                                params: a.params,
                                query: a.query,
                                fragment: a.fragment
                            };
                            if (!a.netLoc && (c.netLoc = s.netLoc, "/" !== a.path[0]))
                                if (a.path) {
                                    var u = s.path,
                                        d = u.substring(0, u.lastIndexOf("/") + 1) + a.path;
                                    c.path = o.normalizePath(d)
                                } else c.path = s.path, a.params || (c.params = s.params, a.query || (c.query = s.query));
                            return null === c.path && (c.path = i.alwaysNormalize ? o.normalizePath(a.path) : a.path), o.buildURLFromParts(c)
                        },
                        parseURL: function(e) {
                            var t = i.exec(e);
                            return t ? {
                                scheme: t[1] || "",
                                netLoc: t[2] || "",
                                path: t[3] || "",
                                params: t[4] || "",
                                query: t[5] || "",
                                fragment: t[6] || ""
                            } : null
                        },
                        normalizePath: function(e) {
                            for (e = e.split("").reverse().join("").replace(r, ""); e.length !== (e = e.replace(a, "")).length;);
                            return e.split("").reverse().join("")
                        },
                        buildURLFromParts: function(e) {
                            return e.scheme + e.netLoc + e.path + e.params + e.query + e.fragment
                        }
                    }, e.exports = o
                }(t = {
                    exports: {}
                }), t.exports
            }(),
            at = function(e, t) {
                return /^[a-z]+:/i.test(t) ? t : (/\/\//i.test(e) || (e = rt.buildAbsoluteURL(u.location.href, e)), rt.buildAbsoluteURL(e, t))
            },
            ot = function(e) {
                var t = e.baseUrl,
                    i = e.source,
                    n = void 0 === i ? "" : i,
                    r = e.range,
                    a = void 0 === r ? "" : r,
                    o = {
                        uri: n,
                        resolvedUri: at((void 0 === t ? "" : t) || "", n)
                    };
                if (a) {
                    var s = a.split("-"),
                        l = parseInt(s[0], 10),
                        c = parseInt(s[1], 10);
                    o.byterange = {
                        length: c - l,
                        offset: l
                    }
                }
                return o
            },
            st = function(e, t, i) {
                var n = e.timescale,
                    r = e.start,
                    a = e.minimumUpdatePeriod;
                return Math.ceil((((e.NOW + e.clientOffset) / 1e3 + (void 0 === a ? 0 : a) - (e.availabilityStartTime + (void 0 === r ? 0 : r))) * (void 0 === n ? 1 : n) - t) / i)
            },
            lt = function(e, t) {
                for (var i = e.type, n = void 0 === i ? "static" : i, r = e.minimumUpdatePeriod, a = void 0 === r ? 0 : r, o = e.media, s = void 0 === o ? "" : o, l = e.sourceDuration, c = e.timescale, u = void 0 === c ? 1 : c, d = e.startNumber, h = void 0 === d ? 1 : d, p = e.periodIndex, f = [], m = -1, g = 0; g < t.length; g++) {
                    var y = t[g],
                        v = y.d,
                        b = y.r || 0,
                        _ = y.t || 0;
                    m < 0 && (m = _), _ && _ > m && (m = _);
                    var T = void 0;
                    if (b < 0) {
                        var S = g + 1;
                        T = S === t.length ? "dynamic" === n && a > 0 && s.indexOf("$Number$") > 0 ? st(e, m, v) : (l * u - m) / v : (t[S].t - m) / v
                    } else T = b + 1;
                    for (var E = h + f.length + T, w = h + f.length; w < E;) f.push({
                        number: w,
                        duration: v / u,
                        time: m,
                        timeline: p
                    }), m += v, w++
                }
                return f
            },
            ct = {
                static: function(e) {
                    var t = e.timescale;
                    return {
                        start: 0,
                        end: Math.ceil(e.sourceDuration / (e.duration / (void 0 === t ? 1 : t)))
                    }
                },
                dynamic: function(e) {
                    var t = e.timescale,
                        i = void 0 === t ? 1 : t,
                        n = e.duration,
                        r = e.start,
                        a = e.minimumUpdatePeriod,
                        o = e.timeShiftBufferDepth,
                        s = void 0 === o ? 1 / 0 : o,
                        l = (e.NOW + e.clientOffset) / 1e3,
                        c = e.availabilityStartTime + (void 0 === r ? 0 : r),
                        u = Math.ceil((l + (void 0 === a ? 0 : a) - c) * i / n),
                        d = Math.floor((l - c - s) * i / n),
                        h = Math.floor((l - c) * i / n);
                    return {
                        start: Math.max(0, d),
                        end: Math.min(u, h)
                    }
                }
            },
            ut = function(e) {
                var t = e.type,
                    i = void 0 === t ? "static" : t,
                    n = e.duration,
                    r = e.timescale,
                    a = void 0 === r ? 1 : r,
                    o = e.sourceDuration,
                    s = ct[i](e),
                    l = function(e, t) {
                        for (var i = [], n = s.start; n < t; n++) i.push(n);
                        return i
                    }(0, s.end).map(function(e) {
                        return function(t, i) {
                            var n = e.duration,
                                r = e.timescale,
                                a = e.startNumber;
                            return {
                                number: (void 0 === a ? 1 : a) + t,
                                duration: n / (void 0 === r ? 1 : r),
                                timeline: e.periodIndex,
                                time: i * n
                            }
                        }
                    }(e));
                if ("static" === i) {
                    var c = l.length - 1;
                    l[c].duration = o - n / a * c
                }
                return l
            },
            dt = /\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,
            ht = function(e, t) {
                return e.replace(dt, function(e) {
                    return function(t, i, n, r) {
                        if ("$$" === t) return "$";
                        if (void 0 === e[i]) return t;
                        var a = "" + e[i];
                        return "RepresentationID" === i ? a : (r = n ? parseInt(r, 10) : 1, a.length >= r ? a : "" + new Array(r - a.length + 1).join("0") + a)
                    }
                }(t))
            },
            pt = function(e, t) {
                var i = {
                        RepresentationID: e.id,
                        Bandwidth: e.bandwidth || 0
                    },
                    n = e.initialization,
                    r = void 0 === n ? {
                        sourceURL: "",
                        range: ""
                    } : n,
                    a = ot({
                        baseUrl: e.baseUrl,
                        source: ht(r.sourceURL, i),
                        range: r.range
                    });
                return function(e, t) {
                    return e.duration || t ? e.duration ? ut(e) : lt(e, t) : [{
                        number: e.startNumber || 1,
                        duration: e.sourceDuration,
                        time: 0,
                        timeline: e.periodIndex
                    }]
                }(e, t).map(function(t) {
                    i.Number = t.number, i.Time = t.time;
                    var n = ht(e.media || "", i);
                    return {
                        uri: n,
                        timeline: t.timeline,
                        duration: t.duration,
                        resolvedUri: at(e.baseUrl || "", n),
                        map: a,
                        number: t.number
                    }
                })
            },
            ft = function(e, t) {
                var i = e.duration,
                    n = e.segmentUrls,
                    r = void 0 === n ? [] : n;
                if (!i && !t || i && t) throw new Error("SEGMENT_TIME_UNSPECIFIED");
                var a, o = r.map(function(t) {
                    return function(e, t) {
                        var i = e.baseUrl,
                            n = e.initialization,
                            r = void 0 === n ? {} : n,
                            a = ot({
                                baseUrl: i,
                                source: r.sourceURL,
                                range: r.range
                            }),
                            o = ot({
                                baseUrl: i,
                                source: t.media,
                                range: t.mediaRange
                            });
                        return o.map = a, o
                    }(e, t)
                });
                return i && (a = ut(e)), t && (a = lt(e, t)), a.map(function(e, t) {
                    if (o[t]) {
                        var i = o[t];
                        return i.timeline = e.timeline, i.duration = e.duration, i.number = e.number, i
                    }
                }).filter(function(e) {
                    return e
                })
            },
            mt = function(e) {
                var t = e.baseUrl,
                    i = e.initialization,
                    n = void 0 === i ? {} : i,
                    r = e.sourceDuration,
                    a = e.timescale,
                    o = void 0 === a ? 1 : a,
                    s = e.indexRange,
                    l = void 0 === s ? "" : s,
                    c = e.duration;
                if (!t) throw new Error("NO_BASE_URL");
                var u = ot({
                        baseUrl: t,
                        source: n.sourceURL,
                        range: n.range
                    }),
                    d = ot({
                        baseUrl: t,
                        source: t,
                        range: l
                    });
                if (d.map = u, c) {
                    var h = ut(e);
                    h.length && (d.duration = h[0].duration, d.timeline = h[0].timeline)
                } else r && (d.duration = r / o, d.timeline = 0);
                return d.number = 0, [d]
            },
            gt = function(e) {
                var t, i, n = e.attributes,
                    r = e.segmentInfo;
                if (r.template ? (i = pt, t = Ze(n, r.template)) : r.base ? (i = mt, t = Ze(n, r.base)) : r.list && (i = ft, t = Ze(n, r.list)), !i) return {
                    attributes: n
                };
                var a = i(t, r.timeline);
                if (t.duration) {
                    var o = t.timescale;
                    t.duration = t.duration / (void 0 === o ? 1 : o)
                } else t.duration = a.length ? a.reduce(function(e, t) {
                    return Math.max(e, Math.ceil(t.duration))
                }, 0) : 0;
                return {
                    attributes: t,
                    segments: a
                }
            },
            yt = function(e, t) {
                return tt(e.childNodes).filter(function(e) {
                    return e.tagName === t
                })
            },
            vt = function(e) {
                return e.textContent.trim()
            },
            bt = function(e) {
                var t = /P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);
                if (!t) return 0;
                var i = t.slice(1),
                    n = i[1],
                    r = i[2],
                    a = i[3],
                    o = i[4],
                    s = i[5];
                return 31536e3 * parseFloat(i[0] || 0) + 2592e3 * parseFloat(n || 0) + 86400 * parseFloat(r || 0) + 3600 * parseFloat(a || 0) + 60 * parseFloat(o || 0) + parseFloat(s || 0)
            },
            _t = {
                mediaPresentationDuration: function(e) {
                    return bt(e)
                },
                availabilityStartTime: function(e) {
                    return /^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t = e) && (t += "Z"), Date.parse(t) / 1e3;
                    var t
                },
                minimumUpdatePeriod: function(e) {
                    return bt(e)
                },
                timeShiftBufferDepth: function(e) {
                    return bt(e)
                },
                start: function(e) {
                    return bt(e)
                },
                width: function(e) {
                    return parseInt(e, 10)
                },
                height: function(e) {
                    return parseInt(e, 10)
                },
                bandwidth: function(e) {
                    return parseInt(e, 10)
                },
                startNumber: function(e) {
                    return parseInt(e, 10)
                },
                timescale: function(e) {
                    return parseInt(e, 10)
                },
                duration: function(e) {
                    var t = parseInt(e, 10);
                    return isNaN(t) ? bt(e) : t
                },
                d: function(e) {
                    return parseInt(e, 10)
                },
                t: function(e) {
                    return parseInt(e, 10)
                },
                r: function(e) {
                    return parseInt(e, 10)
                },
                DEFAULT: function(e) {
                    return e
                }
            },
            Tt = function(e) {
                return e && e.attributes ? tt(e.attributes).reduce(function(e, t) {
                    return e[t.name] = (_t[t.name] || _t.DEFAULT)(t.value), e
                }, {}) : {}
            },
            St = {
                "urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b": "org.w3.clearkey",
                "urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed": "com.widevine.alpha",
                "urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95": "com.microsoft.playready",
                "urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb": "com.adobe.primetime"
            },
            Et = function(e, t) {
                return t.length ? et(e.map(function(e) {
                    return t.map(function(t) {
                        return at(e, vt(t))
                    })
                })) : e
            },
            wt = function(e) {
                var t = yt(e, "SegmentTemplate")[0],
                    i = yt(e, "SegmentList")[0],
                    n = i && yt(i, "SegmentURL").map(function(e) {
                        return Ze({
                            tag: "SegmentURL"
                        }, Tt(e))
                    }),
                    r = yt(e, "SegmentBase")[0],
                    a = i || t,
                    o = a && yt(a, "SegmentTimeline")[0],
                    s = i || r || t,
                    l = s && yt(s, "Initialization")[0],
                    c = t && Tt(t);
                c && l ? c.initialization = l && Tt(l) : c && c.initialization && (c.initialization = {
                    sourceURL: c.initialization
                });
                var u = {
                    template: c,
                    timeline: o && yt(o, "S").map(function(e) {
                        return Tt(e)
                    }),
                    list: i && Ze(Tt(i), {
                        segmentUrls: n,
                        initialization: Tt(l)
                    }),
                    base: r && Ze(Tt(r), {
                        initialization: Tt(l)
                    })
                };
                return Object.keys(u).forEach(function(e) {
                    u[e] || delete u[e]
                }), u
            },
            Ct = function(e) {
                return e.reduce(function(e, t) {
                    var i = Tt(t),
                        n = St[i.schemeIdUri];
                    if (n) {
                        e[n] = {
                            attributes: i
                        };
                        var r = yt(t, "cenc:pssh")[0];
                        if (r) {
                            var a = vt(r),
                                o = a && function(e) {
                                    for (var t = u.atob(a), i = new Uint8Array(t.length), n = 0; n < t.length; n++) i[n] = t.charCodeAt(n);
                                    return i
                                }();
                            e[n].pssh = o
                        }
                    }
                    return e
                }, {})
            },
            kt = function(e) {
                if ("" === e) throw new Error("DASH_EMPTY_MANIFEST");
                var t = (new u.DOMParser).parseFromString(e, "application/xml"),
                    i = t && "MPD" === t.documentElement.tagName ? t.documentElement : null;
                if (!i || i && i.getElementsByTagName("parsererror").length > 0) throw new Error("DASH_INVALID_XML");
                return i
            },
            Pt = t.EventTarget,
            At = t.mergeOptions,
            It = function(e, t) {
                for (var i = At(e, {
                        duration: t.duration,
                        minimumUpdatePeriod: t.minimumUpdatePeriod
                    }), n = 0; n < t.playlists.length; n++) {
                    var r = I(i, t.playlists[n]);
                    r && (i = r)
                }
                return A(t, function(e, t, n, r) {
                    if (e.playlists && e.playlists.length) {
                        var a = e.playlists[0].uri,
                            o = I(i, e.playlists[0]);
                        o && ((i = o).mediaGroups[t][n][r].playlists[0] = i.playlists[a])
                    }
                }), i
            },
            Lt = function(e) {
                function t(e, i, n, r) {
                    _(this, t);
                    var a = E(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                    if (a.hls_ = i, a.withCredentials = n, !e) throw new Error("A non-empty playlist URL or playlist is required");
                    return a.on("minimumUpdatePeriod", function() {
                        a.refreshXml_()
                    }), a.on("mediaupdatetimeout", function() {
                        a.refreshMedia_()
                    }), "string" == typeof e ? (a.srcUrl = e, a.state = "HAVE_NOTHING", E(a)) : (a.masterPlaylistLoader_ = r, a.state = "HAVE_METADATA", a.started = !0, a.media(e), u.setTimeout(function() {
                        a.trigger("loadedmetadata")
                    }, 0), a)
                }
                return S(t, Pt), T(t, [{
                    key: "dispose",
                    value: function() {
                        this.stopRequest(), u.clearTimeout(this.mediaUpdateTimeout)
                    }
                }, {
                    key: "stopRequest",
                    value: function() {
                        if (this.request) {
                            var e = this.request;
                            this.request = null, e.onreadystatechange = null, e.abort()
                        }
                    }
                }, {
                    key: "media",
                    value: function(e) {
                        if (!e) return this.media_;
                        if ("HAVE_NOTHING" === this.state) throw new Error("Cannot switch media playlist from " + this.state);
                        var t = this.state;
                        if ("string" == typeof e) {
                            if (!this.master.playlists[e]) throw new Error("Unknown playlist URI: " + e);
                            e = this.master.playlists[e]
                        }
                        var i = !this.media_ || e.uri !== this.media_.uri;
                        this.state = "HAVE_METADATA", i && (this.media_ && this.trigger("mediachanging"), this.media_ = e, this.refreshMedia_(), "HAVE_MASTER" !== t && this.trigger("mediachange"))
                    }
                }, {
                    key: "pause",
                    value: function() {
                        this.stopRequest(), u.clearTimeout(this.mediaUpdateTimeout), "HAVE_NOTHING" === this.state && (this.started = !1)
                    }
                }, {
                    key: "load",
                    value: function(e) {
                        var t = this;
                        u.clearTimeout(this.mediaUpdateTimeout);
                        var i = this.media();
                        e ? this.mediaUpdateTimeout = u.setTimeout(function() {
                            return t.load()
                        }, i ? i.targetDuration / 2 * 1e3 : 5e3) : this.started ? this.trigger("loadedplaylist") : this.start()
                    }
                }, {
                    key: "parseMasterXml",
                    value: function() {
                        var e = function(e, t) {
                            return function(e) {
                                var t;
                                if (!e.length) return {};
                                var i = e[0].attributes,
                                    n = i.sourceDuration,
                                    r = i.minimumUpdatePeriod,
                                    a = void 0 === r ? 0 : r,
                                    o = it(e.filter(function(e) {
                                        var t = e.attributes;
                                        return "video/mp4" === t.mimeType || "video" === t.contentType
                                    })).map(nt),
                                    s = it(e.filter(function(e) {
                                        var t = e.attributes;
                                        return "audio/mp4" === t.mimeType || "audio" === t.contentType
                                    })),
                                    l = e.filter(function(e) {
                                        var t = e.attributes;
                                        return "text/vtt" === t.mimeType || "text" === t.contentType
                                    }),
                                    c = {
                                        allowCache: !0,
                                        discontinuityStarts: [],
                                        segments: [],
                                        endList: !0,
                                        mediaGroups: (t = {
                                            AUDIO: {},
                                            VIDEO: {}
                                        }, t["CLOSED-CAPTIONS"] = {}, t.SUBTITLES = {}, t),
                                        uri: "",
                                        duration: n,
                                        playlists: o,
                                        minimumUpdatePeriod: 1e3 * a
                                    };
                                return s.length && (c.mediaGroups.AUDIO.audio = s.reduce(function(e, t) {
                                    var i = t.attributes.role && t.attributes.role.value || "main",
                                        n = t.attributes.lang || "",
                                        r = "main";
                                    return n && (r = t.attributes.lang + " (" + i + ")"), e[r] && e[r].playlists[0].attributes.BANDWIDTH > t.attributes.bandwidth ? e : (e[r] = {
                                        language: n,
                                        autoselect: !0,
                                        default: "main" === i,
                                        playlists: [function(e) {
                                            var t, i = e.attributes,
                                                n = e.segments,
                                                r = {
                                                    attributes: (t = {
                                                        NAME: i.id,
                                                        BANDWIDTH: i.bandwidth,
                                                        CODECS: i.codecs
                                                    }, t["PROGRAM-ID"] = 1, t),
                                                    uri: "",
                                                    endList: "static" === (i.type || "static"),
                                                    timeline: i.periodIndex,
                                                    resolvedUri: "",
                                                    targetDuration: i.duration,
                                                    segments: n,
                                                    mediaSequence: n.length ? n[0].number : 1
                                                };
                                            return i.contentProtection && (r.contentProtection = i.contentProtection), r
                                        }(t)],
                                        uri: ""
                                    }, e)
                                }, {})), l.length && (c.mediaGroups.SUBTITLES.subs = l.reduce(function(e, t) {
                                    var i, n, r, a, o = t.attributes.lang || "text";
                                    return e[o] ? e : (e[o] = {
                                        language: o,
                                        default: !1,
                                        autoselect: !1,
                                        playlists: [(i = t, r = i.attributes, a = i.segments, void 0 === a && (a = [{
                                            uri: r.baseUrl,
                                            timeline: r.periodIndex,
                                            resolvedUri: r.baseUrl || "",
                                            duration: r.sourceDuration,
                                            number: 0
                                        }], r.duration = r.sourceDuration), {
                                            attributes: (n = {
                                                NAME: r.id,
                                                BANDWIDTH: r.bandwidth
                                            }, n["PROGRAM-ID"] = 1, n),
                                            uri: "",
                                            endList: "static" === (r.type || "static"),
                                            timeline: r.periodIndex,
                                            resolvedUri: r.baseUrl || "",
                                            targetDuration: r.duration,
                                            segments: a,
                                            mediaSequence: a.length ? a[0].number : 1
                                        })],
                                        uri: ""
                                    }, e)
                                }, {})), c
                            }(function(e, t) {
                                void 0 === t && (t = {});
                                var i = t,
                                    n = i.manifestUri,
                                    r = void 0 === n ? "" : n,
                                    a = i.NOW,
                                    o = void 0 === a ? Date.now() : a,
                                    s = i.clientOffset,
                                    l = void 0 === s ? 0 : s,
                                    c = yt(e, "Period");
                                if (!c.length) throw new Error("INVALID_NUMBER_OF_PERIOD");
                                var d = Tt(e),
                                    h = Et([r], yt(e, "BaseURL"));
                                return d.sourceDuration = d.mediaPresentationDuration || 0, d.NOW = o, d.clientOffset = l, et(c.map(function(e, t) {
                                    return function(i, n) {
                                        var r = Et(t, yt(i, "BaseURL")),
                                            a = Tt(i),
                                            o = parseInt(a.id, 10),
                                            s = u.isNaN(o) ? n : o,
                                            l = Ze(e, {
                                                periodIndex: s
                                            }),
                                            c = yt(i, "AdaptationSet"),
                                            d = wt(i);
                                        return et(c.map(function(e, t, i) {
                                            return function(n) {
                                                var r = Tt(n),
                                                    a = Et(t, yt(n, "BaseURL")),
                                                    o = yt(n, "Role")[0],
                                                    s = {
                                                        role: Tt(o)
                                                    },
                                                    l = Ze(e, r, s),
                                                    c = Ct(yt(n, "ContentProtection"));
                                                Object.keys(c).length && (l = Ze(l, {
                                                    contentProtection: c
                                                }));
                                                var u = wt(n),
                                                    d = yt(n, "Representation"),
                                                    h = Ze(i, u);
                                                return et(d.map(function(e, t, i) {
                                                    return function(n) {
                                                        var r = yt(n, "BaseURL"),
                                                            a = Et(t, r),
                                                            o = Ze(e, Tt(n)),
                                                            s = wt(n);
                                                        return a.map(function(e) {
                                                            return {
                                                                segmentInfo: Ze(i, s),
                                                                attributes: Ze(o, {
                                                                    baseUrl: e
                                                                })
                                                            }
                                                        })
                                                    }
                                                }(l, a, h)))
                                            }
                                        }(l, r, d)))
                                    }
                                }(d, h)))
                            }(kt(e), t).map(gt))
                        }(this.masterXml_, {
                            manifestUri: this.srcUrl,
                            clientOffset: this.clientOffset_
                        });
                        e.uri = this.srcUrl;
                        for (var t = 0; t < e.playlists.length; t++) {
                            var i = "placeholder-uri-" + t;
                            e.playlists[t].uri = i, e.playlists[i] = e.playlists[t]
                        }
                        return A(e, function(t, i, n, r) {
                            if (t.playlists && t.playlists.length) {
                                var a = "placeholder-uri-" + i + "-" + n + "-" + r;
                                t.playlists[0].uri = a, e.playlists[a] = t.playlists[0]
                            }
                        }), L(e), O(e), e
                    }
                }, {
                    key: "start",
                    value: function() {
                        var e = this;
                        this.started = !0, this.request = this.hls_.xhr({
                            uri: this.srcUrl,
                            withCredentials: this.withCredentials
                        }, function(t, i) {
                            if (e.request) {
                                if (e.request = null, t) return e.error = {
                                    status: i.status,
                                    message: "DASH playlist request error at URL: " + e.srcUrl,
                                    responseText: i.responseText,
                                    code: 2
                                }, "HAVE_NOTHING" === e.state && (e.started = !1), e.trigger("error");
                                e.masterXml_ = i.responseText, e.masterLoaded_ = i.responseHeaders && i.responseHeaders.date ? Date.parse(i.responseHeaders.date) : Date.now(), e.syncClientServerClock_(e.onClientServerClockSync_.bind(e))
                            }
                        })
                    }
                }, {
                    key: "syncClientServerClock_",
                    value: function(e) {
                        var t = this,
                            i = function(e) {
                                return function(e) {
                                    var t = yt(e, "UTCTiming")[0];
                                    if (!t) return null;
                                    var i = Tt(t);
                                    switch (i.schemeIdUri) {
                                        case "urn:mpeg:dash:utc:http-head:2014":
                                        case "urn:mpeg:dash:utc:http-head:2012":
                                            i.method = "HEAD";
                                            break;
                                        case "urn:mpeg:dash:utc:http-xsdate:2014":
                                        case "urn:mpeg:dash:utc:http-iso:2014":
                                        case "urn:mpeg:dash:utc:http-xsdate:2012":
                                        case "urn:mpeg:dash:utc:http-iso:2012":
                                            i.method = "GET";
                                            break;
                                        case "urn:mpeg:dash:utc:direct:2014":
                                        case "urn:mpeg:dash:utc:direct:2012":
                                            i.method = "DIRECT", i.value = Date.parse(i.value);
                                            break;
                                        case "urn:mpeg:dash:utc:http-ntp:2014":
                                        case "urn:mpeg:dash:utc:ntp:2014":
                                        case "urn:mpeg:dash:utc:sntp:2014":
                                        default:
                                            throw new Error("UNSUPPORTED_UTC_TIMING_SCHEME")
                                    }
                                    return i
                                }(kt(e))
                            }(this.masterXml_);
                        return null === i ? (this.clientOffset_ = this.masterLoaded_ - Date.now(), e()) : "DIRECT" === i.method ? (this.clientOffset_ = i.value - Date.now(), e()) : void(this.request = this.hls_.xhr({
                            uri: d(this.srcUrl, i.value),
                            method: i.method,
                            withCredentials: this.withCredentials
                        }, function(n, r) {
                            if (t.request) {
                                if (n) return t.clientOffset_ = t.masterLoaded_ - Date.now(), e();
                                var a;
                                a = "HEAD" === i.method ? r.responseHeaders && r.responseHeaders.date ? Date.parse(r.responseHeaders.date) : t.masterLoaded_ : Date.parse(r.responseText), t.clientOffset_ = a - Date.now(), e()
                            }
                        }))
                    }
                }, {
                    key: "onClientServerClockSync_",
                    value: function() {
                        var e = this;
                        this.master = this.parseMasterXml(), this.state = "HAVE_MASTER", this.trigger("loadedplaylist"), this.media_ || this.media(this.master.playlists[0]), u.setTimeout(function() {
                            e.trigger("loadedmetadata")
                        }, 0), this.master.minimumUpdatePeriod && u.setTimeout(function() {
                            e.trigger("minimumUpdatePeriod")
                        }, this.master.minimumUpdatePeriod)
                    }
                }, {
                    key: "refreshXml_",
                    value: function() {
                        var e = this;
                        this.request = this.hls_.xhr({
                            uri: this.srcUrl,
                            withCredentials: this.withCredentials
                        }, function(t, i) {
                            if (e.request) {
                                if (e.request = null, t) return e.error = {
                                    status: i.status,
                                    message: "DASH playlist request error at URL: " + e.srcUrl,
                                    responseText: i.responseText,
                                    code: 2
                                }, "HAVE_NOTHING" === e.state && (e.started = !1), e.trigger("error");
                                e.masterXml_ = i.responseText;
                                var n = e.parseMasterXml();
                                e.master = It(e.master, n), u.setTimeout(function() {
                                    e.trigger("minimumUpdatePeriod")
                                }, e.master.minimumUpdatePeriod)
                            }
                        })
                    }
                }, {
                    key: "refreshMedia_",
                    value: function() {
                        var e = this,
                            t = void 0,
                            i = void 0;
                        this.masterPlaylistLoader_ ? (t = this.masterPlaylistLoader_.master, i = this.masterPlaylistLoader_.parseMasterXml()) : (t = this.master, i = this.parseMasterXml());
                        var n = It(t, i);
                        n ? (this.masterPlaylistLoader_ ? this.masterPlaylistLoader_.master = n : this.master = n, this.media_ = n.playlists[this.media_.uri]) : this.trigger("playlistunchanged"), this.media().endList || (this.mediaUpdateTimeout = u.setTimeout(function() {
                            e.trigger("mediaupdatetimeout")
                        }, D(this.media(), !!n))), this.trigger("loadedplaylist")
                    }
                }]), t
            }(),
            Ot = function(e) {
                return t.log.debug ? t.log.debug.bind(t, "VHS:", e + " >") : function() {}
            };

        function Dt() {}
        var Rt, xt, Mt, Ut, Nt, Ft, Bt, Vt, jt, zt, qt, Ht, Gt, Wt, Yt, Kt, Xt, Jt, $t, Qt, Zt, ei, ti, ii, ni, ri, ai, oi, si, li, ci, ui, di, hi, pi, fi, mi, gi, yi, vi, bi, _i, Ti = function() {
                function e(t, i, n, r) {
                    _(this, e), this.callbacks_ = [], this.pendingCallback_ = null, this.timestampOffset_ = 0, this.mediaSource = t, this.processedAppend_ = !1, this.type_ = n, this.mimeType_ = i, this.logger_ = Ot("SourceUpdater[" + n + "][" + i + "]"), "closed" === t.readyState ? t.addEventListener("sourceopen", this.createSourceBuffer_.bind(this, i, r)) : this.createSourceBuffer_(i, r)
                }
                return T(e, [{
                    key: "createSourceBuffer_",
                    value: function(e, t) {
                        var i = this;
                        this.sourceBuffer_ = this.mediaSource.addSourceBuffer(e), this.logger_("created SourceBuffer"), t && (t.trigger("sourcebufferadded"), this.mediaSource.sourceBuffers.length < 2) ? t.on("sourcebufferadded", function() {
                            i.start_()
                        }) : this.start_()
                    }
                }, {
                    key: "start_",
                    value: function() {
                        var e = this;
                        this.started_ = !0, this.onUpdateendCallback_ = function() {
                            var t = e.pendingCallback_;
                            e.pendingCallback_ = null, e.logger_("buffered [" + _e(e.buffered()) + "]"), t && t(), e.runCallback_()
                        }, this.sourceBuffer_.addEventListener("updateend", this.onUpdateendCallback_), this.runCallback_()
                    }
                }, {
                    key: "abort",
                    value: function(e) {
                        var t = this;
                        this.processedAppend_ && this.queueCallback_(function() {
                            t.sourceBuffer_.abort()
                        }, e)
                    }
                }, {
                    key: "appendBuffer",
                    value: function(e, t) {
                        var i = this;
                        this.processedAppend_ = !0, this.queueCallback_(function() {
                            e.videoSegmentTimingInfoCallback && i.sourceBuffer_.addEventListener("videoSegmentTimingInfo", e.videoSegmentTimingInfoCallback), i.sourceBuffer_.appendBuffer(e.bytes)
                        }, function() {
                            e.videoSegmentTimingInfoCallback && i.sourceBuffer_.removeEventListener("videoSegmentTimingInfo", e.videoSegmentTimingInfoCallback), t()
                        })
                    }
                }, {
                    key: "buffered",
                    value: function() {
                        return this.sourceBuffer_ ? this.sourceBuffer_.buffered : t.createTimeRanges()
                    }
                }, {
                    key: "remove",
                    value: function(e, t) {
                        var i = this;
                        this.processedAppend_ && this.queueCallback_(function() {
                            i.logger_("remove [" + e + " => " + t + "]"), i.sourceBuffer_.remove(e, t)
                        }, arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : Dt)
                    }
                }, {
                    key: "updating",
                    value: function() {
                        return !this.sourceBuffer_ || this.sourceBuffer_.updating || this.pendingCallback_
                    }
                }, {
                    key: "timestampOffset",
                    value: function(e) {
                        var t = this;
                        return void 0 !== e && (this.queueCallback_(function() {
                            t.sourceBuffer_.timestampOffset = e
                        }), this.timestampOffset_ = e), this.timestampOffset_
                    }
                }, {
                    key: "queueCallback_",
                    value: function(e, t) {
                        this.callbacks_.push([e.bind(this), t]), this.runCallback_()
                    }
                }, {
                    key: "runCallback_",
                    value: function() {
                        var e = void 0;
                        !this.updating() && this.callbacks_.length && this.started_ && (e = this.callbacks_.shift(), this.pendingCallback_ = e[1], e[0]())
                    }
                }, {
                    key: "dispose",
                    value: function() {
                        this.sourceBuffer_.removeEventListener("updateend", this.onUpdateendCallback_), this.sourceBuffer_ && "open" === this.mediaSource.readyState && this.sourceBuffer_.abort()
                    }
                }]), e
            }(),
            Si = {
                GOAL_BUFFER_LENGTH: 30,
                MAX_GOAL_BUFFER_LENGTH: 60,
                GOAL_BUFFER_LENGTH_RATE: 1,
                INITIAL_BANDWIDTH: 4194304,
                BANDWIDTH_VARIANCE: 1.2,
                BUFFER_LOW_WATER_LINE: 0,
                MAX_BUFFER_LOW_WATER_LINE: 30,
                BUFFER_LOW_WATER_LINE_RATE: 1
            },
            Ei = function(e) {
                return e >>> 0
            },
            wi = {
                findBox: Rt = function(e, t) {
                    var i, n, r, a, o, s = [];
                    if (!t.length) return null;
                    for (i = 0; i < e.byteLength;) n = Ei(e[i] << 24 | e[i + 1] << 16 | e[i + 2] << 8 | e[i + 3]), r = xt(e.subarray(i + 4, i + 8)), a = n > 1 ? i + n : e.byteLength, r === t[0] && (1 === t.length ? s.push(e.subarray(i + 8, a)) : (o = Rt(e.subarray(i + 8, a), t.slice(1))).length && (s = s.concat(o))), i = a;
                    return s
                },
                parseType: xt = function(e) {
                    var t = "";
                    return t += String.fromCharCode(e[0]), t += String.fromCharCode(e[1]), (t += String.fromCharCode(e[2])) + String.fromCharCode(e[3])
                },
                timescale: function(e) {
                    return Rt(e, ["moov", "trak"]).reduce(function(e, t) {
                        var i, n, r, a;
                        return (i = Rt(t, ["tkhd"])[0]) ? (r = Ei(i[n = 0 === i[0] ? 12 : 20] << 24 | i[n + 1] << 16 | i[n + 2] << 8 | i[n + 3]), (a = Rt(t, ["mdia", "mdhd"])[0]) ? (e[r] = Ei(a[n = 0 === a[0] ? 12 : 20] << 24 | a[n + 1] << 16 | a[n + 2] << 8 | a[n + 3]), e) : null) : null
                    }, {})
                },
                startTime: function(e, t) {
                    var i, n, r;
                    return i = Rt(t, ["moof", "traf"]), n = [].concat.apply([], i.map(function(t) {
                        return Rt(t, ["tfhd"]).map(function(i) {
                            var n, r;
                            return n = Ei(i[4] << 24 | i[5] << 16 | i[6] << 8 | i[7]), r = e[n] || 9e4, (Rt(t, ["tfdt"]).map(function(e) {
                                var t, i;
                                return t = e[0], i = Ei(e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7]), 1 === t && (i *= Math.pow(2, 32), i += Ei(e[8] << 24 | e[9] << 16 | e[10] << 8 | e[11])), i
                            })[0] || 1 / 0) / r
                        })
                    })), r = Math.min.apply(null, n), isFinite(r) ? r : 0
                },
                videoTrackIds: function(e) {
                    var t = [];
                    return Rt(e, ["moov", "trak"]).forEach(function(e) {
                        var i = Rt(e, ["mdia", "hdlr"]),
                            n = Rt(e, ["tkhd"]);
                        i.forEach(function(e, i) {
                            var r, a, o = xt(e.subarray(8, 12)),
                                s = n[i];
                            "vide" === o && (a = 0 === (r = new DataView(s.buffer, s.byteOffset, s.byteLength)).getUint8(0) ? r.getUint32(12) : r.getUint32(20), t.push(a))
                        })
                    }), t
                }
            },
            Ci = function(e) {
                var t, i = {};
                return e.byterange && (i.Range = "bytes=" + (t = e.byterange).offset + "-" + (t.offset + t.length - 1)), i
            },
            ki = function(e) {
                e.forEach(function(e) {
                    e.abort()
                })
            },
            Pi = function(e, t) {
                return t.timedout ? {
                    status: t.status,
                    message: "HLS request timed-out at URL: " + t.uri,
                    code: -101,
                    xhr: t
                } : t.aborted ? {
                    status: t.status,
                    message: "HLS request aborted at URL: " + t.uri,
                    code: -102,
                    xhr: t
                } : e ? {
                    status: t.status,
                    message: "HLS request errored at URL: " + t.uri,
                    code: 2,
                    xhr: t
                } : null
            },
            Ai = function(e, t) {
                var i;
                return e && (i = u.getComputedStyle(e)) ? i[t] : ""
            },
            Ii = function(e, t) {
                var i = e.slice();
                e.sort(function(e, n) {
                    var r = t(e, n);
                    return 0 === r ? i.indexOf(e) - i.indexOf(n) : r
                })
            },
            Li = function(e, t) {
                var i = void 0,
                    n = void 0;
                return e.attributes.BANDWIDTH && (i = e.attributes.BANDWIDTH), t.attributes.BANDWIDTH && (n = t.attributes.BANDWIDTH), (i = i || u.Number.MAX_VALUE) - (n || u.Number.MAX_VALUE)
            },
            Oi = Math.pow(2, 32) - 1;
        ! function() {
            var e;
            if (ii = {
                    avc1: [],
                    avcC: [],
                    btrt: [],
                    dinf: [],
                    dref: [],
                    esds: [],
                    ftyp: [],
                    hdlr: [],
                    mdat: [],
                    mdhd: [],
                    mdia: [],
                    mfhd: [],
                    minf: [],
                    moof: [],
                    moov: [],
                    mp4a: [],
                    mvex: [],
                    mvhd: [],
                    sdtp: [],
                    smhd: [],
                    stbl: [],
                    stco: [],
                    stsc: [],
                    stsd: [],
                    stsz: [],
                    stts: [],
                    styp: [],
                    tfdt: [],
                    tfhd: [],
                    traf: [],
                    trak: [],
                    trun: [],
                    trex: [],
                    tkhd: [],
                    vmhd: []
                }, "undefined" != typeof Uint8Array) {
                for (e in ii) ii.hasOwnProperty(e) && (ii[e] = [e.charCodeAt(0), e.charCodeAt(1), e.charCodeAt(2), e.charCodeAt(3)]);
                ni = new Uint8Array(["i".charCodeAt(0), "s".charCodeAt(0), "o".charCodeAt(0), "m".charCodeAt(0)]), ai = new Uint8Array(["a".charCodeAt(0), "v".charCodeAt(0), "c".charCodeAt(0), "1".charCodeAt(0)]), ri = new Uint8Array([0, 0, 0, 1]), oi = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 86, 105, 100, 101, 111, 72, 97, 110, 100, 108, 101, 114, 0]), si = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0]), li = {
                    video: oi,
                    audio: si
                }, di = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1]), ui = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]), hi = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]), pi = hi, fi = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]), mi = hi, ci = new Uint8Array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0])
            }
        }(), Mt = function(e) {
            var t, i, n = [],
                r = 0;
            for (t = 1; t < arguments.length; t++) n.push(arguments[t]);
            for (t = n.length; t--;) r += n[t].byteLength;
            for (i = new Uint8Array(r + 8), new DataView(i.buffer, i.byteOffset, i.byteLength).setUint32(0, i.byteLength), i.set(e, 4), t = 0, r = 8; t < n.length; t++) i.set(n[t], r), r += n[t].byteLength;
            return i
        }, Ut = function() {
            return Mt(ii.dinf, Mt(ii.dref, di))
        }, Nt = function(e) {
            return Mt(ii.esds, new Uint8Array([0, 0, 0, 0, 3, 25, 0, 0, 0, 4, 17, 64, 21, 0, 6, 0, 0, 0, 218, 192, 0, 0, 218, 192, 5, 2, e.audioobjecttype << 3 | e.samplingfrequencyindex >>> 1, e.samplingfrequencyindex << 7 | e.channelcount << 3, 6, 1, 2]))
        }, Xt = function(e) {
            return Mt(ii.hdlr, li[e])
        }, Kt = function(e) {
            var t = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 3, 0, 1, 95, 144, e.duration >>> 24 & 255, e.duration >>> 16 & 255, e.duration >>> 8 & 255, 255 & e.duration, 85, 196, 0, 0]);
            return e.samplerate && (t[12] = e.samplerate >>> 24 & 255, t[13] = e.samplerate >>> 16 & 255, t[14] = e.samplerate >>> 8 & 255, t[15] = 255 & e.samplerate), Mt(ii.mdhd, t)
        }, Yt = function(e) {
            return Mt(ii.mdia, Kt(e), Xt(e.type), Vt(e))
        }, Bt = function(e) {
            return Mt(ii.mfhd, new Uint8Array([0, 0, 0, 0, (4278190080 & e) >> 24, (16711680 & e) >> 16, (65280 & e) >> 8, 255 & e]))
        }, Vt = function(e) {
            return Mt(ii.minf, "video" === e.type ? Mt(ii.vmhd, ci) : Mt(ii.smhd, ui), Ut(), $t(e))
        }, jt = function(e, t) {
            for (var i = [], n = t.length; n--;) i[n] = Zt(t[n]);
            return Mt.apply(null, [ii.moof, Bt(e)].concat(i))
        }, zt = function(e) {
            for (var t = e.length, i = []; t--;) i[t] = Gt(e[t]);
            return Mt.apply(null, [ii.moov, Ht(4294967295)].concat(i).concat(qt(e)))
        }, qt = function(e) {
            for (var t = e.length, i = []; t--;) i[t] = ei(e[t]);
            return Mt.apply(null, [ii.mvex].concat(i))
        }, Ht = function(e) {
            var t = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 2, 0, 1, 95, 144, (4278190080 & e) >> 24, (16711680 & e) >> 16, (65280 & e) >> 8, 255 & e, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255]);
            return Mt(ii.mvhd, t)
        }, Jt = function(e) {
            var t, i, n = e.samples || [],
                r = new Uint8Array(4 + n.length);
            for (i = 0; i < n.length; i++) r[i + 4] = (t = n[i].flags).dependsOn << 4 | t.isDependedOn << 2 | t.hasRedundancy;
            return Mt(ii.sdtp, r)
        }, $t = function(e) {
            return Mt(ii.stbl, Qt(e), Mt(ii.stts, mi), Mt(ii.stsc, pi), Mt(ii.stsz, fi), Mt(ii.stco, hi))
        }, Qt = function(e) {
            return Mt(ii.stsd, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1]), "video" === e.type ? gi(e) : yi(e))
        }, gi = function(e) {
            var t, i = e.sps || [],
                n = e.pps || [],
                r = [],
                a = [];
            for (t = 0; t < i.length; t++) r.push((65280 & i[t].byteLength) >>> 8), r.push(255 & i[t].byteLength), r = r.concat(Array.prototype.slice.call(i[t]));
            for (t = 0; t < n.length; t++) a.push((65280 & n[t].byteLength) >>> 8), a.push(255 & n[t].byteLength), a = a.concat(Array.prototype.slice.call(n[t]));
            return Mt(ii.avc1, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, (65280 & e.width) >> 8, 255 & e.width, (65280 & e.height) >> 8, 255 & e.height, 0, 72, 0, 0, 0, 72, 0, 0, 0, 0, 0, 0, 0, 1, 19, 118, 105, 100, 101, 111, 106, 115, 45, 99, 111, 110, 116, 114, 105, 98, 45, 104, 108, 115, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 24, 17, 17]), Mt(ii.avcC, new Uint8Array([1, e.profileIdc, e.profileCompatibility, e.levelIdc, 255].concat([i.length]).concat(r).concat([n.length]).concat(a))), Mt(ii.btrt, new Uint8Array([0, 28, 156, 128, 0, 45, 198, 192, 0, 45, 198, 192])))
        }, yi = function(e) {
            return Mt(ii.mp4a, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, (65280 & e.channelcount) >> 8, 255 & e.channelcount, (65280 & e.samplesize) >> 8, 255 & e.samplesize, 0, 0, 0, 0, (65280 & e.samplerate) >> 8, 255 & e.samplerate, 0, 0]), Nt(e))
        }, Wt = function(e) {
            var t = new Uint8Array([0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 0, (4278190080 & e.id) >> 24, (16711680 & e.id) >> 16, (65280 & e.id) >> 8, 255 & e.id, 0, 0, 0, 0, (4278190080 & e.duration) >> 24, (16711680 & e.duration) >> 16, (65280 & e.duration) >> 8, 255 & e.duration, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, (65280 & e.width) >> 8, 255 & e.width, 0, 0, (65280 & e.height) >> 8, 255 & e.height, 0, 0]);
            return Mt(ii.tkhd, t)
        }, Zt = function(e) {
            var t, i, n, r, a, o;
            return t = Mt(ii.tfhd, new Uint8Array([0, 0, 0, 58, (4278190080 & e.id) >> 24, (16711680 & e.id) >> 16, (65280 & e.id) >> 8, 255 & e.id, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])), a = Math.floor(e.baseMediaDecodeTime / (Oi + 1)), o = Math.floor(e.baseMediaDecodeTime % (Oi + 1)), i = Mt(ii.tfdt, new Uint8Array([1, 0, 0, 0, a >>> 24 & 255, a >>> 16 & 255, a >>> 8 & 255, 255 & a, o >>> 24 & 255, o >>> 16 & 255, o >>> 8 & 255, 255 & o])), "audio" === e.type ? (n = ti(e, 92), Mt(ii.traf, t, i, n)) : (r = Jt(e), n = ti(e, r.length + 92), Mt(ii.traf, t, i, n, r))
        }, Gt = function(e) {
            return e.duration = e.duration || 4294967295, Mt(ii.trak, Wt(e), Yt(e))
        }, ei = function(e) {
            var t = new Uint8Array([0, 0, 0, 0, (4278190080 & e.id) >> 24, (16711680 & e.id) >> 16, (65280 & e.id) >> 8, 255 & e.id, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1]);
            return "video" !== e.type && (t[t.length - 1] = 0), Mt(ii.trex, t)
        }, _i = function(e, t) {
            var i = 0,
                n = 0,
                r = 0,
                a = 0;
            return e.length && (void 0 !== e[0].duration && (i = 1), void 0 !== e[0].size && (n = 2), void 0 !== e[0].flags && (r = 4), void 0 !== e[0].compositionTimeOffset && (a = 8)), [0, 0, i | n | r | a, 1, (4278190080 & e.length) >>> 24, (16711680 & e.length) >>> 16, (65280 & e.length) >>> 8, 255 & e.length, (4278190080 & t) >>> 24, (16711680 & t) >>> 16, (65280 & t) >>> 8, 255 & t]
        }, bi = function(e, t) {
            var i, n, r, a;
            for (t += 20 + 16 * (n = e.samples || []).length, i = _i(n, t), a = 0; a < n.length; a++) i = i.concat([(4278190080 & (r = n[a]).duration) >>> 24, (16711680 & r.duration) >>> 16, (65280 & r.duration) >>> 8, 255 & r.duration, (4278190080 & r.size) >>> 24, (16711680 & r.size) >>> 16, (65280 & r.size) >>> 8, 255 & r.size, r.flags.isLeading << 2 | r.flags.dependsOn, r.flags.isDependedOn << 6 | r.flags.hasRedundancy << 4 | r.flags.paddingValue << 1 | r.flags.isNonSyncSample, 61440 & r.flags.degradationPriority, 15 & r.flags.degradationPriority, (4278190080 & r.compositionTimeOffset) >>> 24, (16711680 & r.compositionTimeOffset) >>> 16, (65280 & r.compositionTimeOffset) >>> 8, 255 & r.compositionTimeOffset]);
            return Mt(ii.trun, new Uint8Array(i))
        }, vi = function(e, t) {
            var i, n, r, a;
            for (t += 20 + 8 * (n = e.samples || []).length, i = _i(n, t), a = 0; a < n.length; a++) i = i.concat([(4278190080 & (r = n[a]).duration) >>> 24, (16711680 & r.duration) >>> 16, (65280 & r.duration) >>> 8, 255 & r.duration, (4278190080 & r.size) >>> 24, (16711680 & r.size) >>> 16, (65280 & r.size) >>> 8, 255 & r.size]);
            return Mt(ii.trun, new Uint8Array(i))
        }, ti = function(e, t) {
            return "audio" === e.type ? vi(e, t) : bi(e, t)
        };
        var Di = {
                ftyp: Ft = function() {
                    return Mt(ii.ftyp, ni, ri, ni, ai)
                },
                mdat: function(e) {
                    return Mt(ii.mdat, e)
                },
                moof: jt,
                moov: zt,
                initSegment: function(e) {
                    var t, i = Ft(),
                        n = zt(e);
                    return (t = new Uint8Array(i.byteLength + n.byteLength)).set(i), t.set(n, i.byteLength), t
                }
            },
            Ri = function() {
                this.init = function() {
                    var e = {};
                    this.on = function(t, i) {
                        e[t] || (e[t] = []), e[t] = e[t].concat(i)
                    }, this.off = function(t, i) {
                        var n;
                        return !!e[t] && (n = e[t].indexOf(i), e[t] = e[t].slice(), e[t].splice(n, 1), n > -1)
                    }, this.trigger = function(t) {
                        var i, n, r, a;
                        if (i = e[t])
                            if (2 === arguments.length)
                                for (r = i.length, n = 0; n < r; ++n) i[n].call(this, arguments[1]);
                            else {
                                for (a = [], n = arguments.length, n = 1; n < arguments.length; ++n) a.push(arguments[n]);
                                for (r = i.length, n = 0; n < r; ++n) i[n].apply(this, a)
                            }
                    }, this.dispose = function() {
                        e = {}
                    }
                }
            };
        Ri.prototype.pipe = function(e) {
            return this.on("data", function(t) {
                e.push(t)
            }), this.on("done", function(t) {
                e.flush(t)
            }), e
        }, Ri.prototype.push = function(e) {
            this.trigger("data", e)
        }, Ri.prototype.flush = function(e) {
            this.trigger("done", e)
        };
        var xi, Mi, Ui, Ni, Fi, Bi = Ri,
            Vi = function(e, t) {
                var i = {
                    size: 0,
                    flags: {
                        isLeading: 0,
                        dependsOn: 1,
                        isDependedOn: 0,
                        hasRedundancy: 0,
                        degradationPriority: 0,
                        isNonSyncSample: 1
                    }
                };
                return i.dataOffset = t, i.compositionTimeOffset = e.pts - e.dts, i.duration = e.duration, i.size = 4 * e.length, i.size += e.byteLength, e.keyFrame && (i.flags.dependsOn = 2, i.flags.isNonSyncSample = 0), i
            },
            ji = [33, 16, 5, 32, 164, 27],
            zi = [33, 65, 108, 84, 1, 2, 4, 8, 168, 2, 4, 8, 17, 191, 252],
            qi = function(e) {
                for (var t = []; e--;) t.push(0);
                return t
            },
            Hi = {
                96000: [ji, [227, 64], qi(154), [56]],
                88200: [ji, [231], qi(170), [56]],
                64000: [ji, [248, 192], qi(240), [56]],
                48000: [ji, [255, 192], qi(268), [55, 148, 128], qi(54), [112]],
                44100: [ji, [255, 192], qi(268), [55, 163, 128], qi(84), [112]],
                32000: [ji, [255, 192], qi(268), [55, 234], qi(226), [112]],
                24000: [ji, [255, 192], qi(268), [55, 255, 128], qi(268), [111, 112], qi(126), [224]],
                16000: [ji, [255, 192], qi(268), [55, 255, 128], qi(268), [111, 255], qi(269), [223, 108], qi(195), [1, 192]],
                12000: [zi, qi(268), [3, 127, 248], qi(268), [6, 255, 240], qi(268), [13, 255, 224], qi(268), [27, 253, 128], qi(259), [56]],
                11025: [zi, qi(268), [3, 127, 248], qi(268), [6, 255, 240], qi(268), [13, 255, 224], qi(268), [27, 255, 192], qi(268), [55, 175, 128], qi(108), [112]],
                8000: [zi, qi(268), [3, 121, 16], qi(47), [7]]
            },
            Gi = (xi = Hi, Object.keys(xi).reduce(function(e, t) {
                return e[t] = new Uint8Array(xi[t].reduce(function(e, t) {
                    return e.concat(t)
                }, [])), e
            }, {})),
            Wi = (Mi = function(e) {
                return 9e4 * e
            }, Ui = function(e, t) {
                return e * t
            }, Ni = function(e) {
                return e / 9e4
            }, Fi = function(e, t) {
                return e / t
            }, function(e, t) {
                return Mi(Fi(e, t))
            }),
            Yi = function(e) {
                delete e.minSegmentDts, delete e.maxSegmentDts, delete e.minSegmentPts, delete e.maxSegmentPts
            },
            Ki = function(e, t) {
                var i, n = e.minSegmentDts;
                return t || (n -= e.timelineStartInfo.dts), i = e.timelineStartInfo.baseMediaDecodeTime, i += n, i = Math.max(0, i), "audio" === e.type && (i *= e.samplerate / 9e4, i = Math.floor(i)), i
            },
            Xi = function(e, t) {
                "number" == typeof t.pts && (void 0 === e.timelineStartInfo.pts && (e.timelineStartInfo.pts = t.pts), e.minSegmentPts = void 0 === e.minSegmentPts ? t.pts : Math.min(e.minSegmentPts, t.pts), e.maxSegmentPts = void 0 === e.maxSegmentPts ? t.pts : Math.max(e.maxSegmentPts, t.pts)), "number" == typeof t.dts && (void 0 === e.timelineStartInfo.dts && (e.timelineStartInfo.dts = t.dts), e.minSegmentDts = void 0 === e.minSegmentDts ? t.dts : Math.min(e.minSegmentDts, t.dts), e.maxSegmentDts = void 0 === e.maxSegmentDts ? t.dts : Math.max(e.maxSegmentDts, t.dts))
            },
            Ji = function e() {
                e.prototype.init.call(this), this.captionPackets_ = [], this.ccStreams_ = [new tn(0, 0), new tn(0, 1), new tn(1, 0), new tn(1, 1)], this.reset(), this.ccStreams_.forEach(function(e) {
                    e.on("data", this.trigger.bind(this, "data")), e.on("done", this.trigger.bind(this, "done"))
                }, this)
            };
        (Ji.prototype = new Bi).push = function(e) {
            var t, i, n;
            if ("sei_rbsp" === e.nalUnitType && 4 === (t = function(e) {
                    for (var t = 0, i = {
                            payloadType: -1,
                            payloadSize: 0
                        }, n = 0, r = 0; t < e.byteLength && 128 !== e[t];) {
                        for (; 255 === e[t];) n += 255, t++;
                        for (n += e[t++]; 255 === e[t];) r += 255, t++;
                        if (r += e[t++], !i.payload && 4 === n) {
                            i.payloadType = n, i.payloadSize = r, i.payload = e.subarray(t, t + r);
                            break
                        }
                        t += r, n = 0, r = 0
                    }
                    return i
                }(e.escapedRBSP)).payloadType && (i = function(e) {
                    return 181 !== e.payload[0] ? null : 49 != (e.payload[1] << 8 | e.payload[2]) ? null : "GA94" !== String.fromCharCode(e.payload[3], e.payload[4], e.payload[5], e.payload[6]) ? null : 3 !== e.payload[7] ? null : e.payload.subarray(8, e.payload.length - 1)
                }(t)))
                if (e.dts < this.latestDts_) this.ignoreNextEqualDts_ = !0;
                else {
                    if (e.dts === this.latestDts_ && this.ignoreNextEqualDts_) return this.numSameDts_--, void(this.numSameDts_ || (this.ignoreNextEqualDts_ = !1));
                    n = function(e, t) {
                        var i, n, r, a, o = [];
                        if (!(64 & t[0])) return o;
                        for (n = 31 & t[0], i = 0; i < n; i++) a = {
                            type: 3 & t[2 + (r = 3 * i)],
                            pts: e
                        }, 4 & t[r + 2] && (a.ccData = t[r + 3] << 8 | t[r + 4], o.push(a));
                        return o
                    }(e.pts, i), this.captionPackets_ = this.captionPackets_.concat(n), this.latestDts_ !== e.dts && (this.numSameDts_ = 0), this.numSameDts_++, this.latestDts_ = e.dts
                }
        }, Ji.prototype.flush = function() {
            this.captionPackets_.length ? (this.captionPackets_.forEach(function(e, t) {
                e.presortIndex = t
            }), this.captionPackets_.sort(function(e, t) {
                return e.pts === t.pts ? e.presortIndex - t.presortIndex : e.pts - t.pts
            }), this.captionPackets_.forEach(function(e) {
                e.type < 2 && this.dispatchCea608Packet(e)
            }, this), this.captionPackets_.length = 0, this.ccStreams_.forEach(function(e) {
                e.flush()
            }, this)) : this.ccStreams_.forEach(function(e) {
                e.flush()
            }, this)
        }, Ji.prototype.reset = function() {
            this.latestDts_ = null, this.ignoreNextEqualDts_ = !1, this.numSameDts_ = 0, this.activeCea608Channel_ = [null, null], this.ccStreams_.forEach(function(e) {
                e.reset()
            })
        }, Ji.prototype.dispatchCea608Packet = function(e) {
            this.setsChannel1Active(e) ? this.activeCea608Channel_[e.type] = 0 : this.setsChannel2Active(e) && (this.activeCea608Channel_[e.type] = 1), null !== this.activeCea608Channel_[e.type] && this.ccStreams_[(e.type << 1) + this.activeCea608Channel_[e.type]].push(e)
        }, Ji.prototype.setsChannel1Active = function(e) {
            return 4096 == (30720 & e.ccData)
        }, Ji.prototype.setsChannel2Active = function(e) {
            return 6144 == (30720 & e.ccData)
        };
        var $i = {
                42: 225,
                92: 233,
                94: 237,
                95: 243,
                96: 250,
                123: 231,
                124: 247,
                125: 209,
                126: 241,
                127: 9608,
                304: 174,
                305: 176,
                306: 189,
                307: 191,
                308: 8482,
                309: 162,
                310: 163,
                311: 9834,
                312: 224,
                313: 160,
                314: 232,
                315: 226,
                316: 234,
                317: 238,
                318: 244,
                319: 251,
                544: 193,
                545: 201,
                546: 211,
                547: 218,
                548: 220,
                549: 252,
                550: 8216,
                551: 161,
                552: 42,
                553: 39,
                554: 8212,
                555: 169,
                556: 8480,
                557: 8226,
                558: 8220,
                559: 8221,
                560: 192,
                561: 194,
                562: 199,
                563: 200,
                564: 202,
                565: 203,
                566: 235,
                567: 206,
                568: 207,
                569: 239,
                570: 212,
                571: 217,
                572: 249,
                573: 219,
                574: 171,
                575: 187,
                800: 195,
                801: 227,
                802: 205,
                803: 204,
                804: 236,
                805: 210,
                806: 242,
                807: 213,
                808: 245,
                809: 123,
                810: 125,
                811: 92,
                812: 94,
                813: 95,
                814: 124,
                815: 126,
                816: 196,
                817: 228,
                818: 214,
                819: 246,
                820: 223,
                821: 165,
                822: 164,
                823: 9474,
                824: 197,
                825: 229,
                826: 216,
                827: 248,
                828: 9484,
                829: 9488,
                830: 9492,
                831: 9496
            },
            Qi = function(e) {
                return null === e ? "" : (e = $i[e] || e, String.fromCharCode(e))
            },
            Zi = [4352, 4384, 4608, 4640, 5376, 5408, 5632, 5664, 5888, 5920, 4096, 4864, 4896, 5120, 5152],
            en = function() {
                for (var e = [], t = 15; t--;) e.push("");
                return e
            },
            tn = function e(t, i) {
                e.prototype.init.call(this), this.field_ = t || 0, this.dataChannel_ = i || 0, this.name_ = "CC" + (1 + (this.field_ << 1 | this.dataChannel_)), this.setConstants(), this.reset(), this.push = function(e) {
                    var t, i, n, r, a;
                    if ((t = 32639 & e.ccData) !== this.lastControlCode_) {
                        if (4096 == (61440 & t) ? this.lastControlCode_ = t : t !== this.PADDING_ && (this.lastControlCode_ = null), n = t >>> 8, r = 255 & t, t !== this.PADDING_)
                            if (t === this.RESUME_CAPTION_LOADING_) this.mode_ = "popOn";
                            else if (t === this.END_OF_CAPTION_) this.mode_ = "popOn", this.clearFormatting(e.pts), this.flushDisplayed(e.pts), i = this.displayed_, this.displayed_ = this.nonDisplayed_, this.nonDisplayed_ = i, this.startPts_ = e.pts;
                        else if (t === this.ROLL_UP_2_ROWS_) this.rollUpRows_ = 2, this.setRollUp(e.pts);
                        else if (t === this.ROLL_UP_3_ROWS_) this.rollUpRows_ = 3, this.setRollUp(e.pts);
                        else if (t === this.ROLL_UP_4_ROWS_) this.rollUpRows_ = 4, this.setRollUp(e.pts);
                        else if (t === this.CARRIAGE_RETURN_) this.clearFormatting(e.pts), this.flushDisplayed(e.pts), this.shiftRowsUp_(), this.startPts_ = e.pts;
                        else if (t === this.BACKSPACE_) "popOn" === this.mode_ ? this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1) : this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1);
                        else if (t === this.ERASE_DISPLAYED_MEMORY_) this.flushDisplayed(e.pts), this.displayed_ = en();
                        else if (t === this.ERASE_NON_DISPLAYED_MEMORY_) this.nonDisplayed_ = en();
                        else if (t === this.RESUME_DIRECT_CAPTIONING_) "paintOn" !== this.mode_ && (this.flushDisplayed(e.pts), this.displayed_ = en()), this.mode_ = "paintOn", this.startPts_ = e.pts;
                        else if (this.isSpecialCharacter(n, r)) a = Qi((n = (3 & n) << 8) | r), this[this.mode_](e.pts, a), this.column_++;
                        else if (this.isExtCharacter(n, r)) "popOn" === this.mode_ ? this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1) : this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1), a = Qi((n = (3 & n) << 8) | r), this[this.mode_](e.pts, a), this.column_++;
                        else if (this.isMidRowCode(n, r)) this.clearFormatting(e.pts), this[this.mode_](e.pts, " "), this.column_++, 14 == (14 & r) && this.addFormatting(e.pts, ["i"]), 1 == (1 & r) && this.addFormatting(e.pts, ["u"]);
                        else if (this.isOffsetControlCode(n, r)) this.column_ += 3 & r;
                        else if (this.isPAC(n, r)) {
                            var o = Zi.indexOf(7968 & t);
                            "rollUp" === this.mode_ && (o - this.rollUpRows_ + 1 < 0 && (o = this.rollUpRows_ - 1), this.setRollUp(e.pts, o)), o !== this.row_ && (this.clearFormatting(e.pts), this.row_ = o), 1 & r && -1 === this.formatting_.indexOf("u") && this.addFormatting(e.pts, ["u"]), 16 == (16 & t) && (this.column_ = 4 * ((14 & t) >> 1)), this.isColorPAC(r) && 14 == (14 & r) && this.addFormatting(e.pts, ["i"])
                        } else this.isNormalChar(n) && (0 === r && (r = null), a = Qi(n), a += Qi(r), this[this.mode_](e.pts, a), this.column_ += a.length)
                    } else this.lastControlCode_ = null
                }
            };
        tn.prototype = new Bi, tn.prototype.flushDisplayed = function(e) {
            var t = this.displayed_.map(function(e) {
                try {
                    return e.trim()
                } catch (e) {
                    return console.error("Skipping malformed caption."), ""
                }
            }).join("\n").replace(/^\n+|\n+$/g, "");
            t.length && this.trigger("data", {
                startPts: this.startPts_,
                endPts: e,
                text: t,
                stream: this.name_
            })
        }, tn.prototype.reset = function() {
            this.mode_ = "popOn", this.topRow_ = 0, this.startPts_ = 0, this.displayed_ = en(), this.nonDisplayed_ = en(), this.lastControlCode_ = null, this.column_ = 0, this.row_ = 14, this.rollUpRows_ = 2, this.formatting_ = []
        }, tn.prototype.setConstants = function() {
            0 === this.dataChannel_ ? (this.BASE_ = 16, this.EXT_ = 17, this.CONTROL_ = (20 | this.field_) << 8, this.OFFSET_ = 23) : 1 === this.dataChannel_ && (this.BASE_ = 24, this.EXT_ = 25, this.CONTROL_ = (28 | this.field_) << 8, this.OFFSET_ = 31), this.PADDING_ = 0, this.RESUME_CAPTION_LOADING_ = 32 | this.CONTROL_, this.END_OF_CAPTION_ = 47 | this.CONTROL_, this.ROLL_UP_2_ROWS_ = 37 | this.CONTROL_, this.ROLL_UP_3_ROWS_ = 38 | this.CONTROL_, this.ROLL_UP_4_ROWS_ = 39 | this.CONTROL_, this.CARRIAGE_RETURN_ = 45 | this.CONTROL_, this.RESUME_DIRECT_CAPTIONING_ = 41 | this.CONTROL_, this.BACKSPACE_ = 33 | this.CONTROL_, this.ERASE_DISPLAYED_MEMORY_ = 44 | this.CONTROL_, this.ERASE_NON_DISPLAYED_MEMORY_ = 46 | this.CONTROL_
        }, tn.prototype.isSpecialCharacter = function(e, t) {
            return e === this.EXT_ && t >= 48 && t <= 63
        }, tn.prototype.isExtCharacter = function(e, t) {
            return (e === this.EXT_ + 1 || e === this.EXT_ + 2) && t >= 32 && t <= 63
        }, tn.prototype.isMidRowCode = function(e, t) {
            return e === this.EXT_ && t >= 32 && t <= 47
        }, tn.prototype.isOffsetControlCode = function(e, t) {
            return e === this.OFFSET_ && t >= 33 && t <= 35
        }, tn.prototype.isPAC = function(e, t) {
            return e >= this.BASE_ && e < this.BASE_ + 8 && t >= 64 && t <= 127
        }, tn.prototype.isColorPAC = function(e) {
            return e >= 64 && e <= 79 || e >= 96 && e <= 127
        }, tn.prototype.isNormalChar = function(e) {
            return e >= 32 && e <= 127
        }, tn.prototype.setRollUp = function(e, t) {
            if ("rollUp" !== this.mode_ && (this.row_ = 14, this.mode_ = "rollUp", this.flushDisplayed(e), this.nonDisplayed_ = en(), this.displayed_ = en()), void 0 !== t && t !== this.row_)
                for (var i = 0; i < this.rollUpRows_; i++) this.displayed_[t - i] = this.displayed_[this.row_ - i], this.displayed_[this.row_ - i] = "";
            void 0 === t && (t = this.row_), this.topRow_ = t - this.rollUpRows_ + 1
        }, tn.prototype.addFormatting = function(e, t) {
            this.formatting_ = this.formatting_.concat(t);
            var i = t.reduce(function(e, t) {
                return e + "<" + t + ">"
            }, "");
            this[this.mode_](e, i)
        }, tn.prototype.clearFormatting = function(e) {
            if (this.formatting_.length) {
                var t = this.formatting_.reverse().reduce(function(e, t) {
                    return e + "</" + t + ">"
                }, "");
                this.formatting_ = [], this[this.mode_](e, t)
            }
        }, tn.prototype.popOn = function(e, t) {
            var i = this.nonDisplayed_[this.row_];
            this.nonDisplayed_[this.row_] = i += t
        }, tn.prototype.rollUp = function(e, t) {
            var i = this.displayed_[this.row_];
            this.displayed_[this.row_] = i += t
        }, tn.prototype.shiftRowsUp_ = function() {
            var e;
            for (e = 0; e < this.topRow_; e++) this.displayed_[e] = "";
            for (e = this.row_ + 1; e < 15; e++) this.displayed_[e] = "";
            for (e = this.topRow_; e < this.row_; e++) this.displayed_[e] = this.displayed_[e + 1];
            this.displayed_[this.row_] = ""
        }, tn.prototype.paintOn = function(e, t) {
            var i = this.displayed_[this.row_];
            this.displayed_[this.row_] = i += t
        };
        var nn = {
                CaptionStream: Ji,
                Cea608Stream: tn
            },
            rn = {
                H264_STREAM_TYPE: 27,
                ADTS_STREAM_TYPE: 15,
                METADATA_STREAM_TYPE: 21
            },
            an = function(e, t) {
                var i = 1;
                for (e > t && (i = -1); Math.abs(t - e) > 4294967296;) e += 8589934592 * i;
                return e
            },
            on = function e(t) {
                var i, n;
                e.prototype.init.call(this), this.type_ = t, this.push = function(e) {
                    e.type === this.type_ && (void 0 === n && (n = e.dts), e.dts = an(e.dts, n), e.pts = an(e.pts, n), i = e.dts, this.trigger("data", e))
                }, this.flush = function() {
                    n = i, this.trigger("done")
                }, this.discontinuity = function() {
                    n = void 0, i = void 0
                }
            };
        on.prototype = new Bi;
        var sn, ln = on,
            cn = an,
            un = function(e, t, i) {
                var n, r = "";
                for (n = t; n < i; n++) r += "%" + ("00" + e[n].toString(16)).slice(-2);
                return r
            },
            dn = function(e, t, i) {
                return decodeURIComponent(un(e, t, i))
            },
            hn = function(e) {
                return e[0] << 21 | e[1] << 14 | e[2] << 7 | e[3]
            },
            pn = {
                TXXX: function(e) {
                    var t;
                    if (3 === e.data[0]) {
                        for (t = 1; t < e.data.length; t++)
                            if (0 === e.data[t]) {
                                e.description = dn(e.data, 1, t), e.value = dn(e.data, t + 1, e.data.length).replace(/\0*$/, "");
                                break
                            } e.data = e.value
                    }
                },
                WXXX: function(e) {
                    var t;
                    if (3 === e.data[0])
                        for (t = 1; t < e.data.length; t++)
                            if (0 === e.data[t]) {
                                e.description = dn(e.data, 1, t), e.url = dn(e.data, t + 1, e.data.length);
                                break
                            }
                },
                PRIV: function(e) {
                    var t;
                    for (t = 0; t < e.data.length; t++)
                        if (0 === e.data[t]) {
                            e.owner = unescape(un(e.data, 0, t));
                            break
                        } e.privateData = e.data.subarray(t + 1), e.data = e.privateData
                }
            };
        (sn = function(e) {
            var t, i = {
                    debug: !(!e || !e.debug),
                    descriptor: e && e.descriptor
                },
                n = 0,
                r = [],
                a = 0;
            if (sn.prototype.init.call(this), this.dispatchType = rn.METADATA_STREAM_TYPE.toString(16), i.descriptor)
                for (t = 0; t < i.descriptor.length; t++) this.dispatchType += ("00" + i.descriptor[t].toString(16)).slice(-2);
            this.push = function(e) {
                var t, o, s, l, c;
                if ("timed-metadata" === e.type)
                    if (e.dataAlignmentIndicator && (a = 0, r.length = 0), 0 === r.length && (e.data.length < 10 || e.data[0] !== "I".charCodeAt(0) || e.data[1] !== "D".charCodeAt(0) || e.data[2] !== "3".charCodeAt(0))) i.debug && console.log("Skipping unrecognized metadata packet");
                    else if (r.push(e), a += e.data.byteLength, 1 === r.length && (n = hn(e.data.subarray(6, 10)), n += 10), !(a < n)) {
                    for (t = {
                            data: new Uint8Array(n),
                            frames: [],
                            pts: r[0].pts,
                            dts: r[0].dts
                        }, c = 0; c < n;) t.data.set(r[0].data.subarray(0, n - c), c), c += r[0].data.byteLength, a -= r[0].data.byteLength, r.shift();
                    o = 10, 64 & t.data[5] && (o += 4, o += hn(t.data.subarray(10, 14)), n -= hn(t.data.subarray(16, 20)));
                    do {
                        if ((s = hn(t.data.subarray(o + 4, o + 8))) < 1) return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");
                        if ((l = {
                                id: String.fromCharCode(t.data[o], t.data[o + 1], t.data[o + 2], t.data[o + 3]),
                                data: t.data.subarray(o + 10, o + s + 10)
                            }).key = l.id, pn[l.id] && (pn[l.id](l), "com.apple.streaming.transportStreamTimestamp" === l.owner)) {
                            var u = l.data,
                                d = (1 & u[3]) << 30 | u[4] << 22 | u[5] << 14 | u[6] << 6 | u[7] >>> 2;
                            d *= 4, l.timeStamp = d += 3 & u[7], void 0 === t.pts && void 0 === t.dts && (t.pts = l.timeStamp, t.dts = l.timeStamp), this.trigger("timestamp", l)
                        }
                        t.frames.push(l), o += 10, o += s
                    } while (o < n);
                    this.trigger("data", t)
                }
            }
        }).prototype = new Bi;
        var fn, mn, gn, yn = sn,
            vn = ln;
        (fn = function() {
            var e = new Uint8Array(188),
                t = 0;
            fn.prototype.init.call(this), this.push = function(i) {
                var n, r = 0,
                    a = 188;
                for (t ? ((n = new Uint8Array(i.byteLength + t)).set(e.subarray(0, t)), n.set(i, t), t = 0) : n = i; a < n.byteLength;) 71 !== n[r] || 71 !== n[a] ? (r++, a++) : (this.trigger("data", n.subarray(r, a)), r += 188, a += 188);
                r < n.byteLength && (e.set(n.subarray(r), 0), t = n.byteLength - r)
            }, this.flush = function() {
                188 === t && 71 === e[0] && (this.trigger("data", e), t = 0), this.trigger("done")
            }
        }).prototype = new Bi, (mn = function() {
            var e, t, i, n;
            mn.prototype.init.call(this), n = this, this.packetsWaitingForPmt = [], this.programMapTable = void 0, e = function(e, n) {
                var r = 0;
                n.payloadUnitStartIndicator && (r += e[r] + 1), "pat" === n.type ? t(e.subarray(r), n) : i(e.subarray(r), n)
            }, t = function(e, t) {
                t.section_number = e[7], t.last_section_number = e[8], n.pmtPid = (31 & e[10]) << 8 | e[11], t.pmtPid = n.pmtPid
            }, i = function(e, t) {
                var i, r;
                if (1 & e[5]) {
                    for (n.programMapTable = {
                            video: null,
                            audio: null,
                            "timed-metadata": {}
                        }, i = 3 + ((15 & e[1]) << 8 | e[2]) - 4, r = 12 + ((15 & e[10]) << 8 | e[11]); r < i;) {
                        var a = e[r],
                            o = (31 & e[r + 1]) << 8 | e[r + 2];
                        a === rn.H264_STREAM_TYPE && null === n.programMapTable.video ? n.programMapTable.video = o : a === rn.ADTS_STREAM_TYPE && null === n.programMapTable.audio ? n.programMapTable.audio = o : a === rn.METADATA_STREAM_TYPE && (n.programMapTable["timed-metadata"][o] = a), r += 5 + ((15 & e[r + 3]) << 8 | e[r + 4])
                    }
                    t.programMapTable = n.programMapTable
                }
            }, this.push = function(t) {
                var i = {},
                    n = 4;
                if (i.payloadUnitStartIndicator = !!(64 & t[1]), i.pid = 31 & t[1], i.pid <<= 8, i.pid |= t[2], (48 & t[3]) >>> 4 > 1 && (n += t[n] + 1), 0 === i.pid) i.type = "pat", e(t.subarray(n), i), this.trigger("data", i);
                else if (i.pid === this.pmtPid)
                    for (i.type = "pmt", e(t.subarray(n), i), this.trigger("data", i); this.packetsWaitingForPmt.length;) this.processPes_.apply(this, this.packetsWaitingForPmt.shift());
                else void 0 === this.programMapTable ? this.packetsWaitingForPmt.push([t, n, i]) : this.processPes_(t, n, i)
            }, this.processPes_ = function(e, t, i) {
                i.streamType = i.pid === this.programMapTable.video ? rn.H264_STREAM_TYPE : i.pid === this.programMapTable.audio ? rn.ADTS_STREAM_TYPE : this.programMapTable["timed-metadata"][i.pid], i.type = "pes", i.data = e.subarray(t), this.trigger("data", i)
            }
        }).prototype = new Bi, mn.STREAM_TYPES = {
            h264: 27,
            adts: 15
        }, (gn = function() {
            var e = this,
                t = {
                    data: [],
                    size: 0
                },
                i = {
                    data: [],
                    size: 0
                },
                n = {
                    data: [],
                    size: 0
                },
                r = function(t, i, n) {
                    var r, a, o = new Uint8Array(t.size),
                        s = {
                            type: i
                        },
                        l = 0,
                        c = 0;
                    if (t.data.length && !(t.size < 9)) {
                        for (s.trackId = t.data[0].pid, l = 0; l < t.data.length; l++) o.set((a = t.data[l]).data, c), c += a.data.byteLength;
                        var u, d, h;
                        (d = s).packetLength = 6 + ((u = o)[4] << 8 | u[5]), d.dataAlignmentIndicator = 0 != (4 & u[6]), 192 & (h = u[7]) && (d.pts = (14 & u[9]) << 27 | (255 & u[10]) << 20 | (254 & u[11]) << 12 | (255 & u[12]) << 5 | (254 & u[13]) >>> 3, d.pts *= 4, d.pts += (6 & u[13]) >>> 1, d.dts = d.pts, 64 & h && (d.dts = (14 & u[14]) << 27 | (255 & u[15]) << 20 | (254 & u[16]) << 12 | (255 & u[17]) << 5 | (254 & u[18]) >>> 3, d.dts *= 4, d.dts += (6 & u[18]) >>> 1)), d.data = u.subarray(9 + u[8]), r = "video" === i || s.packetLength <= t.size, (n || r) && (t.size = 0, t.data.length = 0), r && e.trigger("data", s)
                    }
                };
            gn.prototype.init.call(this), this.push = function(a) {
                ({
                    pat: function() {},
                    pes: function() {
                        var e, o;
                        switch (a.streamType) {
                            case rn.H264_STREAM_TYPE:
                            case rn.H264_STREAM_TYPE:
                                e = t, o = "video";
                                break;
                            case rn.ADTS_STREAM_TYPE:
                                e = i, o = "audio";
                                break;
                            case rn.METADATA_STREAM_TYPE:
                                e = n, o = "timed-metadata";
                                break;
                            default:
                                return
                        }
                        a.payloadUnitStartIndicator && r(e, o, !0), e.data.push(a), e.size += a.data.byteLength
                    },
                    pmt: function() {
                        var t = {
                                type: "metadata",
                                tracks: []
                            },
                            i = a.programMapTable;
                        null !== i.video && t.tracks.push({
                            timelineStartInfo: {
                                baseMediaDecodeTime: 0
                            },
                            id: +i.video,
                            codec: "avc",
                            type: "video"
                        }), null !== i.audio && t.tracks.push({
                            timelineStartInfo: {
                                baseMediaDecodeTime: 0
                            },
                            id: +i.audio,
                            codec: "adts",
                            type: "audio"
                        }), e.trigger("data", t)
                    }
                })[a.type]()
            }, this.flush = function() {
                r(t, "video"), r(i, "audio"), r(n, "timed-metadata"), this.trigger("done")
            }
        }).prototype = new Bi;
        var bn = {
            PAT_PID: 0,
            MP2T_PACKET_LENGTH: 188,
            TransportPacketStream: fn,
            TransportParseStream: mn,
            ElementaryStream: gn,
            TimestampRolloverStream: vn,
            CaptionStream: nn.CaptionStream,
            Cea608Stream: nn.Cea608Stream,
            MetadataStream: yn
        };
        for (var _n in rn) rn.hasOwnProperty(_n) && (bn[_n] = rn[_n]);
        var Tn, Sn = bn,
            En = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350];
        (Tn = function() {
            var e;
            Tn.prototype.init.call(this), this.push = function(t) {
                var i, n, r, a, o = 0,
                    s = 0;
                if ("audio" === t.type)
                    for (e ? (n = e, (e = new Uint8Array(n.byteLength + t.data.byteLength)).set(n), e.set(t.data, n.byteLength)) : e = t.data; o + 5 < e.length;)
                        if (255 === e[o] && 240 == (246 & e[o + 1])) {
                            if (a = 9e4 * (r = 1024 * (1 + (3 & e[o + 6]))) / En[(60 & e[o + 2]) >>> 2], e.byteLength < (i = o + ((3 & e[o + 3]) << 11 | e[o + 4] << 3 | (224 & e[o + 5]) >> 5))) return;
                            if (this.trigger("data", {
                                    pts: t.pts + s * a,
                                    dts: t.dts + s * a,
                                    sampleCount: r,
                                    audioobjecttype: 1 + (e[o + 2] >>> 6 & 3),
                                    channelcount: (1 & e[o + 2]) << 2 | (192 & e[o + 3]) >>> 6,
                                    samplerate: En[(60 & e[o + 2]) >>> 2],
                                    samplingfrequencyindex: (60 & e[o + 2]) >>> 2,
                                    samplesize: 16,
                                    data: e.subarray(o + 7 + 2 * (1 & ~e[o + 1]), i)
                                }), e.byteLength === i) return void(e = void 0);
                            s++, e = e.subarray(i)
                        } else o++
            }, this.flush = function() {
                this.trigger("done")
            }
        }).prototype = new Bi;
        var wn, Cn, kn, Pn = Tn,
            An = function(e) {
                var t = e.byteLength,
                    i = 0,
                    n = 0;
                this.length = function() {
                    return 8 * t
                }, this.bitsAvailable = function() {
                    return 8 * t + n
                }, this.loadWord = function() {
                    var r = e.byteLength - t,
                        a = new Uint8Array(4),
                        o = Math.min(4, t);
                    if (0 === o) throw new Error("no bytes available");
                    a.set(e.subarray(r, r + o)), i = new DataView(a.buffer).getUint32(0), n = 8 * o, t -= o
                }, this.skipBits = function(e) {
                    var r;
                    n > e ? (i <<= e, n -= e) : (e -= n, e -= 8 * (r = Math.floor(e / 8)), t -= r, this.loadWord(), i <<= e, n -= e)
                }, this.readBits = function(e) {
                    var r = Math.min(n, e),
                        a = i >>> 32 - r;
                    return (n -= r) > 0 ? i <<= r : t > 0 && this.loadWord(), (r = e - r) > 0 ? a << r | this.readBits(r) : a
                }, this.skipLeadingZeros = function() {
                    var e;
                    for (e = 0; e < n; ++e)
                        if (0 != (i & 2147483648 >>> e)) return i <<= e, n -= e, e;
                    return this.loadWord(), e + this.skipLeadingZeros()
                }, this.skipUnsignedExpGolomb = function() {
                    this.skipBits(1 + this.skipLeadingZeros())
                }, this.skipExpGolomb = function() {
                    this.skipBits(1 + this.skipLeadingZeros())
                }, this.readUnsignedExpGolomb = function() {
                    var e = this.skipLeadingZeros();
                    return this.readBits(e + 1) - 1
                }, this.readExpGolomb = function() {
                    var e = this.readUnsignedExpGolomb();
                    return 1 & e ? 1 + e >>> 1 : -1 * (e >>> 1)
                }, this.readBoolean = function() {
                    return 1 === this.readBits(1)
                }, this.readUnsignedByte = function() {
                    return this.readBits(8)
                }, this.loadWord()
            };
        (Cn = function() {
            var e, t, i = 0;
            Cn.prototype.init.call(this), this.push = function(n) {
                var r;
                for (t ? ((r = new Uint8Array(t.byteLength + n.data.byteLength)).set(t), r.set(n.data, t.byteLength), t = r) : t = n.data; i < t.byteLength - 3; i++)
                    if (1 === t[i + 2]) {
                        e = i + 5;
                        break
                    } for (; e < t.byteLength;) switch (t[e]) {
                    case 0:
                        if (0 !== t[e - 1]) {
                            e += 2;
                            break
                        }
                        if (0 !== t[e - 2]) {
                            e++;
                            break
                        }
                        i + 3 !== e - 2 && this.trigger("data", t.subarray(i + 3, e - 2));
                        do {
                            e++
                        } while (1 !== t[e] && e < t.length);
                        i = e - 2, e += 3;
                        break;
                    case 1:
                        if (0 !== t[e - 1] || 0 !== t[e - 2]) {
                            e += 3;
                            break
                        }
                        this.trigger("data", t.subarray(i + 3, e - 2)), i = e - 2, e += 3;
                        break;
                    default:
                        e += 3
                }
                t = t.subarray(i), e -= i, i = 0
            }, this.flush = function() {
                t && t.byteLength > 3 && this.trigger("data", t.subarray(i + 3)), t = null, i = 0, this.trigger("done")
            }
        }).prototype = new Bi, kn = {
            100: !0,
            110: !0,
            122: !0,
            244: !0,
            44: !0,
            83: !0,
            86: !0,
            118: !0,
            128: !0,
            138: !0,
            139: !0,
            134: !0
        }, (wn = function() {
            var e, t, i, n, r, a, o, s = new Cn;
            wn.prototype.init.call(this), e = this, this.push = function(e) {
                "video" === e.type && (t = e.trackId, i = e.pts, n = e.dts, s.push(e))
            }, s.on("data", function(o) {
                var s = {
                    trackId: t,
                    pts: i,
                    dts: n,
                    data: o
                };
                switch (31 & o[0]) {
                    case 5:
                        s.nalUnitType = "slice_layer_without_partitioning_rbsp_idr";
                        break;
                    case 6:
                        s.nalUnitType = "sei_rbsp", s.escapedRBSP = r(o.subarray(1));
                        break;
                    case 7:
                        s.nalUnitType = "seq_parameter_set_rbsp", s.escapedRBSP = r(o.subarray(1)), s.config = a(s.escapedRBSP);
                        break;
                    case 8:
                        s.nalUnitType = "pic_parameter_set_rbsp";
                        break;
                    case 9:
                        s.nalUnitType = "access_unit_delimiter_rbsp"
                }
                e.trigger("data", s)
            }), s.on("done", function() {
                e.trigger("done")
            }), this.flush = function() {
                s.flush()
            }, o = function(e, t) {
                var i, n = 8,
                    r = 8;
                for (i = 0; i < e; i++) 0 !== r && (r = (n + t.readExpGolomb() + 256) % 256), n = 0 === r ? n : r
            }, r = function(e) {
                for (var t, i, n = e.byteLength, r = [], a = 1; a < n - 2;) 0 === e[a] && 0 === e[a + 1] && 3 === e[a + 2] ? (r.push(a + 2), a += 2) : a++;
                if (0 === r.length) return e;
                t = n - r.length, i = new Uint8Array(t);
                var o = 0;
                for (a = 0; a < t; o++, a++) o === r[0] && (o++, r.shift()), i[a] = e[o];
                return i
            }, a = function(e) {
                var t, i, n, r, a, s, l, c, u, d, h, p, f, m = 0,
                    g = 0,
                    y = 0,
                    v = 0,
                    b = 1;
                if (i = (t = new An(e)).readUnsignedByte(), r = t.readUnsignedByte(), n = t.readUnsignedByte(), t.skipUnsignedExpGolomb(), kn[i] && (3 === (a = t.readUnsignedExpGolomb()) && t.skipBits(1), t.skipUnsignedExpGolomb(), t.skipUnsignedExpGolomb(), t.skipBits(1), t.readBoolean()))
                    for (h = 3 !== a ? 8 : 12, f = 0; f < h; f++) t.readBoolean() && o(f < 6 ? 16 : 64, t);
                if (t.skipUnsignedExpGolomb(), 0 === (s = t.readUnsignedExpGolomb())) t.readUnsignedExpGolomb();
                else if (1 === s)
                    for (t.skipBits(1), t.skipExpGolomb(), t.skipExpGolomb(), l = t.readUnsignedExpGolomb(), f = 0; f < l; f++) t.skipExpGolomb();
                if (t.skipUnsignedExpGolomb(), t.skipBits(1), c = t.readUnsignedExpGolomb(), u = t.readUnsignedExpGolomb(), 0 === (d = t.readBits(1)) && t.skipBits(1), t.skipBits(1), t.readBoolean() && (m = t.readUnsignedExpGolomb(), g = t.readUnsignedExpGolomb(), y = t.readUnsignedExpGolomb(), v = t.readUnsignedExpGolomb()), t.readBoolean() && t.readBoolean()) {
                    switch (t.readUnsignedByte()) {
                        case 1:
                            p = [1, 1];
                            break;
                        case 2:
                            p = [12, 11];
                            break;
                        case 3:
                            p = [10, 11];
                            break;
                        case 4:
                            p = [16, 11];
                            break;
                        case 5:
                            p = [40, 33];
                            break;
                        case 6:
                            p = [24, 11];
                            break;
                        case 7:
                            p = [20, 11];
                            break;
                        case 8:
                            p = [32, 11];
                            break;
                        case 9:
                            p = [80, 33];
                            break;
                        case 10:
                            p = [18, 11];
                            break;
                        case 11:
                            p = [15, 11];
                            break;
                        case 12:
                            p = [64, 33];
                            break;
                        case 13:
                            p = [160, 99];
                            break;
                        case 14:
                            p = [4, 3];
                            break;
                        case 15:
                            p = [3, 2];
                            break;
                        case 16:
                            p = [2, 1];
                            break;
                        case 255:
                            p = [t.readUnsignedByte() << 8 | t.readUnsignedByte(), t.readUnsignedByte() << 8 | t.readUnsignedByte()]
                    }
                    p && (b = p[0] / p[1])
                }
                return {
                    profileIdc: i,
                    levelIdc: n,
                    profileCompatibility: r,
                    width: Math.ceil((16 * (c + 1) - 2 * m - 2 * g) * b),
                    height: (2 - d) * (u + 1) * 16 - 2 * y - 2 * v
                }
            }
        }).prototype = new Bi;
        var In, Ln = {
                H264Stream: wn,
                NalByteStream: Cn
            },
            On = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350],
            Dn = function(e) {
                return e[0] << 21 | e[1] << 14 | e[2] << 7 | e[3]
            },
            Rn = {
                isLikelyAacData: function(e) {
                    return e[0] === "I".charCodeAt(0) && e[1] === "D".charCodeAt(0) && e[2] === "3".charCodeAt(0)
                },
                parseId3TagSize: function(e, t) {
                    var i = e[t + 6] << 21 | e[t + 7] << 14 | e[t + 8] << 7 | e[t + 9];
                    return (16 & e[t + 5]) >> 4 ? i + 20 : i + 10
                },
                parseAdtsSize: function(e, t) {
                    return 6144 & e[t + 3] | e[t + 4] << 3 | (224 & e[t + 5]) >> 5
                },
                parseType: function(e, t) {
                    return e[t] === "I".charCodeAt(0) && e[t + 1] === "D".charCodeAt(0) && e[t + 2] === "3".charCodeAt(0) ? "timed-metadata" : !0 & e[t] && 240 == (240 & e[t + 1]) ? "audio" : null
                },
                parseSampleRate: function(e) {
                    for (var t = 0; t + 5 < e.length;) {
                        if (255 === e[t] && 240 == (246 & e[t + 1])) return On[(60 & e[t + 2]) >>> 2];
                        t++
                    }
                    return null
                },
                parseAacTimestamp: function(e) {
                    var t, i, n;
                    t = 10, 64 & e[5] && (t += 4, t += Dn(e.subarray(10, 14)));
                    do {
                        if ((i = Dn(e.subarray(t + 4, t + 8))) < 1) return null;
                        if ("PRIV" === String.fromCharCode(e[t], e[t + 1], e[t + 2], e[t + 3])) {
                            n = e.subarray(t + 10, t + i + 10);
                            for (var r = 0; r < n.byteLength; r++)
                                if (0 === n[r]) {
                                    if ("com.apple.streaming.transportStreamTimestamp" === unescape(function(e, t, i) {
                                            var n, r = "";
                                            for (n = 0; n < i; n++) r += "%" + ("00" + e[n].toString(16)).slice(-2);
                                            return r
                                        }(n, 0, r))) {
                                        var a = n.subarray(r + 1),
                                            o = (1 & a[3]) << 30 | a[4] << 22 | a[5] << 14 | a[6] << 6 | a[7] >>> 2;
                                        return (o *= 4) + (3 & a[7])
                                    }
                                    break
                                }
                        }
                        t += 10, t += i
                    } while (t < e.byteLength);
                    return null
                }
            };
        (In = function() {
            var e = new Uint8Array,
                t = 0;
            In.prototype.init.call(this), this.setTimestamp = function(e) {
                t = e
            }, this.push = function(i) {
                var n, r, a, o = 0,
                    s = 0;
                for (e.length ? (a = e.length, (e = new Uint8Array(i.byteLength + a)).set(e.subarray(0, a)), e.set(i, a)) : e = i; e.length - s >= 3;)
                    if (e[s] !== "I".charCodeAt(0) || e[s + 1] !== "D".charCodeAt(0) || e[s + 2] !== "3".charCodeAt(0))
                        if (255 != (255 & e[s]) || 240 != (240 & e[s + 1])) s++;
                        else {
                            if (e.length - s < 7) break;
                            if (s + (o = Rn.parseAdtsSize(e, s)) > e.length) break;
                            r = {
                                type: "audio",
                                data: e.subarray(s, s + o),
                                pts: t,
                                dts: t
                            }, this.trigger("data", r), s += o
                        }
                else {
                    if (e.length - s < 10) break;
                    if (s + (o = Rn.parseId3TagSize(e, s)) > e.length) break;
                    n = {
                        type: "timed-metadata",
                        data: e.subarray(s, s + o)
                    }, this.trigger("data", n), s += o
                }
                e = e.length - s > 0 ? e.subarray(s) : new Uint8Array
            }
        }).prototype = new Bi;
        var xn, Mn, Un, Nn, Fn = In,
            Bn = Ln.H264Stream,
            Vn = Rn.isLikelyAacData,
            jn = ["audioobjecttype", "channelcount", "samplerate", "samplingfrequencyindex", "samplesize"],
            zn = ["width", "height", "profileIdc", "levelIdc", "profileCompatibility"],
            qn = function(e, t) {
                var i;
                if (e.length !== t.length) return !1;
                for (i = 0; i < e.length; i++)
                    if (e[i] !== t[i]) return !1;
                return !0
            };
        (Mn = function(e, t) {
            var i = [],
                n = 0,
                r = 0,
                a = 0,
                o = 1 / 0;
            t = t || {}, Mn.prototype.init.call(this), this.push = function(t) {
                Xi(e, t), e && jn.forEach(function(i) {
                    e[i] = t[i]
                }), i.push(t)
            }, this.setEarliestDts = function(t) {
                r = t - e.timelineStartInfo.baseMediaDecodeTime
            }, this.setVideoBaseMediaDecodeTime = function(e) {
                o = e
            }, this.setAudioAppendStart = function(e) {
                a = e
            }, this.flush = function() {
                var s, l, c, u;
                0 !== i.length ? (s = function(e, t, i) {
                    return t.minSegmentDts >= i ? e : (t.minSegmentDts = 1 / 0, e.filter(function(e) {
                        return e.dts >= i && (t.minSegmentDts = Math.min(t.minSegmentDts, e.dts), t.minSegmentPts = t.minSegmentDts, !0)
                    }))
                }(i, e, r), e.baseMediaDecodeTime = Ki(e, t.keepOriginalTimestamps), function(e, t, i, n) {
                    var r, a, o, s, l = 0,
                        c = 0,
                        u = 0;
                    if (t.length && (r = Wi(e.baseMediaDecodeTime, e.samplerate), a = Math.ceil(9e4 / (e.samplerate / 1024)), i && n && (l = r - Math.max(i, n), u = (c = Math.floor(l / a)) * a), !(c < 1 || u > 45e3))) {
                        for ((o = Gi[e.samplerate]) || (o = t[0].data), s = 0; s < c; s++) t.splice(s, 0, {
                            data: o
                        });
                        e.baseMediaDecodeTime -= Math.floor(function(e, t) {
                            return Ui(Ni(u), t)
                        }(0, e.samplerate))
                    }
                }(e, s, a, o), e.samples = function(e) {
                    var t, i = [];
                    for (t = 0; t < e.length; t++) i.push({
                        size: e[t].data.byteLength,
                        duration: 1024
                    });
                    return i
                }(s), c = Di.mdat(function(e) {
                    var t, i, n = 0,
                        r = new Uint8Array(function(e) {
                            var t, i = 0;
                            for (t = 0; t < e.length; t++) i += e[t].data.byteLength;
                            return i
                        }(e));
                    for (t = 0; t < e.length; t++) r.set((i = e[t]).data, n), n += i.data.byteLength;
                    return r
                }(s)), i = [], l = Di.moof(n, [e]), u = new Uint8Array(l.byteLength + c.byteLength), n++, u.set(l), u.set(c, l.byteLength), Yi(e), this.trigger("data", {
                    track: e,
                    boxes: u
                }), this.trigger("done", "AudioSegmentStream")) : this.trigger("done", "AudioSegmentStream")
            }
        }).prototype = new Bi, (xn = function(e, t) {
            var i, n, r = 0,
                a = [],
                o = [];
            t = t || {}, xn.prototype.init.call(this), delete e.minPTS, this.gopCache_ = [], this.push = function(t) {
                Xi(e, t), "seq_parameter_set_rbsp" !== t.nalUnitType || i || (i = t.config, e.sps = [t.data], zn.forEach(function(t) {
                    e[t] = i[t]
                }, this)), "pic_parameter_set_rbsp" !== t.nalUnitType || n || (n = t.data, e.pps = [t.data]), a.push(t)
            }, this.flush = function() {
                for (var i, n, s, l, c, u, d, h = 0; a.length && "access_unit_delimiter_rbsp" !== a[0].nalUnitType;) a.shift();
                if (0 === a.length) return this.resetStream_(), void this.trigger("done", "VideoSegmentStream");
                if ((n = function(e) {
                        var t, i, n = [],
                            r = [];
                        for (n.byteLength = 0, n.nalCount = 0, n.duration = 0, n.pts = e[0].pts, n.dts = e[0].dts, r.byteLength = 0, r.nalCount = 0, r.duration = 0, r.pts = e[0].pts, r.dts = e[0].dts, t = 0; t < e.length; t++)(i = e[t]).keyFrame ? (n.length && (r.push(n), r.byteLength += n.byteLength, r.nalCount += n.nalCount, r.duration += n.duration), (n = [i]).nalCount = i.length, n.byteLength = i.byteLength, n.pts = i.pts, n.dts = i.dts, n.duration = i.duration) : (n.duration += i.duration, n.nalCount += i.length, n.byteLength += i.byteLength, n.push(i));
                        return r.length && n.duration <= 0 && (n.duration = r[r.length - 1].duration), r.byteLength += n.byteLength, r.nalCount += n.nalCount, r.duration += n.duration, r.push(n), r
                    }(function(e) {
                        var t, i, n = [],
                            r = [];
                        for (n.byteLength = 0, t = 0; t < e.length; t++) "access_unit_delimiter_rbsp" === (i = e[t]).nalUnitType ? (n.length && (n.duration = i.dts - n.dts, r.push(n)), (n = [i]).byteLength = i.data.byteLength, n.pts = i.pts, n.dts = i.dts) : ("slice_layer_without_partitioning_rbsp_idr" === i.nalUnitType && (n.keyFrame = !0), n.duration = i.dts - n.dts, n.byteLength += i.data.byteLength, n.push(i));
                        return r.length && (!n.duration || n.duration <= 0) && (n.duration = r[r.length - 1].duration), r.push(n), r
                    }(a)))[0][0].keyFrame || ((i = this.getGopForFusion_(a[0], e)) ? (h = i.duration, n.unshift(i), n.byteLength += i.byteLength, n.nalCount += i.nalCount, n.pts = i.pts, n.dts = i.dts, n.duration += i.duration) : n = function(e) {
                        var t;
                        return !e[0][0].keyFrame && e.length > 1 && (t = e.shift(), e.byteLength -= t.byteLength, e.nalCount -= t.nalCount, e[0][0].dts = t.dts, e[0][0].pts = t.pts, e[0][0].duration += t.duration), e
                    }(n)), o.length) {
                    var p;
                    if (!(p = t.alignGopsAtEnd ? this.alignGopsAtEnd_(n) : this.alignGopsAtStart_(n))) return this.gopCache_.unshift({
                        gop: n.pop(),
                        pps: e.pps,
                        sps: e.sps
                    }), this.gopCache_.length = Math.min(6, this.gopCache_.length), a = [], this.resetStream_(), void this.trigger("done", "VideoSegmentStream");
                    Yi(e), n = p
                }
                Xi(e, n), e.samples = function(e, t) {
                    var i, n, r, a, o = 0,
                        s = [];
                    for (i = 0; i < e.length; i++)
                        for (a = e[i], n = 0; n < a.length; n++) o += (r = Vi(a[n], o)).size, s.push(r);
                    return s
                }(n), l = Di.mdat(function(e) {
                    var t, i, n, r, a, o, s = 0,
                        l = new Uint8Array(e.byteLength + 4 * e.nalCount),
                        c = new DataView(l.buffer);
                    for (t = 0; t < e.length; t++)
                        for (r = e[t], i = 0; i < r.length; i++)
                            for (a = r[i], n = 0; n < a.length; n++) c.setUint32(s, (o = a[n]).data.byteLength), l.set(o.data, s += 4), s += o.data.byteLength;
                    return l
                }(n)), e.baseMediaDecodeTime = Ki(e, t.keepOriginalTimestamps), this.trigger("processedGopsInfo", n.map(function(e) {
                    return {
                        pts: e.pts,
                        dts: e.dts,
                        byteLength: e.byteLength
                    }
                })), this.trigger("segmentTimingInfo", function(e, t, i, n, r) {
                    return {
                        start: {
                            dts: e,
                            pts: u.pts
                        },
                        end: {
                            dts: i,
                            pts: d.pts + d.duration
                        },
                        prependedContentDuration: h
                    }
                }((u = n[0]).dts, 0, (d = n[n.length - 1]).dts + d.duration)), this.gopCache_.unshift({
                    gop: n.pop(),
                    pps: e.pps,
                    sps: e.sps
                }), this.gopCache_.length = Math.min(6, this.gopCache_.length), a = [], this.trigger("baseMediaDecodeTime", e.baseMediaDecodeTime), this.trigger("timelineStartInfo", e.timelineStartInfo), s = Di.moof(r, [e]), c = new Uint8Array(s.byteLength + l.byteLength), r++, c.set(s), c.set(l, s.byteLength), this.trigger("data", {
                    track: e,
                    boxes: c
                }), this.resetStream_(), this.trigger("done", "VideoSegmentStream")
            }, this.resetStream_ = function() {
                Yi(e), i = void 0, n = void 0
            }, this.getGopForFusion_ = function(t) {
                var i, n, r, a, o, s = 1 / 0;
                for (o = 0; o < this.gopCache_.length; o++) r = (a = this.gopCache_[o]).gop, e.pps && qn(e.pps[0], a.pps[0]) && e.sps && qn(e.sps[0], a.sps[0]) && (r.dts < e.timelineStartInfo.dts || (i = t.dts - r.dts - r.duration) >= -1e4 && i <= 45e3 && (!n || s > i) && (n = a, s = i));
                return n ? n.gop : null
            }, this.alignGopsAtStart_ = function(e) {
                var t, i, n, r, a, s, l, c;
                for (a = e.byteLength, s = e.nalCount, l = e.duration, t = i = 0; t < o.length && i < e.length && (n = o[t]).pts !== (r = e[i]).pts;) r.pts > n.pts ? t++ : (i++, a -= r.byteLength, s -= r.nalCount, l -= r.duration);
                return 0 === i ? e : i === e.length ? null : ((c = e.slice(i)).byteLength = a, c.duration = l, c.nalCount = s, c.pts = c[0].pts, c.dts = c[0].dts, c)
            }, this.alignGopsAtEnd_ = function(e) {
                var t, i, n, r, a, s, l;
                for (t = o.length - 1, i = e.length - 1, a = null, s = !1; t >= 0 && i >= 0;) {
                    if ((n = o[t]).pts === (r = e[i]).pts) {
                        s = !0;
                        break
                    }
                    n.pts > r.pts ? t-- : (t === o.length - 1 && (a = i), i--)
                }
                if (!s && null === a) return null;
                if (0 === (l = s ? i : a)) return e;
                var c = e.slice(l),
                    u = c.reduce(function(e, t) {
                        return e.byteLength += t.byteLength, e.duration += t.duration, e.nalCount += t.nalCount, e
                    }, {
                        byteLength: 0,
                        duration: 0,
                        nalCount: 0
                    });
                return c.byteLength = u.byteLength, c.duration = u.duration, c.nalCount = u.nalCount, c.pts = c[0].pts, c.dts = c[0].dts, c
            }, this.alignGopsWith = function(e) {
                o = e
            }
        }).prototype = new Bi, (Nn = function(e, t) {
            this.numberOfTracks = 0, this.metadataStream = t, this.remuxTracks = void 0 === (e = e || {}).remux || !!e.remux, "boolean" == typeof e.keepOriginalTimestamps && (this.keepOriginalTimestamps = e.keepOriginalTimestamps), this.pendingTracks = [], this.videoTrack = null, this.pendingBoxes = [], this.pendingCaptions = [], this.pendingMetadata = [], this.pendingBytes = 0, this.emittedTracks = 0, Nn.prototype.init.call(this), this.push = function(e) {
                return e.text ? this.pendingCaptions.push(e) : e.frames ? this.pendingMetadata.push(e) : (this.pendingTracks.push(e.track), this.pendingBoxes.push(e.boxes), this.pendingBytes += e.boxes.byteLength, "video" === e.track.type && (this.videoTrack = e.track), void("audio" === e.track.type && (this.audioTrack = e.track)))
            }
        }).prototype = new Bi, Nn.prototype.flush = function(e) {
            var t, i, n, r, a = 0,
                o = {
                    captions: [],
                    captionStreams: {},
                    metadata: [],
                    info: {}
                },
                s = 0;
            if (this.pendingTracks.length < this.numberOfTracks) {
                if ("VideoSegmentStream" !== e && "AudioSegmentStream" !== e) return;
                if (this.remuxTracks) return;
                if (0 === this.pendingTracks.length) return this.emittedTracks++, void(this.emittedTracks >= this.numberOfTracks && (this.trigger("done"), this.emittedTracks = 0))
            }
            for (this.videoTrack ? (s = this.videoTrack.timelineStartInfo.pts, zn.forEach(function(e) {
                    o.info[e] = this.videoTrack[e]
                }, this)) : this.audioTrack && (s = this.audioTrack.timelineStartInfo.pts, jn.forEach(function(e) {
                    o.info[e] = this.audioTrack[e]
                }, this)), o.type = 1 === this.pendingTracks.length ? this.pendingTracks[0].type : "combined", this.emittedTracks += this.pendingTracks.length, n = Di.initSegment(this.pendingTracks), o.initSegment = new Uint8Array(n.byteLength), o.initSegment.set(n), o.data = new Uint8Array(this.pendingBytes), r = 0; r < this.pendingBoxes.length; r++) o.data.set(this.pendingBoxes[r], a), a += this.pendingBoxes[r].byteLength;
            for (r = 0; r < this.pendingCaptions.length; r++)(t = this.pendingCaptions[r]).startTime = t.startPts, this.keepOriginalTimestamps || (t.startTime -= s), t.startTime /= 9e4, t.endTime = t.endPts, this.keepOriginalTimestamps || (t.endTime -= s), t.endTime /= 9e4, o.captionStreams[t.stream] = !0, o.captions.push(t);
            for (r = 0; r < this.pendingMetadata.length; r++)(i = this.pendingMetadata[r]).cueTime = i.pts, this.keepOriginalTimestamps || (i.cueTime -= s), i.cueTime /= 9e4, o.metadata.push(i);
            o.metadata.dispatchType = this.metadataStream.dispatchType, this.pendingTracks.length = 0, this.videoTrack = null, this.pendingBoxes.length = 0, this.pendingCaptions.length = 0, this.pendingBytes = 0, this.pendingMetadata.length = 0, this.trigger("data", o), this.emittedTracks >= this.numberOfTracks && (this.trigger("done"), this.emittedTracks = 0)
        }, (Un = function(e) {
            var t, i, n = this,
                r = !0;
            Un.prototype.init.call(this), this.baseMediaDecodeTime = (e = e || {}).baseMediaDecodeTime || 0, this.transmuxPipeline_ = {}, this.setupAacPipeline = function() {
                var t = {};
                this.transmuxPipeline_ = t, t.type = "aac", t.metadataStream = new Sn.MetadataStream, t.aacStream = new Fn, t.audioTimestampRolloverStream = new Sn.TimestampRolloverStream("audio"), t.timedMetadataTimestampRolloverStream = new Sn.TimestampRolloverStream("timed-metadata"), t.adtsStream = new Pn, t.coalesceStream = new Nn(e, t.metadataStream), t.headOfPipeline = t.aacStream, t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream), t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream), t.metadataStream.on("timestamp", function(e) {
                    t.aacStream.setTimestamp(e.timeStamp)
                }), t.aacStream.on("data", function(r) {
                    "timed-metadata" !== r.type || t.audioSegmentStream || (i = i || {
                        timelineStartInfo: {
                            baseMediaDecodeTime: n.baseMediaDecodeTime
                        },
                        codec: "adts",
                        type: "audio"
                    }, t.coalesceStream.numberOfTracks++, t.audioSegmentStream = new Mn(i, e), t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream))
                }), t.coalesceStream.on("data", this.trigger.bind(this, "data")), t.coalesceStream.on("done", this.trigger.bind(this, "done"))
            }, this.setupTsPipeline = function() {
                var r = {};
                this.transmuxPipeline_ = r, r.type = "ts", r.metadataStream = new Sn.MetadataStream, r.packetStream = new Sn.TransportPacketStream, r.parseStream = new Sn.TransportParseStream, r.elementaryStream = new Sn.ElementaryStream, r.videoTimestampRolloverStream = new Sn.TimestampRolloverStream("video"), r.audioTimestampRolloverStream = new Sn.TimestampRolloverStream("audio"), r.timedMetadataTimestampRolloverStream = new Sn.TimestampRolloverStream("timed-metadata"), r.adtsStream = new Pn, r.h264Stream = new Bn, r.captionStream = new Sn.CaptionStream, r.coalesceStream = new Nn(e, r.metadataStream), r.headOfPipeline = r.packetStream, r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream), r.elementaryStream.pipe(r.videoTimestampRolloverStream).pipe(r.h264Stream), r.elementaryStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream), r.elementaryStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream), r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream), r.elementaryStream.on("data", function(a) {
                    var o;
                    if ("metadata" === a.type) {
                        for (o = a.tracks.length; o--;) t || "video" !== a.tracks[o].type ? i || "audio" !== a.tracks[o].type || ((i = a.tracks[o]).timelineStartInfo.baseMediaDecodeTime = n.baseMediaDecodeTime) : (t = a.tracks[o]).timelineStartInfo.baseMediaDecodeTime = n.baseMediaDecodeTime;
                        t && !r.videoSegmentStream && (r.coalesceStream.numberOfTracks++, r.videoSegmentStream = new xn(t, e), r.videoSegmentStream.on("timelineStartInfo", function(e) {
                            i && (i.timelineStartInfo = e, r.audioSegmentStream.setEarliestDts(e.dts))
                        }), r.videoSegmentStream.on("processedGopsInfo", n.trigger.bind(n, "gopInfo")), r.videoSegmentStream.on("segmentTimingInfo", n.trigger.bind(n, "videoSegmentTimingInfo")), r.videoSegmentStream.on("baseMediaDecodeTime", function(e) {
                            i && r.audioSegmentStream.setVideoBaseMediaDecodeTime(e)
                        }), r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)), i && !r.audioSegmentStream && (r.coalesceStream.numberOfTracks++, r.audioSegmentStream = new Mn(i, e), r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream))
                    }
                }), r.coalesceStream.on("data", this.trigger.bind(this, "data")), r.coalesceStream.on("done", this.trigger.bind(this, "done"))
            }, this.setBaseMediaDecodeTime = function(n) {
                var r = this.transmuxPipeline_;
                e.keepOriginalTimestamps || (this.baseMediaDecodeTime = n), i && (i.timelineStartInfo.dts = void 0, i.timelineStartInfo.pts = void 0, Yi(i), e.keepOriginalTimestamps || (i.timelineStartInfo.baseMediaDecodeTime = n), r.audioTimestampRolloverStream && r.audioTimestampRolloverStream.discontinuity()), t && (r.videoSegmentStream && (r.videoSegmentStream.gopCache_ = [], r.videoTimestampRolloverStream.discontinuity()), t.timelineStartInfo.dts = void 0, t.timelineStartInfo.pts = void 0, Yi(t), r.captionStream.reset(), e.keepOriginalTimestamps || (t.timelineStartInfo.baseMediaDecodeTime = n)), r.timedMetadataTimestampRolloverStream && r.timedMetadataTimestampRolloverStream.discontinuity()
            }, this.setAudioAppendStart = function(e) {
                i && this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)
            }, this.alignGopsWith = function(e) {
                t && this.transmuxPipeline_.videoSegmentStream && this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)
            }, this.push = function(e) {
                if (r) {
                    var t = Vn(e);
                    t && "aac" !== this.transmuxPipeline_.type ? this.setupAacPipeline() : t || "ts" === this.transmuxPipeline_.type || this.setupTsPipeline(), r = !1
                }
                this.transmuxPipeline_.headOfPipeline.push(e)
            }, this.flush = function() {
                r = !0, this.transmuxPipeline_.headOfPipeline.flush()
            }, this.resetCaptions = function() {
                this.transmuxPipeline_.captionStream && this.transmuxPipeline_.captionStream.reset()
            }
        }).prototype = new Bi;
        var Hn, Gn, Wn = wi.parseType,
            Yn = function(e) {
                return new Date(1e3 * e - 20828448e5)
            },
            Kn = function(e) {
                return {
                    isLeading: (12 & e[0]) >>> 2,
                    dependsOn: 3 & e[0],
                    isDependedOn: (192 & e[1]) >>> 6,
                    hasRedundancy: (48 & e[1]) >>> 4,
                    paddingValue: (14 & e[1]) >>> 1,
                    isNonSyncSample: 1 & e[1],
                    degradationPriority: e[2] << 8 | e[3]
                }
            },
            Xn = {
                avc1: function(e) {
                    var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                    return {
                        dataReferenceIndex: t.getUint16(6),
                        width: t.getUint16(24),
                        height: t.getUint16(26),
                        horizresolution: t.getUint16(28) + t.getUint16(30) / 16,
                        vertresolution: t.getUint16(32) + t.getUint16(34) / 16,
                        frameCount: t.getUint16(40),
                        depth: t.getUint16(74),
                        config: Hn(e.subarray(78, e.byteLength))
                    }
                },
                avcC: function(e) {
                    var t, i, n, r, a = new DataView(e.buffer, e.byteOffset, e.byteLength),
                        o = {
                            configurationVersion: e[0],
                            avcProfileIndication: e[1],
                            profileCompatibility: e[2],
                            avcLevelIndication: e[3],
                            lengthSizeMinusOne: 3 & e[4],
                            sps: [],
                            pps: []
                        },
                        s = 31 & e[5];
                    for (n = 6, r = 0; r < s; r++) i = a.getUint16(n), n += 2, o.sps.push(new Uint8Array(e.subarray(n, n + i))), n += i;
                    for (t = e[n], n++, r = 0; r < t; r++) i = a.getUint16(n), n += 2, o.pps.push(new Uint8Array(e.subarray(n, n + i))), n += i;
                    return o
                },
                btrt: function(e) {
                    var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                    return {
                        bufferSizeDB: t.getUint32(0),
                        maxBitrate: t.getUint32(4),
                        avgBitrate: t.getUint32(8)
                    }
                },
                esds: function(e) {
                    return {
                        version: e[0],
                        flags: new Uint8Array(e.subarray(1, 4)),
                        esId: e[6] << 8 | e[7],
                        streamPriority: 31 & e[8],
                        decoderConfig: {
                            objectProfileIndication: e[11],
                            streamType: e[12] >>> 2 & 63,
                            bufferSize: e[13] << 16 | e[14] << 8 | e[15],
                            maxBitrate: e[16] << 24 | e[17] << 16 | e[18] << 8 | e[19],
                            avgBitrate: e[20] << 24 | e[21] << 16 | e[22] << 8 | e[23],
                            decoderConfigDescriptor: {
                                tag: e[24],
                                length: e[25],
                                audioObjectType: e[26] >>> 3 & 31,
                                samplingFrequencyIndex: (7 & e[26]) << 1 | e[27] >>> 7 & 1,
                                channelConfiguration: e[27] >>> 3 & 15
                            }
                        }
                    }
                },
                ftyp: function(e) {
                    for (var t = new DataView(e.buffer, e.byteOffset, e.byteLength), i = {
                            majorBrand: Wn(e.subarray(0, 4)),
                            minorVersion: t.getUint32(4),
                            compatibleBrands: []
                        }, n = 8; n < e.byteLength;) i.compatibleBrands.push(Wn(e.subarray(n, n + 4))), n += 4;
                    return i
                },
                dinf: function(e) {
                    return {
                        boxes: Hn(e)
                    }
                },
                dref: function(e) {
                    return {
                        version: e[0],
                        flags: new Uint8Array(e.subarray(1, 4)),
                        dataReferences: Hn(e.subarray(8))
                    }
                },
                hdlr: function(e) {
                    var t = {
                            version: new DataView(e.buffer, e.byteOffset, e.byteLength).getUint8(0),
                            flags: new Uint8Array(e.subarray(1, 4)),
                            handlerType: Wn(e.subarray(8, 12)),
                            name: ""
                        },
                        i = 8;
                    for (i = 24; i < e.byteLength; i++) {
                        if (0 === e[i]) {
                            i++;
                            break
                        }
                        t.name += String.fromCharCode(e[i])
                    }
                    return t.name = decodeURIComponent(escape(t.name)), t
                },
                mdat: function(e) {
                    return {
                        byteLength: e.byteLength,
                        nals: function(e) {
                            var t, i, n = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                r = [];
                            for (t = 0; t + 4 < e.length; t += i)
                                if (i = n.getUint32(t), t += 4, i <= 0) r.push("<span style='color:red;'>MALFORMED DATA</span>");
                                else switch (31 & e[t]) {
                                    case 1:
                                        r.push("slice_layer_without_partitioning_rbsp");
                                        break;
                                    case 5:
                                        r.push("slice_layer_without_partitioning_rbsp_idr");
                                        break;
                                    case 6:
                                        r.push("sei_rbsp");
                                        break;
                                    case 7:
                                        r.push("seq_parameter_set_rbsp");
                                        break;
                                    case 8:
                                        r.push("pic_parameter_set_rbsp");
                                        break;
                                    case 9:
                                        r.push("access_unit_delimiter_rbsp");
                                        break;
                                    default:
                                        r.push("UNKNOWN NAL - " + e[t] & 31)
                                }
                            return r
                        }(e)
                    }
                },
                mdhd: function(e) {
                    var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                        n = 4,
                        r = {
                            version: i.getUint8(0),
                            flags: new Uint8Array(e.subarray(1, 4)),
                            language: ""
                        };
                    return 1 === r.version ? (r.creationTime = Yn(i.getUint32(n += 4)), r.modificationTime = Yn(i.getUint32(n += 8)), r.timescale = i.getUint32(n += 4), r.duration = i.getUint32(n += 8)) : (r.creationTime = Yn(i.getUint32(n)), r.modificationTime = Yn(i.getUint32(n += 4)), r.timescale = i.getUint32(n += 4), r.duration = i.getUint32(n += 4)), t = i.getUint16(n += 4), r.language += String.fromCharCode(96 + (t >> 10)), r.language += String.fromCharCode(96 + ((992 & t) >> 5)), r.language += String.fromCharCode(96 + (31 & t)), r
                },
                mdia: function(e) {
                    return {
                        boxes: Hn(e)
                    }
                },
                mfhd: function(e) {
                    return {
                        version: e[0],
                        flags: new Uint8Array(e.subarray(1, 4)),
                        sequenceNumber: e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7]
                    }
                },
                minf: function(e) {
                    return {
                        boxes: Hn(e)
                    }
                },
                mp4a: function(e) {
                    var t = new DataView(e.buffer, e.byteOffset, e.byteLength),
                        i = {
                            dataReferenceIndex: t.getUint16(6),
                            channelcount: t.getUint16(16),
                            samplesize: t.getUint16(18),
                            samplerate: t.getUint16(24) + t.getUint16(26) / 65536
                        };
                    return e.byteLength > 28 && (i.streamDescriptor = Hn(e.subarray(28))[0]), i
                },
                moof: function(e) {
                    return {
                        boxes: Hn(e)
                    }
                },
                moov: function(e) {
                    return {
                        boxes: Hn(e)
                    }
                },
                mvex: function(e) {
                    return {
                        boxes: Hn(e)
                    }
                },
                mvhd: function(e) {
                    var t = new DataView(e.buffer, e.byteOffset, e.byteLength),
                        i = 4,
                        n = {
                            version: t.getUint8(0),
                            flags: new Uint8Array(e.subarray(1, 4))
                        };
                    return 1 === n.version ? (n.creationTime = Yn(t.getUint32(i += 4)), n.modificationTime = Yn(t.getUint32(i += 8)), n.timescale = t.getUint32(i += 4), n.duration = t.getUint32(i += 8)) : (n.creationTime = Yn(t.getUint32(i)), n.modificationTime = Yn(t.getUint32(i += 4)), n.timescale = t.getUint32(i += 4), n.duration = t.getUint32(i += 4)), n.rate = t.getUint16(i += 4) + t.getUint16(i + 2) / 16, n.volume = t.getUint8(i += 4) + t.getUint8(i + 1) / 8, i += 2, i += 2, i += 8, n.matrix = new Uint32Array(e.subarray(i, i + 36)), i += 36, n.nextTrackId = t.getUint32(i += 24), n
                },
                pdin: function(e) {
                    var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                    return {
                        version: t.getUint8(0),
                        flags: new Uint8Array(e.subarray(1, 4)),
                        rate: t.getUint32(4),
                        initialDelay: t.getUint32(8)
                    }
                },
                sdtp: function(e) {
                    var t, i = {
                        version: e[0],
                        flags: new Uint8Array(e.subarray(1, 4)),
                        samples: []
                    };
                    for (t = 4; t < e.byteLength; t++) i.samples.push({
                        dependsOn: (48 & e[t]) >> 4,
                        isDependedOn: (12 & e[t]) >> 2,
                        hasRedundancy: 3 & e[t]
                    });
                    return i
                },
                sidx: function(e) {
                    var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                        n = {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            references: [],
                            referenceId: i.getUint32(4),
                            timescale: i.getUint32(8),
                            earliestPresentationTime: i.getUint32(12),
                            firstOffset: i.getUint32(16)
                        },
                        r = i.getUint16(22);
                    for (t = 24; r; t += 12, r--) n.references.push({
                        referenceType: (128 & e[t]) >>> 7,
                        referencedSize: 2147483647 & i.getUint32(t),
                        subsegmentDuration: i.getUint32(t + 4),
                        startsWithSap: !!(128 & e[t + 8]),
                        sapType: (112 & e[t + 8]) >>> 4,
                        sapDeltaTime: 268435455 & i.getUint32(t + 8)
                    });
                    return n
                },
                smhd: function(e) {
                    return {
                        version: e[0],
                        flags: new Uint8Array(e.subarray(1, 4)),
                        balance: e[4] + e[5] / 256
                    }
                },
                stbl: function(e) {
                    return {
                        boxes: Hn(e)
                    }
                },
                stco: function(e) {
                    var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                        n = {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            chunkOffsets: []
                        },
                        r = i.getUint32(4);
                    for (t = 8; r; t += 4, r--) n.chunkOffsets.push(i.getUint32(t));
                    return n
                },
                stsc: function(e) {
                    var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                        n = i.getUint32(4),
                        r = {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            sampleToChunks: []
                        };
                    for (t = 8; n; t += 12, n--) r.sampleToChunks.push({
                        firstChunk: i.getUint32(t),
                        samplesPerChunk: i.getUint32(t + 4),
                        sampleDescriptionIndex: i.getUint32(t + 8)
                    });
                    return r
                },
                stsd: function(e) {
                    return {
                        version: e[0],
                        flags: new Uint8Array(e.subarray(1, 4)),
                        sampleDescriptions: Hn(e.subarray(8))
                    }
                },
                stsz: function(e) {
                    var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                        n = {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            sampleSize: i.getUint32(4),
                            entries: []
                        };
                    for (t = 12; t < e.byteLength; t += 4) n.entries.push(i.getUint32(t));
                    return n
                },
                stts: function(e) {
                    var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                        n = {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            timeToSamples: []
                        },
                        r = i.getUint32(4);
                    for (t = 8; r; t += 8, r--) n.timeToSamples.push({
                        sampleCount: i.getUint32(t),
                        sampleDelta: i.getUint32(t + 4)
                    });
                    return n
                },
                styp: function(e) {
                    return Xn.ftyp(e)
                },
                tfdt: function(e) {
                    var t = {
                        version: e[0],
                        flags: new Uint8Array(e.subarray(1, 4)),
                        baseMediaDecodeTime: e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7]
                    };
                    return 1 === t.version && (t.baseMediaDecodeTime *= Math.pow(2, 32), t.baseMediaDecodeTime += e[8] << 24 | e[9] << 16 | e[10] << 8 | e[11]), t
                },
                tfhd: function(e) {
                    var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                        n = {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            trackId: i.getUint32(4)
                        },
                        r = 1 & n.flags[2],
                        a = 2 & n.flags[2],
                        o = 8 & n.flags[2],
                        s = 16 & n.flags[2],
                        l = 32 & n.flags[2],
                        c = 65536 & n.flags[0],
                        u = 131072 & n.flags[0];
                    return t = 8, r && (t += 4, n.baseDataOffset = i.getUint32(12), t += 4), a && (n.sampleDescriptionIndex = i.getUint32(t), t += 4), o && (n.defaultSampleDuration = i.getUint32(t), t += 4), s && (n.defaultSampleSize = i.getUint32(t), t += 4), l && (n.defaultSampleFlags = i.getUint32(t)), c && (n.durationIsEmpty = !0), !r && u && (n.baseDataOffsetIsMoof = !0), n
                },
                tkhd: function(e) {
                    var t = new DataView(e.buffer, e.byteOffset, e.byteLength),
                        i = 4,
                        n = {
                            version: t.getUint8(0),
                            flags: new Uint8Array(e.subarray(1, 4))
                        };
                    return 1 === n.version ? (n.creationTime = Yn(t.getUint32(i += 4)), n.modificationTime = Yn(t.getUint32(i += 8)), n.trackId = t.getUint32(i += 4), i += 4, n.duration = t.getUint32(i += 8)) : (n.creationTime = Yn(t.getUint32(i)), n.modificationTime = Yn(t.getUint32(i += 4)), n.trackId = t.getUint32(i += 4), i += 4, n.duration = t.getUint32(i += 4)), i += 4, n.layer = t.getUint16(i += 8), n.alternateGroup = t.getUint16(i += 2), n.volume = t.getUint8(i += 2) + t.getUint8(i + 1) / 8, i += 2, i += 2, n.matrix = new Uint32Array(e.subarray(i, i + 36)), n.width = t.getUint16(i += 36) + t.getUint16(i + 2) / 16, n.height = t.getUint16(i += 4) + t.getUint16(i + 2) / 16, n
                },
                traf: function(e) {
                    return {
                        boxes: Hn(e)
                    }
                },
                trak: function(e) {
                    return {
                        boxes: Hn(e)
                    }
                },
                trex: function(e) {
                    var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                    return {
                        version: e[0],
                        flags: new Uint8Array(e.subarray(1, 4)),
                        trackId: t.getUint32(4),
                        defaultSampleDescriptionIndex: t.getUint32(8),
                        defaultSampleDuration: t.getUint32(12),
                        defaultSampleSize: t.getUint32(16),
                        sampleDependsOn: 3 & e[20],
                        sampleIsDependedOn: (192 & e[21]) >> 6,
                        sampleHasRedundancy: (48 & e[21]) >> 4,
                        samplePaddingValue: (14 & e[21]) >> 1,
                        sampleIsDifferenceSample: !!(1 & e[21]),
                        sampleDegradationPriority: t.getUint16(22)
                    }
                },
                trun: function(e) {
                    var t, i = {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            samples: []
                        },
                        n = new DataView(e.buffer, e.byteOffset, e.byteLength),
                        r = 1 & i.flags[2],
                        a = 4 & i.flags[2],
                        o = 1 & i.flags[1],
                        s = 2 & i.flags[1],
                        l = 4 & i.flags[1],
                        c = 8 & i.flags[1],
                        u = n.getUint32(4),
                        d = 8;
                    for (r && (i.dataOffset = n.getInt32(d), d += 4), a && u && (t = {
                            flags: Kn(e.subarray(d, d + 4))
                        }, d += 4, o && (t.duration = n.getUint32(d), d += 4), s && (t.size = n.getUint32(d), d += 4), c && (t.compositionTimeOffset = n.getUint32(d), d += 4), i.samples.push(t), u--); u--;) t = {}, o && (t.duration = n.getUint32(d), d += 4), s && (t.size = n.getUint32(d), d += 4), l && (t.flags = Kn(e.subarray(d, d + 4)), d += 4), c && (t.compositionTimeOffset = n.getUint32(d), d += 4), i.samples.push(t);
                    return i
                },
                "url ": function(e) {
                    return {
                        version: e[0],
                        flags: new Uint8Array(e.subarray(1, 4))
                    }
                },
                vmhd: function(e) {
                    var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                    return {
                        version: e[0],
                        flags: new Uint8Array(e.subarray(1, 4)),
                        graphicsmode: t.getUint16(4),
                        opcolor: new Uint16Array([t.getUint16(6), t.getUint16(8), t.getUint16(10)])
                    }
                }
            },
            Jn = {
                inspect: Hn = function(e) {
                    for (var t, i, n, r, a, o = 0, s = [], l = new ArrayBuffer(e.length), c = new Uint8Array(l), u = 0; u < e.length; ++u) c[u] = e[u];
                    for (t = new DataView(l); o < e.byteLength;) i = t.getUint32(o), n = Wn(e.subarray(o + 4, o + 8)), (a = (Xn[n] || function(e) {
                        return {
                            data: e
                        }
                    })(e.subarray(o + 8, r = i > 1 ? o + i : e.byteLength))).size = i, a.type = n, s.push(a), o = r;
                    return s
                },
                textify: Gn = function(e, t) {
                    var i;
                    return t = t || 0, i = new Array(2 * t + 1).join(" "), e.map(function(e, n) {
                        return i + e.type + "\n" + Object.keys(e).filter(function(e) {
                            return "type" !== e && "boxes" !== e
                        }).map(function(t) {
                            var n = i + "  " + t + ": ",
                                r = e[t];
                            if (r instanceof Uint8Array || r instanceof Uint32Array) {
                                var a = Array.prototype.slice.call(new Uint8Array(r.buffer, r.byteOffset, r.byteLength)).map(function(e) {
                                    return " " + ("00" + e.toString(16)).slice(-2)
                                }).join("").match(/.{1,24}/g);
                                return a ? 1 === a.length ? n + "<" + a.join("").slice(1) + ">" : n + "<\n" + a.map(function(e) {
                                    return i + "  " + e
                                }).join("\n") + "\n" + i + "  >" : n + "<>"
                            }
                            return n + JSON.stringify(r, null, 2).split("\n").map(function(e, t) {
                                return 0 === t ? e : i + "  " + e
                            }).join("\n")
                        }).join("\n") + (e.boxes ? "\n" + Gn(e.boxes, t + 1) : "")
                    }).join("\n")
                },
                parseTfdt: Xn.tfdt,
                parseHdlr: Xn.hdlr,
                parseTfhd: Xn.tfhd,
                parseTrun: Xn.trun,
                parseSidx: Xn.sidx
            },
            $n = function(e) {
                for (var t, i, n = e.byteLength, r = [], a = 1; a < n - 2;) 0 === e[a] && 0 === e[a + 1] && 3 === e[a + 2] ? (r.push(a + 2), a += 2) : a++;
                if (0 === r.length) return e;
                t = n - r.length, i = new Uint8Array(t);
                var o = 0;
                for (a = 0; a < t; o++, a++) o === r[0] && (o++, r.shift()), i[a] = e[o];
                return i
            },
            Qn = nn.CaptionStream,
            Zn = function(e, t) {
                for (var i = e, n = 0; n < t.length; n++) {
                    var r = t[n];
                    if (i < r.size) return r;
                    i -= r.size
                }
                return null
            },
            er = function(e, t) {
                var i = wi.findBox(e, ["moof", "traf"]),
                    n = {},
                    r = [];
                return wi.findBox(e, ["mdat"]).forEach(function(e, t) {
                    r.push({
                        mdat: e,
                        traf: i[t]
                    })
                }), r.forEach(function(e) {
                    var i, r = e.mdat,
                        a = e.traf,
                        o = wi.findBox(a, ["tfhd"]),
                        s = Jn.parseTfhd(o[0]),
                        l = s.trackId,
                        c = wi.findBox(a, ["tfdt"]),
                        u = c.length > 0 ? Jn.parseTfdt(c[0]).baseMediaDecodeTime : 0,
                        d = wi.findBox(a, ["trun"]);
                    t === l && d.length > 0 && (i = function(e, t, i) {
                        var n, r, a, o, s = new DataView(e.buffer, e.byteOffset, e.byteLength),
                            l = [];
                        for (r = 0; r + 4 < e.length; r += a)
                            if (a = s.getUint32(r), r += 4, !(a <= 0)) switch (31 & e[r]) {
                                case 6:
                                    var c = e.subarray(r + 1, r + 1 + a),
                                        u = Zn(r, t);
                                    n = {
                                        nalUnitType: "sei_rbsp",
                                        size: a,
                                        data: c,
                                        escapedRBSP: $n(c),
                                        trackId: i
                                    }, u ? (n.pts = u.pts, n.dts = u.dts, o = u) : (n.pts = o.pts, n.dts = o.dts), l.push(n)
                            }
                        return l
                    }(r, function(e, t, i) {
                        var n = u,
                            r = i.defaultSampleDuration || 0,
                            a = i.defaultSampleSize || 0,
                            o = i.trackId,
                            s = [];
                        return d.forEach(function(e) {
                            var t = Jn.parseTrun(e).samples;
                            t.forEach(function(e) {
                                void 0 === e.duration && (e.duration = r), void 0 === e.size && (e.size = a), e.trackId = o, e.dts = n, void 0 === e.compositionTimeOffset && (e.compositionTimeOffset = 0), e.pts = n + e.compositionTimeOffset, n += e.duration
                            }), s = s.concat(t)
                        }), s
                    }(0, 0, s), l), n[l] || (n[l] = []), n[l] = n[l].concat(i))
                }), n
            },
            tr = {
                generator: Di,
                probe: wi,
                Transmuxer: Un,
                AudioSegmentStream: Mn,
                VideoSegmentStream: xn,
                CaptionParser: function() {
                    var e, t, i, n, r, a = !1;
                    this.isInitialized = function() {
                        return a
                    }, this.init = function() {
                        e = new Qn, a = !0, e.on("data", function(e) {
                            e.startTime = e.startPts / n, e.endTime = e.endPts / n, r.captions.push(e), r.captionStreams[e.stream] = !0
                        })
                    }, this.isNewInit = function(e, t) {
                        return !(e && 0 === e.length || t && "object" == typeof t && 0 === Object.keys(t).length || i === e[0] && n === t[i])
                    }, this.parse = function(e, a, o) {
                        var s;
                        if (!this.isInitialized()) return null;
                        if (!a || !o) return null;
                        if (this.isNewInit(a, o)) n = o[i = a[0]];
                        else if (!i || !n) return t.push(e), null;
                        for (; t.length > 0;) {
                            var l = t.shift();
                            this.parse(l, a, o)
                        }
                        return null !== (s = function(e, t, i) {
                            return t ? {
                                seiNals: er(e, t)[t],
                                timescale: i
                            } : null
                        }(e, i, n)) && s.seiNals ? (this.pushNals(s.seiNals), this.flushStream(), r) : null
                    }, this.pushNals = function(t) {
                        if (!this.isInitialized() || !t || 0 === t.length) return null;
                        t.forEach(function(t) {
                            e.push(t)
                        })
                    }, this.flushStream = function() {
                        if (!this.isInitialized()) return null;
                        e.flush()
                    }, this.clearParsedCaptions = function() {
                        r.captions = [], r.captionStreams = {}
                    }, this.resetCaptionStream = function() {
                        if (!this.isInitialized()) return null;
                        e.reset()
                    }, this.clearAllCaptions = function() {
                        this.clearParsedCaptions(), this.resetCaptionStream()
                    }, this.reset = function() {
                        t = [], i = null, n = null, r ? this.clearParsedCaptions() : r = {
                            captions: [],
                            captionStreams: {}
                        }, this.resetCaptionStream()
                    }, this.reset()
                }
            }.CaptionParser,
            ir = function(e, t, i) {
                return !(!e || !t) && e.endList && "open" === t.readyState && i === e.segments.length
            },
            nr = function(e) {
                return "number" == typeof e && isFinite(e)
            },
            rr = function(e) {
                function i(e) {
                    _(this, i);
                    var t = E(this, (i.__proto__ || Object.getPrototypeOf(i)).call(this));
                    if (!e) throw new TypeError("Initialization settings are required");
                    if ("function" != typeof e.currentTime) throw new TypeError("No currentTime getter specified");
                    if (!e.mediaSource) throw new TypeError("No MediaSource specified");
                    return t.bandwidth = e.bandwidth, t.throughput = {
                        rate: 0,
                        count: 0
                    }, t.roundTrip = NaN, t.resetStats_(), t.mediaIndex = null, t.hasPlayed_ = e.hasPlayed, t.currentTime_ = e.currentTime, t.seekable_ = e.seekable, t.seeking_ = e.seeking, t.duration_ = e.duration, t.mediaSource_ = e.mediaSource, t.hls_ = e.hls, t.loaderType_ = e.loaderType, t.startingMedia_ = void 0, t.segmentMetadataTrack_ = e.segmentMetadataTrack, t.goalBufferLength_ = e.goalBufferLength, t.sourceType_ = e.sourceType, t.inbandTextTracks_ = e.inbandTextTracks, t.state_ = "INIT", t.checkBufferTimeout_ = null, t.error_ = void 0, t.currentTimeline_ = -1, t.pendingSegment_ = null, t.mimeType_ = null, t.sourceUpdater_ = null, t.xhrOptions_ = null, t.activeInitSegmentId_ = null, t.initSegments_ = {}, t.captionParser_ = new tr, t.decrypter_ = e.decrypter, t.syncController_ = e.syncController, t.syncPoint_ = {
                        segmentIndex: 0,
                        time: 0
                    }, t.syncController_.on("syncinfoupdate", function() {
                        return t.trigger("syncinfoupdate")
                    }), t.mediaSource_.addEventListener("sourceopen", function() {
                        return t.ended_ = !1
                    }), t.fetchAtBuffer_ = !1, t.logger_ = Ot("SegmentLoader[" + t.loaderType_ + "]"), Object.defineProperty(t, "state", {
                        get: function() {
                            return this.state_
                        },
                        set: function(e) {
                            e !== this.state_ && (this.logger_(this.state_ + " -> " + e), this.state_ = e)
                        }
                    }), t
                }
                return S(i, t.EventTarget), T(i, [{
                    key: "resetStats_",
                    value: function() {
                        this.mediaBytesTransferred = 0, this.mediaRequests = 0, this.mediaRequestsAborted = 0, this.mediaRequestsTimedout = 0, this.mediaRequestsErrored = 0, this.mediaTransferDuration = 0, this.mediaSecondsLoaded = 0
                    }
                }, {
                    key: "dispose",
                    value: function() {
                        this.state = "DISPOSED", this.pause(), this.abort_(), this.sourceUpdater_ && this.sourceUpdater_.dispose(), this.resetStats_(), this.captionParser_.reset()
                    }
                }, {
                    key: "abort",
                    value: function() {
                        "WAITING" === this.state ? (this.abort_(), this.state = "READY", this.paused() || this.monitorBuffer_()) : this.pendingSegment_ && (this.pendingSegment_ = null)
                    }
                }, {
                    key: "abort_",
                    value: function() {
                        this.pendingSegment_ && this.pendingSegment_.abortRequests(), this.pendingSegment_ = null
                    }
                }, {
                    key: "error",
                    value: function(e) {
                        return void 0 !== e && (this.error_ = e), this.pendingSegment_ = null, this.error_
                    }
                }, {
                    key: "endOfStream",
                    value: function() {
                        this.ended_ = !0, this.pause(), this.trigger("ended")
                    }
                }, {
                    key: "buffered_",
                    value: function() {
                        return this.sourceUpdater_ ? this.sourceUpdater_.buffered() : t.createTimeRanges()
                    }
                }, {
                    key: "initSegment",
                    value: function(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                        if (!e) return null;
                        var i = fe(e),
                            n = this.initSegments_[i];
                        return t && !n && e.bytes && (this.initSegments_[i] = n = {
                            resolvedUri: e.resolvedUri,
                            byterange: e.byterange,
                            bytes: e.bytes,
                            timescales: e.timescales,
                            videoTrackIds: e.videoTrackIds
                        }), n || e
                    }
                }, {
                    key: "couldBeginLoading_",
                    value: function() {
                        return this.playlist_ && (this.sourceUpdater_ || this.mimeType_ && "INIT" === this.state) && !this.paused()
                    }
                }, {
                    key: "load",
                    value: function() {
                        if (this.monitorBuffer_(), this.playlist_) {
                            if (this.syncController_.setDateTimeMapping(this.playlist_), "INIT" === this.state && this.couldBeginLoading_()) return this.init_();
                            !this.couldBeginLoading_() || "READY" !== this.state && "INIT" !== this.state || (this.state = "READY")
                        }
                    }
                }, {
                    key: "init_",
                    value: function() {
                        return this.state = "READY", this.sourceUpdater_ = new Ti(this.mediaSource_, this.mimeType_, this.loaderType_, this.sourceBufferEmitter_), this.resetEverything(), this.monitorBuffer_()
                    }
                }, {
                    key: "playlist",
                    value: function(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                        if (e) {
                            var i = this.playlist_,
                                n = this.pendingSegment_;
                            if (this.playlist_ = e, this.xhrOptions_ = t, this.hasPlayed_() || (e.syncInfo = {
                                    mediaSequence: e.mediaSequence,
                                    time: 0
                                }), this.logger_("playlist update [" + (i ? i.id : null) + " => " + e.id + "]"), this.trigger("syncinfoupdate"), "INIT" === this.state && this.couldBeginLoading_()) return this.init_();
                            if (i && i.uri === e.uri) {
                                var r = e.mediaSequence - i.mediaSequence;
                                this.logger_("live window shift [" + r + "]"), null !== this.mediaIndex && (this.mediaIndex -= r), n && (n.mediaIndex -= r, n.mediaIndex >= 0 && (n.segment = e.segments[n.mediaIndex])), this.syncController_.saveExpiredSegmentInfo(i, e)
                            } else null !== this.mediaIndex && this.resyncLoader()
                        }
                    }
                }, {
                    key: "pause",
                    value: function() {
                        this.checkBufferTimeout_ && (u.clearTimeout(this.checkBufferTimeout_), this.checkBufferTimeout_ = null)
                    }
                }, {
                    key: "paused",
                    value: function() {
                        return null === this.checkBufferTimeout_
                    }
                }, {
                    key: "mimeType",
                    value: function(e, t) {
                        this.mimeType_ || (this.mimeType_ = e, this.sourceBufferEmitter_ = t, "INIT" === this.state && this.couldBeginLoading_() && this.init_())
                    }
                }, {
                    key: "resetEverything",
                    value: function(e) {
                        this.ended_ = !1, this.resetLoader(), this.remove(0, this.duration_(), e), this.captionParser_.clearAllCaptions(), this.trigger("reseteverything")
                    }
                }, {
                    key: "resetLoader",
                    value: function() {
                        this.fetchAtBuffer_ = !1, this.resyncLoader()
                    }
                }, {
                    key: "resyncLoader",
                    value: function() {
                        this.mediaIndex = null, this.syncPoint_ = null, this.abort()
                    }
                }, {
                    key: "remove",
                    value: function(e, t, i) {
                        if (this.sourceUpdater_ && this.sourceUpdater_.remove(e, t, i), Se(e, t, this.segmentMetadataTrack_), this.inbandTextTracks_)
                            for (var n in this.inbandTextTracks_) Se(e, t, this.inbandTextTracks_[n])
                    }
                }, {
                    key: "monitorBuffer_",
                    value: function() {
                        this.checkBufferTimeout_ && u.clearTimeout(this.checkBufferTimeout_), this.checkBufferTimeout_ = u.setTimeout(this.monitorBufferTick_.bind(this), 1)
                    }
                }, {
                    key: "monitorBufferTick_",
                    value: function() {
                        "READY" === this.state && this.fillBuffer_(), this.checkBufferTimeout_ && u.clearTimeout(this.checkBufferTimeout_), this.checkBufferTimeout_ = u.setTimeout(this.monitorBufferTick_.bind(this), 500)
                    }
                }, {
                    key: "fillBuffer_",
                    value: function() {
                        if (!this.sourceUpdater_.updating()) {
                            this.syncPoint_ || (this.syncPoint_ = this.syncController_.getSyncPoint(this.playlist_, this.duration_(), this.currentTimeline_, this.currentTime_()));
                            var e = this.checkBuffer_(this.buffered_(), this.playlist_, this.mediaIndex, this.hasPlayed_(), this.currentTime_(), this.syncPoint_);
                            e && (ir(this.playlist_, this.mediaSource_, e.mediaIndex) ? this.endOfStream() : (e.mediaIndex !== this.playlist_.segments.length - 1 || "ended" !== this.mediaSource_.readyState || this.seeking_()) && ((e.timeline !== this.currentTimeline_ || null !== e.startOfSegment && e.startOfSegment < this.sourceUpdater_.timestampOffset()) && (this.syncController_.reset(), e.timestampOffset = e.startOfSegment, this.captionParser_.clearAllCaptions()), this.loadSegment_(e)))
                        }
                    }
                }, {
                    key: "checkBuffer_",
                    value: function(e, t, i, n, r, a) {
                        var o = 0,
                            s = void 0;
                        e.length && (o = e.end(e.length - 1));
                        var l = Math.max(0, o - r);
                        if (!t.segments.length) return null;
                        if (l >= this.goalBufferLength_()) return null;
                        if (!n && l >= 1) return null;
                        if (null === a) return i = this.getSyncSegmentCandidate_(t), this.generateSegmentInfo_(t, i, null, !0);
                        if (null !== i) {
                            var c = t.segments[i];
                            return this.generateSegmentInfo_(t, i + 1, s = c && c.end ? c.end : o, !1)
                        }
                        if (this.fetchAtBuffer_) {
                            var u = X.getMediaInfoForTime(t, o, a.segmentIndex, a.time);
                            i = u.mediaIndex, s = u.startTime
                        } else {
                            var d = X.getMediaInfoForTime(t, r, a.segmentIndex, a.time);
                            i = d.mediaIndex, s = d.startTime
                        }
                        return this.generateSegmentInfo_(t, i, s, !1)
                    }
                }, {
                    key: "getSyncSegmentCandidate_",
                    value: function(e) {
                        var t = this;
                        if (-1 === this.currentTimeline_) return 0;
                        var i = e.segments.map(function(e, t) {
                            return {
                                timeline: e.timeline,
                                segmentIndex: t
                            }
                        }).filter(function(e) {
                            return e.timeline === t.currentTimeline_
                        });
                        return i.length ? i[Math.min(i.length - 1, 1)].segmentIndex : Math.max(e.segments.length - 1, 0)
                    }
                }, {
                    key: "generateSegmentInfo_",
                    value: function(e, t, i, n) {
                        if (t < 0 || t >= e.segments.length) return null;
                        var r = e.segments[t];
                        return {
                            requestId: "segment-loader-" + Math.random(),
                            uri: r.resolvedUri,
                            mediaIndex: t,
                            isSyncRequest: n,
                            startOfSegment: i,
                            playlist: e,
                            bytes: null,
                            encryptedBytes: null,
                            timestampOffset: null,
                            timeline: r.timeline,
                            duration: r.duration,
                            segment: r
                        }
                    }
                }, {
                    key: "abortRequestEarly_",
                    value: function(e) {
                        if (this.hls_.tech_.paused() || !this.xhrOptions_.timeout || !this.playlist_.attributes.BANDWIDTH) return !1;
                        if (Date.now() - (e.firstBytesReceivedAt || Date.now()) < 1e3) return !1;
                        var t = this.currentTime_(),
                            i = e.bandwidth,
                            n = this.pendingSegment_.duration,
                            r = X.estimateSegmentRequestTime(n, i, this.playlist_, e.bytesReceived),
                            a = function(e, t) {
                                var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
                                return ((e.length ? e.end(e.length - 1) : 0) - t) / i
                            }(this.buffered_(), t, this.hls_.tech_.playbackRate()) - 1;
                        if (r <= a) return !1;
                        var o = function(e) {
                            var t = e.currentTime,
                                i = e.bandwidth,
                                n = e.duration,
                                r = e.segmentDuration,
                                a = e.timeUntilRebuffer,
                                o = e.currentTimeline,
                                s = e.syncController,
                                l = e.master.playlists.filter(function(e) {
                                    return !X.isIncompatible(e)
                                }),
                                c = l.filter(X.isEnabled);
                            c.length || (c = l.filter(function(e) {
                                return !X.isDisabled(e)
                            }));
                            var u = c.filter(X.hasAttribute.bind(null, "BANDWIDTH")).map(function(e) {
                                    var l = s.getSyncPoint(e, n, o, t) ? 1 : 2;
                                    return {
                                        playlist: e,
                                        rebufferingImpact: X.estimateSegmentRequestTime(r, i, e) * l - a
                                    }
                                }),
                                d = u.filter(function(e) {
                                    return e.rebufferingImpact <= 0
                                });
                            return Ii(d, function(e, t) {
                                return Li(t.playlist, e.playlist)
                            }), d.length ? d[0] : (Ii(u, function(e, t) {
                                return e.rebufferingImpact - t.rebufferingImpact
                            }), u[0] || null)
                        }({
                            master: this.hls_.playlists.master,
                            currentTime: t,
                            bandwidth: i,
                            duration: this.duration_(),
                            segmentDuration: n,
                            timeUntilRebuffer: a,
                            currentTimeline: this.currentTimeline_,
                            syncController: this.syncController_
                        });
                        if (o) {
                            var s = .5;
                            return a <= 1 / 30 && (s = 1), !(!o.playlist || o.playlist.uri === this.playlist_.uri || r - a - o.rebufferingImpact < s || (this.bandwidth = o.playlist.attributes.BANDWIDTH * Si.BANDWIDTH_VARIANCE + 1, this.abort(), this.trigger("earlyabort"), 0))
                        }
                    }
                }, {
                    key: "handleProgress_",
                    value: function(e, t) {
                        this.pendingSegment_ && t.requestId === this.pendingSegment_.requestId && !this.abortRequestEarly_(t.stats) && this.trigger("progress")
                    }
                }, {
                    key: "loadSegment_",
                    value: function(e) {
                        this.state = "WAITING", this.pendingSegment_ = e, this.trimBackBuffer_(e), e.abortRequests = function(e, i, n, r, a, o, s) {
                            var l = [],
                                c = function(e, t, i) {
                                    var n = 0,
                                        r = !1;
                                    return function(a, o) {
                                        if (!r) return a ? (r = !0, ki(e), i(a, o)) : (n += 1) === e.length ? (o.endOfAllRequests = Date.now(), o.encryptedBytes ? function(e, t, i) {
                                            e.addEventListener("message", function n(r) {
                                                if (r.data.source === t.requestId) {
                                                    e.removeEventListener("message", n);
                                                    var a = r.data.decrypted;
                                                    return t.bytes = new Uint8Array(a.bytes, a.byteOffset, a.byteLength), i(null, t)
                                                }
                                            }), e.postMessage(pe({
                                                source: t.requestId,
                                                encrypted: t.encryptedBytes,
                                                key: t.key.bytes,
                                                iv: t.key.iv
                                            }), [t.encryptedBytes.buffer, t.key.bytes.buffer])
                                        }(t, o, i) : i(null, o)) : void 0
                                    }
                                }(l, n, s);
                            if (a.key) {
                                var u = e(t.mergeOptions(i, {
                                    uri: a.key.resolvedUri,
                                    responseType: "arraybuffer"
                                }), function(e, t) {
                                    return function(i, n) {
                                        var r = n.response,
                                            a = Pi(i, n);
                                        if (a) return t(a, e);
                                        if (16 !== r.byteLength) return t({
                                            status: n.status,
                                            message: "Invalid HLS key at URL: " + n.uri,
                                            code: 2,
                                            xhr: n
                                        }, e);
                                        var o = new DataView(r);
                                        return e.key.bytes = new Uint32Array([o.getUint32(0), o.getUint32(4), o.getUint32(8), o.getUint32(12)]), t(null, e)
                                    }
                                }(a, c));
                                l.push(u)
                            }
                            if (a.map && !a.map.bytes) {
                                var d = e(t.mergeOptions(i, {
                                    uri: a.map.resolvedUri,
                                    responseType: "arraybuffer",
                                    headers: Ci(a.map)
                                }), function(e, t, i) {
                                    return function(n, r) {
                                        var a = r.response,
                                            o = Pi(n, r);
                                        return o ? i(o, e) : 0 === a.byteLength ? i({
                                            status: r.status,
                                            message: "Empty HLS segment content at URL: " + r.uri,
                                            code: 2,
                                            xhr: r
                                        }, e) : (e.map.bytes = new Uint8Array(r.response), t.isInitialized() || t.init(), e.map.timescales = wi.timescale(e.map.bytes), e.map.videoTrackIds = wi.videoTrackIds(e.map.bytes), i(null, e))
                                    }
                                }(a, r, c));
                                l.push(d)
                            }
                            var h = e(t.mergeOptions(i, {
                                uri: a.resolvedUri,
                                responseType: "arraybuffer",
                                headers: Ci(a)
                            }), function(e, t, i) {
                                return function(n, r) {
                                    var a = r.response,
                                        o = Pi(n, r),
                                        s = void 0;
                                    return o ? i(o, e) : 0 === a.byteLength ? i({
                                        status: r.status,
                                        message: "Empty HLS segment content at URL: " + r.uri,
                                        code: 2,
                                        xhr: r
                                    }, e) : (e.stats = {
                                        bandwidth: r.bandwidth,
                                        bytesReceived: r.bytesReceived || 0,
                                        roundTripTime: r.roundTripTime || 0
                                    }, e.key ? e.encryptedBytes = new Uint8Array(r.response) : e.bytes = new Uint8Array(r.response), e.map && e.map.bytes && (t.isInitialized() || t.init(), (s = t.parse(e.bytes, e.map.videoTrackIds, e.map.timescales)) && s.captions && (e.captionStreams = s.captionStreams, e.fmp4Captions = s.captions)), i(null, e))
                                }
                            }(a, r, c));
                            return h.addEventListener("progress", function(e, i) {
                                    return function(n) {
                                        var r, a, o;
                                        return e.stats = t.mergeOptions(e.stats, (a = (r = n).target, (o = {
                                            bandwidth: 1 / 0,
                                            bytesReceived: 0,
                                            roundTripTime: Date.now() - a.requestTime || 0
                                        }).bytesReceived = r.loaded, o.bandwidth = Math.floor(o.bytesReceived / o.roundTripTime * 8 * 1e3), o)), !e.stats.firstBytesReceivedAt && e.stats.bytesReceived && (e.stats.firstBytesReceivedAt = Date.now()), i(n, e)
                                    }
                                }(a, o)), l.push(h),
                                function() {
                                    return ki(l)
                                }
                        }(this.hls_.xhr, this.xhrOptions_, this.decrypter_, this.captionParser_, this.createSimplifiedSegmentObj_(e), this.handleProgress_.bind(this), this.segmentRequestFinished_.bind(this))
                    }
                }, {
                    key: "trimBackBuffer_",
                    value: function(e) {
                        var t = function(e, t, i) {
                            var n;
                            return n = e.length && e.start(0) > 0 && e.start(0) < t ? e.start(0) : t - 30, Math.min(n, t - i)
                        }(this.seekable_(), this.currentTime_(), this.playlist_.targetDuration || 10);
                        t > 0 && this.remove(0, t)
                    }
                }, {
                    key: "createSimplifiedSegmentObj_",
                    value: function(e) {
                        var t = e.segment,
                            i = {
                                resolvedUri: t.resolvedUri,
                                byterange: t.byterange,
                                requestId: e.requestId
                            };
                        if (t.key) {
                            var n = t.key.iv || new Uint32Array([0, 0, 0, e.mediaIndex + e.playlist.mediaSequence]);
                            i.key = {
                                resolvedUri: t.key.resolvedUri,
                                iv: n
                            }
                        }
                        return t.map && (i.map = this.initSegment(t.map)), i
                    }
                }, {
                    key: "segmentRequestFinished_",
                    value: function(e, t) {
                        if (this.mediaRequests += 1, t.stats && (this.mediaBytesTransferred += t.stats.bytesReceived, this.mediaTransferDuration += t.stats.roundTripTime), this.pendingSegment_) {
                            if (t.requestId === this.pendingSegment_.requestId) {
                                if (e) return this.pendingSegment_ = null, this.state = "READY", -102 === e.code ? void(this.mediaRequestsAborted += 1) : (this.pause(), -101 === e.code ? (this.mediaRequestsTimedout += 1, this.bandwidth = 1, this.roundTrip = NaN, void this.trigger("bandwidthupdate")) : (this.mediaRequestsErrored += 1, this.error(e), void this.trigger("error")));
                                this.bandwidth = t.stats.bandwidth, this.roundTrip = t.stats.roundTripTime, t.map && (t.map = this.initSegment(t.map, !0)), this.processSegmentResponse_(t)
                            }
                        } else this.mediaRequestsAborted += 1
                    }
                }, {
                    key: "processSegmentResponse_",
                    value: function(e) {
                        var t = this.pendingSegment_;
                        t.bytes = e.bytes, e.map && (t.segment.map.bytes = e.map.bytes), t.endOfAllRequests = e.endOfAllRequests, e.fmp4Captions && (function(e, t, i) {
                            for (var n in i)
                                if (!e[n]) {
                                    t.trigger({
                                        type: "usage",
                                        name: "hls-608"
                                    });
                                    var r = t.textTracks().getTrackById(n);
                                    e[n] = r || t.addRemoteTextTrack({
                                        kind: "captions",
                                        id: n,
                                        label: n
                                    }, !1).track
                                }
                        }(this.inbandTextTracks_, this.hls_.tech_, e.captionStreams), function(e) {
                            var t = e.inbandTextTracks,
                                i = e.captionArray,
                                n = e.timestampOffset;
                            if (i) {
                                var r = window.WebKitDataCue || window.VTTCue;
                                i.forEach(function(e) {
                                    var i = e.stream,
                                        a = e.startTime,
                                        o = e.endTime;
                                    t[i] && t[i].addCue(new r(a += n, o += n, e.text))
                                })
                            }
                        }({
                            inbandTextTracks: this.inbandTextTracks_,
                            captionArray: e.fmp4Captions,
                            timestampOffset: 0
                        }), this.captionParser_.clearParsedCaptions()), this.handleSegment_()
                    }
                }, {
                    key: "handleSegment_",
                    value: function() {
                        var e = this;
                        if (this.pendingSegment_) {
                            var t = this.pendingSegment_,
                                i = t.segment,
                                n = this.syncController_.probeSegmentInfo(t);
                            void 0 === this.startingMedia_ && n && (n.containsAudio || n.containsVideo) && (this.startingMedia_ = {
                                containsAudio: n.containsAudio,
                                containsVideo: n.containsVideo
                            });
                            var r, a, o = (r = this.startingMedia_, a = n, "main" === this.loaderType_ && r && a ? a.containsAudio || a.containsVideo ? r.containsVideo && !a.containsVideo ? "Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest." : !r.containsVideo && a.containsVideo ? "Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest." : null : "Neither audio nor video found in segment." : null);
                            if (o) return this.error({
                                message: o,
                                blacklistDuration: 1 / 0
                            }), void this.trigger("error");
                            if (t.isSyncRequest) return this.trigger("syncinfoupdate"), this.pendingSegment_ = null, void(this.state = "READY");
                            null !== t.timestampOffset && t.timestampOffset !== this.sourceUpdater_.timestampOffset() && (this.sourceUpdater_.timestampOffset(t.timestampOffset), this.trigger("timestampoffset"));
                            var s = this.syncController_.mappingForTimeline(t.timeline);
                            if (null !== s && this.trigger({
                                    type: "segmenttimemapping",
                                    mapping: s
                                }), this.state = "APPENDING", i.map) {
                                var l = fe(i.map);
                                if (!this.activeInitSegmentId_ || this.activeInitSegmentId_ !== l) {
                                    var c = this.initSegment(i.map);
                                    this.sourceUpdater_.appendBuffer({
                                        bytes: c.bytes
                                    }, function() {
                                        e.activeInitSegmentId_ = l
                                    })
                                }
                            }
                            t.byteLength = t.bytes.byteLength, this.mediaSecondsLoaded += "number" == typeof i.start && "number" == typeof i.end ? i.end - i.start : i.duration, this.logger_(function(e) {
                                var t = e.segment,
                                    i = e.playlist,
                                    n = i.mediaSequence,
                                    r = i.segments;
                                return ["appending [" + e.mediaIndex + "] of [" + n + ", " + (n + (void 0 === r ? [] : r).length) + "] from playlist [" + i.id + "]", "[" + t.start + " => " + t.end + "] in timeline [" + e.timeline + "]"].join(" ")
                            }(t)), this.sourceUpdater_.appendBuffer({
                                bytes: t.bytes,
                                videoSegmentTimingInfoCallback: this.handleVideoSegmentTimingInfo_.bind(this, t.requestId)
                            }, this.handleUpdateEnd_.bind(this))
                        } else this.state = "READY"
                    }
                }, {
                    key: "handleVideoSegmentTimingInfo_",
                    value: function(e, t) {
                        if (this.pendingSegment_ && e === this.pendingSegment_.requestId) {
                            var i = this.pendingSegment_.segment;
                            i.videoTimingInfo || (i.videoTimingInfo = {}), i.videoTimingInfo.transmuxerPrependedSeconds = t.videoSegmentTimingInfo.prependedContentDuration || 0, i.videoTimingInfo.transmuxedPresentationStart = t.videoSegmentTimingInfo.start.presentation, i.videoTimingInfo.transmuxedPresentationEnd = t.videoSegmentTimingInfo.end.presentation, i.videoTimingInfo.baseMediaDecodeTime = t.videoSegmentTimingInfo.baseMediaDecodeTime
                        }
                    }
                }, {
                    key: "handleUpdateEnd_",
                    value: function() {
                        if (!this.pendingSegment_) return this.state = "READY", void(this.paused() || this.monitorBuffer_());
                        var e = this.pendingSegment_,
                            t = e.segment,
                            i = null !== this.mediaIndex;
                        this.pendingSegment_ = null, this.recordThroughput_(e), this.addSegmentMetadataCue_(e), this.state = "READY", this.mediaIndex = e.mediaIndex, this.fetchAtBuffer_ = !0, this.currentTimeline_ = e.timeline, this.trigger("syncinfoupdate"), t.end && this.currentTime_() - t.end > 3 * e.playlist.targetDuration ? this.resetEverything() : (i && this.trigger("bandwidthupdate"), this.trigger("progress"), ir(e.playlist, this.mediaSource_, e.mediaIndex + 1) && this.endOfStream(), this.paused() || this.monitorBuffer_())
                    }
                }, {
                    key: "recordThroughput_",
                    value: function(e) {
                        var t = this.throughput.rate,
                            i = Date.now() - e.endOfAllRequests + 1,
                            n = Math.floor(e.byteLength / i * 8 * 1e3);
                        this.throughput.rate += (n - t) / ++this.throughput.count
                    }
                }, {
                    key: "addSegmentMetadataCue_",
                    value: function(e) {
                        if (this.segmentMetadataTrack_) {
                            var t = e.segment,
                                i = t.start,
                                n = t.end;
                            if (nr(i) && nr(n)) {
                                Se(i, n, this.segmentMetadataTrack_);
                                var r = {
                                        dateTimeObject: t.dateTimeObject,
                                        dateTimeString: t.dateTimeString,
                                        bandwidth: e.playlist.attributes.BANDWIDTH,
                                        resolution: e.playlist.attributes.RESOLUTION,
                                        codecs: e.playlist.attributes.CODECS,
                                        byteLength: e.byteLength,
                                        uri: e.uri,
                                        timeline: e.timeline,
                                        playlist: e.playlist.uri,
                                        start: i,
                                        end: n
                                    },
                                    a = new(u.WebKitDataCue || u.VTTCue)(i, n, JSON.stringify(r));
                                a.value = r, this.segmentMetadataTrack_.addCue(a)
                            }
                        }
                    }
                }]), i
            }(),
            ar = function(e) {
                return decodeURIComponent(escape(String.fromCharCode.apply(null, e)))
            },
            or = new Uint8Array("\n\n".split("").map(function(e) {
                return e.charCodeAt(0)
            })),
            sr = function(e) {
                function i(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    _(this, i);
                    var n = E(this, (i.__proto__ || Object.getPrototypeOf(i)).call(this, e, t));
                    return n.mediaSource_ = null, n.subtitlesTrack_ = null, n
                }
                return S(i, rr), T(i, [{
                    key: "buffered_",
                    value: function() {
                        if (!this.subtitlesTrack_ || !this.subtitlesTrack_.cues.length) return t.createTimeRanges();
                        var e = this.subtitlesTrack_.cues;
                        return t.createTimeRanges([
                            [e[0].startTime, e[e.length - 1].startTime]
                        ])
                    }
                }, {
                    key: "initSegment",
                    value: function(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                        if (!e) return null;
                        var i = fe(e),
                            n = this.initSegments_[i];
                        if (t && !n && e.bytes) {
                            var r = new Uint8Array(or.byteLength + e.bytes.byteLength);
                            r.set(e.bytes), r.set(or, e.bytes.byteLength), this.initSegments_[i] = n = {
                                resolvedUri: e.resolvedUri,
                                byterange: e.byterange,
                                bytes: r
                            }
                        }
                        return n || e
                    }
                }, {
                    key: "couldBeginLoading_",
                    value: function() {
                        return this.playlist_ && this.subtitlesTrack_ && !this.paused()
                    }
                }, {
                    key: "init_",
                    value: function() {
                        return this.state = "READY", this.resetEverything(), this.monitorBuffer_()
                    }
                }, {
                    key: "track",
                    value: function(e) {
                        return void 0 === e ? this.subtitlesTrack_ : (this.subtitlesTrack_ = e, "INIT" === this.state && this.couldBeginLoading_() && this.init_(), this.subtitlesTrack_)
                    }
                }, {
                    key: "remove",
                    value: function(e, t) {
                        Se(e, t, this.subtitlesTrack_)
                    }
                }, {
                    key: "fillBuffer_",
                    value: function() {
                        var e = this;
                        this.syncPoint_ || (this.syncPoint_ = this.syncController_.getSyncPoint(this.playlist_, this.duration_(), this.currentTimeline_, this.currentTime_()));
                        var t = this.checkBuffer_(this.buffered_(), this.playlist_, this.mediaIndex, this.hasPlayed_(), this.currentTime_(), this.syncPoint_);
                        if (t = this.skipEmptySegments_(t)) {
                            if (null === this.syncController_.timestampOffsetForTimeline(t.timeline)) return this.syncController_.one("timestampoffset", function() {
                                e.state = "READY", e.paused() || e.monitorBuffer_()
                            }), void(this.state = "WAITING_ON_TIMELINE");
                            this.loadSegment_(t)
                        }
                    }
                }, {
                    key: "skipEmptySegments_",
                    value: function(e) {
                        for (; e && e.segment.empty;) e = this.generateSegmentInfo_(e.playlist, e.mediaIndex + 1, e.startOfSegment + e.duration, e.isSyncRequest);
                        return e
                    }
                }, {
                    key: "handleSegment_",
                    value: function() {
                        var e = this;
                        if (this.pendingSegment_ && this.subtitlesTrack_) {
                            this.state = "APPENDING";
                            var t = this.pendingSegment_,
                                i = t.segment;
                            if ("function" != typeof u.WebVTT && this.subtitlesTrack_ && this.subtitlesTrack_.tech_) {
                                var n = function() {
                                    e.handleSegment_()
                                };
                                return this.state = "WAITING_ON_VTTJS", this.subtitlesTrack_.tech_.one("vttjsloaded", n), void this.subtitlesTrack_.tech_.one("vttjserror", function() {
                                    e.subtitlesTrack_.tech_.off("vttjsloaded", n), e.error({
                                        message: "Error loading vtt.js"
                                    }), e.state = "READY", e.pause(), e.trigger("error")
                                })
                            }
                            i.requested = !0;
                            try {
                                this.parseVTTCues_(t)
                            } catch (e) {
                                return this.error({
                                    message: e.message
                                }), this.state = "READY", this.pause(), this.trigger("error")
                            }
                            if (this.updateTimeMapping_(t, this.syncController_.timelines[t.timeline], this.playlist_), t.isSyncRequest) return this.trigger("syncinfoupdate"), this.pendingSegment_ = null, void(this.state = "READY");
                            t.byteLength = t.bytes.byteLength, this.mediaSecondsLoaded += i.duration, t.cues.length && this.remove(t.cues[0].endTime, t.cues[t.cues.length - 1].endTime), t.cues.forEach(function(t) {
                                e.subtitlesTrack_.addCue(t)
                            }), this.handleUpdateEnd_()
                        } else this.state = "READY"
                    }
                }, {
                    key: "parseVTTCues_",
                    value: function(e) {
                        var i = void 0,
                            n = !1;
                        "function" == typeof u.TextDecoder ? i = new u.TextDecoder("utf8") : (i = u.WebVTT.StringDecoder(), n = !0);
                        var r = new u.WebVTT.Parser(u, u.vttjs, i);
                        if (e.cues = [], e.timestampmap = {
                                MPEGTS: 0,
                                LOCAL: 0
                            }, r.oncue = e.cues.push.bind(e.cues), r.ontimestampmap = function(t) {
                                return e.timestampmap = t
                            }, r.onparsingerror = function(e) {
                                t.log.warn("Error encountered when parsing cues: " + e.message)
                            }, e.segment.map) {
                            var a = e.segment.map.bytes;
                            n && (a = ar(a)), r.parse(a)
                        }
                        var o = e.bytes;
                        n && (o = ar(o)), r.parse(o), r.flush()
                    }
                }, {
                    key: "updateTimeMapping_",
                    value: function(e, t, i) {
                        var n = e.segment;
                        if (t)
                            if (e.cues.length) {
                                var r = e.timestampmap,
                                    a = r.MPEGTS / 9e4 - r.LOCAL + t.mapping;
                                e.cues.forEach(function(e) {
                                    e.startTime += a, e.endTime += a
                                }), i.syncInfo || (i.syncInfo = {
                                    mediaSequence: i.mediaSequence + e.mediaIndex,
                                    time: Math.min(e.cues[0].startTime, e.cues[e.cues.length - 1].startTime - n.duration)
                                })
                            } else n.empty = !0
                    }
                }]), i
            }(),
            lr = function(e, t) {
                for (var i = e.cues, n = 0; n < i.length; n++) {
                    var r = i[n];
                    if (t >= r.adStartTime && t <= r.adEndTime) return r
                }
                return null
            },
            cr = function(e) {
                var t = 31 & e[1];
                return (t <<= 8) | e[2]
            },
            ur = function(e) {
                return !!(64 & e[1])
            },
            dr = function(e) {
                var t = 0;
                return (48 & e[3]) >>> 4 > 1 && (t += e[4] + 1), t
            },
            hr = function(e) {
                switch (e) {
                    case 5:
                        return "slice_layer_without_partitioning_rbsp_idr";
                    case 6:
                        return "sei_rbsp";
                    case 7:
                        return "seq_parameter_set_rbsp";
                    case 8:
                        return "pic_parameter_set_rbsp";
                    case 9:
                        return "access_unit_delimiter_rbsp";
                    default:
                        return null
                }
            },
            pr = cn,
            fr = {};
        fr.ts = {
            parseType: function(e, t) {
                var i = cr(e);
                return 0 === i ? "pat" : i === t ? "pmt" : t ? "pes" : null
            },
            parsePat: function(e) {
                var t = ur(e),
                    i = 4 + dr(e);
                return t && (i += e[i] + 1), (31 & e[i + 10]) << 8 | e[i + 11]
            },
            parsePmt: function(e) {
                var t = {},
                    i = ur(e),
                    n = 4 + dr(e);
                if (i && (n += e[n] + 1), 1 & e[n + 5]) {
                    var r;
                    r = 3 + ((15 & e[n + 1]) << 8 | e[n + 2]) - 4;
                    for (var a = 12 + ((15 & e[n + 10]) << 8 | e[n + 11]); a < r;) {
                        var o = n + a;
                        t[(31 & e[o + 1]) << 8 | e[o + 2]] = e[o], a += 5 + ((15 & e[o + 3]) << 8 | e[o + 4])
                    }
                    return t
                }
            },
            parsePayloadUnitStartIndicator: ur,
            parsePesType: function(e, t) {
                switch (t[cr(e)]) {
                    case rn.H264_STREAM_TYPE:
                        return "video";
                    case rn.ADTS_STREAM_TYPE:
                        return "audio";
                    case rn.METADATA_STREAM_TYPE:
                        return "timed-metadata";
                    default:
                        return null
                }
            },
            parsePesTime: function(e) {
                if (!ur(e)) return null;
                var t = 4 + dr(e);
                if (t >= e.byteLength) return null;
                var i, n = null;
                return 192 & (i = e[t + 7]) && ((n = {}).pts = (14 & e[t + 9]) << 27 | (255 & e[t + 10]) << 20 | (254 & e[t + 11]) << 12 | (255 & e[t + 12]) << 5 | (254 & e[t + 13]) >>> 3, n.pts *= 4, n.pts += (6 & e[t + 13]) >>> 1, n.dts = n.pts, 64 & i && (n.dts = (14 & e[t + 14]) << 27 | (255 & e[t + 15]) << 20 | (254 & e[t + 16]) << 12 | (255 & e[t + 17]) << 5 | (254 & e[t + 18]) >>> 3, n.dts *= 4, n.dts += (6 & e[t + 18]) >>> 1)), n
            },
            videoPacketContainsKeyFrame: function(e) {
                for (var t = 4 + dr(e), i = e.subarray(t), n = 0, r = 0, a = !1; r < i.byteLength - 3; r++)
                    if (1 === i[r + 2]) {
                        n = r + 5;
                        break
                    } for (; n < i.byteLength;) switch (i[n]) {
                    case 0:
                        if (0 !== i[n - 1]) {
                            n += 2;
                            break
                        }
                        if (0 !== i[n - 2]) {
                            n++;
                            break
                        }
                        r + 3 !== n - 2 && "slice_layer_without_partitioning_rbsp_idr" === hr(31 & i[r + 3]) && (a = !0);
                        do {
                            n++
                        } while (1 !== i[n] && n < i.length);
                        r = n - 2, n += 3;
                        break;
                    case 1:
                        if (0 !== i[n - 1] || 0 !== i[n - 2]) {
                            n += 3;
                            break
                        }
                        "slice_layer_without_partitioning_rbsp_idr" === hr(31 & i[r + 3]) && (a = !0), r = n - 2, n += 3;
                        break;
                    default:
                        n += 3
                }
                return i = i.subarray(r), n -= r, r = 0, i && i.byteLength > 3 && "slice_layer_without_partitioning_rbsp_idr" === hr(31 & i[r + 3]) && (a = !0), a
            }
        }, fr.aac = Rn;
        var mr = function(e, t, i) {
                for (var n, r, a, o, s = 0, l = 188, c = !1; l <= e.byteLength;)
                    if (71 !== e[s] || 71 !== e[l] && l !== e.byteLength) s++, l++;
                    else {
                        switch (n = e.subarray(s, l), fr.ts.parseType(n, t.pid)) {
                            case "pes":
                                r = fr.ts.parsePesType(n, t.table), a = fr.ts.parsePayloadUnitStartIndicator(n), "audio" === r && a && (o = fr.ts.parsePesTime(n)) && (o.type = "audio", i.audio.push(o), c = !0)
                        }
                        if (c) break;
                        s += 188, l += 188
                    } for (s = (l = e.byteLength) - 188, c = !1; s >= 0;)
                    if (71 !== e[s] || 71 !== e[l] && l !== e.byteLength) s--, l--;
                    else {
                        switch (n = e.subarray(s, l), fr.ts.parseType(n, t.pid)) {
                            case "pes":
                                r = fr.ts.parsePesType(n, t.table), a = fr.ts.parsePayloadUnitStartIndicator(n), "audio" === r && a && (o = fr.ts.parsePesTime(n)) && (o.type = "audio", i.audio.push(o), c = !0)
                        }
                        if (c) break;
                        s -= 188, l -= 188
                    }
            },
            gr = function(e, t, i) {
                for (var n, r, a, o, s, l, c, u = 0, d = 188, h = !1, p = {
                        data: [],
                        size: 0
                    }; d < e.byteLength;)
                    if (71 !== e[u] || 71 !== e[d]) u++, d++;
                    else {
                        switch (n = e.subarray(u, d), fr.ts.parseType(n, t.pid)) {
                            case "pes":
                                if (r = fr.ts.parsePesType(n, t.table), a = fr.ts.parsePayloadUnitStartIndicator(n), "video" === r && (a && !h && (o = fr.ts.parsePesTime(n)) && (o.type = "video", i.video.push(o), h = !0), !i.firstKeyFrame)) {
                                    if (a && 0 !== p.size) {
                                        for (s = new Uint8Array(p.size), l = 0; p.data.length;) c = p.data.shift(), s.set(c, l), l += c.byteLength;
                                        fr.ts.videoPacketContainsKeyFrame(s) && (i.firstKeyFrame = fr.ts.parsePesTime(s), i.firstKeyFrame.type = "video"), p.size = 0
                                    }
                                    p.data.push(n), p.size += n.byteLength
                                }
                        }
                        if (h && i.firstKeyFrame) break;
                        u += 188, d += 188
                    } for (u = (d = e.byteLength) - 188, h = !1; u >= 0;)
                    if (71 !== e[u] || 71 !== e[d]) u--, d--;
                    else {
                        switch (n = e.subarray(u, d), fr.ts.parseType(n, t.pid)) {
                            case "pes":
                                r = fr.ts.parsePesType(n, t.table), a = fr.ts.parsePayloadUnitStartIndicator(n), "video" === r && a && (o = fr.ts.parsePesTime(n)) && (o.type = "video", i.video.push(o), h = !0)
                        }
                        if (h) break;
                        u -= 188, d -= 188
                    }
            },
            yr = [{
                name: "VOD",
                run: function(e, t, i, n, r) {
                    return i !== 1 / 0 ? {
                        time: 0,
                        segmentIndex: 0
                    } : null
                }
            }, {
                name: "ProgramDateTime",
                run: function(e, t, i, n, r) {
                    if (!e.datetimeToDisplayTime) return null;
                    var a = t.segments || [],
                        o = null,
                        s = null;
                    r = r || 0;
                    for (var l = 0; l < a.length; l++) {
                        var c = a[l];
                        if (c.dateTimeObject) {
                            var u = c.dateTimeObject.getTime() / 1e3 + e.datetimeToDisplayTime,
                                d = Math.abs(r - u);
                            if (null !== s && s < d) break;
                            s = d, o = {
                                time: u,
                                segmentIndex: l
                            }
                        }
                    }
                    return o
                }
            }, {
                name: "Segment",
                run: function(e, t, i, n, r) {
                    var a = t.segments || [],
                        o = null,
                        s = null;
                    r = r || 0;
                    for (var l = 0; l < a.length; l++) {
                        var c = a[l];
                        if (c.timeline === n && void 0 !== c.start) {
                            var u = Math.abs(r - c.start);
                            if (null !== s && s < u) break;
                            (!o || null === s || s >= u) && (s = u, o = {
                                time: c.start,
                                segmentIndex: l
                            })
                        }
                    }
                    return o
                }
            }, {
                name: "Discontinuity",
                run: function(e, t, i, n, r) {
                    var a = null;
                    if (r = r || 0, t.discontinuityStarts && t.discontinuityStarts.length)
                        for (var o = null, s = 0; s < t.discontinuityStarts.length; s++) {
                            var l = t.discontinuityStarts[s],
                                c = e.discontinuities[t.discontinuitySequence + s + 1];
                            if (c) {
                                var u = Math.abs(r - c.time);
                                if (null !== o && o < u) break;
                                (!a || null === o || o >= u) && (o = u, a = {
                                    time: c.time,
                                    segmentIndex: l
                                })
                            }
                        }
                    return a
                }
            }, {
                name: "Playlist",
                run: function(e, t, i, n, r) {
                    return t.syncInfo ? {
                        time: t.syncInfo.time,
                        segmentIndex: t.syncInfo.mediaSequence - t.mediaSequence
                    } : null
                }
            }],
            vr = function(e) {
                function t() {
                    _(this, t);
                    var e = E(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                    return e.inspectCache_ = void 0, e.timelines = [], e.discontinuities = [], e.datetimeToDisplayTime = null, e.logger_ = Ot("SyncController"), e
                }
                return S(t, e), T(t, [{
                    key: "getSyncPoint",
                    value: function(e, t, i, n) {
                        var r = this.runStrategies_(e, t, i, n);
                        return r.length ? this.selectSyncPoint_(r, {
                            key: "time",
                            value: n
                        }) : null
                    }
                }, {
                    key: "getExpiredTime",
                    value: function(e, t) {
                        if (!e || !e.segments) return null;
                        var i = this.runStrategies_(e, t, e.discontinuitySequence, 0);
                        if (!i.length) return null;
                        var n = this.selectSyncPoint_(i, {
                            key: "segmentIndex",
                            value: 0
                        });
                        return n.segmentIndex > 0 && (n.time *= -1), Math.abs(n.time + N(e, n.segmentIndex, 0))
                    }
                }, {
                    key: "runStrategies_",
                    value: function(e, t, i, n) {
                        for (var r = [], a = 0; a < yr.length; a++) {
                            var o = yr[a],
                                s = o.run(this, e, t, i, n);
                            s && (s.strategy = o.name, r.push({
                                strategy: o.name,
                                syncPoint: s
                            }))
                        }
                        return r
                    }
                }, {
                    key: "selectSyncPoint_",
                    value: function(e, t) {
                        for (var i = e[0].syncPoint, n = Math.abs(e[0].syncPoint[t.key] - t.value), r = e[0].strategy, a = 1; a < e.length; a++) {
                            var o = Math.abs(e[a].syncPoint[t.key] - t.value);
                            o < n && (n = o, i = e[a].syncPoint, r = e[a].strategy)
                        }
                        return this.logger_("syncPoint for [" + t.key + ": " + t.value + "] chosen with strategy [" + r + "]: [time:" + i.time + ", segmentIndex:" + i.segmentIndex + "]"), i
                    }
                }, {
                    key: "saveExpiredSegmentInfo",
                    value: function(e, t) {
                        for (var i = t.mediaSequence - e.mediaSequence - 1; i >= 0; i--) {
                            var n = e.segments[i];
                            if (n && void 0 !== n.start) {
                                t.syncInfo = {
                                    mediaSequence: e.mediaSequence + i,
                                    time: n.start
                                }, this.logger_("playlist refresh sync: [time:" + t.syncInfo.time + ", mediaSequence: " + t.syncInfo.mediaSequence + "]"), this.trigger("syncinfoupdate");
                                break
                            }
                        }
                    }
                }, {
                    key: "setDateTimeMapping",
                    value: function(e) {
                        if (!this.datetimeToDisplayTime && e.segments && e.segments.length && e.segments[0].dateTimeObject) {
                            var t = e.segments[0].dateTimeObject.getTime() / 1e3;
                            this.datetimeToDisplayTime = -t
                        }
                    }
                }, {
                    key: "reset",
                    value: function() {
                        this.inspectCache_ = void 0
                    }
                }, {
                    key: "probeSegmentInfo",
                    value: function(e) {
                        var t, i = e.segment,
                            n = e.playlist;
                        return (t = i.map ? this.probeMp4Segment_(e) : this.probeTsSegment_(e)) && this.calculateSegmentTimeMapping_(e, t) && (this.saveDiscontinuitySyncInfo_(e), n.syncInfo || (n.syncInfo = {
                            mediaSequence: n.mediaSequence + e.mediaIndex,
                            time: i.start
                        })), t
                    }
                }, {
                    key: "probeMp4Segment_",
                    value: function(e) {
                        var t = e.segment,
                            i = wi.timescale(t.map.bytes),
                            n = wi.startTime(i, e.bytes);
                        return null !== e.timestampOffset && (e.timestampOffset -= n), {
                            start: n,
                            end: n + t.duration
                        }
                    }
                }, {
                    key: "probeTsSegment_",
                    value: function(e) {
                        var t = function(e, t) {
                                var i;
                                return (i = fr.aac.isLikelyAacData(e) ? function(e) {
                                    for (var t, i = !1, n = 0, r = null, a = null, o = 0, s = 0; e.length - s >= 3;) {
                                        switch (fr.aac.parseType(e, s)) {
                                            case "timed-metadata":
                                                if (e.length - s < 10) {
                                                    i = !0;
                                                    break
                                                }
                                                if ((o = fr.aac.parseId3TagSize(e, s)) > e.length) {
                                                    i = !0;
                                                    break
                                                }
                                                null === a && (t = e.subarray(s, s + o), a = fr.aac.parseAacTimestamp(t)), s += o;
                                                break;
                                            case "audio":
                                                if (e.length - s < 7) {
                                                    i = !0;
                                                    break
                                                }
                                                if ((o = fr.aac.parseAdtsSize(e, s)) > e.length) {
                                                    i = !0;
                                                    break
                                                }
                                                null === r && (t = e.subarray(s, s + o), r = fr.aac.parseSampleRate(t)), n++, s += o;
                                                break;
                                            default:
                                                s++
                                        }
                                        if (i) return null
                                    }
                                    if (null === r || null === a) return null;
                                    var l = 9e4 / r;
                                    return {
                                        audio: [{
                                            type: "audio",
                                            dts: a,
                                            pts: a
                                        }, {
                                            type: "audio",
                                            dts: a + 1024 * n * l,
                                            pts: a + 1024 * n * l
                                        }]
                                    }
                                }(e) : function(e) {
                                    var t = {
                                            pid: null,
                                            table: null
                                        },
                                        i = {};
                                    for (var n in function(e, t) {
                                            for (var i, n = 0, r = 188; r < e.byteLength;)
                                                if (71 !== e[n] || 71 !== e[r]) n++, r++;
                                                else {
                                                    switch (i = e.subarray(n, r), fr.ts.parseType(i, t.pid)) {
                                                        case "pat":
                                                            t.pid || (t.pid = fr.ts.parsePat(i));
                                                            break;
                                                        case "pmt":
                                                            t.table || (t.table = fr.ts.parsePmt(i))
                                                    }
                                                    if (t.pid && t.table) return;
                                                    n += 188, r += 188
                                                }
                                        }(e, t), t.table)
                                        if (t.table.hasOwnProperty(n)) switch (t.table[n]) {
                                            case rn.H264_STREAM_TYPE:
                                                i.video = [], gr(e, t, i), 0 === i.video.length && delete i.video;
                                                break;
                                            case rn.ADTS_STREAM_TYPE:
                                                i.audio = [], mr(e, t, i), 0 === i.audio.length && delete i.audio
                                        }
                                    return i
                                }(e)) && (i.audio || i.video) ? (function(e, t) {
                                    if (e.audio && e.audio.length) {
                                        var i = t;
                                        void 0 === i && (i = e.audio[0].dts), e.audio.forEach(function(e) {
                                            e.dts = pr(e.dts, i), e.pts = pr(e.pts, i), e.dtsTime = e.dts / 9e4, e.ptsTime = e.pts / 9e4
                                        })
                                    }
                                    if (e.video && e.video.length) {
                                        var n = t;
                                        if (void 0 === n && (n = e.video[0].dts), e.video.forEach(function(e) {
                                                e.dts = pr(e.dts, n), e.pts = pr(e.pts, n), e.dtsTime = e.dts / 9e4, e.ptsTime = e.pts / 9e4
                                            }), e.firstKeyFrame) {
                                            var r = e.firstKeyFrame;
                                            r.dts = pr(r.dts, n), r.pts = pr(r.pts, n), r.dtsTime = r.dts / 9e4, r.ptsTime = r.dts / 9e4
                                        }
                                    }
                                }(i, t), i) : null
                            }(e.bytes, this.inspectCache_),
                            i = void 0,
                            n = void 0;
                        return t ? (t.video && 2 === t.video.length ? (this.inspectCache_ = t.video[1].dts, i = t.video[0].dtsTime, n = t.video[1].dtsTime) : t.audio && 2 === t.audio.length && (this.inspectCache_ = t.audio[1].dts, i = t.audio[0].dtsTime, n = t.audio[1].dtsTime), {
                            start: i,
                            end: n,
                            containsVideo: t.video && 2 === t.video.length,
                            containsAudio: t.audio && 2 === t.audio.length
                        }) : null
                    }
                }, {
                    key: "timestampOffsetForTimeline",
                    value: function(e) {
                        return void 0 === this.timelines[e] ? null : this.timelines[e].time
                    }
                }, {
                    key: "mappingForTimeline",
                    value: function(e) {
                        return void 0 === this.timelines[e] ? null : this.timelines[e].mapping
                    }
                }, {
                    key: "calculateSegmentTimeMapping_",
                    value: function(e, t) {
                        var i = e.segment,
                            n = this.timelines[e.timeline];
                        if (null !== e.timestampOffset) this.timelines[e.timeline] = n = {
                            time: e.startOfSegment,
                            mapping: e.startOfSegment - t.start
                        }, this.trigger("timestampoffset"), this.logger_("time mapping for timeline " + e.timeline + ": [time: " + n.time + "] [mapping: " + n.mapping + "]"), i.start = e.startOfSegment, i.end = t.end + n.mapping;
                        else {
                            if (!n) return !1;
                            i.start = t.start + n.mapping, i.end = t.end + n.mapping
                        }
                        return !0
                    }
                }, {
                    key: "saveDiscontinuitySyncInfo_",
                    value: function(e) {
                        var t = e.playlist,
                            i = e.segment;
                        if (i.discontinuity) this.discontinuities[i.timeline] = {
                            time: i.start,
                            accuracy: 0
                        };
                        else if (t.discontinuityStarts && t.discontinuityStarts.length)
                            for (var n = 0; n < t.discontinuityStarts.length; n++) {
                                var r, a = t.discontinuityStarts[n],
                                    o = t.discontinuitySequence + n + 1,
                                    s = a - e.mediaIndex,
                                    l = Math.abs(s);
                                (!this.discontinuities[o] || this.discontinuities[o].accuracy > l) && (r = s < 0 ? i.start - N(t, e.mediaIndex, a) : i.end + N(t, e.mediaIndex + 1, a), this.discontinuities[o] = {
                                    time: r,
                                    accuracy: l
                                })
                            }
                    }
                }]), t
            }(t.EventTarget),
            br = new Oe("./decrypter-worker.worker.js", function(e, t) {
                var i = this;
                ! function() {
                    var e = function(e, t) {
                            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                        },
                        t = function() {
                            function e(e, t) {
                                for (var i = 0; i < t.length; i++) {
                                    var n = t[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
                                }
                            }
                            return function(t, i, n) {
                                return i && e(t.prototype, i), n && e(t, n), t
                            }
                        }(),
                        n = function(e, t) {
                            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                            return !t || "object" != typeof t && "function" != typeof t ? e : t
                        },
                        r = function() {
                            var e = [
                                    [
                                        [],
                                        [],
                                        [],
                                        [],
                                        []
                                    ],
                                    [
                                        [],
                                        [],
                                        [],
                                        [],
                                        []
                                    ]
                                ],
                                t = e[0],
                                i = e[1],
                                n = t[4],
                                r = i[4],
                                a = void 0,
                                o = void 0,
                                s = void 0,
                                l = [],
                                c = [],
                                u = void 0,
                                d = void 0,
                                h = void 0,
                                p = void 0,
                                f = void 0;
                            for (a = 0; a < 256; a++) c[(l[a] = a << 1 ^ 283 * (a >> 7)) ^ a] = a;
                            for (o = s = 0; !n[o]; o ^= u || 1, s = c[s] || 1)
                                for (h = (h = s ^ s << 1 ^ s << 2 ^ s << 3 ^ s << 4) >> 8 ^ 255 & h ^ 99, n[o] = h, r[h] = o, f = 16843009 * l[d = l[u = l[o]]] ^ 65537 * d ^ 257 * u ^ 16843008 * o, p = 257 * l[h] ^ 16843008 * h, a = 0; a < 4; a++) t[a][o] = p = p << 24 ^ p >>> 8, i[a][h] = f = f << 24 ^ f >>> 8;
                            for (a = 0; a < 5; a++) t[a] = t[a].slice(0), i[a] = i[a].slice(0);
                            return e
                        },
                        a = null,
                        o = function() {
                            function t(i) {
                                e(this, t), a || (a = r()), this._tables = [
                                    [a[0][0].slice(), a[0][1].slice(), a[0][2].slice(), a[0][3].slice(), a[0][4].slice()],
                                    [a[1][0].slice(), a[1][1].slice(), a[1][2].slice(), a[1][3].slice(), a[1][4].slice()]
                                ];
                                var n = void 0,
                                    o = void 0,
                                    s = void 0,
                                    l = void 0,
                                    c = void 0,
                                    u = this._tables[0][4],
                                    d = this._tables[1],
                                    h = i.length,
                                    p = 1;
                                if (4 !== h && 6 !== h && 8 !== h) throw new Error("Invalid aes key size");
                                for (l = i.slice(0), this._key = [l, c = []], n = h; n < 4 * h + 28; n++) s = l[n - 1], (n % h == 0 || 8 === h && n % h == 4) && (s = u[s >>> 24] << 24 ^ u[s >> 16 & 255] << 16 ^ u[s >> 8 & 255] << 8 ^ u[255 & s], n % h == 0 && (s = s << 8 ^ s >>> 24 ^ p << 24, p = p << 1 ^ 283 * (p >> 7))), l[n] = l[n - h] ^ s;
                                for (o = 0; n; o++, n--) s = l[3 & o ? n : n - 4], c[o] = n <= 4 || o < 4 ? s : d[0][u[s >>> 24]] ^ d[1][u[s >> 16 & 255]] ^ d[2][u[s >> 8 & 255]] ^ d[3][u[255 & s]]
                            }
                            return t.prototype.decrypt = function(e, t, i, n, r, a) {
                                var o = this._key[1],
                                    s = e ^ o[0],
                                    l = n ^ o[1],
                                    c = i ^ o[2],
                                    u = t ^ o[3],
                                    d = void 0,
                                    h = void 0,
                                    p = void 0,
                                    f = o.length / 4 - 2,
                                    m = void 0,
                                    g = 4,
                                    y = this._tables[1],
                                    v = y[0],
                                    b = y[1],
                                    _ = y[2],
                                    T = y[3],
                                    S = y[4];
                                for (m = 0; m < f; m++) d = v[s >>> 24] ^ b[l >> 16 & 255] ^ _[c >> 8 & 255] ^ T[255 & u] ^ o[g], h = v[l >>> 24] ^ b[c >> 16 & 255] ^ _[u >> 8 & 255] ^ T[255 & s] ^ o[g + 1], p = v[c >>> 24] ^ b[u >> 16 & 255] ^ _[s >> 8 & 255] ^ T[255 & l] ^ o[g + 2], u = v[u >>> 24] ^ b[s >> 16 & 255] ^ _[l >> 8 & 255] ^ T[255 & c] ^ o[g + 3], g += 4, s = d, l = h, c = p;
                                for (m = 0; m < 4; m++) r[(3 & -m) + a] = S[s >>> 24] << 24 ^ S[l >> 16 & 255] << 16 ^ S[c >> 8 & 255] << 8 ^ S[255 & u] ^ o[g++], d = s, s = l, l = c, c = u, u = d
                            }, t
                        }(),
                        s = function() {
                            function t() {
                                e(this, t), this.listeners = {}
                            }
                            return t.prototype.on = function(e, t) {
                                this.listeners[e] || (this.listeners[e] = []), this.listeners[e].push(t)
                            }, t.prototype.off = function(e, t) {
                                if (!this.listeners[e]) return !1;
                                var i = this.listeners[e].indexOf(t);
                                return this.listeners[e].splice(i, 1), i > -1
                            }, t.prototype.trigger = function(e) {
                                var t = this.listeners[e];
                                if (t)
                                    if (2 === arguments.length)
                                        for (var i = t.length, n = 0; n < i; ++n) t[n].call(this, arguments[1]);
                                    else
                                        for (var r = Array.prototype.slice.call(arguments, 1), a = t.length, o = 0; o < a; ++o) t[o].apply(this, r)
                            }, t.prototype.dispose = function() {
                                this.listeners = {}
                            }, t.prototype.pipe = function(e) {
                                this.on("data", function(t) {
                                    e.push(t)
                                })
                            }, t
                        }(),
                        l = function(t) {
                            function i() {
                                e(this, i);
                                var r = n(this, t.call(this, s));
                                return r.jobs = [], r.delay = 1, r.timeout_ = null, r
                            }
                            return function(e, t) {
                                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                                e.prototype = Object.create(t && t.prototype, {
                                    constructor: {
                                        value: e,
                                        enumerable: !1,
                                        writable: !0,
                                        configurable: !0
                                    }
                                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                            }(i, t), i.prototype.processJob_ = function() {
                                this.jobs.shift()(), this.timeout_ = this.jobs.length ? setTimeout(this.processJob_.bind(this), this.delay) : null
                            }, i.prototype.push = function(e) {
                                this.jobs.push(e), this.timeout_ || (this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay))
                            }, i
                        }(s),
                        c = function(e) {
                            return e << 24 | (65280 & e) << 8 | (16711680 & e) >> 8 | e >>> 24
                        },
                        u = function() {
                            function i(t, n, r, a) {
                                e(this, i);
                                var o = i.STEP,
                                    s = new Int32Array(t.buffer),
                                    u = new Uint8Array(t.byteLength),
                                    d = 0;
                                for (this.asyncStream_ = new l, this.asyncStream_.push(this.decryptChunk_(s.subarray(d, d + o), n, r, u)), d = o; d < s.length; d += o) r = new Uint32Array([c(s[d - 4]), c(s[d - 3]), c(s[d - 2]), c(s[d - 1])]), this.asyncStream_.push(this.decryptChunk_(s.subarray(d, d + o), n, r, u));
                                this.asyncStream_.push(function() {
                                    var e;
                                    a(null, (e = u).subarray(0, e.byteLength - e[e.byteLength - 1]))
                                })
                            }
                            return i.prototype.decryptChunk_ = function(e, t, i, n) {
                                return function() {
                                    var r = function(e, t, i) {
                                        var n = new Int32Array(e.buffer, e.byteOffset, e.byteLength >> 2),
                                            r = new o(Array.prototype.slice.call(t)),
                                            a = new Uint8Array(e.byteLength),
                                            s = new Int32Array(a.buffer),
                                            l = void 0,
                                            u = void 0,
                                            d = void 0,
                                            h = void 0,
                                            p = void 0,
                                            f = void 0,
                                            m = void 0,
                                            g = void 0,
                                            y = void 0;
                                        for (l = i[0], u = i[1], d = i[2], h = i[3], y = 0; y < n.length; y += 4) p = c(n[y]), f = c(n[y + 1]), m = c(n[y + 2]), g = c(n[y + 3]), r.decrypt(p, f, m, g, s, y), s[y] = c(s[y] ^ l), s[y + 1] = c(s[y + 1] ^ u), s[y + 2] = c(s[y + 2] ^ d), s[y + 3] = c(s[y + 3] ^ h), l = p, u = f, d = m, h = g;
                                        return a
                                    }(e, t, i);
                                    n.set(r, e.byteOffset)
                                }
                            }, t(i, null, [{
                                key: "STEP",
                                get: function() {
                                    return 32e3
                                }
                            }]), i
                        }();
                    new function(e) {
                        e.onmessage = function(t) {
                            var i = t.data,
                                n = new Uint8Array(i.encrypted.bytes, i.encrypted.byteOffset, i.encrypted.byteLength),
                                r = new Uint32Array(i.key.bytes, i.key.byteOffset, i.key.byteLength / 4),
                                a = new Uint32Array(i.iv.bytes, i.iv.byteOffset, i.iv.byteLength / 4);
                            new u(n, r, a, function(t, n) {
                                var r, a;
                                e.postMessage((r = {
                                    source: i.source,
                                    decrypted: n
                                }, a = {}, Object.keys(r).forEach(function(e) {
                                    var t = r[e];
                                    a[e] = ArrayBuffer.isView(t) ? {
                                        bytes: t.buffer,
                                        byteOffset: t.byteOffset,
                                        byteLength: t.byteLength
                                    } : t
                                }), a), [n.buffer])
                            })
                        }
                    }(i)
                }()
            }),
            _r = function(e) {
                var t = e.default ? "main" : "alternative";
                return e.characteristics && e.characteristics.indexOf("public.accessibility.describes-video") >= 0 && (t = "main-desc"), t
            },
            Tr = function(e, t) {
                e.abort(), e.pause(), t && t.activePlaylistLoader && (t.activePlaylistLoader.pause(), t.activePlaylistLoader = null)
            },
            Sr = function(e, t) {
                t.activePlaylistLoader = e, e.load()
            },
            Er = {
                AUDIO: function(e, i) {
                    return function() {
                        var n = i.mediaTypes[e],
                            r = i.blacklistCurrentPlaylist;
                        Tr(i.segmentLoaders[e], n);
                        var a = n.activeTrack(),
                            o = n.activeGroup(),
                            s = (o.filter(function(e) {
                                return e.default
                            })[0] || o[0]).id,
                            l = n.tracks[s];
                        if (a !== l) {
                            for (var c in t.log.warn("Problem encountered loading the alternate audio track.Switching back to default."), n.tracks) n.tracks[c].enabled = n.tracks[c] === l;
                            n.onTrackChanged()
                        } else r({
                            message: "Problem encountered loading the default audio track."
                        })
                    }
                },
                SUBTITLES: function(e, i) {
                    return function() {
                        var n = i.segmentLoaders[e],
                            r = i.mediaTypes[e];
                        t.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."), Tr(n, r);
                        var a = r.activeTrack();
                        a && (a.mode = "disabled"), r.onTrackChanged()
                    }
                }
            },
            wr = {
                AUDIO: function(e, t, i) {
                    if (t) {
                        var n = i.tech,
                            r = i.requestOptions,
                            a = i.segmentLoaders[e];
                        t.on("loadedmetadata", function() {
                            var e = t.media();
                            a.playlist(e, r), (!n.paused() || e.endList && "none" !== n.preload()) && a.load()
                        }), t.on("loadedplaylist", function() {
                            a.playlist(t.media(), r), n.paused() || a.load()
                        }), t.on("error", Er[e](e, i))
                    }
                },
                SUBTITLES: function(e, t, i) {
                    var n = i.tech,
                        r = i.requestOptions,
                        a = i.segmentLoaders[e],
                        o = i.mediaTypes[e];
                    t.on("loadedmetadata", function() {
                        var e = t.media();
                        a.playlist(e, r), a.track(o.activeTrack()), (!n.paused() || e.endList && "none" !== n.preload()) && a.load()
                    }), t.on("loadedplaylist", function() {
                        a.playlist(t.media(), r), n.paused() || a.load()
                    }), t.on("error", Er[e](e, i))
                }
            },
            Cr = function(e, t) {
                return function(i) {
                    return i.attributes[e] === t
                }
            },
            kr = function(e) {
                return function(t) {
                    return t.resolvedUri === e
                }
            },
            Pr = {
                AUDIO: function(e, i) {
                    var n = i.hls,
                        r = i.sourceType,
                        a = i.segmentLoaders[e],
                        o = i.requestOptions.withCredentials,
                        s = i.master,
                        l = s.mediaGroups,
                        c = s.playlists,
                        u = i.mediaTypes[e],
                        d = u.groups,
                        h = u.tracks,
                        p = i.masterPlaylistLoader;
                    for (var f in l[e] && 0 !== Object.keys(l[e]).length || (l[e] = {
                            main: {
                                default: {
                                    default: !0
                                }
                            }
                        }), l[e]) {
                        d[f] || (d[f] = []);
                        var m = c.filter(Cr(e, f));
                        for (var g in l[e][f]) {
                            var y, v = l[e][f][g];
                            if (m.filter(kr(v.resolvedUri)).length && delete v.resolvedUri, y = v.resolvedUri ? new R(v.resolvedUri, n, o) : v.playlists && "dash" === r ? new Lt(v.playlists[0], n, o, p) : null, v = t.mergeOptions({
                                    id: g,
                                    playlistLoader: y
                                }, v), wr[e](e, v.playlistLoader, i), d[f].push(v), void 0 === h[g]) {
                                var b = new t.AudioTrack({
                                    id: g,
                                    kind: _r(v),
                                    enabled: !1,
                                    language: v.language,
                                    default: v.default,
                                    label: g
                                });
                                h[g] = b
                            }
                        }
                    }
                    a.on("error", Er[e](e, i))
                },
                SUBTITLES: function(e, i) {
                    var n = i.tech,
                        r = i.hls,
                        a = i.sourceType,
                        o = i.segmentLoaders[e],
                        s = i.requestOptions.withCredentials,
                        l = i.master.mediaGroups,
                        c = i.mediaTypes[e],
                        u = c.groups,
                        d = c.tracks,
                        h = i.masterPlaylistLoader;
                    for (var p in l[e])
                        for (var f in u[p] || (u[p] = []), l[e][p])
                            if (!l[e][p][f].forced) {
                                var m = l[e][p][f],
                                    g = void 0;
                                if ("hls" === a ? g = new R(m.resolvedUri, r, s) : "dash" === a && (g = new Lt(m.playlists[0], r, s, h)), m = t.mergeOptions({
                                        id: f,
                                        playlistLoader: g
                                    }, m), wr[e](e, m.playlistLoader, i), u[p].push(m), void 0 === d[f]) {
                                    var y = n.addRemoteTextTrack({
                                        id: f,
                                        kind: "subtitles",
                                        default: m.default && m.autoselect,
                                        language: m.language,
                                        label: f
                                    }, !1).track;
                                    d[f] = y
                                }
                            } o.on("error", Er[e](e, i))
                },
                "CLOSED-CAPTIONS": function(e, i) {
                    var n = i.tech,
                        r = i.master.mediaGroups,
                        a = i.mediaTypes[e],
                        o = a.groups,
                        s = a.tracks;
                    for (var l in r[e])
                        for (var c in o[l] || (o[l] = []), r[e][l]) {
                            var u = r[e][l][c];
                            if (u.instreamId.match(/CC\d/) && (o[l].push(t.mergeOptions({
                                    id: c
                                }, u)), void 0 === s[c])) {
                                var d = n.addRemoteTextTrack({
                                    id: u.instreamId,
                                    kind: "captions",
                                    default: u.default && u.autoselect,
                                    language: u.language,
                                    label: c
                                }, !1).track;
                                s[c] = d
                            }
                        }
                }
            },
            Ar = {
                AUDIO: function(e, t) {
                    return function() {
                        var i = t.mediaTypes[e].tracks;
                        for (var n in i)
                            if (i[n].enabled) return i[n];
                        return null
                    }
                },
                SUBTITLES: function(e, t) {
                    return function() {
                        var i = t.mediaTypes[e].tracks;
                        for (var n in i)
                            if ("showing" === i[n].mode) return i[n];
                        return null
                    }
                }
            },
            Ir = function() {
                var e = {};
                return ["AUDIO", "SUBTITLES", "CLOSED-CAPTIONS"].forEach(function(t) {
                    e[t] = {
                        groups: {},
                        tracks: {},
                        activePlaylistLoader: null,
                        activeGroup: Dt,
                        activeTrack: Dt,
                        onGroupChanged: Dt,
                        onTrackChanged: Dt
                    }
                }), e
            },
            Lr = void 0,
            Or = ["mediaRequests", "mediaRequestsAborted", "mediaRequestsTimedout", "mediaRequestsErrored", "mediaTransferDuration", "mediaBytesTransferred"],
            Dr = function(e) {
                return this.audioSegmentLoader_[e] + this.mainSegmentLoader_[e]
            },
            Rr = function(e) {
                function i(e) {
                    _(this, i);
                    var n = E(this, (i.__proto__ || Object.getPrototypeOf(i)).call(this)),
                        r = e.url,
                        a = e.withCredentials,
                        o = e.tech,
                        s = e.bandwidth,
                        l = e.externHls,
                        c = e.useCueTags,
                        u = e.blacklistDuration,
                        d = e.enableLowInitialPlaylist,
                        h = e.sourceType,
                        p = e.seekTo;
                    if (!r) throw new Error("A non-empty playlist URL is required");
                    Lr = l, n.withCredentials = a, n.tech_ = o, n.hls_ = o.hls, n.seekTo_ = p, n.sourceType_ = h, n.useCueTags_ = c, n.blacklistDuration = u, n.enableLowInitialPlaylist = d, n.useCueTags_ && (n.cueTagsTrack_ = n.tech_.addTextTrack("metadata", "ad-cues"), n.cueTagsTrack_.inBandMetadataTrackDispatchType = ""), n.requestOptions_ = {
                        withCredentials: n.withCredentials,
                        timeout: null
                    }, n.mediaTypes_ = Ir(), n.mediaSource = new t.MediaSource, n.mediaSource.addEventListener("sourceopen", n.handleSourceOpen_.bind(n)), n.seekable_ = t.createTimeRanges(), n.hasPlayed_ = function() {
                        return !1
                    }, n.syncController_ = new vr(e), n.segmentMetadataTrack_ = o.addRemoteTextTrack({
                        kind: "metadata",
                        label: "segment-metadata"
                    }, !1).track, n.decrypter_ = new br, n.inbandTextTracks_ = {};
                    var f = {
                        hls: n.hls_,
                        mediaSource: n.mediaSource,
                        currentTime: n.tech_.currentTime.bind(n.tech_),
                        seekable: function() {
                            return n.seekable()
                        },
                        seeking: function() {
                            return n.tech_.seeking()
                        },
                        duration: function() {
                            return n.mediaSource.duration
                        },
                        hasPlayed: function() {
                            return n.hasPlayed_()
                        },
                        goalBufferLength: function() {
                            return n.goalBufferLength()
                        },
                        bandwidth: s,
                        syncController: n.syncController_,
                        decrypter: n.decrypter_,
                        sourceType: n.sourceType_,
                        inbandTextTracks: n.inbandTextTracks_
                    };
                    return n.masterPlaylistLoader_ = "dash" === n.sourceType_ ? new Lt(r, n.hls_, n.withCredentials) : new R(r, n.hls_, n.withCredentials), n.setupMasterPlaylistLoaderListeners_(), n.mainSegmentLoader_ = new rr(t.mergeOptions(f, {
                        segmentMetadataTrack: n.segmentMetadataTrack_,
                        loaderType: "main"
                    }), e), n.audioSegmentLoader_ = new rr(t.mergeOptions(f, {
                        loaderType: "audio"
                    }), e), n.subtitleSegmentLoader_ = new sr(t.mergeOptions(f, {
                        loaderType: "vtt"
                    }), e), n.setupSegmentLoaderListeners_(), Or.forEach(function(e) {
                        n[e + "_"] = Dr.bind(n, e)
                    }), n.logger_ = Ot("MPC"), n.masterPlaylistLoader_.load(), n
                }
                return S(i, t.EventTarget), T(i, [{
                    key: "setupMasterPlaylistLoaderListeners_",
                    value: function() {
                        var e = this;
                        this.masterPlaylistLoader_.on("loadedmetadata", function() {
                            var i = e.masterPlaylistLoader_.media(),
                                n = 1.5 * e.masterPlaylistLoader_.targetDuration * 1e3;
                            e.requestOptions_.timeout = K(e.masterPlaylistLoader_.master, e.masterPlaylistLoader_.media()) ? 0 : n, i.endList && "none" !== e.tech_.preload() && (e.mainSegmentLoader_.playlist(i, e.requestOptions_), e.mainSegmentLoader_.load()),
                                function(e) {
                                    ["AUDIO", "SUBTITLES", "CLOSED-CAPTIONS"].forEach(function(t) {
                                        Pr[t](t, e)
                                    });
                                    var t = e.mediaTypes,
                                        i = e.masterPlaylistLoader,
                                        n = e.tech,
                                        r = e.hls;
                                    ["AUDIO", "SUBTITLES"].forEach(function(i) {
                                        t[i].activeGroup = function(e, t) {
                                            return function(i) {
                                                var n = t.mediaTypes[e].groups,
                                                    r = t.masterPlaylistLoader.media();
                                                if (!r) return null;
                                                var a = null;
                                                return r.attributes[e] && (a = n[r.attributes[e]]), a = a || n.main, void 0 === i ? a : null === i ? null : a.filter(function(e) {
                                                    return e.id === i.id
                                                })[0] || null
                                            }
                                        }(i, e), t[i].activeTrack = Ar[i](i, e), t[i].onGroupChanged = function(e, t) {
                                            return function() {
                                                var i = t.segmentLoaders,
                                                    n = i[e],
                                                    r = i.main,
                                                    a = t.mediaTypes[e],
                                                    o = a.activeTrack(),
                                                    s = a.activeGroup(o),
                                                    l = a.activePlaylistLoader;
                                                Tr(n, a), s && (s.playlistLoader ? (n.resyncLoader(), Sr(s.playlistLoader, a)) : l && r.resetEverything())
                                            }
                                        }(i, e), t[i].onTrackChanged = function(e, t) {
                                            return function() {
                                                var i = t.segmentLoaders,
                                                    n = i[e],
                                                    r = i.main,
                                                    a = t.mediaTypes[e],
                                                    o = a.activeTrack(),
                                                    s = a.activeGroup(o),
                                                    l = a.activePlaylistLoader;
                                                Tr(n, a), s && (s.playlistLoader ? l !== s.playlistLoader ? (n.track && n.track(o), n.resetEverything(), Sr(s.playlistLoader, a)) : Sr(s.playlistLoader, a) : r.resetEverything())
                                            }
                                        }(i, e)
                                    });
                                    var a = t.AUDIO.activeGroup(),
                                        o = (a.filter(function(e) {
                                            return e.default
                                        })[0] || a[0]).id;
                                    t.AUDIO.tracks[o].enabled = !0, t.AUDIO.onTrackChanged(), i.on("mediachange", function() {
                                        ["AUDIO", "SUBTITLES"].forEach(function(e) {
                                            return t[e].onGroupChanged()
                                        })
                                    });
                                    var s = function() {
                                        t.AUDIO.onTrackChanged(), n.trigger({
                                            type: "usage",
                                            name: "hls-audio-change"
                                        })
                                    };
                                    for (var l in n.audioTracks().addEventListener("change", s), n.remoteTextTracks().addEventListener("change", t.SUBTITLES.onTrackChanged), r.on("dispose", function() {
                                            n.audioTracks().removeEventListener("change", s), n.remoteTextTracks().removeEventListener("change", t.SUBTITLES.onTrackChanged)
                                        }), n.clearTracks("audio"), t.AUDIO.tracks) n.audioTracks().addTrack(t.AUDIO.tracks[l])
                                }({
                                    sourceType: e.sourceType_,
                                    segmentLoaders: {
                                        AUDIO: e.audioSegmentLoader_,
                                        SUBTITLES: e.subtitleSegmentLoader_,
                                        main: e.mainSegmentLoader_
                                    },
                                    tech: e.tech_,
                                    requestOptions: e.requestOptions_,
                                    masterPlaylistLoader: e.masterPlaylistLoader_,
                                    hls: e.hls_,
                                    master: e.master(),
                                    mediaTypes: e.mediaTypes_,
                                    blacklistCurrentPlaylist: e.blacklistCurrentPlaylist.bind(e)
                                }), e.triggerPresenceUsage_(e.master(), i);
                            try {
                                e.setupSourceBuffers_()
                            } catch (i) {
                                return t.log.warn("Failed to create SourceBuffers", i), e.mediaSource.endOfStream("decode")
                            }
                            e.setupFirstPlay(), e.trigger("selectedinitialmedia")
                        }), this.masterPlaylistLoader_.on("loadedplaylist", function() {
                            var t = e.masterPlaylistLoader_.media();
                            if (!t) {
                                e.excludeUnsupportedVariants_();
                                var i = void 0;
                                return e.enableLowInitialPlaylist && (i = e.selectInitialPlaylist()), i || (i = e.selectPlaylist()), e.initialMedia_ = i, void e.masterPlaylistLoader_.media(e.initialMedia_)
                            }
                            if (e.useCueTags_ && e.updateAdCues_(t), e.mainSegmentLoader_.playlist(t, e.requestOptions_), e.updateDuration(), e.tech_.paused() || (e.mainSegmentLoader_.load(), e.audioSegmentLoader_ && e.audioSegmentLoader_.load()), !t.endList) {
                                var n = function() {
                                    var t = e.seekable();
                                    0 !== t.length && e.mediaSource.addSeekableRange_(t.start(0), t.end(0))
                                };
                                e.duration() !== 1 / 0 ? e.tech_.one("durationchange", function t() {
                                    e.duration() === 1 / 0 ? n() : e.tech_.one("durationchange", t)
                                }) : n()
                            }
                        }), this.masterPlaylistLoader_.on("error", function() {
                            e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)
                        }), this.masterPlaylistLoader_.on("mediachanging", function() {
                            e.mainSegmentLoader_.abort(), e.mainSegmentLoader_.pause()
                        }), this.masterPlaylistLoader_.on("mediachange", function() {
                            var t = e.masterPlaylistLoader_.media(),
                                i = 1.5 * e.masterPlaylistLoader_.targetDuration * 1e3;
                            e.requestOptions_.timeout = K(e.masterPlaylistLoader_.master, e.masterPlaylistLoader_.media()) ? 0 : i, e.mainSegmentLoader_.playlist(t, e.requestOptions_), e.mainSegmentLoader_.load(), e.tech_.trigger({
                                type: "mediachange",
                                bubbles: !0
                            })
                        }), this.masterPlaylistLoader_.on("playlistunchanged", function() {
                            var t = e.masterPlaylistLoader_.media();
                            e.stuckAtPlaylistEnd_(t) && (e.blacklistCurrentPlaylist({
                                message: "Playlist no longer updating."
                            }), e.tech_.trigger("playliststuck"))
                        }), this.masterPlaylistLoader_.on("renditiondisabled", function() {
                            e.tech_.trigger({
                                type: "usage",
                                name: "hls-rendition-disabled"
                            })
                        }), this.masterPlaylistLoader_.on("renditionenabled", function() {
                            e.tech_.trigger({
                                type: "usage",
                                name: "hls-rendition-enabled"
                            })
                        })
                    }
                }, {
                    key: "triggerPresenceUsage_",
                    value: function(e, t) {
                        var i = e.mediaGroups || {},
                            n = !0,
                            r = Object.keys(i.AUDIO);
                        for (var a in i.AUDIO)
                            for (var o in i.AUDIO[a]) i.AUDIO[a][o].uri || (n = !1);
                        n && this.tech_.trigger({
                            type: "usage",
                            name: "hls-demuxed"
                        }), Object.keys(i.SUBTITLES).length && this.tech_.trigger({
                            type: "usage",
                            name: "hls-webvtt"
                        }), Lr.Playlist.isAes(t) && this.tech_.trigger({
                            type: "usage",
                            name: "hls-aes"
                        }), Lr.Playlist.isFmp4(t) && this.tech_.trigger({
                            type: "usage",
                            name: "hls-fmp4"
                        }), r.length && Object.keys(i.AUDIO[r[0]]).length > 1 && this.tech_.trigger({
                            type: "usage",
                            name: "hls-alternate-audio"
                        }), this.useCueTags_ && this.tech_.trigger({
                            type: "usage",
                            name: "hls-playlist-cue-tags"
                        })
                    }
                }, {
                    key: "setupSegmentLoaderListeners_",
                    value: function() {
                        var e = this;
                        this.mainSegmentLoader_.on("bandwidthupdate", function() {
                            var t = e.selectPlaylist(),
                                i = e.masterPlaylistLoader_.media(),
                                n = e.tech_.buffered(),
                                r = n.length ? n.end(n.length - 1) - e.tech_.currentTime() : 0,
                                a = e.bufferLowWaterLine();
                            (!i.endList || e.duration() < Si.MAX_BUFFER_LOW_WATER_LINE || t.attributes.BANDWIDTH < i.attributes.BANDWIDTH || r >= a) && e.masterPlaylistLoader_.media(t), e.tech_.trigger("bandwidthupdate")
                        }), this.mainSegmentLoader_.on("progress", function() {
                            e.trigger("progress")
                        }), this.mainSegmentLoader_.on("error", function() {
                            e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())
                        }), this.mainSegmentLoader_.on("syncinfoupdate", function() {
                            e.onSyncInfoUpdate_()
                        }), this.mainSegmentLoader_.on("timestampoffset", function() {
                            e.tech_.trigger({
                                type: "usage",
                                name: "hls-timestamp-offset"
                            })
                        }), this.audioSegmentLoader_.on("syncinfoupdate", function() {
                            e.onSyncInfoUpdate_()
                        }), this.mainSegmentLoader_.on("ended", function() {
                            e.onEndOfStream()
                        }), this.mainSegmentLoader_.on("earlyabort", function() {
                            e.blacklistCurrentPlaylist({
                                message: "Aborted early because there isn't enough bandwidth to complete the request without rebuffering."
                            }, 120)
                        }), this.mainSegmentLoader_.on("reseteverything", function() {
                            e.tech_.trigger("hls-reset")
                        }), this.mainSegmentLoader_.on("segmenttimemapping", function(t) {
                            e.tech_.trigger({
                                type: "hls-segment-time-mapping",
                                mapping: t.mapping
                            })
                        }), this.audioSegmentLoader_.on("ended", function() {
                            e.onEndOfStream()
                        })
                    }
                }, {
                    key: "mediaSecondsLoaded_",
                    value: function() {
                        return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded + this.mainSegmentLoader_.mediaSecondsLoaded)
                    }
                }, {
                    key: "load",
                    value: function() {
                        this.mainSegmentLoader_.load(), this.mediaTypes_.AUDIO.activePlaylistLoader && this.audioSegmentLoader_.load(), this.mediaTypes_.SUBTITLES.activePlaylistLoader && this.subtitleSegmentLoader_.load()
                    }
                }, {
                    key: "smoothQualityChange_",
                    value: function() {
                        var e = this.selectPlaylist();
                        e !== this.masterPlaylistLoader_.media() && (this.masterPlaylistLoader_.media(e), this.mainSegmentLoader_.resetLoader())
                    }
                }, {
                    key: "fastQualityChange_",
                    value: function() {
                        var e = this,
                            i = this.selectPlaylist();
                        i !== this.masterPlaylistLoader_.media() && (this.masterPlaylistLoader_.media(i), this.mainSegmentLoader_.resetEverything(function() {
                            e.tech_.setCurrentTime(t.browser.IE_VERSION || t.browser.IS_EDGE ? e.tech_.currentTime() + .04 : e.tech_.currentTime())
                        }))
                    }
                }, {
                    key: "play",
                    value: function() {
                        if (!this.setupFirstPlay()) {
                            this.tech_.ended() && this.seekTo_(0), this.hasPlayed_() && this.load();
                            var e = this.tech_.seekable();
                            return this.tech_.duration() === 1 / 0 && this.tech_.currentTime() < e.start(0) ? this.seekTo_(e.end(e.length - 1)) : void 0
                        }
                    }
                }, {
                    key: "setupFirstPlay",
                    value: function() {
                        var e = this,
                            i = this.masterPlaylistLoader_.media();
                        if (!i || this.tech_.paused() || this.hasPlayed_()) return !1;
                        if (!i.endList) {
                            var n = this.seekable();
                            if (!n.length) return !1;
                            if (t.browser.IE_VERSION && 0 === this.tech_.readyState()) return this.tech_.one("loadedmetadata", function() {
                                e.trigger("firstplay"), e.seekTo_(n.end(0)), e.hasPlayed_ = function() {
                                    return !0
                                }
                            }), !1;
                            this.trigger("firstplay"), this.seekTo_(n.end(0))
                        }
                        return this.hasPlayed_ = function() {
                            return !0
                        }, this.load(), !0
                    }
                }, {
                    key: "handleSourceOpen_",
                    value: function() {
                        try {
                            this.setupSourceBuffers_()
                        } catch (e) {
                            return t.log.warn("Failed to create Source Buffers", e), this.mediaSource.endOfStream("decode")
                        }
                        if (this.tech_.autoplay()) {
                            var e = this.tech_.play();
                            void 0 !== e && "function" == typeof e.then && e.then(null, function(e) {})
                        }
                        this.trigger("sourceopen")
                    }
                }, {
                    key: "onEndOfStream",
                    value: function() {
                        var e = this.mainSegmentLoader_.ended_;
                        if (this.mediaTypes_.AUDIO.activePlaylistLoader && (e = !this.mainSegmentLoader_.startingMedia_ || this.mainSegmentLoader_.startingMedia_.containsVideo ? e && this.audioSegmentLoader_.ended_ : this.audioSegmentLoader_.ended_), e) try {
                            this.mediaSource.endOfStream()
                        } catch (e) {
                            t.log.warn("Failed to call media source endOfStream", e)
                        }
                    }
                }, {
                    key: "stuckAtPlaylistEnd_",
                    value: function(e) {
                        if (!this.seekable().length) return !1;
                        var t = this.syncController_.getExpiredTime(e, this.mediaSource.duration);
                        if (null === t) return !1;
                        var i = Lr.Playlist.playlistEnd(e, t),
                            n = this.tech_.currentTime(),
                            r = this.tech_.buffered();
                        if (!r.length) return i - n <= .1;
                        var a = r.end(r.length - 1);
                        return a - n <= .1 && i - a <= .1
                    }
                }, {
                    key: "blacklistCurrentPlaylist",
                    value: function() {
                        var e, i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                            n = arguments[1],
                            r = void 0;
                        if (r = i.playlist || this.masterPlaylistLoader_.media(), n = n || i.blacklistDuration || this.blacklistDuration, !r) {
                            this.error = i;
                            try {
                                return this.mediaSource.endOfStream("network")
                            } catch (e) {
                                return this.trigger("error")
                            }
                        }
                        var a = 1 === this.masterPlaylistLoader_.master.playlists.filter(W).length;
                        return a ? (t.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."), this.tech_.trigger("retryplaylist"), this.masterPlaylistLoader_.load(a)) : (r.excludeUntil = Date.now() + 1e3 * n, this.tech_.trigger("blacklistplaylist"), this.tech_.trigger({
                            type: "usage",
                            name: "hls-rendition-blacklisted"
                        }), e = this.selectPlaylist(), t.log.warn("Problem encountered with the current HLS playlist." + (i.message ? " " + i.message : "") + " Switching to another playlist."), this.masterPlaylistLoader_.media(e))
                    }
                }, {
                    key: "pauseLoading",
                    value: function() {
                        this.mainSegmentLoader_.pause(), this.mediaTypes_.AUDIO.activePlaylistLoader && this.audioSegmentLoader_.pause(), this.mediaTypes_.SUBTITLES.activePlaylistLoader && this.subtitleSegmentLoader_.pause()
                    }
                }, {
                    key: "setCurrentTime",
                    value: function(e) {
                        var t = ve(this.tech_.buffered(), e);
                        return this.masterPlaylistLoader_ && this.masterPlaylistLoader_.media() && this.masterPlaylistLoader_.media().segments ? t && t.length ? e : (this.mainSegmentLoader_.resetEverything(), this.mainSegmentLoader_.abort(), this.mediaTypes_.AUDIO.activePlaylistLoader && (this.audioSegmentLoader_.resetEverything(), this.audioSegmentLoader_.abort()), this.mediaTypes_.SUBTITLES.activePlaylistLoader && (this.subtitleSegmentLoader_.resetEverything(), this.subtitleSegmentLoader_.abort()), void this.load()) : 0
                    }
                }, {
                    key: "duration",
                    value: function() {
                        return this.masterPlaylistLoader_ ? this.mediaSource ? this.mediaSource.duration : Lr.Playlist.duration(this.masterPlaylistLoader_.media()) : 0
                    }
                }, {
                    key: "seekable",
                    value: function() {
                        return this.seekable_
                    }
                }, {
                    key: "onSyncInfoUpdate_",
                    value: function() {
                        var e = void 0,
                            i = void 0;
                        if (this.masterPlaylistLoader_) {
                            var n = this.masterPlaylistLoader_.media();
                            if (n) {
                                var r = this.syncController_.getExpiredTime(n, this.mediaSource.duration);
                                if (null !== r && 0 !== (e = Lr.Playlist.seekable(n, r)).length) {
                                    if (this.mediaTypes_.AUDIO.activePlaylistLoader) {
                                        if (n = this.mediaTypes_.AUDIO.activePlaylistLoader.media(), null === (r = this.syncController_.getExpiredTime(n, this.mediaSource.duration))) return;
                                        if (0 === (i = Lr.Playlist.seekable(n, r)).length) return
                                    }
                                    this.seekable_ = i ? i.start(0) > e.end(0) || e.start(0) > i.end(0) ? e : t.createTimeRanges([
                                        [i.start(0) > e.start(0) ? i.start(0) : e.start(0), i.end(0) < e.end(0) ? i.end(0) : e.end(0)]
                                    ]) : e, this.logger_("seekable updated [" + _e(this.seekable_) + "]"), this.tech_.trigger("seekablechanged")
                                }
                            }
                        }
                    }
                }, {
                    key: "updateDuration",
                    value: function() {
                        var e = this,
                            i = this.mediaSource.duration,
                            n = Lr.Playlist.duration(this.masterPlaylistLoader_.media()),
                            r = this.tech_.buffered(),
                            a = function i() {
                                try {
                                    e.mediaSource.duration = n
                                } catch (e) {
                                    t.log.warn("Failed to set media source duration", e)
                                }
                                e.tech_.trigger("durationchange"), e.mediaSource.removeEventListener("sourceopen", i)
                            };
                        r.length > 0 && (n = Math.max(n, r.end(r.length - 1))), i !== n && ("open" !== this.mediaSource.readyState ? this.mediaSource.addEventListener("sourceopen", a) : a())
                    }
                }, {
                    key: "dispose",
                    value: function() {
                        var e = this;
                        this.decrypter_.terminate(), this.masterPlaylistLoader_.dispose(), this.mainSegmentLoader_.dispose(), ["AUDIO", "SUBTITLES"].forEach(function(t) {
                            var i = e.mediaTypes_[t].groups;
                            for (var n in i) i[n].forEach(function(e) {
                                e.playlistLoader && e.playlistLoader.dispose()
                            })
                        }), this.audioSegmentLoader_.dispose(), this.subtitleSegmentLoader_.dispose()
                    }
                }, {
                    key: "master",
                    value: function() {
                        return this.masterPlaylistLoader_.master
                    }
                }, {
                    key: "media",
                    value: function() {
                        return this.masterPlaylistLoader_.media() || this.initialMedia_
                    }
                }, {
                    key: "setupSourceBuffers_",
                    value: function() {
                        var e, t = this.masterPlaylistLoader_.media();
                        if (t && "open" === this.mediaSource.readyState) {
                            if ((e = je(this.masterPlaylistLoader_.master, t)).length < 1) return this.error = "No compatible SourceBuffer configuration for the variant stream:" + t.resolvedUri, this.mediaSource.endOfStream("decode");
                            this.configureLoaderMimeTypes_(e), this.excludeIncompatibleVariants_(t)
                        }
                    }
                }, {
                    key: "configureLoaderMimeTypes_",
                    value: function(e) {
                        var i = e.length > 1 && -1 === e[0].indexOf(",") && e[0] !== e[1] ? new t.EventTarget : null;
                        this.mainSegmentLoader_.mimeType(e[0], i), e[1] && this.audioSegmentLoader_.mimeType(e[1], i)
                    }
                }, {
                    key: "excludeUnsupportedVariants_",
                    value: function() {
                        this.master().playlists.forEach(function(e) {
                            var t;
                            e.attributes.CODECS && u.MediaSource && u.MediaSource.isTypeSupported && !u.MediaSource.isTypeSupported('video/mp4; codecs="' + (t = e.attributes.CODECS, t.replace(/avc1\.(\d+)\.(\d+)/i, function(e) {
                                return Fe([e])[0]
                            })) + '"') && (e.excludeUntil = 1 / 0)
                        })
                    }
                }, {
                    key: "excludeIncompatibleVariants_",
                    value: function(e) {
                        var t = 2,
                            i = null,
                            n = void 0;
                        e.attributes.CODECS && (n = Be(e.attributes.CODECS), i = n.videoCodec, t = n.codecCount), this.master().playlists.forEach(function(e) {
                            var n = {
                                codecCount: 2,
                                videoCodec: null
                            };
                            e.attributes.CODECS && (n = Be(e.attributes.CODECS)), n.codecCount !== t && (e.excludeUntil = 1 / 0), n.videoCodec !== i && (e.excludeUntil = 1 / 0)
                        })
                    }
                }, {
                    key: "updateAdCues_",
                    value: function(e) {
                        var t = 0,
                            i = this.seekable();
                        i.length && (t = i.start(0)),
                            function(e, t) {
                                if (e.segments)
                                    for (var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, n = void 0, r = 0; r < e.segments.length; r++) {
                                        var a = e.segments[r];
                                        if (n || (n = lr(t, i + a.duration / 2)), n) {
                                            if ("cueIn" in a) {
                                                n.endTime = i, n.adEndTime = i, i += a.duration, n = null;
                                                continue
                                            }
                                            if (i < n.endTime) {
                                                i += a.duration;
                                                continue
                                            }
                                            n.endTime += a.duration
                                        } else if ("cueOut" in a && ((n = new u.VTTCue(i, i + a.duration, a.cueOut)).adStartTime = i, n.adEndTime = i + parseFloat(a.cueOut), t.addCue(n)), "cueOutCont" in a) {
                                            var o, s, l = a.cueOutCont.split("/").map(parseFloat),
                                                c = w(l, 2);
                                            o = c[0], s = c[1], (n = new u.VTTCue(i, i + a.duration, "")).adStartTime = i - o, n.adEndTime = n.adStartTime + s, t.addCue(n)
                                        }
                                        i += a.duration
                                    }
                            }(e, this.cueTagsTrack_, t)
                    }
                }, {
                    key: "goalBufferLength",
                    value: function() {
                        var e = this.tech_.currentTime(),
                            t = Si.GOAL_BUFFER_LENGTH,
                            i = Si.GOAL_BUFFER_LENGTH_RATE,
                            n = Math.max(t, Si.MAX_GOAL_BUFFER_LENGTH);
                        return Math.min(t + e * i, n)
                    }
                }, {
                    key: "bufferLowWaterLine",
                    value: function() {
                        var e = this.tech_.currentTime(),
                            t = Si.BUFFER_LOW_WATER_LINE,
                            i = Si.BUFFER_LOW_WATER_LINE_RATE,
                            n = Math.max(t, Si.MAX_BUFFER_LOW_WATER_LINE);
                        return Math.min(t + e * i, n)
                    }
                }]), i
            }(),
            xr = function e(t, i, n) {
                _(this, e);
                var r, a, o, s = t.masterPlaylistController_,
                    l = s[(t.options_.smoothQualityChange ? "smooth" : "fast") + "QualityChange_"].bind(s);
                if (i.attributes.RESOLUTION) {
                    var c = i.attributes.RESOLUTION;
                    this.width = c.width, this.height = c.height
                }
                this.bandwidth = i.attributes.BANDWIDTH, this.id = n, this.enabled = (r = t.playlists, a = i.uri, o = l, function(e) {
                    var t = r.master.playlists[a],
                        i = G(t),
                        n = W(t);
                    return void 0 === e ? n : (e ? delete t.disabled : t.disabled = !0, e === n || i || (o(), r.trigger(e ? "renditionenabled" : "renditiondisabled")), e)
                })
            },
            Mr = ["seeking", "seeked", "pause", "playing", "error"],
            Ur = function() {
                function e(t) {
                    var i = this;
                    _(this, e), this.tech_ = t.tech, this.seekable = t.seekable, this.seekTo = t.seekTo, this.allowSeeksWithinUnsafeLiveWindow = t.allowSeeksWithinUnsafeLiveWindow, this.media = t.media, this.consecutiveUpdates = 0, this.lastRecordedTime = null, this.timer_ = null, this.checkCurrentTimeTimeout_ = null, this.logger_ = Ot("PlaybackWatcher"), this.logger_("initialize");
                    var n = function() {
                            return i.monitorCurrentTime_()
                        },
                        r = function() {
                            return i.techWaiting_()
                        },
                        a = function() {
                            return i.cancelTimer_()
                        },
                        o = function() {
                            return i.fixesBadSeeks_()
                        };
                    this.tech_.on("seekablechanged", o), this.tech_.on("waiting", r), this.tech_.on(Mr, a), this.tech_.on("canplay", n), this.dispose = function() {
                        i.logger_("dispose"), i.tech_.off("seekablechanged", o), i.tech_.off("waiting", r), i.tech_.off(Mr, a), i.tech_.off("canplay", n), i.checkCurrentTimeTimeout_ && u.clearTimeout(i.checkCurrentTimeTimeout_), i.cancelTimer_()
                    }
                }
                return T(e, [{
                    key: "monitorCurrentTime_",
                    value: function() {
                        this.checkCurrentTime_(), this.checkCurrentTimeTimeout_ && u.clearTimeout(this.checkCurrentTimeTimeout_), this.checkCurrentTimeTimeout_ = u.setTimeout(this.monitorCurrentTime_.bind(this), 250)
                    }
                }, {
                    key: "checkCurrentTime_",
                    value: function() {
                        if (this.tech_.seeking() && this.fixesBadSeeks_()) return this.consecutiveUpdates = 0, void(this.lastRecordedTime = this.tech_.currentTime());
                        if (!this.tech_.paused() && !this.tech_.seeking()) {
                            var e = this.tech_.currentTime(),
                                t = this.tech_.buffered();
                            if (this.lastRecordedTime === e && (!t.length || e + .1 >= t.end(t.length - 1))) return this.techWaiting_();
                            this.consecutiveUpdates >= 5 && e === this.lastRecordedTime ? (this.consecutiveUpdates++, this.waiting_()) : e === this.lastRecordedTime ? this.consecutiveUpdates++ : (this.consecutiveUpdates = 0, this.lastRecordedTime = e)
                        }
                    }
                }, {
                    key: "cancelTimer_",
                    value: function() {
                        this.consecutiveUpdates = 0, this.timer_ && (this.logger_("cancelTimer_"), clearTimeout(this.timer_)), this.timer_ = null
                    }
                }, {
                    key: "fixesBadSeeks_",
                    value: function() {
                        if (!this.tech_.seeking()) return !1;
                        var e = this.seekable(),
                            t = this.tech_.currentTime(),
                            i = void 0;
                        return this.afterSeekableWindow_(e, t, this.media(), this.allowSeeksWithinUnsafeLiveWindow) && (i = e.end(e.length - 1)), this.beforeSeekableWindow_(e, t) && (i = e.start(0) + .1), void 0 !== i && (this.logger_("Trying to seek outside of seekable at time " + t + " with seekable range " + _e(e) + ". Seeking to " + i + "."), this.seekTo(i), !0)
                    }
                }, {
                    key: "waiting_",
                    value: function() {
                        if (!this.techWaiting_()) {
                            var e = this.tech_.currentTime(),
                                t = this.tech_.buffered(),
                                i = ve(t, e);
                            return i.length && e + 3 <= i.end(0) ? (this.cancelTimer_(), this.seekTo(e), this.logger_("Stopped at " + e + " while inside a buffered region [" + i.start(0) + " -> " + i.end(0) + "]. Attempting to resume playback by seeking to the current time."), void this.tech_.trigger({
                                type: "usage",
                                name: "hls-unknown-waiting"
                            })) : void 0
                        }
                    }
                }, {
                    key: "techWaiting_",
                    value: function() {
                        var e = this.seekable(),
                            t = this.tech_.currentTime();
                        if (this.tech_.seeking() && this.fixesBadSeeks_()) return !0;
                        if (this.tech_.seeking() || null !== this.timer_) return !0;
                        if (this.beforeSeekableWindow_(e, t)) {
                            var i = e.end(e.length - 1);
                            return this.logger_("Fell out of live window at time " + t + ". Seeking to live point (seekable end) " + i), this.cancelTimer_(), this.seekTo(i), this.tech_.trigger({
                                type: "usage",
                                name: "hls-live-resync"
                            }), !0
                        }
                        var n = this.tech_.buffered(),
                            r = be(n, t);
                        if (this.videoUnderflow_(r, n, t)) return this.cancelTimer_(), this.seekTo(t), this.tech_.trigger({
                            type: "usage",
                            name: "hls-video-underflow"
                        }), !0;
                        if (r.length > 0) {
                            var a = r.start(0) - t;
                            return this.logger_("Stopped at " + t + ", setting timer for " + a + ", seeking to " + r.start(0)), this.timer_ = setTimeout(this.skipTheGap_.bind(this), 1e3 * a, t), !0
                        }
                        return !1
                    }
                }, {
                    key: "afterSeekableWindow_",
                    value: function(e, t, i) {
                        var n = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
                        if (!e.length) return !1;
                        var r = e.end(e.length - 1) + .1;
                        return !i.endList && n && (r = e.end(e.length - 1) + 3 * i.targetDuration), t > r
                    }
                }, {
                    key: "beforeSeekableWindow_",
                    value: function(e, t) {
                        return !!(e.length && e.start(0) > 0 && t < e.start(0) - .1)
                    }
                }, {
                    key: "videoUnderflow_",
                    value: function(e, t, i) {
                        if (0 === e.length) {
                            var n = this.gapFromVideoUnderflow_(t, i);
                            if (n) return this.logger_("Encountered a gap in video from " + n.start + " to " + n.end + ". Seeking to current time " + i), !0
                        }
                        return !1
                    }
                }, {
                    key: "skipTheGap_",
                    value: function(e) {
                        var t = this.tech_.buffered(),
                            i = this.tech_.currentTime(),
                            n = be(t, i);
                        this.cancelTimer_(), 0 !== n.length && i === e && (this.logger_("skipTheGap_:", "currentTime:", i, "scheduled currentTime:", e, "nextRange start:", n.start(0)), this.seekTo(n.start(0) + 1 / 30), this.tech_.trigger({
                            type: "usage",
                            name: "hls-gap-skip"
                        }))
                    }
                }, {
                    key: "gapFromVideoUnderflow_",
                    value: function(e, i) {
                        for (var n = function(e) {
                                if (e.length < 2) return t.createTimeRanges();
                                for (var i = [], n = 1; n < e.length; n++) {
                                    var r = e.end(n - 1),
                                        a = e.start(n);
                                    i.push([r, a])
                                }
                                return t.createTimeRanges(i)
                            }(e), r = 0; r < n.length; r++) {
                            var a = n.start(r),
                                o = n.end(r);
                            if (i - a < 4 && i - a > 2) return {
                                start: a,
                                end: o
                            }
                        }
                        return null
                    }
                }]), e
            }(),
            Nr = {
                errorInterval: 30,
                getSource: function(e) {
                    return e(this.tech({
                        IWillNotUseThisInPlugins: !0
                    }).currentSource_)
                }
            },
            Fr = function(e) {
                ! function e(i, n) {
                    var r = 0,
                        a = 0,
                        o = t.mergeOptions(Nr, n);
                    i.ready(function() {
                        i.trigger({
                            type: "usage",
                            name: "hls-error-reload-initialized"
                        })
                    });
                    var s = function() {
                            a && i.currentTime(a)
                        },
                        l = function(e) {
                            null != e && (a = i.duration() !== 1 / 0 && i.currentTime() || 0, i.one("loadedmetadata", s), i.src(e), i.trigger({
                                type: "usage",
                                name: "hls-error-reload"
                            }), i.play())
                        },
                        c = function() {
                            if (Date.now() - r < 1e3 * o.errorInterval) i.trigger({
                                type: "usage",
                                name: "hls-error-reload-canceled"
                            });
                            else {
                                if (o.getSource && "function" == typeof o.getSource) return r = Date.now(), o.getSource.call(i, l);
                                t.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")
                            }
                        },
                        u = function e() {
                            i.off("loadedmetadata", s), i.off("error", c), i.off("dispose", e)
                        };
                    i.on("error", c), i.on("dispose", u), i.reloadSourceOnError = function(t) {
                        u(), e(i, t)
                    }
                }(this, e)
            };
        t.use("*", function(e) {
            return {
                setSource: function(e, t) {
                    t(null, e)
                },
                setCurrentTime: function(t) {
                    return e.vhs && e.currentSource().src === e.vhs.source_.src && e.vhs.setCurrentTime(t), t
                },
                play: function() {
                    e.vhs && e.currentSource().src === e.vhs.source_.src && e.vhs.setCurrentTime(e.currentTime())
                }
            }
        });
        var Br = {
            PlaylistLoader: R,
            Playlist: X,
            Decrypter: ce,
            AsyncStream: oe,
            decrypt: le,
            utils: ge,
            STANDARD_PLAYLIST_SELECTOR: function() {
                return function(e, t, i, n, r) {
                    var a = e.playlists.map(function(e) {
                        return {
                            bandwidth: e.attributes.BANDWIDTH || u.Number.MAX_VALUE,
                            width: e.attributes.RESOLUTION && e.attributes.RESOLUTION.width,
                            height: e.attributes.RESOLUTION && e.attributes.RESOLUTION.height,
                            playlist: e
                        }
                    });
                    Ii(a, function(e, t) {
                        return e.bandwidth - t.bandwidth
                    });
                    var o = (a = a.filter(function(e) {
                        return !X.isIncompatible(e.playlist)
                    })).filter(function(e) {
                        return X.isEnabled(e.playlist)
                    });
                    o.length || (o = a.filter(function(e) {
                        return !X.isDisabled(e.playlist)
                    }));
                    var s = o.filter(function(e) {
                            return e.bandwidth * Si.BANDWIDTH_VARIANCE < t
                        }),
                        l = s[s.length - 1],
                        c = s.filter(function(e) {
                            return e.bandwidth === l.bandwidth
                        })[0];
                    if (!1 === r) {
                        var d = c || o[0] || a[0];
                        return d ? d.playlist : null
                    }
                    var h = s.filter(function(e) {
                        return e.width && e.height
                    });
                    Ii(h, function(e, t) {
                        return e.width - t.width
                    });
                    var p = h.filter(function(e) {
                        return e.width === i && e.height === n
                    });
                    l = p[p.length - 1];
                    var f = p.filter(function(e) {
                            return e.bandwidth === l.bandwidth
                        })[0],
                        m = void 0,
                        g = void 0,
                        y = void 0;
                    f || (g = (m = h.filter(function(e) {
                        return e.width > i || e.height > n
                    })).filter(function(e) {
                        return e.width === m[0].width && e.height === m[0].height
                    }), l = g[g.length - 1], y = g.filter(function(e) {
                        return e.bandwidth === l.bandwidth
                    })[0]);
                    var v = y || f || c || o[0] || a[0];
                    return v ? v.playlist : null
                }(this.playlists.master, this.systemBandwidth, parseInt(Ai(this.tech_.el(), "width"), 10), parseInt(Ai(this.tech_.el(), "height"), 10), this.limitRenditionByPlayerDimensions)
            },
            INITIAL_PLAYLIST_SELECTOR: function() {
                var e = this.playlists.master.playlists.filter(X.isEnabled);
                return Ii(e, function(e, t) {
                    return Li(e, t)
                }), e.filter(function(e) {
                    return Be(e.attributes.CODECS).videoCodec
                })[0] || null
            },
            comparePlaylistBandwidth: Li,
            comparePlaylistResolution: function(e, t) {
                var i = void 0,
                    n = void 0;
                return e.attributes.RESOLUTION && e.attributes.RESOLUTION.width && (i = e.attributes.RESOLUTION.width), t.attributes.RESOLUTION && t.attributes.RESOLUTION.width && (n = t.attributes.RESOLUTION.width), (i = i || u.Number.MAX_VALUE) === (n = n || u.Number.MAX_VALUE) && e.attributes.BANDWIDTH && t.attributes.BANDWIDTH ? e.attributes.BANDWIDTH - t.attributes.BANDWIDTH : i - n
            },
            xhr: Q()
        };
        ["GOAL_BUFFER_LENGTH", "MAX_GOAL_BUFFER_LENGTH", "GOAL_BUFFER_LENGTH_RATE", "BUFFER_LOW_WATER_LINE", "MAX_BUFFER_LOW_WATER_LINE", "BUFFER_LOW_WATER_LINE_RATE", "BANDWIDTH_VARIANCE"].forEach(function(e) {
            Object.defineProperty(Br, e, {
                get: function() {
                    return t.log.warn("using Hls." + e + " is UNSAFE be sure you know what you are doing"), Si[e]
                },
                set: function(i) {
                    t.log.warn("using Hls." + e + " is UNSAFE be sure you know what you are doing"), "number" != typeof i || i < 0 ? t.log.warn("value of Hls." + e + " must be greater than or equal to 0") : Si[e] = i
                }
            })
        });
        var Vr = function(e) {
                return /^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(e) ? "hls" : /^application\/dash\+xml/i.test(e) ? "dash" : null
            },
            jr = function(e, t) {
                for (var i = t.media(), n = -1, r = 0; r < e.length; r++)
                    if (e[r].id === i.uri) {
                        n = r;
                        break
                    } e.selectedIndex_ = n, e.trigger({
                    selectedIndex: n,
                    type: "change"
                })
            };
        Br.canPlaySource = function() {
            return t.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")
        };
        var zr = function(e, i, n) {
                if (!e) return e;
                var r = {};
                for (var a in e) r[a] = {
                    audioContentType: 'audio/mp4; codecs="' + n.attributes.CODECS + '"',
                    videoContentType: 'video/mp4; codecs="' + i.attributes.CODECS + '"'
                }, i.contentProtection && i.contentProtection[a] && i.contentProtection[a].pssh && (r[a].pssh = i.contentProtection[a].pssh), "string" == typeof e[a] && (r[a].url = e[a]);
                return t.mergeOptions(e, r)
            },
            qr = function() {
                if (!window.localStorage) return null;
                var e = window.localStorage.getItem("videojs-vhs");
                if (!e) return null;
                try {
                    return JSON.parse(e)
                } catch (e) {
                    return null
                }
            };
        Br.supportsNativeHls = function() {
            var e = l.createElement("video");
            return !!t.getTech("Html5").isSupported() && ["application/vnd.apple.mpegurl", "audio/mpegurl", "audio/x-mpegurl", "application/x-mpegurl", "video/x-mpegurl", "video/mpegurl", "application/mpegurl"].some(function(t) {
                return /maybe|probably/i.test(e.canPlayType(t))
            })
        }(), Br.supportsNativeDash = !!t.getTech("Html5").isSupported() && /maybe|probably/i.test(l.createElement("video").canPlayType("application/dash+xml")), Br.supportsTypeNatively = function(e) {
            return "hls" === e ? Br.supportsNativeHls : "dash" === e && Br.supportsNativeDash
        }, Br.isSupported = function() {
            return t.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")
        };
        var Hr = t.getComponent("Component"),
            Gr = function(e) {
                function i(e, n, r) {
                    _(this, i);
                    var a = E(this, (i.__proto__ || Object.getPrototypeOf(i)).call(this, n, r.hls));
                    if (n.options_ && n.options_.playerId) {
                        var o = t(n.options_.playerId);
                        o.hasOwnProperty("hls") || Object.defineProperty(o, "hls", {
                            get: function() {
                                return t.log.warn("player.hls is deprecated. Use player.tech().hls instead."), n.trigger({
                                    type: "usage",
                                    name: "hls-player-access"
                                }), a
                            },
                            configurable: !0
                        }), o.vhs = a, o.dash = a, a.player_ = o
                    }
                    if (a.tech_ = n, a.source_ = e, a.stats = {}, a.setOptions_(), a.options_.overrideNative && n.overrideNativeAudioTracks && n.overrideNativeVideoTracks) n.overrideNativeAudioTracks(!0), n.overrideNativeVideoTracks(!0);
                    else if (a.options_.overrideNative && (n.featuresNativeVideoTracks || n.featuresNativeAudioTracks)) throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");
                    return a.on(l, ["fullscreenchange", "webkitfullscreenchange", "mozfullscreenchange", "MSFullscreenChange"], function(e) {
                        var t = l.fullscreenElement || l.webkitFullscreenElement || l.mozFullScreenElement || l.msFullscreenElement;
                        t && t.contains(a.tech_.el()) && a.masterPlaylistController_.smoothQualityChange_()
                    }), a.on(a.tech_, "seeking", function() {
                        this.tech_.seeking() && 0 === this.tech_.currentTime() && this.tech_.player_.loop() && this.setCurrentTime(0)
                    }), a.on(a.tech_, "error", function() {
                        this.masterPlaylistController_ && this.masterPlaylistController_.pauseLoading()
                    }), a.on(a.tech_, "play", a.play), a
                }
                return S(i, Hr), T(i, [{
                    key: "setOptions_",
                    value: function() {
                        var e = this;
                        if (this.options_.withCredentials = this.options_.withCredentials || !1, this.options_.limitRenditionByPlayerDimensions = !1 !== this.options_.limitRenditionByPlayerDimensions, this.options_.smoothQualityChange = this.options_.smoothQualityChange || !1, this.options_.useBandwidthFromLocalStorage = void 0 !== this.source_.useBandwidthFromLocalStorage ? this.source_.useBandwidthFromLocalStorage : this.options_.useBandwidthFromLocalStorage || !1, this.options_.customTagParsers = this.options_.customTagParsers || [], this.options_.customTagMappers = this.options_.customTagMappers || [], "number" != typeof this.options_.blacklistDuration && (this.options_.blacklistDuration = 300), "number" != typeof this.options_.bandwidth && this.options_.useBandwidthFromLocalStorage) {
                            var t = qr();
                            t && t.bandwidth && (this.options_.bandwidth = t.bandwidth, this.tech_.trigger({
                                type: "usage",
                                name: "hls-bandwidth-from-local-storage"
                            })), t && t.throughput && (this.options_.throughput = t.throughput, this.tech_.trigger({
                                type: "usage",
                                name: "hls-throughput-from-local-storage"
                            }))
                        }
                        "number" != typeof this.options_.bandwidth && (this.options_.bandwidth = Si.INITIAL_BANDWIDTH), this.options_.enableLowInitialPlaylist = this.options_.enableLowInitialPlaylist && this.options_.bandwidth === Si.INITIAL_BANDWIDTH, ["withCredentials", "limitRenditionByPlayerDimensions", "bandwidth", "smoothQualityChange", "customTagParsers", "customTagMappers"].forEach(function(t) {
                            void 0 !== e.source_[t] && (e.options_[t] = e.source_[t])
                        }), this.limitRenditionByPlayerDimensions = this.options_.limitRenditionByPlayerDimensions
                    }
                }, {
                    key: "src",
                    value: function(e, i) {
                        var n = this;
                        e && (this.setOptions_(), this.options_.url = this.source_.src, this.options_.tech = this.tech_, this.options_.externHls = Br, this.options_.sourceType = Vr(i), this.options_.seekTo = function(e) {
                            n.tech_.setCurrentTime(e), n.setCurrentTime(e)
                        }, this.masterPlaylistController_ = new Rr(this.options_), this.playbackWatcher_ = new Ur(t.mergeOptions(this.options_, {
                            seekable: function() {
                                return n.seekable()
                            },
                            media: function() {
                                return n.masterPlaylistController_.media()
                            }
                        })), this.masterPlaylistController_.on("error", function() {
                            t.players[n.tech_.options_.playerId].error(n.masterPlaylistController_.error)
                        }), this.masterPlaylistController_.selectPlaylist = this.selectPlaylist ? this.selectPlaylist.bind(this) : Br.STANDARD_PLAYLIST_SELECTOR.bind(this), this.masterPlaylistController_.selectInitialPlaylist = Br.INITIAL_PLAYLIST_SELECTOR.bind(this), this.playlists = this.masterPlaylistController_.masterPlaylistLoader_, this.mediaSource = this.masterPlaylistController_.mediaSource, Object.defineProperties(this, {
                            selectPlaylist: {
                                get: function() {
                                    return this.masterPlaylistController_.selectPlaylist
                                },
                                set: function(e) {
                                    this.masterPlaylistController_.selectPlaylist = e.bind(this)
                                }
                            },
                            throughput: {
                                get: function() {
                                    return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate
                                },
                                set: function(e) {
                                    this.masterPlaylistController_.mainSegmentLoader_.throughput.rate = e, this.masterPlaylistController_.mainSegmentLoader_.throughput.count = 1
                                }
                            },
                            bandwidth: {
                                get: function() {
                                    return this.masterPlaylistController_.mainSegmentLoader_.bandwidth
                                },
                                set: function(e) {
                                    this.masterPlaylistController_.mainSegmentLoader_.bandwidth = e, this.masterPlaylistController_.mainSegmentLoader_.throughput = {
                                        rate: 0,
                                        count: 0
                                    }
                                }
                            },
                            systemBandwidth: {
                                get: function() {
                                    return Math.floor(1 / (1 / (this.bandwidth || 1) + (this.throughput > 0 ? 1 / this.throughput : 0)))
                                },
                                set: function() {
                                    t.log.error('The "systemBandwidth" property is read-only')
                                }
                            }
                        }), this.options_.bandwidth && (this.bandwidth = this.options_.bandwidth), this.options_.throughput && (this.throughput = this.options_.throughput), Object.defineProperties(this.stats, {
                            bandwidth: {
                                get: function() {
                                    return n.bandwidth || 0
                                },
                                enumerable: !0
                            },
                            mediaRequests: {
                                get: function() {
                                    return n.masterPlaylistController_.mediaRequests_() || 0
                                },
                                enumerable: !0
                            },
                            mediaRequestsAborted: {
                                get: function() {
                                    return n.masterPlaylistController_.mediaRequestsAborted_() || 0
                                },
                                enumerable: !0
                            },
                            mediaRequestsTimedout: {
                                get: function() {
                                    return n.masterPlaylistController_.mediaRequestsTimedout_() || 0
                                },
                                enumerable: !0
                            },
                            mediaRequestsErrored: {
                                get: function() {
                                    return n.masterPlaylistController_.mediaRequestsErrored_() || 0
                                },
                                enumerable: !0
                            },
                            mediaTransferDuration: {
                                get: function() {
                                    return n.masterPlaylistController_.mediaTransferDuration_() || 0
                                },
                                enumerable: !0
                            },
                            mediaBytesTransferred: {
                                get: function() {
                                    return n.masterPlaylistController_.mediaBytesTransferred_() || 0
                                },
                                enumerable: !0
                            },
                            mediaSecondsLoaded: {
                                get: function() {
                                    return n.masterPlaylistController_.mediaSecondsLoaded_() || 0
                                },
                                enumerable: !0
                            },
                            buffered: {
                                get: function() {
                                    return Te(n.tech_.buffered())
                                },
                                enumerable: !0
                            },
                            currentTime: {
                                get: function() {
                                    return n.tech_.currentTime()
                                },
                                enumerable: !0
                            },
                            currentSource: {
                                get: function() {
                                    return n.tech_.currentSource_
                                },
                                enumerable: !0
                            },
                            currentTech: {
                                get: function() {
                                    return n.tech_.name_
                                },
                                enumerable: !0
                            },
                            duration: {
                                get: function() {
                                    return n.tech_.duration()
                                },
                                enumerable: !0
                            },
                            master: {
                                get: function() {
                                    return n.playlists.master
                                },
                                enumerable: !0
                            },
                            playerDimensions: {
                                get: function() {
                                    return n.tech_.currentDimensions()
                                },
                                enumerable: !0
                            },
                            seekable: {
                                get: function() {
                                    return Te(n.tech_.seekable())
                                },
                                enumerable: !0
                            },
                            timestamp: {
                                get: function() {
                                    return Date.now()
                                },
                                enumerable: !0
                            },
                            videoPlaybackQuality: {
                                get: function() {
                                    return n.tech_.getVideoPlaybackQuality()
                                },
                                enumerable: !0
                            }
                        }), this.tech_.one("canplay", this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)), this.tech_.on("bandwidthupdate", function() {
                            n.options_.useBandwidthFromLocalStorage && function(e) {
                                if (!window.localStorage) return !1;
                                var i = qr();
                                i = i ? t.mergeOptions(i, e) : e;
                                try {
                                    window.localStorage.setItem("videojs-vhs", JSON.stringify(i))
                                } catch (e) {
                                    return !1
                                }
                            }({
                                bandwidth: n.bandwidth,
                                throughput: Math.round(n.throughput)
                            })
                        }), this.masterPlaylistController_.on("selectedinitialmedia", function() {
                            var e, i;
                            i = (e = n).playlists, e.representations = function() {
                                    return i.master.playlists.filter(function(e) {
                                        return !G(e)
                                    }).map(function(t, i) {
                                        return new xr(e, t, t.uri)
                                    })
                                },
                                function(e) {
                                    if ("dash" === e.options_.sourceType) {
                                        var i = t.players[e.tech_.options_.playerId];
                                        if (i.eme) {
                                            var n = zr(e.source_.keySystems, e.playlists.media(), e.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media());
                                            n && (i.currentSource().keySystems = n, i.eme.initializeMediaKeys && i.eme.initializeMediaKeys())
                                        }
                                    }
                                }(n)
                        }), this.on(this.masterPlaylistController_, "progress", function() {
                            this.tech_.trigger("progress")
                        }), this.tech_.ready(function() {
                            return n.setupQualityLevels_()
                        }), this.tech_.el() && this.tech_.src(t.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))
                    }
                }, {
                    key: "setupQualityLevels_",
                    value: function() {
                        var e = this,
                            i = t.players[this.tech_.options_.playerId];
                        i && i.qualityLevels && (this.qualityLevels_ = i.qualityLevels(), this.masterPlaylistController_.on("selectedinitialmedia", function() {
                            var t, i;
                            t = e.qualityLevels_, (i = e).representations().forEach(function(e) {
                                t.addQualityLevel(e)
                            }), jr(t, i.playlists)
                        }), this.playlists.on("mediachange", function() {
                            jr(e.qualityLevels_, e.playlists)
                        }))
                    }
                }, {
                    key: "play",
                    value: function() {
                        this.masterPlaylistController_.play()
                    }
                }, {
                    key: "setCurrentTime",
                    value: function(e) {
                        this.masterPlaylistController_.setCurrentTime(e)
                    }
                }, {
                    key: "duration",
                    value: function() {
                        return this.masterPlaylistController_.duration()
                    }
                }, {
                    key: "seekable",
                    value: function() {
                        return this.masterPlaylistController_.seekable()
                    }
                }, {
                    key: "dispose",
                    value: function() {
                        this.playbackWatcher_ && this.playbackWatcher_.dispose(), this.masterPlaylistController_ && this.masterPlaylistController_.dispose(), this.qualityLevels_ && this.qualityLevels_.dispose(), this.player_ && (delete this.player_.vhs, delete this.player_.dash, delete this.player_.hls), this.tech_ && this.tech_.hls && delete this.tech_.hls,
                            function e(t, i, n) {
                                null === t && (t = Function.prototype);
                                var r = Object.getOwnPropertyDescriptor(t, i);
                                if (void 0 === r) {
                                    var a = Object.getPrototypeOf(t);
                                    return null === a ? void 0 : e(a, i, n)
                                }
                                if ("value" in r) return r.value;
                                var o = r.get;
                                return void 0 !== o ? o.call(n) : void 0
                            }(i.prototype.__proto__ || Object.getPrototypeOf(i.prototype), "dispose", this).call(this)
                    }
                }, {
                    key: "convertToProgramTime",
                    value: function(e, t) {
                        return function(e) {
                            var t = e.playlist,
                                i = e.time,
                                n = void 0 === i ? void 0 : i,
                                r = e.callback;
                            if (!r) throw new Error("getProgramTime: callback must be provided");
                            if (!t || void 0 === n) return r({
                                message: "getProgramTime: playlist and time must be provided"
                            });
                            var a = function(e, t) {
                                if (!t || !t.segments || 0 === t.segments.length) return null;
                                for (var i = 0, n = void 0, r = 0; r < t.segments.length && !(e <= (i = (n = t.segments[r]).videoTimingInfo ? n.videoTimingInfo.transmuxedPresentationEnd : i + n.duration)); r++);
                                var a = t.segments[t.segments.length - 1];
                                if (a.videoTimingInfo && a.videoTimingInfo.transmuxedPresentationEnd < e) return null;
                                if (e > i) {
                                    if (e > i + .25 * a.duration) return null;
                                    n = a
                                }
                                return {
                                    segment: n,
                                    estimatedStart: n.videoTimingInfo ? n.videoTimingInfo.transmuxedPresentationStart : i - n.duration,
                                    type: n.videoTimingInfo ? "accurate" : "estimate"
                                }
                            }(n, t);
                            if (!a) return r({
                                message: "valid programTime was not found"
                            });
                            if ("estimate" === a.type) return r({
                                message: "Accurate programTime could not be determined. Please seek to e.seekTime and try again",
                                seekTime: a.estimatedStart
                            });
                            var o = {
                                    mediaSeconds: n
                                },
                                s = function(e, t) {
                                    if (!t.dateTimeObject) return null;
                                    var i = e - (t.videoTimingInfo.transmuxedPresentationStart + t.videoTimingInfo.transmuxerPrependedSeconds);
                                    return new Date(t.dateTimeObject.getTime() + 1e3 * i)
                                }(n, a.segment);
                            return s && (o.programDateTime = s.toISOString()), r(null, o)
                        }({
                            playlist: this.masterPlaylistController_.media(),
                            time: e,
                            callback: t
                        })
                    }
                }, {
                    key: "seekToProgramTime",
                    value: function(e, t) {
                        var i = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2],
                            n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 2;
                        return function e(t) {
                            var i = t.programTime,
                                n = t.playlist,
                                r = t.retryCount,
                                a = void 0 === r ? 2 : r,
                                o = t.seekTo,
                                s = t.pauseAfterSeek,
                                l = void 0 === s || s,
                                c = t.tech,
                                u = t.callback;
                            if (!u) throw new Error("seekToProgramTime: callback must be provided");
                            if (void 0 === i || !n || !o) return u({
                                message: "seekToProgramTime: programTime, seekTo and playlist must be provided"
                            });
                            if (!n.endList && !c.hasStarted_) return u({
                                message: "player must be playing a live stream to start buffering"
                            });
                            if (! function(e) {
                                    if (!e.segments || 0 === e.segments.length) return !1;
                                    for (var t = 0; t < e.segments.length; t++)
                                        if (!e.segments[t].dateTimeObject) return !1;
                                    return !0
                                }(n)) return u({
                                message: "programDateTime tags must be provided in the manifest " + n.resolvedUri
                            });
                            var d = function(e, t) {
                                var i = void 0;
                                try {
                                    i = new Date(e)
                                } catch (e) {
                                    return null
                                }
                                if (!t || !t.segments || 0 === t.segments.length) return null;
                                var n = t.segments[0];
                                if (i < n.dateTimeObject) return null;
                                for (var r = 0; r < t.segments.length - 1 && (n = t.segments[r], !(i < t.segments[r + 1].dateTimeObject)); r++);
                                var a, o = t.segments[t.segments.length - 1],
                                    s = o.dateTimeObject,
                                    l = o.videoTimingInfo ? (a = o.videoTimingInfo).transmuxedPresentationEnd - a.transmuxedPresentationStart - a.transmuxerPrependedSeconds : o.duration + .25 * o.duration;
                                return i > new Date(s.getTime() + 1e3 * l) ? null : (i > s && (n = o), {
                                    segment: n,
                                    estimatedStart: n.videoTimingInfo ? n.videoTimingInfo.transmuxedPresentationStart : X.duration(t, t.mediaSequence + t.segments.indexOf(n)),
                                    type: n.videoTimingInfo ? "accurate" : "estimate"
                                })
                            }(i, n);
                            if (!d) return u({
                                message: i + " was not found in the stream"
                            });
                            var h = d.segment,
                                p = function(e, t) {
                                    var i = void 0,
                                        n = void 0;
                                    try {
                                        i = new Date(e), n = new Date(t)
                                    } catch (e) {}
                                    var r = i.getTime();
                                    return (n.getTime() - r) / 1e3
                                }(h.dateTimeObject, i);
                            if ("estimate" === d.type) return 0 === a ? u({
                                message: i + " is not buffered yet. Try again"
                            }) : (o(d.estimatedStart + p), void c.one("seeked", function() {
                                e({
                                    programTime: i,
                                    playlist: n,
                                    retryCount: a - 1,
                                    seekTo: o,
                                    pauseAfterSeek: l,
                                    tech: c,
                                    callback: u
                                })
                            }));
                            var f = h.start + p;
                            c.one("seeked", function() {
                                return u(null, c.currentTime())
                            }), l && c.pause(), o(f)
                        }({
                            programTime: e,
                            playlist: this.masterPlaylistController_.media(),
                            retryCount: n,
                            pauseAfterSeek: i,
                            seekTo: this.options_.seekTo,
                            tech: this.options_.tech,
                            callback: t
                        })
                    }
                }]), i
            }(),
            Wr = {
                name: "videojs-http-streaming",
                VERSION: "1.9.0",
                canHandleSource: function(e) {
                    var i = t.mergeOptions(t.options, arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {});
                    return Wr.canPlayType(e.type, i)
                },
                handleSource: function(e, i) {
                    var n = t.mergeOptions(t.options, arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {});
                    return i.hls = new Gr(e, i, n), i.hls.xhr = Q(), i.hls.src(e.src, e.type), i.hls
                },
                canPlayType: function(e) {
                    var i = t.mergeOptions(t.options, arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}).hls.overrideNative,
                        n = Vr(e);
                    return !n || Br.supportsTypeNatively(n) && !i ? "" : "maybe"
                }
            };
        void 0 !== t.MediaSource && void 0 !== t.URL || (t.MediaSource = Je, t.URL = $e), Je.supportsNativeMediaSources() && t.getTech("Html5").registerSourceHandler(Wr, 0), t.HlsHandler = Gr, t.HlsSourceHandler = Wr, t.Hls = Br, t.use || t.registerComponent("Hls", Br), t.options.hls = t.options.hls || {}, t.registerPlugin ? t.registerPlugin("reloadSourceOnError", Fr) : t.plugin("reloadSourceOnError", Fr), e.LOCAL_STORAGE_KEY = "videojs-vhs", e.Hls = Br, e.HlsHandler = Gr, e.HlsSourceHandler = Wr, e.emeKeySystems = zr, e.simpleTypeFromSourceType = Vr, Object.defineProperty(e, "__esModule", {
            value: !0
        })
    }),
    function(e) {
        var t = {};

        function i(n) {
            if (t[n]) return t[n].exports;
            var r = t[n] = {
                i: n,
                l: !1,
                exports: {}
            };
            return e[n].call(r.exports, r, r.exports, i), r.l = !0, r.exports
        }
        i.m = e, i.c = t, i.d = function(e, t, n) {
            i.o(e, t) || Object.defineProperty(e, t, {
                enumerable: !0,
                get: n
            })
        }, i.r = function(e) {
            "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                value: "Module"
            }), Object.defineProperty(e, "__esModule", {
                value: !0
            })
        }, i.t = function(e, t) {
            if (1 & t && (e = i(e)), 8 & t) return e;
            if (4 & t && "object" == typeof e && e && e.__esModule) return e;
            var n = Object.create(null);
            if (i.r(n), Object.defineProperty(n, "default", {
                    enumerable: !0,
                    value: e
                }), 2 & t && "string" != typeof e)
                for (var r in e) i.d(n, r, (function(t) {
                    return e[t]
                }).bind(null, r));
            return n
        }, i.n = function(e) {
            var t = e && e.__esModule ? function() {
                return e.default
            } : function() {
                return e
            };
            return i.d(t, "a", t), t
        }, i.o = function(e, t) {
            return Object.prototype.hasOwnProperty.call(e, t)
        }, i.p = "", i(i.s = 19)
    }([function(e, t, i) {
        "use strict";
        var n = {
            generateIdentifier: function() {
                return Math.random().toString(36).substr(2, 10)
            }
        };
        n.localCName = n.generateIdentifier(), n.splitLines = function(e) {
            return e.trim().split("\n").map(function(e) {
                return e.trim()
            })
        }, n.splitSections = function(e) {
            return e.split("\nm=").map(function(e, t) {
                return (t > 0 ? "m=" + e : e).trim() + "\r\n"
            })
        }, n.getDescription = function(e) {
            var t = n.splitSections(e);
            return t && t[0]
        }, n.getMediaSections = function(e) {
            var t = n.splitSections(e);
            return t.shift(), t
        }, n.matchPrefix = function(e, t) {
            return n.splitLines(e).filter(function(e) {
                return 0 === e.indexOf(t)
            })
        }, n.parseCandidate = function(e) {
            for (var t, i = {
                    foundation: (t = 0 === e.indexOf("a=candidate:") ? e.substring(12).split(" ") : e.substring(10).split(" "))[0],
                    component: parseInt(t[1], 10),
                    protocol: t[2].toLowerCase(),
                    priority: parseInt(t[3], 10),
                    ip: t[4],
                    address: t[4],
                    port: parseInt(t[5], 10),
                    type: t[7]
                }, n = 8; n < t.length; n += 2) switch (t[n]) {
                case "raddr":
                    i.relatedAddress = t[n + 1];
                    break;
                case "rport":
                    i.relatedPort = parseInt(t[n + 1], 10);
                    break;
                case "tcptype":
                    i.tcpType = t[n + 1];
                    break;
                case "ufrag":
                    i.ufrag = t[n + 1], i.usernameFragment = t[n + 1];
                    break;
                default:
                    i[t[n]] = t[n + 1]
            }
            return i
        }, n.writeCandidate = function(e) {
            var t = [];
            t.push(e.foundation), t.push(e.component), t.push(e.protocol.toUpperCase()), t.push(e.priority), t.push(e.address || e.ip), t.push(e.port);
            var i = e.type;
            return t.push("typ"), t.push(i), "host" !== i && e.relatedAddress && e.relatedPort && (t.push("raddr"), t.push(e.relatedAddress), t.push("rport"), t.push(e.relatedPort)), e.tcpType && "tcp" === e.protocol.toLowerCase() && (t.push("tcptype"), t.push(e.tcpType)), (e.usernameFragment || e.ufrag) && (t.push("ufrag"), t.push(e.usernameFragment || e.ufrag)), "candidate:" + t.join(" ")
        }, n.parseIceOptions = function(e) {
            return e.substr(14).split(" ")
        }, n.parseRtpMap = function(e) {
            var t = e.substr(9).split(" "),
                i = {
                    payloadType: parseInt(t.shift(), 10)
                };
            return t = t[0].split("/"), i.name = t[0], i.clockRate = parseInt(t[1], 10), i.channels = 3 === t.length ? parseInt(t[2], 10) : 1, i.numChannels = i.channels, i
        }, n.writeRtpMap = function(e) {
            var t = e.payloadType;
            void 0 !== e.preferredPayloadType && (t = e.preferredPayloadType);
            var i = e.channels || e.numChannels || 1;
            return "a=rtpmap:" + t + " " + e.name + "/" + e.clockRate + (1 !== i ? "/" + i : "") + "\r\n"
        }, n.parseExtmap = function(e) {
            var t = e.substr(9).split(" ");
            return {
                id: parseInt(t[0], 10),
                direction: t[0].indexOf("/") > 0 ? t[0].split("/")[1] : "sendrecv",
                uri: t[1]
            }
        }, n.writeExtmap = function(e) {
            return "a=extmap:" + (e.id || e.preferredId) + (e.direction && "sendrecv" !== e.direction ? "/" + e.direction : "") + " " + e.uri + "\r\n"
        }, n.parseFmtp = function(e) {
            for (var t, i = {}, n = e.substr(e.indexOf(" ") + 1).split(";"), r = 0; r < n.length; r++) i[(t = n[r].trim().split("="))[0].trim()] = t[1];
            return i
        }, n.writeFmtp = function(e) {
            var t = "",
                i = e.payloadType;
            if (void 0 !== e.preferredPayloadType && (i = e.preferredPayloadType), e.parameters && Object.keys(e.parameters).length) {
                var n = [];
                Object.keys(e.parameters).forEach(function(t) {
                    n.push(e.parameters[t] ? t + "=" + e.parameters[t] : t)
                }), t += "a=fmtp:" + i + " " + n.join(";") + "\r\n"
            }
            return t
        }, n.parseRtcpFb = function(e) {
            var t = e.substr(e.indexOf(" ") + 1).split(" ");
            return {
                type: t.shift(),
                parameter: t.join(" ")
            }
        }, n.writeRtcpFb = function(e) {
            var t = "",
                i = e.payloadType;
            return void 0 !== e.preferredPayloadType && (i = e.preferredPayloadType), e.rtcpFeedback && e.rtcpFeedback.length && e.rtcpFeedback.forEach(function(e) {
                t += "a=rtcp-fb:" + i + " " + e.type + (e.parameter && e.parameter.length ? " " + e.parameter : "") + "\r\n"
            }), t
        }, n.parseSsrcMedia = function(e) {
            var t = e.indexOf(" "),
                i = {
                    ssrc: parseInt(e.substr(7, t - 7), 10)
                },
                n = e.indexOf(":", t);
            return n > -1 ? (i.attribute = e.substr(t + 1, n - t - 1), i.value = e.substr(n + 1)) : i.attribute = e.substr(t + 1), i
        }, n.parseSsrcGroup = function(e) {
            var t = e.substr(13).split(" ");
            return {
                semantics: t.shift(),
                ssrcs: t.map(function(e) {
                    return parseInt(e, 10)
                })
            }
        }, n.getMid = function(e) {
            var t = n.matchPrefix(e, "a=mid:")[0];
            if (t) return t.substr(6)
        }, n.parseFingerprint = function(e) {
            var t = e.substr(14).split(" ");
            return {
                algorithm: t[0].toLowerCase(),
                value: t[1]
            }
        }, n.getDtlsParameters = function(e, t) {
            return {
                role: "auto",
                fingerprints: n.matchPrefix(e + t, "a=fingerprint:").map(n.parseFingerprint)
            }
        }, n.writeDtlsParameters = function(e, t) {
            var i = "a=setup:" + t + "\r\n";
            return e.fingerprints.forEach(function(e) {
                i += "a=fingerprint:" + e.algorithm + " " + e.value + "\r\n"
            }), i
        }, n.getIceParameters = function(e, t) {
            var i = n.splitLines(e);
            return {
                usernameFragment: (i = i.concat(n.splitLines(t))).filter(function(e) {
                    return 0 === e.indexOf("a=ice-ufrag:")
                })[0].substr(12),
                password: i.filter(function(e) {
                    return 0 === e.indexOf("a=ice-pwd:")
                })[0].substr(10)
            }
        }, n.writeIceParameters = function(e) {
            return "a=ice-ufrag:" + e.usernameFragment + "\r\na=ice-pwd:" + e.password + "\r\n"
        }, n.parseRtpParameters = function(e) {
            for (var t = {
                    codecs: [],
                    headerExtensions: [],
                    fecMechanisms: [],
                    rtcp: []
                }, i = n.splitLines(e)[0].split(" "), r = 3; r < i.length; r++) {
                var a = i[r],
                    o = n.matchPrefix(e, "a=rtpmap:" + a + " ")[0];
                if (o) {
                    var s = n.parseRtpMap(o),
                        l = n.matchPrefix(e, "a=fmtp:" + a + " ");
                    switch (s.parameters = l.length ? n.parseFmtp(l[0]) : {}, s.rtcpFeedback = n.matchPrefix(e, "a=rtcp-fb:" + a + " ").map(n.parseRtcpFb), t.codecs.push(s), s.name.toUpperCase()) {
                        case "RED":
                        case "ULPFEC":
                            t.fecMechanisms.push(s.name.toUpperCase())
                    }
                }
            }
            return n.matchPrefix(e, "a=extmap:").forEach(function(e) {
                t.headerExtensions.push(n.parseExtmap(e))
            }), t
        }, n.writeRtpDescription = function(e, t) {
            var i = "";
            i += "m=" + e + " ", i += t.codecs.length > 0 ? "9" : "0", i += " UDP/TLS/RTP/SAVPF ", i += t.codecs.map(function(e) {
                return void 0 !== e.preferredPayloadType ? e.preferredPayloadType : e.payloadType
            }).join(" ") + "\r\n", i += "c=IN IP4 0.0.0.0\r\n", i += "a=rtcp:9 IN IP4 0.0.0.0\r\n", t.codecs.forEach(function(e) {
                i += n.writeRtpMap(e), i += n.writeFmtp(e), i += n.writeRtcpFb(e)
            });
            var r = 0;
            return t.codecs.forEach(function(e) {
                e.maxptime > r && (r = e.maxptime)
            }), r > 0 && (i += "a=maxptime:" + r + "\r\n"), i += "a=rtcp-mux\r\n", t.headerExtensions && t.headerExtensions.forEach(function(e) {
                i += n.writeExtmap(e)
            }), i
        }, n.parseRtpEncodingParameters = function(e) {
            var t, i = [],
                r = n.parseRtpParameters(e),
                a = -1 !== r.fecMechanisms.indexOf("RED"),
                o = -1 !== r.fecMechanisms.indexOf("ULPFEC"),
                s = n.matchPrefix(e, "a=ssrc:").map(function(e) {
                    return n.parseSsrcMedia(e)
                }).filter(function(e) {
                    return "cname" === e.attribute
                }),
                l = s.length > 0 && s[0].ssrc,
                c = n.matchPrefix(e, "a=ssrc-group:FID").map(function(e) {
                    return e.substr(17).split(" ").map(function(e) {
                        return parseInt(e, 10)
                    })
                });
            c.length > 0 && c[0].length > 1 && c[0][0] === l && (t = c[0][1]), r.codecs.forEach(function(e) {
                if ("RTX" === e.name.toUpperCase() && e.parameters.apt) {
                    var n = {
                        ssrc: l,
                        codecPayloadType: parseInt(e.parameters.apt, 10)
                    };
                    l && t && (n.rtx = {
                        ssrc: t
                    }), i.push(n), a && ((n = JSON.parse(JSON.stringify(n))).fec = {
                        ssrc: l,
                        mechanism: o ? "red+ulpfec" : "red"
                    }, i.push(n))
                }
            }), 0 === i.length && l && i.push({
                ssrc: l
            });
            var u = n.matchPrefix(e, "b=");
            return u.length && (u = 0 === u[0].indexOf("b=TIAS:") ? parseInt(u[0].substr(7), 10) : 0 === u[0].indexOf("b=AS:") ? 1e3 * parseInt(u[0].substr(5), 10) * .95 - 16e3 : void 0, i.forEach(function(e) {
                e.maxBitrate = u
            })), i
        }, n.parseRtcpParameters = function(e) {
            var t = {},
                i = n.matchPrefix(e, "a=ssrc:").map(function(e) {
                    return n.parseSsrcMedia(e)
                }).filter(function(e) {
                    return "cname" === e.attribute
                })[0];
            i && (t.cname = i.value, t.ssrc = i.ssrc);
            var r = n.matchPrefix(e, "a=rtcp-rsize");
            t.reducedSize = r.length > 0, t.compound = 0 === r.length;
            var a = n.matchPrefix(e, "a=rtcp-mux");
            return t.mux = a.length > 0, t
        }, n.parseMsid = function(e) {
            var t, i = n.matchPrefix(e, "a=msid:");
            if (1 === i.length) return {
                stream: (t = i[0].substr(7).split(" "))[0],
                track: t[1]
            };
            var r = n.matchPrefix(e, "a=ssrc:").map(function(e) {
                return n.parseSsrcMedia(e)
            }).filter(function(e) {
                return "msid" === e.attribute
            });
            return r.length > 0 ? {
                stream: (t = r[0].value.split(" "))[0],
                track: t[1]
            } : void 0
        }, n.generateSessionId = function() {
            return Math.random().toString().substr(2, 21)
        }, n.writeSessionBoilerplate = function(e, t, i) {
            var r = void 0 !== t ? t : 2;
            return "v=0\r\no=" + (i || "thisisadapterortc") + " " + (e || n.generateSessionId()) + " " + r + " IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"
        }, n.writeMediaSection = function(e, t, i, r) {
            var a = n.writeRtpDescription(e.kind, t);
            if (a += n.writeIceParameters(e.iceGatherer.getLocalParameters()), a += n.writeDtlsParameters(e.dtlsTransport.getLocalParameters(), "offer" === i ? "actpass" : "active"), a += "a=mid:" + e.mid + "\r\n", a += e.direction ? "a=" + e.direction + "\r\n" : e.rtpSender && e.rtpReceiver ? "a=sendrecv\r\n" : e.rtpSender ? "a=sendonly\r\n" : e.rtpReceiver ? "a=recvonly\r\n" : "a=inactive\r\n", e.rtpSender) {
                var o = "msid:" + r.id + " " + e.rtpSender.track.id + "\r\n";
                a += "a=" + o, a += "a=ssrc:" + e.sendEncodingParameters[0].ssrc + " " + o, e.sendEncodingParameters[0].rtx && (a += "a=ssrc:" + e.sendEncodingParameters[0].rtx.ssrc + " " + o, a += "a=ssrc-group:FID " + e.sendEncodingParameters[0].ssrc + " " + e.sendEncodingParameters[0].rtx.ssrc + "\r\n")
            }
            return a += "a=ssrc:" + e.sendEncodingParameters[0].ssrc + " cname:" + n.localCName + "\r\n", e.rtpSender && e.sendEncodingParameters[0].rtx && (a += "a=ssrc:" + e.sendEncodingParameters[0].rtx.ssrc + " cname:" + n.localCName + "\r\n"), a
        }, n.getDirection = function(e, t) {
            for (var i = n.splitLines(e), r = 0; r < i.length; r++) switch (i[r]) {
                case "a=sendrecv":
                case "a=sendonly":
                case "a=recvonly":
                case "a=inactive":
                    return i[r].substr(2)
            }
            return t ? n.getDirection(t) : "sendrecv"
        }, n.getKind = function(e) {
            return n.splitLines(e)[0].split(" ")[0].substr(2)
        }, n.isRejected = function(e) {
            return "0" === e.split(" ", 2)[1]
        }, n.parseMLine = function(e) {
            var t = n.splitLines(e)[0].substr(2).split(" ");
            return {
                kind: t[0],
                port: parseInt(t[1], 10),
                protocol: t[2],
                fmt: t.slice(3).join(" ")
            }
        }, n.parseOLine = function(e) {
            var t = n.matchPrefix(e, "o=")[0].substr(2).split(" ");
            return {
                username: t[0],
                sessionId: t[1],
                sessionVersion: parseInt(t[2], 10),
                netType: t[3],
                addressType: t[4],
                address: t[5]
            }
        }, n.isValidSDP = function(e) {
            if ("string" != typeof e || 0 === e.length) return !1;
            for (var t = n.splitLines(e), i = 0; i < t.length; i++)
                if (t[i].length < 2 || "=" !== t[i].charAt(1)) return !1;
            return !0
        }, e.exports = n
    }, function(e, t) {
        e.exports = {
            VERSION: "1.1.6"
        }
    }, function(e, t) {
        var i;
        i = function() {
            return this
        }();
        try {
            i = i || Function("return this")() || (0, eval)("this")
        } catch (e) {
            "object" == typeof window && (i = window)
        }
        e.exports = i
    }, function(e, t, i) {
        "use strict";
        var n = i(18);

        function r(e, t, i, r, a) {
            var o = n.writeRtpDescription(e.kind, t);
            if (o += n.writeIceParameters(e.iceGatherer.getLocalParameters()), o += n.writeDtlsParameters(e.dtlsTransport.getLocalParameters(), "offer" === i ? "actpass" : a || "active"), o += "a=mid:" + e.mid + "\r\n", o += e.rtpSender && e.rtpReceiver ? "a=sendrecv\r\n" : e.rtpSender ? "a=sendonly\r\n" : e.rtpReceiver ? "a=recvonly\r\n" : "a=inactive\r\n", e.rtpSender) {
                var s = e.rtpSender._initialTrackId || e.rtpSender.track.id;
                e.rtpSender._initialTrackId = s;
                var l = "msid:" + (r ? r.id : "-") + " " + s + "\r\n";
                o += "a=" + l, o += "a=ssrc:" + e.sendEncodingParameters[0].ssrc + " " + l, e.sendEncodingParameters[0].rtx && (o += "a=ssrc:" + e.sendEncodingParameters[0].rtx.ssrc + " " + l, o += "a=ssrc-group:FID " + e.sendEncodingParameters[0].ssrc + " " + e.sendEncodingParameters[0].rtx.ssrc + "\r\n")
            }
            return o += "a=ssrc:" + e.sendEncodingParameters[0].ssrc + " cname:" + n.localCName + "\r\n", e.rtpSender && e.sendEncodingParameters[0].rtx && (o += "a=ssrc:" + e.sendEncodingParameters[0].rtx.ssrc + " cname:" + n.localCName + "\r\n"), o
        }

        function a(e, t) {
            var i = {
                    codecs: [],
                    headerExtensions: [],
                    fecMechanisms: []
                },
                n = function(e, t) {
                    e = parseInt(e, 10);
                    for (var i = 0; i < t.length; i++)
                        if (t[i].payloadType === e || t[i].preferredPayloadType === e) return t[i]
                },
                r = function(e, t, i, r) {
                    var a = n(e.parameters.apt, i),
                        o = n(t.parameters.apt, r);
                    return a && o && a.name.toLowerCase() === o.name.toLowerCase()
                };
            return e.codecs.forEach(function(n) {
                for (var a = 0; a < t.codecs.length; a++) {
                    var o = t.codecs[a];
                    if (n.name.toLowerCase() === o.name.toLowerCase() && n.clockRate === o.clockRate) {
                        if ("rtx" === n.name.toLowerCase() && n.parameters && o.parameters.apt && !r(n, o, e.codecs, t.codecs)) continue;
                        (o = JSON.parse(JSON.stringify(o))).numChannels = Math.min(n.numChannels, o.numChannels), i.codecs.push(o), o.rtcpFeedback = o.rtcpFeedback.filter(function(e) {
                            for (var t = 0; t < n.rtcpFeedback.length; t++)
                                if (n.rtcpFeedback[t].type === e.type && n.rtcpFeedback[t].parameter === e.parameter) return !0;
                            return !1
                        });
                        break
                    }
                }
            }), e.headerExtensions.forEach(function(e) {
                for (var n = 0; n < t.headerExtensions.length; n++) {
                    var r = t.headerExtensions[n];
                    if (e.uri === r.uri) {
                        i.headerExtensions.push(r);
                        break
                    }
                }
            }), i
        }

        function o(e, t, i) {
            return -1 !== {
                offer: {
                    setLocalDescription: ["stable", "have-local-offer"],
                    setRemoteDescription: ["stable", "have-remote-offer"]
                },
                answer: {
                    setLocalDescription: ["have-remote-offer", "have-local-pranswer"],
                    setRemoteDescription: ["have-local-offer", "have-remote-pranswer"]
                }
            } [t][e].indexOf(i)
        }

        function s(e, t) {
            var i = e.getRemoteCandidates().find(function(e) {
                return t.foundation === e.foundation && t.ip === e.ip && t.port === e.port && t.priority === e.priority && t.protocol === e.protocol && t.type === e.type
            });
            return i || e.addRemoteCandidate(t), !i
        }

        function l(e, t) {
            var i = new Error(t);
            return i.name = e, i.code = {
                NotSupportedError: 9,
                InvalidStateError: 11,
                InvalidAccessError: 15,
                TypeError: void 0,
                OperationError: void 0
            } [e], i
        }
        e.exports = function(e, t) {
            function i(t, i) {
                i.addTrack(t), i.dispatchEvent(new e.MediaStreamTrackEvent("addtrack", {
                    track: t
                }))
            }

            function c(t, i, n, r) {
                var a = new Event("track");
                a.track = i, a.receiver = n, a.transceiver = {
                    receiver: n
                }, a.streams = r, e.setTimeout(function() {
                    t._dispatchEvent("track", a)
                })
            }
            var u = function(i) {
                var r = this,
                    a = document.createDocumentFragment();
                if (["addEventListener", "removeEventListener", "dispatchEvent"].forEach(function(e) {
                        r[e] = a[e].bind(a)
                    }), this.canTrickleIceCandidates = null, this.needNegotiation = !1, this.localStreams = [], this.remoteStreams = [], this._localDescription = null, this._remoteDescription = null, this.signalingState = "stable", this.iceConnectionState = "new", this.connectionState = "new", this.iceGatheringState = "new", i = JSON.parse(JSON.stringify(i || {})), this.usingBundle = "max-bundle" === i.bundlePolicy, "negotiate" === i.rtcpMuxPolicy) throw l("NotSupportedError", "rtcpMuxPolicy 'negotiate' is not supported");
                switch (i.rtcpMuxPolicy || (i.rtcpMuxPolicy = "require"), i.iceTransportPolicy) {
                    case "all":
                    case "relay":
                        break;
                    default:
                        i.iceTransportPolicy = "all"
                }
                switch (i.bundlePolicy) {
                    case "balanced":
                    case "max-compat":
                    case "max-bundle":
                        break;
                    default:
                        i.bundlePolicy = "balanced"
                }
                if (i.iceServers = function(e, t) {
                        var i = !1;
                        return (e = JSON.parse(JSON.stringify(e))).filter(function(e) {
                            if (e && (e.urls || e.url)) {
                                var n = e.urls || e.url;
                                e.url && !e.urls && console.warn("RTCIceServer.url is deprecated! Use urls instead.");
                                var r = "string" == typeof n;
                                return r && (n = [n]), n = n.filter(function(e) {
                                    return 0 !== e.indexOf("turn:") || -1 === e.indexOf("transport=udp") || -1 !== e.indexOf("turn:[") || i ? 0 === e.indexOf("stun:") && t >= 14393 && -1 === e.indexOf("?transport=udp") : (i = !0, !0)
                                }), delete e.url, e.urls = r ? n[0] : n, !!n.length
                            }
                        })
                    }(i.iceServers || [], t), this._iceGatherers = [], i.iceCandidatePoolSize)
                    for (var o = i.iceCandidatePoolSize; o > 0; o--) this._iceGatherers.push(new e.RTCIceGatherer({
                        iceServers: i.iceServers,
                        gatherPolicy: i.iceTransportPolicy
                    }));
                else i.iceCandidatePoolSize = 0;
                this._config = i, this.transceivers = [], this._sdpSessionId = n.generateSessionId(), this._sdpSessionVersion = 0, this._dtlsRole = void 0, this._isClosed = !1
            };
            Object.defineProperty(u.prototype, "localDescription", {
                configurable: !0,
                get: function() {
                    return this._localDescription
                }
            }), Object.defineProperty(u.prototype, "remoteDescription", {
                configurable: !0,
                get: function() {
                    return this._remoteDescription
                }
            }), u.prototype.onicecandidate = null, u.prototype.onaddstream = null, u.prototype.ontrack = null, u.prototype.onremovestream = null, u.prototype.onsignalingstatechange = null, u.prototype.oniceconnectionstatechange = null, u.prototype.onconnectionstatechange = null, u.prototype.onicegatheringstatechange = null, u.prototype.onnegotiationneeded = null, u.prototype.ondatachannel = null, u.prototype._dispatchEvent = function(e, t) {
                this._isClosed || (this.dispatchEvent(t), "function" == typeof this["on" + e] && this["on" + e](t))
            }, u.prototype._emitGatheringStateChange = function() {
                var e = new Event("icegatheringstatechange");
                this._dispatchEvent("icegatheringstatechange", e)
            }, u.prototype.getConfiguration = function() {
                return this._config
            }, u.prototype.getLocalStreams = function() {
                return this.localStreams
            }, u.prototype.getRemoteStreams = function() {
                return this.remoteStreams
            }, u.prototype._createTransceiver = function(e, t) {
                var i = {
                    track: null,
                    iceGatherer: null,
                    iceTransport: null,
                    dtlsTransport: null,
                    localCapabilities: null,
                    remoteCapabilities: null,
                    rtpSender: null,
                    rtpReceiver: null,
                    kind: e,
                    mid: null,
                    sendEncodingParameters: null,
                    recvEncodingParameters: null,
                    stream: null,
                    associatedRemoteMediaStreams: [],
                    wantReceive: !0
                };
                if (this.usingBundle && this.transceivers.length > 0) i.iceTransport = this.transceivers[0].iceTransport, i.dtlsTransport = this.transceivers[0].dtlsTransport;
                else {
                    var n = this._createIceAndDtlsTransports();
                    i.iceTransport = n.iceTransport, i.dtlsTransport = n.dtlsTransport
                }
                return t || this.transceivers.push(i), i
            }, u.prototype.addTrack = function(t, i) {
                if (this._isClosed) throw l("InvalidStateError", "Attempted to call addTrack on a closed peerconnection.");
                var n;
                if (this.transceivers.find(function(e) {
                        return e.track === t
                    })) throw l("InvalidAccessError", "Track already exists.");
                for (var r = 0; r < this.transceivers.length; r++) this.transceivers[r].track || this.transceivers[r].kind !== t.kind || (n = this.transceivers[r]);
                return n || (n = this._createTransceiver(t.kind)), this._maybeFireNegotiationNeeded(), -1 === this.localStreams.indexOf(i) && this.localStreams.push(i), n.track = t, n.stream = i, n.rtpSender = new e.RTCRtpSender(t, n.dtlsTransport), n.rtpSender
            }, u.prototype.addStream = function(e) {
                var i = this;
                if (t >= 15025) e.getTracks().forEach(function(t) {
                    i.addTrack(t, e)
                });
                else {
                    var n = e.clone();
                    e.getTracks().forEach(function(e, t) {
                        var i = n.getTracks()[t];
                        e.addEventListener("enabled", function(e) {
                            i.enabled = e.enabled
                        })
                    }), n.getTracks().forEach(function(e) {
                        i.addTrack(e, n)
                    })
                }
            }, u.prototype.removeTrack = function(t) {
                if (this._isClosed) throw l("InvalidStateError", "Attempted to call removeTrack on a closed peerconnection.");
                if (!(t instanceof e.RTCRtpSender)) throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");
                var i = this.transceivers.find(function(e) {
                    return e.rtpSender === t
                });
                if (!i) throw l("InvalidAccessError", "Sender was not created by this connection.");
                var n = i.stream;
                i.rtpSender.stop(), i.rtpSender = null, i.track = null, i.stream = null, -1 === this.transceivers.map(function(e) {
                    return e.stream
                }).indexOf(n) && this.localStreams.indexOf(n) > -1 && this.localStreams.splice(this.localStreams.indexOf(n), 1), this._maybeFireNegotiationNeeded()
            }, u.prototype.removeStream = function(e) {
                var t = this;
                e.getTracks().forEach(function(e) {
                    var i = t.getSenders().find(function(t) {
                        return t.track === e
                    });
                    i && t.removeTrack(i)
                })
            }, u.prototype.getSenders = function() {
                return this.transceivers.filter(function(e) {
                    return !!e.rtpSender
                }).map(function(e) {
                    return e.rtpSender
                })
            }, u.prototype.getReceivers = function() {
                return this.transceivers.filter(function(e) {
                    return !!e.rtpReceiver
                }).map(function(e) {
                    return e.rtpReceiver
                })
            }, u.prototype._createIceGatherer = function(t, i) {
                var n = this;
                if (i && t > 0) return this.transceivers[0].iceGatherer;
                if (this._iceGatherers.length) return this._iceGatherers.shift();
                var r = new e.RTCIceGatherer({
                    iceServers: this._config.iceServers,
                    gatherPolicy: this._config.iceTransportPolicy
                });
                return Object.defineProperty(r, "state", {
                    value: "new",
                    writable: !0
                }), this.transceivers[t].bufferedCandidateEvents = [], this.transceivers[t].bufferCandidates = function(e) {
                    var i = !e.candidate || 0 === Object.keys(e.candidate).length;
                    r.state = i ? "completed" : "gathering", null !== n.transceivers[t].bufferedCandidateEvents && n.transceivers[t].bufferedCandidateEvents.push(e)
                }, r.addEventListener("localcandidate", this.transceivers[t].bufferCandidates), r
            }, u.prototype._gather = function(t, i) {
                var r = this,
                    a = this.transceivers[i].iceGatherer;
                if (!a.onlocalcandidate) {
                    var o = this.transceivers[i].bufferedCandidateEvents;
                    this.transceivers[i].bufferedCandidateEvents = null, a.removeEventListener("localcandidate", this.transceivers[i].bufferCandidates), a.onlocalcandidate = function(e) {
                        if (!(r.usingBundle && i > 0)) {
                            var o = new Event("icecandidate");
                            o.candidate = {
                                sdpMid: t,
                                sdpMLineIndex: i
                            };
                            var s = e.candidate,
                                l = !s || 0 === Object.keys(s).length;
                            if (l) "new" !== a.state && "gathering" !== a.state || (a.state = "completed");
                            else {
                                "new" === a.state && (a.state = "gathering"), s.component = 1, s.ufrag = a.getLocalParameters().usernameFragment;
                                var c = n.writeCandidate(s);
                                o.candidate = Object.assign(o.candidate, n.parseCandidate(c)), o.candidate.candidate = c, o.candidate.toJSON = function() {
                                    return {
                                        candidate: o.candidate.candidate,
                                        sdpMid: o.candidate.sdpMid,
                                        sdpMLineIndex: o.candidate.sdpMLineIndex,
                                        usernameFragment: o.candidate.usernameFragment
                                    }
                                }
                            }
                            var u = n.getMediaSections(r._localDescription.sdp);
                            u[o.candidate.sdpMLineIndex] += l ? "a=end-of-candidates\r\n" : "a=" + o.candidate.candidate + "\r\n", r._localDescription.sdp = n.getDescription(r._localDescription.sdp) + u.join("");
                            var d = r.transceivers.every(function(e) {
                                return e.iceGatherer && "completed" === e.iceGatherer.state
                            });
                            "gathering" !== r.iceGatheringState && (r.iceGatheringState = "gathering", r._emitGatheringStateChange()), l || r._dispatchEvent("icecandidate", o), d && (r._dispatchEvent("icecandidate", new Event("icecandidate")), r.iceGatheringState = "complete", r._emitGatheringStateChange())
                        }
                    }, e.setTimeout(function() {
                        o.forEach(function(e) {
                            a.onlocalcandidate(e)
                        })
                    }, 0)
                }
            }, u.prototype._createIceAndDtlsTransports = function() {
                var t = this,
                    i = new e.RTCIceTransport(null);
                i.onicestatechange = function() {
                    t._updateIceConnectionState(), t._updateConnectionState()
                };
                var n = new e.RTCDtlsTransport(i);
                return n.ondtlsstatechange = function() {
                    t._updateConnectionState()
                }, n.onerror = function() {
                    Object.defineProperty(n, "state", {
                        value: "failed",
                        writable: !0
                    }), t._updateConnectionState()
                }, {
                    iceTransport: i,
                    dtlsTransport: n
                }
            }, u.prototype._disposeIceAndDtlsTransports = function(e) {
                var t = this.transceivers[e].iceGatherer;
                t && (delete t.onlocalcandidate, delete this.transceivers[e].iceGatherer);
                var i = this.transceivers[e].iceTransport;
                i && (delete i.onicestatechange, delete this.transceivers[e].iceTransport);
                var n = this.transceivers[e].dtlsTransport;
                n && (delete n.ondtlsstatechange, delete n.onerror, delete this.transceivers[e].dtlsTransport)
            }, u.prototype._transceive = function(e, i, r) {
                var o = a(e.localCapabilities, e.remoteCapabilities);
                i && e.rtpSender && (o.encodings = e.sendEncodingParameters, o.rtcp = {
                    cname: n.localCName,
                    compound: e.rtcpParameters.compound
                }, e.recvEncodingParameters.length && (o.rtcp.ssrc = e.recvEncodingParameters[0].ssrc), e.rtpSender.send(o)), r && e.rtpReceiver && o.codecs.length > 0 && ("video" === e.kind && e.recvEncodingParameters && t < 15019 && e.recvEncodingParameters.forEach(function(e) {
                    delete e.rtx
                }), o.encodings = e.recvEncodingParameters.length ? e.recvEncodingParameters : [{}], o.rtcp = {
                    compound: e.rtcpParameters.compound
                }, e.rtcpParameters.cname && (o.rtcp.cname = e.rtcpParameters.cname), e.sendEncodingParameters.length && (o.rtcp.ssrc = e.sendEncodingParameters[0].ssrc), e.rtpReceiver.receive(o))
            }, u.prototype.setLocalDescription = function(e) {
                var t, i, r = this;
                if (-1 === ["offer", "answer"].indexOf(e.type)) return Promise.reject(l("TypeError", 'Unsupported type "' + e.type + '"'));
                if (!o("setLocalDescription", e.type, r.signalingState) || r._isClosed) return Promise.reject(l("InvalidStateError", "Can not set local " + e.type + " in state " + r.signalingState));
                if ("offer" === e.type) t = n.splitSections(e.sdp), i = t.shift(), t.forEach(function(e, t) {
                    var i = n.parseRtpParameters(e);
                    r.transceivers[t].localCapabilities = i
                }), r.transceivers.forEach(function(e, t) {
                    r._gather(e.mid, t)
                });
                else if ("answer" === e.type) {
                    t = n.splitSections(r._remoteDescription.sdp), i = t.shift();
                    var s = n.matchPrefix(i, "a=ice-lite").length > 0;
                    t.forEach(function(e, t) {
                        var o = r.transceivers[t],
                            l = o.iceGatherer,
                            c = o.iceTransport,
                            u = o.dtlsTransport,
                            d = o.localCapabilities,
                            h = o.remoteCapabilities;
                        if (!(n.isRejected(e) && 0 === n.matchPrefix(e, "a=bundle-only").length || o.rejected)) {
                            var p = n.getIceParameters(e, i),
                                f = n.getDtlsParameters(e, i);
                            s && (f.role = "server"), r.usingBundle && 0 !== t || (r._gather(o.mid, t), "new" === c.state && c.start(l, p, s ? "controlling" : "controlled"), "new" === u.state && u.start(f));
                            var m = a(d, h);
                            r._transceive(o, m.codecs.length > 0, !1)
                        }
                    })
                }
                return r._localDescription = {
                    type: e.type,
                    sdp: e.sdp
                }, r._updateSignalingState("offer" === e.type ? "have-local-offer" : "stable"), Promise.resolve()
            }, u.prototype.setRemoteDescription = function(r) {
                var u = this;
                if (-1 === ["offer", "answer"].indexOf(r.type)) return Promise.reject(l("TypeError", 'Unsupported type "' + r.type + '"'));
                if (!o("setRemoteDescription", r.type, u.signalingState) || u._isClosed) return Promise.reject(l("InvalidStateError", "Can not set remote " + r.type + " in state " + u.signalingState));
                var d = {};
                u.remoteStreams.forEach(function(e) {
                    d[e.id] = e
                });
                var h = [],
                    p = n.splitSections(r.sdp),
                    f = p.shift(),
                    m = n.matchPrefix(f, "a=ice-lite").length > 0,
                    g = n.matchPrefix(f, "a=group:BUNDLE ").length > 0;
                u.usingBundle = g;
                var y = n.matchPrefix(f, "a=ice-options:")[0];
                return u.canTrickleIceCandidates = !!y && y.substr(14).split(" ").indexOf("trickle") >= 0, p.forEach(function(o, l) {
                    var c = n.splitLines(o),
                        p = n.getKind(o),
                        y = n.isRejected(o) && 0 === n.matchPrefix(o, "a=bundle-only").length,
                        v = c[0].substr(2).split(" ")[2],
                        b = n.getDirection(o, f),
                        _ = n.parseMsid(o),
                        T = n.getMid(o) || n.generateIdentifier();
                    if (y || "application" === p && ("DTLS/SCTP" === v || "UDP/DTLS/SCTP" === v)) u.transceivers[l] = {
                        mid: T,
                        kind: p,
                        protocol: v,
                        rejected: !0
                    };
                    else {
                        var S, E, w, C, k, P, A, I, L;
                        !y && u.transceivers[l] && u.transceivers[l].rejected && (u.transceivers[l] = u._createTransceiver(p, !0));
                        var O, D, R = n.parseRtpParameters(o);
                        y || (O = n.getIceParameters(o, f), (D = n.getDtlsParameters(o, f)).role = "client"), A = n.parseRtpEncodingParameters(o);
                        var x = n.parseRtcpParameters(o),
                            M = n.matchPrefix(o, "a=end-of-candidates", f).length > 0,
                            U = n.matchPrefix(o, "a=candidate:").map(function(e) {
                                return n.parseCandidate(e)
                            }).filter(function(e) {
                                return 1 === e.component
                            });
                        if (("offer" === r.type || "answer" === r.type) && !y && g && l > 0 && u.transceivers[l] && (u._disposeIceAndDtlsTransports(l), u.transceivers[l].iceGatherer = u.transceivers[0].iceGatherer, u.transceivers[l].iceTransport = u.transceivers[0].iceTransport, u.transceivers[l].dtlsTransport = u.transceivers[0].dtlsTransport, u.transceivers[l].rtpSender && u.transceivers[l].rtpSender.setTransport(u.transceivers[0].dtlsTransport), u.transceivers[l].rtpReceiver && u.transceivers[l].rtpReceiver.setTransport(u.transceivers[0].dtlsTransport)), "offer" !== r.type || y) "answer" !== r.type || y || (E = (S = u.transceivers[l]).iceGatherer, w = S.iceTransport, C = S.dtlsTransport, k = S.rtpReceiver, P = S.sendEncodingParameters, I = S.localCapabilities, u.transceivers[l].recvEncodingParameters = A, u.transceivers[l].remoteCapabilities = R, u.transceivers[l].rtcpParameters = x, U.length && "new" === w.state && (!m && !M || g && 0 !== l ? U.forEach(function(e) {
                            s(S.iceTransport, e)
                        }) : w.setRemoteCandidates(U)), g && 0 !== l || ("new" === w.state && w.start(E, O, "controlling"), "new" === C.state && C.start(D)), !a(S.localCapabilities, S.remoteCapabilities).codecs.filter(function(e) {
                            return "rtx" === e.name.toLowerCase()
                        }).length && S.sendEncodingParameters[0].rtx && delete S.sendEncodingParameters[0].rtx, u._transceive(S, "sendrecv" === b || "recvonly" === b, "sendrecv" === b || "sendonly" === b), !k || "sendrecv" !== b && "sendonly" !== b ? delete S.rtpReceiver : (L = k.track, _ ? (d[_.stream] || (d[_.stream] = new e.MediaStream), i(L, d[_.stream]), h.push([L, k, d[_.stream]])) : (d.default || (d.default = new e.MediaStream), i(L, d.default), h.push([L, k, d.default]))));
                        else {
                            (S = u.transceivers[l] || u._createTransceiver(p)).mid = T, S.iceGatherer || (S.iceGatherer = u._createIceGatherer(l, g)), U.length && "new" === S.iceTransport.state && (!M || g && 0 !== l ? U.forEach(function(e) {
                                s(S.iceTransport, e)
                            }) : S.iceTransport.setRemoteCandidates(U)), I = e.RTCRtpReceiver.getCapabilities(p), t < 15019 && (I.codecs = I.codecs.filter(function(e) {
                                return "rtx" !== e.name
                            })), P = S.sendEncodingParameters || [{
                                ssrc: 1001 * (2 * l + 2)
                            }];
                            var N, F = !1;
                            "sendrecv" === b || "sendonly" === b ? (F = !S.rtpReceiver, k = S.rtpReceiver || new e.RTCRtpReceiver(S.dtlsTransport, p), F && (L = k.track, _ && "-" === _.stream || (_ ? (d[_.stream] || (d[_.stream] = new e.MediaStream, Object.defineProperty(d[_.stream], "id", {
                                get: function() {
                                    return _.stream
                                }
                            })), Object.defineProperty(L, "id", {
                                get: function() {
                                    return _.track
                                }
                            }), N = d[_.stream]) : (d.default || (d.default = new e.MediaStream), N = d.default)), N && (i(L, N), S.associatedRemoteMediaStreams.push(N)), h.push([L, k, N]))) : S.rtpReceiver && S.rtpReceiver.track && (S.associatedRemoteMediaStreams.forEach(function(t) {
                                var i = t.getTracks().find(function(e) {
                                    return e.id === S.rtpReceiver.track.id
                                });
                                i && function(t, i) {
                                    i.removeTrack(t), i.dispatchEvent(new e.MediaStreamTrackEvent("removetrack", {
                                        track: t
                                    }))
                                }(i, t)
                            }), S.associatedRemoteMediaStreams = []), S.localCapabilities = I, S.remoteCapabilities = R, S.rtpReceiver = k, S.rtcpParameters = x, S.sendEncodingParameters = P, S.recvEncodingParameters = A, u._transceive(u.transceivers[l], !1, F)
                        }
                    }
                }), void 0 === u._dtlsRole && (u._dtlsRole = "offer" === r.type ? "active" : "passive"), u._remoteDescription = {
                    type: r.type,
                    sdp: r.sdp
                }, u._updateSignalingState("offer" === r.type ? "have-remote-offer" : "stable"), Object.keys(d).forEach(function(t) {
                    var i = d[t];
                    if (i.getTracks().length) {
                        if (-1 === u.remoteStreams.indexOf(i)) {
                            u.remoteStreams.push(i);
                            var n = new Event("addstream");
                            n.stream = i, e.setTimeout(function() {
                                u._dispatchEvent("addstream", n)
                            })
                        }
                        h.forEach(function(e) {
                            i.id === e[2].id && c(u, e[0], e[1], [i])
                        })
                    }
                }), h.forEach(function(e) {
                    e[2] || c(u, e[0], e[1], [])
                }), e.setTimeout(function() {
                    u && u.transceivers && u.transceivers.forEach(function(e) {
                        e.iceTransport && "new" === e.iceTransport.state && e.iceTransport.getRemoteCandidates().length > 0 && (console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"), e.iceTransport.addRemoteCandidate({}))
                    })
                }, 4e3), Promise.resolve()
            }, u.prototype.close = function() {
                this.transceivers.forEach(function(e) {
                    e.iceTransport && e.iceTransport.stop(), e.dtlsTransport && e.dtlsTransport.stop(), e.rtpSender && e.rtpSender.stop(), e.rtpReceiver && e.rtpReceiver.stop()
                }), this._isClosed = !0, this._updateSignalingState("closed")
            }, u.prototype._updateSignalingState = function(e) {
                this.signalingState = e;
                var t = new Event("signalingstatechange");
                this._dispatchEvent("signalingstatechange", t)
            }, u.prototype._maybeFireNegotiationNeeded = function() {
                var t = this;
                "stable" === this.signalingState && !0 !== this.needNegotiation && (this.needNegotiation = !0, e.setTimeout(function() {
                    if (t.needNegotiation) {
                        t.needNegotiation = !1;
                        var e = new Event("negotiationneeded");
                        t._dispatchEvent("negotiationneeded", e)
                    }
                }, 0))
            }, u.prototype._updateIceConnectionState = function() {
                var e, t = {
                    new: 0,
                    closed: 0,
                    checking: 0,
                    connected: 0,
                    completed: 0,
                    disconnected: 0,
                    failed: 0
                };
                if (this.transceivers.forEach(function(e) {
                        e.iceTransport && !e.rejected && t[e.iceTransport.state]++
                    }), e = "new", t.failed > 0 ? e = "failed" : t.checking > 0 ? e = "checking" : t.disconnected > 0 ? e = "disconnected" : t.new > 0 ? e = "new" : t.connected > 0 ? e = "connected" : t.completed > 0 && (e = "completed"), e !== this.iceConnectionState) {
                    this.iceConnectionState = e;
                    var i = new Event("iceconnectionstatechange");
                    this._dispatchEvent("iceconnectionstatechange", i)
                }
            }, u.prototype._updateConnectionState = function() {
                var e, t = {
                    new: 0,
                    closed: 0,
                    connecting: 0,
                    connected: 0,
                    completed: 0,
                    disconnected: 0,
                    failed: 0
                };
                if (this.transceivers.forEach(function(e) {
                        e.iceTransport && e.dtlsTransport && !e.rejected && (t[e.iceTransport.state]++, t[e.dtlsTransport.state]++)
                    }), t.connected += t.completed, e = "new", t.failed > 0 ? e = "failed" : t.connecting > 0 ? e = "connecting" : t.disconnected > 0 ? e = "disconnected" : t.new > 0 ? e = "new" : t.connected > 0 && (e = "connected"), e !== this.connectionState) {
                    this.connectionState = e;
                    var i = new Event("connectionstatechange");
                    this._dispatchEvent("connectionstatechange", i)
                }
            }, u.prototype.createOffer = function() {
                var i = this;
                if (i._isClosed) return Promise.reject(l("InvalidStateError", "Can not call createOffer after close"));
                var a = i.transceivers.filter(function(e) {
                        return "audio" === e.kind
                    }).length,
                    o = i.transceivers.filter(function(e) {
                        return "video" === e.kind
                    }).length,
                    s = arguments[0];
                if (s) {
                    if (s.mandatory || s.optional) throw new TypeError("Legacy mandatory/optional constraints not supported.");
                    void 0 !== s.offerToReceiveAudio && (a = !0 === s.offerToReceiveAudio ? 1 : !1 === s.offerToReceiveAudio ? 0 : s.offerToReceiveAudio), void 0 !== s.offerToReceiveVideo && (o = !0 === s.offerToReceiveVideo ? 1 : !1 === s.offerToReceiveVideo ? 0 : s.offerToReceiveVideo)
                }
                for (i.transceivers.forEach(function(e) {
                        "audio" === e.kind ? --a < 0 && (e.wantReceive = !1) : "video" === e.kind && --o < 0 && (e.wantReceive = !1)
                    }); a > 0 || o > 0;) a > 0 && (i._createTransceiver("audio"), a--), o > 0 && (i._createTransceiver("video"), o--);
                var c = n.writeSessionBoilerplate(i._sdpSessionId, i._sdpSessionVersion++);
                i.transceivers.forEach(function(r, a) {
                    var o = r.track,
                        s = r.kind,
                        l = r.mid || n.generateIdentifier();
                    r.mid = l, r.iceGatherer || (r.iceGatherer = i._createIceGatherer(a, i.usingBundle));
                    var c = e.RTCRtpSender.getCapabilities(s);
                    t < 15019 && (c.codecs = c.codecs.filter(function(e) {
                        return "rtx" !== e.name
                    })), c.codecs.forEach(function(e) {
                        "H264" === e.name && void 0 === e.parameters["level-asymmetry-allowed"] && (e.parameters["level-asymmetry-allowed"] = "1"), r.remoteCapabilities && r.remoteCapabilities.codecs && r.remoteCapabilities.codecs.forEach(function(t) {
                            e.name.toLowerCase() === t.name.toLowerCase() && e.clockRate === t.clockRate && (e.preferredPayloadType = t.payloadType)
                        })
                    }), c.headerExtensions.forEach(function(e) {
                        (r.remoteCapabilities && r.remoteCapabilities.headerExtensions || []).forEach(function(t) {
                            e.uri === t.uri && (e.id = t.id)
                        })
                    });
                    var u = r.sendEncodingParameters || [{
                        ssrc: 1001 * (2 * a + 1)
                    }];
                    o && t >= 15019 && "video" === s && !u[0].rtx && (u[0].rtx = {
                        ssrc: u[0].ssrc + 1
                    }), r.wantReceive && (r.rtpReceiver = new e.RTCRtpReceiver(r.dtlsTransport, s)), r.localCapabilities = c, r.sendEncodingParameters = u
                }), "max-compat" !== i._config.bundlePolicy && (c += "a=group:BUNDLE " + i.transceivers.map(function(e) {
                    return e.mid
                }).join(" ") + "\r\n"), c += "a=ice-options:trickle\r\n", i.transceivers.forEach(function(e, t) {
                    c += r(e, e.localCapabilities, "offer", e.stream, i._dtlsRole), c += "a=rtcp-rsize\r\n", !e.iceGatherer || "new" === i.iceGatheringState || 0 !== t && i.usingBundle || (e.iceGatherer.getLocalCandidates().forEach(function(e) {
                        e.component = 1, c += "a=" + n.writeCandidate(e) + "\r\n"
                    }), "completed" === e.iceGatherer.state && (c += "a=end-of-candidates\r\n"))
                });
                var u = new e.RTCSessionDescription({
                    type: "offer",
                    sdp: c
                });
                return Promise.resolve(u)
            }, u.prototype.createAnswer = function() {
                var i = this;
                if (i._isClosed) return Promise.reject(l("InvalidStateError", "Can not call createAnswer after close"));
                if ("have-remote-offer" !== i.signalingState && "have-local-pranswer" !== i.signalingState) return Promise.reject(l("InvalidStateError", "Can not call createAnswer in signalingState " + i.signalingState));
                var o = n.writeSessionBoilerplate(i._sdpSessionId, i._sdpSessionVersion++);
                i.usingBundle && (o += "a=group:BUNDLE " + i.transceivers.map(function(e) {
                    return e.mid
                }).join(" ") + "\r\n"), o += "a=ice-options:trickle\r\n";
                var s = n.getMediaSections(i._remoteDescription.sdp).length;
                i.transceivers.forEach(function(e, n) {
                    if (!(n + 1 > s)) {
                        if (e.rejected) return "application" === e.kind ? o += "DTLS/SCTP" === e.protocol ? "m=application 0 DTLS/SCTP 5000\r\n" : "m=application 0 " + e.protocol + " webrtc-datachannel\r\n" : "audio" === e.kind ? o += "m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n" : "video" === e.kind && (o += "m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"), void(o += "c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:" + e.mid + "\r\n");
                        var l;
                        e.stream && ("audio" === e.kind ? l = e.stream.getAudioTracks()[0] : "video" === e.kind && (l = e.stream.getVideoTracks()[0]), l && t >= 15019 && "video" === e.kind && !e.sendEncodingParameters[0].rtx && (e.sendEncodingParameters[0].rtx = {
                            ssrc: e.sendEncodingParameters[0].ssrc + 1
                        }));
                        var c = a(e.localCapabilities, e.remoteCapabilities);
                        !c.codecs.filter(function(e) {
                            return "rtx" === e.name.toLowerCase()
                        }).length && e.sendEncodingParameters[0].rtx && delete e.sendEncodingParameters[0].rtx, o += r(e, c, "answer", e.stream, i._dtlsRole), e.rtcpParameters && e.rtcpParameters.reducedSize && (o += "a=rtcp-rsize\r\n")
                    }
                });
                var c = new e.RTCSessionDescription({
                    type: "answer",
                    sdp: o
                });
                return Promise.resolve(c)
            }, u.prototype.addIceCandidate = function(e) {
                var t, i = this;
                return e && void 0 === e.sdpMLineIndex && !e.sdpMid ? Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")) : new Promise(function(r, a) {
                    if (!i._remoteDescription) return a(l("InvalidStateError", "Can not add ICE candidate without a remote description"));
                    if (e && "" !== e.candidate) {
                        var o = e.sdpMLineIndex;
                        if (e.sdpMid)
                            for (var c = 0; c < i.transceivers.length; c++)
                                if (i.transceivers[c].mid === e.sdpMid) {
                                    o = c;
                                    break
                                } var u = i.transceivers[o];
                        if (!u) return a(l("OperationError", "Can not add ICE candidate"));
                        if (u.rejected) return r();
                        var d = Object.keys(e.candidate).length > 0 ? n.parseCandidate(e.candidate) : {};
                        if ("tcp" === d.protocol && (0 === d.port || 9 === d.port)) return r();
                        if (d.component && 1 !== d.component) return r();
                        if ((0 === o || o > 0 && u.iceTransport !== i.transceivers[0].iceTransport) && !s(u.iceTransport, d)) return a(l("OperationError", "Can not add ICE candidate"));
                        var h = e.candidate.trim();
                        0 === h.indexOf("a=") && (h = h.substr(2)), (t = n.getMediaSections(i._remoteDescription.sdp))[o] += "a=" + (d.type ? h : "end-of-candidates") + "\r\n", i._remoteDescription.sdp = n.getDescription(i._remoteDescription.sdp) + t.join("")
                    } else
                        for (var p = 0; p < i.transceivers.length && (i.transceivers[p].rejected || (i.transceivers[p].iceTransport.addRemoteCandidate({}), (t = n.getMediaSections(i._remoteDescription.sdp))[p] += "a=end-of-candidates\r\n", i._remoteDescription.sdp = n.getDescription(i._remoteDescription.sdp) + t.join(""), !i.usingBundle)); p++);
                    r()
                })
            }, u.prototype.getStats = function(t) {
                if (t && t instanceof e.MediaStreamTrack) {
                    var i = null;
                    if (this.transceivers.forEach(function(e) {
                            e.rtpSender && e.rtpSender.track === t ? i = e.rtpSender : e.rtpReceiver && e.rtpReceiver.track === t && (i = e.rtpReceiver)
                        }), !i) throw l("InvalidAccessError", "Invalid selector.");
                    return i.getStats()
                }
                var n = [];
                return this.transceivers.forEach(function(e) {
                    ["rtpSender", "rtpReceiver", "iceGatherer", "iceTransport", "dtlsTransport"].forEach(function(t) {
                        e[t] && n.push(e[t].getStats())
                    })
                }), Promise.all(n).then(function(e) {
                    var t = new Map;
                    return e.forEach(function(e) {
                        e.forEach(function(e) {
                            t.set(e.id, e)
                        })
                    }), t
                })
            }, ["RTCRtpSender", "RTCRtpReceiver", "RTCIceGatherer", "RTCIceTransport", "RTCDtlsTransport"].forEach(function(t) {
                var i = e[t];
                if (i && i.prototype && i.prototype.getStats) {
                    var n = i.prototype.getStats;
                    i.prototype.getStats = function() {
                        return n.apply(this).then(function(e) {
                            var t = new Map;
                            return Object.keys(e).forEach(function(i) {
                                e[i].type = function(e) {
                                    return {
                                        inboundrtp: "inbound-rtp",
                                        outboundrtp: "outbound-rtp",
                                        candidatepair: "candidate-pair",
                                        localcandidate: "local-candidate",
                                        remotecandidate: "remote-candidate"
                                    } [e.type] || e.type
                                }(e[i]), t.set(i, e[i])
                            }), t
                        })
                    }
                }
            });
            var d = ["createOffer", "createAnswer"];
            return d.forEach(function(e) {
                var t = u.prototype[e];
                u.prototype[e] = function() {
                    var e = arguments;
                    return "function" == typeof e[0] || "function" == typeof e[1] ? t.apply(this, [arguments[2]]).then(function(t) {
                        "function" == typeof e[0] && e[0].apply(null, [t])
                    }, function(t) {
                        "function" == typeof e[1] && e[1].apply(null, [t])
                    }) : t.apply(this, arguments)
                }
            }), (d = ["setLocalDescription", "setRemoteDescription", "addIceCandidate"]).forEach(function(e) {
                var t = u.prototype[e];
                u.prototype[e] = function() {
                    var e = arguments;
                    return "function" == typeof e[1] || "function" == typeof e[2] ? t.apply(this, arguments).then(function() {
                        "function" == typeof e[1] && e[1].apply(null)
                    }, function(t) {
                        "function" == typeof e[2] && e[2].apply(null, [t])
                    }) : t.apply(this, arguments)
                }
            }), ["getStats"].forEach(function(e) {
                var t = u.prototype[e];
                u.prototype[e] = function() {
                    var e = arguments;
                    return "function" == typeof e[1] ? t.apply(this, arguments).then(function() {
                        "function" == typeof e[1] && e[1].apply(null)
                    }) : t.apply(this, arguments)
                }
            }), u
        }
    }, function(e, t, i) {
        "use strict";
        i.r(t);
        var n = {};
        i.r(n), i.d(n, "shimGetUserMedia", function() {
            return v
        }), i.d(n, "shimGetDisplayMedia", function() {
            return b
        }), i.d(n, "shimMediaStream", function() {
            return T
        }), i.d(n, "shimOnTrack", function() {
            return S
        }), i.d(n, "shimGetSendersWithDtmf", function() {
            return E
        }), i.d(n, "shimSenderReceiverGetStats", function() {
            return w
        }), i.d(n, "shimAddTrackRemoveTrackWithNative", function() {
            return C
        }), i.d(n, "shimAddTrackRemoveTrack", function() {
            return k
        }), i.d(n, "shimPeerConnection", function() {
            return P
        }), i.d(n, "fixNegotiationNeeded", function() {
            return A
        });
        var r = {};
        i.r(r), i.d(r, "shimGetUserMedia", function() {
            return O
        }), i.d(r, "shimGetDisplayMedia", function() {
            return D
        }), i.d(r, "shimPeerConnection", function() {
            return R
        }), i.d(r, "shimReplaceTrack", function() {
            return x
        });
        var a = {};
        i.r(a), i.d(a, "shimGetUserMedia", function() {
            return M
        }), i.d(a, "shimGetDisplayMedia", function() {
            return U
        }), i.d(a, "shimOnTrack", function() {
            return N
        }), i.d(a, "shimPeerConnection", function() {
            return F
        }), i.d(a, "shimSenderGetStats", function() {
            return B
        }), i.d(a, "shimReceiverGetStats", function() {
            return V
        }), i.d(a, "shimRemoveStream", function() {
            return j
        }), i.d(a, "shimRTCDataChannel", function() {
            return z
        });
        var o = {};
        i.r(o), i.d(o, "shimLocalStreamsAPI", function() {
            return q
        }), i.d(o, "shimRemoteStreamsAPI", function() {
            return H
        }), i.d(o, "shimCallbacksAPI", function() {
            return G
        }), i.d(o, "shimGetUserMedia", function() {
            return W
        }), i.d(o, "shimConstraints", function() {
            return Y
        }), i.d(o, "shimRTCIceServerUrls", function() {
            return K
        }), i.d(o, "shimTrackEventTransceiver", function() {
            return X
        }), i.d(o, "shimCreateOfferLegacy", function() {
            return J
        });
        var s = {};
        i.r(s), i.d(s, "shimRTCIceCandidate", function() {
            return Z
        }), i.d(s, "shimMaxMessageSize", function() {
            return ee
        }), i.d(s, "shimSendThrowTypeError", function() {
            return te
        }), i.d(s, "shimConnectionState", function() {
            return ie
        }), i.d(s, "removeAllowExtmapMixed", function() {
            return ne
        });
        let l = !0,
            c = !0;

        function u(e, t, i) {
            const n = e.match(t);
            return n && n.length >= i && parseInt(n[i], 10)
        }

        function d(e, t, i) {
            if (!e.RTCPeerConnection) return;
            const n = e.RTCPeerConnection.prototype,
                r = n.addEventListener;
            n.addEventListener = function(e, n) {
                if (e !== t) return r.apply(this, arguments);
                const a = e => {
                    const t = i(e);
                    t && n(t)
                };
                return this._eventMap = this._eventMap || {}, this._eventMap[n] = a, r.apply(this, [e, a])
            };
            const a = n.removeEventListener;
            n.removeEventListener = function(e, i) {
                if (e !== t || !this._eventMap || !this._eventMap[i]) return a.apply(this, arguments);
                const n = this._eventMap[i];
                return delete this._eventMap[i], a.apply(this, [e, n])
            }, Object.defineProperty(n, "on" + t, {
                get() {
                    return this["_on" + t]
                },
                set(e) {
                    this["_on" + t] && (this.removeEventListener(t, this["_on" + t]), delete this["_on" + t]), e && this.addEventListener(t, this["_on" + t] = e)
                },
                enumerable: !0,
                configurable: !0
            })
        }

        function h(e) {
            return "boolean" != typeof e ? new Error("Argument type: " + typeof e + ". Please use a boolean.") : (l = e, e ? "adapter.js logging disabled" : "adapter.js logging enabled")
        }

        function p(e) {
            return "boolean" != typeof e ? new Error("Argument type: " + typeof e + ". Please use a boolean.") : (c = !e, "adapter.js deprecation warnings " + (e ? "disabled" : "enabled"))
        }

        function f() {
            if ("object" == typeof window) {
                if (l) return;
                "undefined" != typeof console && "function" == typeof console.log && console.log.apply(console, arguments)
            }
        }

        function m(e, t) {
            c && console.warn(e + " is deprecated, please use " + t + " instead.")
        }

        function g(e) {
            const {
                navigator: t
            } = e, i = {
                browser: null,
                version: null
            };
            if (void 0 === e || !e.navigator) return i.browser = "Not a browser.", i;
            if (t.mozGetUserMedia) i.browser = "firefox", i.version = u(t.userAgent, /Firefox\/(\d+)\./, 1);
            else if (t.webkitGetUserMedia) i.browser = "chrome", i.version = u(t.userAgent, /Chrom(e|ium)\/(\d+)\./, 2);
            else if (t.mediaDevices && t.userAgent.match(/Edge\/(\d+).(\d+)$/)) i.browser = "edge", i.version = u(t.userAgent, /Edge\/(\d+).(\d+)$/, 2);
            else {
                if (!e.RTCPeerConnection || !t.userAgent.match(/AppleWebKit\/(\d+)\./)) return i.browser = "Not a supported browser.", i;
                i.browser = "safari", i.version = u(t.userAgent, /AppleWebKit\/(\d+)\./, 1)
            }
            return i
        }
        const y = f;

        function v(e) {
            const t = e && e.navigator;
            if (!t.mediaDevices) return;
            const i = g(e),
                n = function(e) {
                    if ("object" != typeof e || e.mandatory || e.optional) return e;
                    const t = {};
                    return Object.keys(e).forEach(i => {
                        if ("require" === i || "advanced" === i || "mediaSource" === i) return;
                        const n = "object" == typeof e[i] ? e[i] : {
                            ideal: e[i]
                        };
                        void 0 !== n.exact && "number" == typeof n.exact && (n.min = n.max = n.exact);
                        const r = function(e, t) {
                            return e ? e + t.charAt(0).toUpperCase() + t.slice(1) : "deviceId" === t ? "sourceId" : t
                        };
                        if (void 0 !== n.ideal) {
                            t.optional = t.optional || [];
                            let e = {};
                            "number" == typeof n.ideal ? (e[r("min", i)] = n.ideal, t.optional.push(e), (e = {})[r("max", i)] = n.ideal, t.optional.push(e)) : (e[r("", i)] = n.ideal, t.optional.push(e))
                        }
                        void 0 !== n.exact && "number" != typeof n.exact ? (t.mandatory = t.mandatory || {}, t.mandatory[r("", i)] = n.exact) : ["min", "max"].forEach(e => {
                            void 0 !== n[e] && (t.mandatory = t.mandatory || {}, t.mandatory[r(e, i)] = n[e])
                        })
                    }), e.advanced && (t.optional = (t.optional || []).concat(e.advanced)), t
                },
                r = function(e, r) {
                    if (i.version >= 61) return r(e);
                    if ((e = JSON.parse(JSON.stringify(e))) && "object" == typeof e.audio) {
                        const t = function(e, t, i) {
                            t in e && !(i in e) && (e[i] = e[t], delete e[t])
                        };
                        t((e = JSON.parse(JSON.stringify(e))).audio, "autoGainControl", "googAutoGainControl"), t(e.audio, "noiseSuppression", "googNoiseSuppression"), e.audio = n(e.audio)
                    }
                    if (e && "object" == typeof e.video) {
                        let a = e.video.facingMode;
                        const o = i.version < 66;
                        if ((a = a && ("object" == typeof a ? a : {
                                ideal: a
                            })) && ("user" === a.exact || "environment" === a.exact || "user" === a.ideal || "environment" === a.ideal) && (!t.mediaDevices.getSupportedConstraints || !t.mediaDevices.getSupportedConstraints().facingMode || o)) {
                            let i;
                            if (delete e.video.facingMode, "environment" === a.exact || "environment" === a.ideal ? i = ["back", "rear"] : "user" !== a.exact && "user" !== a.ideal || (i = ["front"]), i) return t.mediaDevices.enumerateDevices().then(t => {
                                let o = (t = t.filter(e => "videoinput" === e.kind)).find(e => i.some(t => e.label.toLowerCase().includes(t)));
                                return !o && t.length && i.includes("back") && (o = t[t.length - 1]), o && (e.video.deviceId = a.exact ? {
                                    exact: o.deviceId
                                } : {
                                    ideal: o.deviceId
                                }), e.video = n(e.video), y("chrome: " + JSON.stringify(e)), r(e)
                            })
                        }
                        e.video = n(e.video)
                    }
                    return y("chrome: " + JSON.stringify(e)), r(e)
                },
                a = function(e) {
                    return i.version >= 64 ? e : {
                        name: {
                            PermissionDeniedError: "NotAllowedError",
                            PermissionDismissedError: "NotAllowedError",
                            InvalidStateError: "NotAllowedError",
                            DevicesNotFoundError: "NotFoundError",
                            ConstraintNotSatisfiedError: "OverconstrainedError",
                            TrackStartError: "NotReadableError",
                            MediaDeviceFailedDueToShutdown: "NotAllowedError",
                            MediaDeviceKillSwitchOn: "NotAllowedError",
                            TabCaptureError: "AbortError",
                            ScreenCaptureError: "AbortError",
                            DeviceCaptureError: "AbortError"
                        } [e.name] || e.name,
                        message: e.message,
                        constraint: e.constraint || e.constraintName,
                        toString() {
                            return this.name + (this.message && ": ") + this.message
                        }
                    }
                };
            t.getUserMedia = (function(e, i, n) {
                r(e, e => {
                    t.webkitGetUserMedia(e, i, e => {
                        n && n(a(e))
                    })
                })
            }).bind(t);
            const o = t.mediaDevices.getUserMedia.bind(t.mediaDevices);
            t.mediaDevices.getUserMedia = function(e) {
                return r(e, e => o(e).then(t => {
                    if (e.audio && !t.getAudioTracks().length || e.video && !t.getVideoTracks().length) throw t.getTracks().forEach(e => {
                        e.stop()
                    }), new DOMException("", "NotFoundError");
                    return t
                }, e => Promise.reject(a(e))))
            }
        }

        function b(e, t) {
            e.navigator.mediaDevices && "getDisplayMedia" in e.navigator.mediaDevices || e.navigator.mediaDevices && ("function" == typeof t ? e.navigator.mediaDevices.getDisplayMedia = function(i) {
                return t(i).then(t => {
                    const n = i.video && i.video.width,
                        r = i.video && i.video.height;
                    return i.video = {
                        mandatory: {
                            chromeMediaSource: "desktop",
                            chromeMediaSourceId: t,
                            maxFrameRate: i.video && i.video.frameRate || 3
                        }
                    }, n && (i.video.mandatory.maxWidth = n), r && (i.video.mandatory.maxHeight = r), e.navigator.mediaDevices.getUserMedia(i)
                })
            } : console.error("shimGetDisplayMedia: getSourceId argument is not a function"))
        }

        function _(e, t, i) {
            const n = i ? "outbound-rtp" : "inbound-rtp",
                r = new Map;
            if (null === t) return r;
            const a = [];
            return e.forEach(e => {
                "track" === e.type && e.trackIdentifier === t.id && a.push(e)
            }), a.forEach(t => {
                e.forEach(i => {
                    i.type === n && i.trackId === t.id && function e(t, i, n) {
                        i && !n.has(i.id) && (n.set(i.id, i), Object.keys(i).forEach(r => {
                            r.endsWith("Id") ? e(t, t.get(i[r]), n) : r.endsWith("Ids") && i[r].forEach(i => {
                                e(t, t.get(i), n)
                            })
                        }))
                    }(e, i, r)
                })
            }), r
        }

        function T(e) {
            e.MediaStream = e.MediaStream || e.webkitMediaStream
        }

        function S(e) {
            if ("object" != typeof e || !e.RTCPeerConnection || "ontrack" in e.RTCPeerConnection.prototype) d(e, "track", e => (e.transceiver || Object.defineProperty(e, "transceiver", {
                value: {
                    receiver: e.receiver
                }
            }), e));
            else {
                Object.defineProperty(e.RTCPeerConnection.prototype, "ontrack", {
                    get() {
                        return this._ontrack
                    },
                    set(e) {
                        this._ontrack && this.removeEventListener("track", this._ontrack), this.addEventListener("track", this._ontrack = e)
                    },
                    enumerable: !0,
                    configurable: !0
                });
                const t = e.RTCPeerConnection.prototype.setRemoteDescription;
                e.RTCPeerConnection.prototype.setRemoteDescription = function() {
                    return this._ontrackpoly || (this._ontrackpoly = (t => {
                        t.stream.addEventListener("addtrack", i => {
                            let n;
                            n = e.RTCPeerConnection.prototype.getReceivers ? this.getReceivers().find(e => e.track && e.track.id === i.track.id) : {
                                track: i.track
                            };
                            const r = new Event("track");
                            r.track = i.track, r.receiver = n, r.transceiver = {
                                receiver: n
                            }, r.streams = [t.stream], this.dispatchEvent(r)
                        }), t.stream.getTracks().forEach(i => {
                            let n;
                            n = e.RTCPeerConnection.prototype.getReceivers ? this.getReceivers().find(e => e.track && e.track.id === i.id) : {
                                track: i
                            };
                            const r = new Event("track");
                            r.track = i, r.receiver = n, r.transceiver = {
                                receiver: n
                            }, r.streams = [t.stream], this.dispatchEvent(r)
                        })
                    }), this.addEventListener("addstream", this._ontrackpoly)), t.apply(this, arguments)
                }
            }
        }

        function E(e) {
            if ("object" == typeof e && e.RTCPeerConnection && !("getSenders" in e.RTCPeerConnection.prototype) && "createDTMFSender" in e.RTCPeerConnection.prototype) {
                const t = function(e, t) {
                    return {
                        track: t,
                        get dtmf() {
                            return void 0 === this._dtmf && (this._dtmf = "audio" === t.kind ? e.createDTMFSender(t) : null), this._dtmf
                        },
                        _pc: e
                    }
                };
                if (!e.RTCPeerConnection.prototype.getSenders) {
                    e.RTCPeerConnection.prototype.getSenders = function() {
                        return this._senders = this._senders || [], this._senders.slice()
                    };
                    const i = e.RTCPeerConnection.prototype.addTrack;
                    e.RTCPeerConnection.prototype.addTrack = function(e, n) {
                        let r = i.apply(this, arguments);
                        return r || (r = t(this, e), this._senders.push(r)), r
                    };
                    const n = e.RTCPeerConnection.prototype.removeTrack;
                    e.RTCPeerConnection.prototype.removeTrack = function(e) {
                        n.apply(this, arguments);
                        const t = this._senders.indexOf(e); - 1 !== t && this._senders.splice(t, 1)
                    }
                }
                const i = e.RTCPeerConnection.prototype.addStream;
                e.RTCPeerConnection.prototype.addStream = function(e) {
                    this._senders = this._senders || [], i.apply(this, [e]), e.getTracks().forEach(e => {
                        this._senders.push(t(this, e))
                    })
                };
                const n = e.RTCPeerConnection.prototype.removeStream;
                e.RTCPeerConnection.prototype.removeStream = function(e) {
                    this._senders = this._senders || [], n.apply(this, [e]), e.getTracks().forEach(e => {
                        const t = this._senders.find(t => t.track === e);
                        t && this._senders.splice(this._senders.indexOf(t), 1)
                    })
                }
            } else if ("object" == typeof e && e.RTCPeerConnection && "getSenders" in e.RTCPeerConnection.prototype && "createDTMFSender" in e.RTCPeerConnection.prototype && e.RTCRtpSender && !("dtmf" in e.RTCRtpSender.prototype)) {
                const t = e.RTCPeerConnection.prototype.getSenders;
                e.RTCPeerConnection.prototype.getSenders = function() {
                    const e = t.apply(this, []);
                    return e.forEach(e => e._pc = this), e
                }, Object.defineProperty(e.RTCRtpSender.prototype, "dtmf", {
                    get() {
                        return void 0 === this._dtmf && (this._dtmf = "audio" === this.track.kind ? this._pc.createDTMFSender(this.track) : null), this._dtmf
                    }
                })
            }
        }

        function w(e) {
            if (!("object" == typeof e && e.RTCPeerConnection && e.RTCRtpSender && e.RTCRtpReceiver)) return;
            if (!("getStats" in e.RTCRtpSender.prototype)) {
                const t = e.RTCPeerConnection.prototype.getSenders;
                t && (e.RTCPeerConnection.prototype.getSenders = function() {
                    const e = t.apply(this, []);
                    return e.forEach(e => e._pc = this), e
                });
                const i = e.RTCPeerConnection.prototype.addTrack;
                i && (e.RTCPeerConnection.prototype.addTrack = function() {
                    const e = i.apply(this, arguments);
                    return e._pc = this, e
                }), e.RTCRtpSender.prototype.getStats = function() {
                    const e = this;
                    return this._pc.getStats().then(t => _(t, e.track, !0))
                }
            }
            if (!("getStats" in e.RTCRtpReceiver.prototype)) {
                const t = e.RTCPeerConnection.prototype.getReceivers;
                t && (e.RTCPeerConnection.prototype.getReceivers = function() {
                    const e = t.apply(this, []);
                    return e.forEach(e => e._pc = this), e
                }), d(e, "track", e => (e.receiver._pc = e.srcElement, e)), e.RTCRtpReceiver.prototype.getStats = function() {
                    const e = this;
                    return this._pc.getStats().then(t => _(t, e.track, !1))
                }
            }
            if (!("getStats" in e.RTCRtpSender.prototype && "getStats" in e.RTCRtpReceiver.prototype)) return;
            const t = e.RTCPeerConnection.prototype.getStats;
            e.RTCPeerConnection.prototype.getStats = function() {
                if (arguments.length > 0 && arguments[0] instanceof e.MediaStreamTrack) {
                    const e = arguments[0];
                    let t, i, n;
                    return this.getSenders().forEach(i => {
                        i.track === e && (t ? n = !0 : t = i)
                    }), this.getReceivers().forEach(t => (t.track === e && (i ? n = !0 : i = t), t.track === e)), n || t && i ? Promise.reject(new DOMException("There are more than one sender or receiver for the track.", "InvalidAccessError")) : t ? t.getStats() : i ? i.getStats() : Promise.reject(new DOMException("There is no sender or receiver for the track.", "InvalidAccessError"))
                }
                return t.apply(this, arguments)
            }
        }

        function C(e) {
            e.RTCPeerConnection.prototype.getLocalStreams = function() {
                return this._shimmedLocalStreams = this._shimmedLocalStreams || {}, Object.keys(this._shimmedLocalStreams).map(e => this._shimmedLocalStreams[e][0])
            };
            const t = e.RTCPeerConnection.prototype.addTrack;
            e.RTCPeerConnection.prototype.addTrack = function(e, i) {
                if (!i) return t.apply(this, arguments);
                this._shimmedLocalStreams = this._shimmedLocalStreams || {};
                const n = t.apply(this, arguments);
                return this._shimmedLocalStreams[i.id] ? -1 === this._shimmedLocalStreams[i.id].indexOf(n) && this._shimmedLocalStreams[i.id].push(n) : this._shimmedLocalStreams[i.id] = [i, n], n
            };
            const i = e.RTCPeerConnection.prototype.addStream;
            e.RTCPeerConnection.prototype.addStream = function(e) {
                this._shimmedLocalStreams = this._shimmedLocalStreams || {}, e.getTracks().forEach(e => {
                    if (this.getSenders().find(t => t.track === e)) throw new DOMException("Track already exists.", "InvalidAccessError")
                });
                const t = this.getSenders();
                i.apply(this, arguments);
                const n = this.getSenders().filter(e => -1 === t.indexOf(e));
                this._shimmedLocalStreams[e.id] = [e].concat(n)
            };
            const n = e.RTCPeerConnection.prototype.removeStream;
            e.RTCPeerConnection.prototype.removeStream = function(e) {
                return this._shimmedLocalStreams = this._shimmedLocalStreams || {}, delete this._shimmedLocalStreams[e.id], n.apply(this, arguments)
            };
            const r = e.RTCPeerConnection.prototype.removeTrack;
            e.RTCPeerConnection.prototype.removeTrack = function(e) {
                return this._shimmedLocalStreams = this._shimmedLocalStreams || {}, e && Object.keys(this._shimmedLocalStreams).forEach(t => {
                    const i = this._shimmedLocalStreams[t].indexOf(e); - 1 !== i && this._shimmedLocalStreams[t].splice(i, 1), 1 === this._shimmedLocalStreams[t].length && delete this._shimmedLocalStreams[t]
                }), r.apply(this, arguments)
            }
        }

        function k(e) {
            if (!e.RTCPeerConnection) return;
            const t = g(e);
            if (e.RTCPeerConnection.prototype.addTrack && t.version >= 65) return C(e);
            const i = e.RTCPeerConnection.prototype.getLocalStreams;
            e.RTCPeerConnection.prototype.getLocalStreams = function() {
                const e = i.apply(this);
                return this._reverseStreams = this._reverseStreams || {}, e.map(e => this._reverseStreams[e.id])
            };
            const n = e.RTCPeerConnection.prototype.addStream;
            e.RTCPeerConnection.prototype.addStream = function(t) {
                if (this._streams = this._streams || {}, this._reverseStreams = this._reverseStreams || {}, t.getTracks().forEach(e => {
                        if (this.getSenders().find(t => t.track === e)) throw new DOMException("Track already exists.", "InvalidAccessError")
                    }), !this._reverseStreams[t.id]) {
                    const i = new e.MediaStream(t.getTracks());
                    this._streams[t.id] = i, this._reverseStreams[i.id] = t, t = i
                }
                n.apply(this, [t])
            };
            const r = e.RTCPeerConnection.prototype.removeStream;

            function a(e, t) {
                let i = t.sdp;
                return Object.keys(e._reverseStreams || []).forEach(t => {
                    const n = e._reverseStreams[t];
                    i = i.replace(new RegExp(e._streams[n.id].id, "g"), n.id)
                }), new RTCSessionDescription({
                    type: t.type,
                    sdp: i
                })
            }
            e.RTCPeerConnection.prototype.removeStream = function(e) {
                this._streams = this._streams || {}, this._reverseStreams = this._reverseStreams || {}, r.apply(this, [this._streams[e.id] || e]), delete this._reverseStreams[this._streams[e.id] ? this._streams[e.id].id : e.id], delete this._streams[e.id]
            }, e.RTCPeerConnection.prototype.addTrack = function(t, i) {
                if ("closed" === this.signalingState) throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.", "InvalidStateError");
                const n = [].slice.call(arguments, 1);
                if (1 !== n.length || !n[0].getTracks().find(e => e === t)) throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.", "NotSupportedError");
                if (this.getSenders().find(e => e.track === t)) throw new DOMException("Track already exists.", "InvalidAccessError");
                this._streams = this._streams || {}, this._reverseStreams = this._reverseStreams || {};
                const r = this._streams[i.id];
                if (r) r.addTrack(t), Promise.resolve().then(() => {
                    this.dispatchEvent(new Event("negotiationneeded"))
                });
                else {
                    const n = new e.MediaStream([t]);
                    this._streams[i.id] = n, this._reverseStreams[n.id] = i, this.addStream(n)
                }
                return this.getSenders().find(e => e.track === t)
            }, ["createOffer", "createAnswer"].forEach(function(t) {
                const i = e.RTCPeerConnection.prototype[t];
                e.RTCPeerConnection.prototype[t] = function() {
                    const e = arguments;
                    return arguments.length && "function" == typeof arguments[0] ? i.apply(this, [t => {
                        const i = a(this, t);
                        e[0].apply(null, [i])
                    }, t => {
                        e[1] && e[1].apply(null, t)
                    }, arguments[2]]) : i.apply(this, arguments).then(e => a(this, e))
                }
            });
            const o = e.RTCPeerConnection.prototype.setLocalDescription;
            e.RTCPeerConnection.prototype.setLocalDescription = function() {
                return arguments.length && arguments[0].type ? (arguments[0] = function(e, t) {
                    let i = t.sdp;
                    return Object.keys(e._reverseStreams || []).forEach(t => {
                        const n = e._reverseStreams[t],
                            r = e._streams[n.id];
                        i = i.replace(new RegExp(n.id, "g"), r.id)
                    }), new RTCSessionDescription({
                        type: t.type,
                        sdp: i
                    })
                }(this, arguments[0]), o.apply(this, arguments)) : o.apply(this, arguments)
            };
            const s = Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype, "localDescription");
            Object.defineProperty(e.RTCPeerConnection.prototype, "localDescription", {
                get() {
                    const e = s.get.apply(this);
                    return "" === e.type ? e : a(this, e)
                }
            }), e.RTCPeerConnection.prototype.removeTrack = function(e) {
                if ("closed" === this.signalingState) throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.", "InvalidStateError");
                if (!e._pc) throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.", "TypeError");
                if (e._pc !== this) throw new DOMException("Sender was not created by this connection.", "InvalidAccessError");
                let t;
                this._streams = this._streams || {}, Object.keys(this._streams).forEach(i => {
                    this._streams[i].getTracks().find(t => e.track === t) && (t = this._streams[i])
                }), t && (1 === t.getTracks().length ? this.removeStream(this._reverseStreams[t.id]) : t.removeTrack(e.track), this.dispatchEvent(new Event("negotiationneeded")))
            }
        }

        function P(e) {
            if (!e.RTCPeerConnection && e.webkitRTCPeerConnection && (e.RTCPeerConnection = e.webkitRTCPeerConnection), !e.RTCPeerConnection) return;
            const t = e.RTCPeerConnection.prototype.getStats;
            e.RTCPeerConnection.prototype.getStats = function(e, i, n) {
                const r = arguments;
                if (arguments.length > 0 && "function" == typeof e) return t.apply(this, arguments);
                if (0 === t.length && (0 === arguments.length || "function" != typeof arguments[0])) return t.apply(this, []);
                const a = function(e) {
                        const t = {};
                        return e.result().forEach(e => {
                            const i = {
                                id: e.id,
                                timestamp: e.timestamp,
                                type: {
                                    localcandidate: "local-candidate",
                                    remotecandidate: "remote-candidate"
                                } [e.type] || e.type
                            };
                            e.names().forEach(t => {
                                i[t] = e.stat(t)
                            }), t[i.id] = i
                        }), t
                    },
                    o = function(e) {
                        return new Map(Object.keys(e).map(t => [t, e[t]]))
                    };
                return arguments.length >= 2 ? t.apply(this, [function(e) {
                    r[1](o(a(e)))
                }, arguments[0]]) : new Promise((e, i) => {
                    t.apply(this, [function(t) {
                        e(o(a(t)))
                    }, i])
                }).then(i, n)
            }, ["setLocalDescription", "setRemoteDescription", "addIceCandidate"].forEach(function(t) {
                const i = e.RTCPeerConnection.prototype[t];
                e.RTCPeerConnection.prototype[t] = function() {
                    return arguments[0] = new("addIceCandidate" === t ? e.RTCIceCandidate : e.RTCSessionDescription)(arguments[0]), i.apply(this, arguments)
                }
            });
            const i = e.RTCPeerConnection.prototype.addIceCandidate;
            e.RTCPeerConnection.prototype.addIceCandidate = function() {
                return arguments[0] ? i.apply(this, arguments) : (arguments[1] && arguments[1].apply(null), Promise.resolve())
            }
        }

        function A(e) {
            d(e, "negotiationneeded", e => {
                if ("stable" === e.target.signalingState) return e
            })
        }
        var I = i(3),
            L = i.n(I);

        function O(e) {
            const t = e && e.navigator,
                i = t.mediaDevices.getUserMedia.bind(t.mediaDevices);
            t.mediaDevices.getUserMedia = function(e) {
                return i(e).catch(e => Promise.reject(function(e) {
                    return {
                        name: {
                            PermissionDeniedError: "NotAllowedError"
                        } [e.name] || e.name,
                        message: e.message,
                        constraint: e.constraint,
                        toString() {
                            return this.name
                        }
                    }
                }(e)))
            }
        }

        function D(e) {
            "getDisplayMedia" in e.navigator && e.navigator.mediaDevices && (e.navigator.mediaDevices && "getDisplayMedia" in e.navigator.mediaDevices || (e.navigator.mediaDevices.getDisplayMedia = e.navigator.getDisplayMedia.bind(e.navigator)))
        }

        function R(e) {
            const t = g(e);
            if (e.RTCIceGatherer && (e.RTCIceCandidate || (e.RTCIceCandidate = function(e) {
                    return e
                }), e.RTCSessionDescription || (e.RTCSessionDescription = function(e) {
                    return e
                }), t.version < 15025)) {
                const t = Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype, "enabled");
                Object.defineProperty(e.MediaStreamTrack.prototype, "enabled", {
                    set(e) {
                        t.set.call(this, e);
                        const i = new Event("enabled");
                        i.enabled = e, this.dispatchEvent(i)
                    }
                })
            }!e.RTCRtpSender || "dtmf" in e.RTCRtpSender.prototype || Object.defineProperty(e.RTCRtpSender.prototype, "dtmf", {
                get() {
                    return void 0 === this._dtmf && ("audio" === this.track.kind ? this._dtmf = new e.RTCDtmfSender(this) : "video" === this.track.kind && (this._dtmf = null)), this._dtmf
                }
            }), e.RTCDtmfSender && !e.RTCDTMFSender && (e.RTCDTMFSender = e.RTCDtmfSender);
            const i = L()(e, t.version);
            e.RTCPeerConnection = function(e) {
                return e && e.iceServers && (e.iceServers = function(e, t) {
                    let i = !1;
                    return (e = JSON.parse(JSON.stringify(e))).filter(e => {
                        if (e && (e.urls || e.url)) {
                            var t = e.urls || e.url;
                            e.url && !e.urls && m("RTCIceServer.url", "RTCIceServer.urls");
                            const n = "string" == typeof t;
                            return n && (t = [t]), t = t.filter(e => {
                                if (0 === e.indexOf("stun:")) return !1;
                                const t = e.startsWith("turn") && !e.startsWith("turn:[") && e.includes("transport=udp");
                                return t && !i ? (i = !0, !0) : t && !i
                            }), delete e.url, e.urls = n ? t[0] : t, !!t.length
                        }
                    })
                }(e.iceServers), f("ICE servers after filtering:", e.iceServers)), new i(e)
            }, e.RTCPeerConnection.prototype = i.prototype
        }

        function x(e) {
            !e.RTCRtpSender || "replaceTrack" in e.RTCRtpSender.prototype || (e.RTCRtpSender.prototype.replaceTrack = e.RTCRtpSender.prototype.setTrack)
        }

        function M(e) {
            const t = g(e),
                i = e && e.navigator,
                n = e && e.MediaStreamTrack;
            if (i.getUserMedia = function(e, t, n) {
                    m("navigator.getUserMedia", "navigator.mediaDevices.getUserMedia"), i.mediaDevices.getUserMedia(e).then(t, n)
                }, !(t.version > 55 && "autoGainControl" in i.mediaDevices.getSupportedConstraints())) {
                const e = function(e, t, i) {
                        t in e && !(i in e) && (e[i] = e[t], delete e[t])
                    },
                    t = i.mediaDevices.getUserMedia.bind(i.mediaDevices);
                if (i.mediaDevices.getUserMedia = function(i) {
                        return "object" == typeof i && "object" == typeof i.audio && (i = JSON.parse(JSON.stringify(i)), e(i.audio, "autoGainControl", "mozAutoGainControl"), e(i.audio, "noiseSuppression", "mozNoiseSuppression")), t(i)
                    }, n && n.prototype.getSettings) {
                    const t = n.prototype.getSettings;
                    n.prototype.getSettings = function() {
                        const i = t.apply(this, arguments);
                        return e(i, "mozAutoGainControl", "autoGainControl"), e(i, "mozNoiseSuppression", "noiseSuppression"), i
                    }
                }
                if (n && n.prototype.applyConstraints) {
                    const t = n.prototype.applyConstraints;
                    n.prototype.applyConstraints = function(i) {
                        return "audio" === this.kind && "object" == typeof i && (i = JSON.parse(JSON.stringify(i)), e(i, "autoGainControl", "mozAutoGainControl"), e(i, "noiseSuppression", "mozNoiseSuppression")), t.apply(this, [i])
                    }
                }
            }
        }

        function U(e, t) {
            e.navigator.mediaDevices && "getDisplayMedia" in e.navigator.mediaDevices || e.navigator.mediaDevices && (e.navigator.mediaDevices.getDisplayMedia = function(i) {
                if (!i || !i.video) {
                    const e = new DOMException("getDisplayMedia without video constraints is undefined");
                    return e.name = "NotFoundError", e.code = 8, Promise.reject(e)
                }
                return !0 === i.video ? i.video = {
                    mediaSource: t
                } : i.video.mediaSource = t, e.navigator.mediaDevices.getUserMedia(i)
            })
        }

        function N(e) {
            "object" == typeof e && e.RTCTrackEvent && "receiver" in e.RTCTrackEvent.prototype && !("transceiver" in e.RTCTrackEvent.prototype) && Object.defineProperty(e.RTCTrackEvent.prototype, "transceiver", {
                get() {
                    return {
                        receiver: this.receiver
                    }
                }
            })
        }

        function F(e) {
            const t = g(e);
            if ("object" != typeof e || !e.RTCPeerConnection && !e.mozRTCPeerConnection) return;
            !e.RTCPeerConnection && e.mozRTCPeerConnection && (e.RTCPeerConnection = e.mozRTCPeerConnection), ["setLocalDescription", "setRemoteDescription", "addIceCandidate"].forEach(function(t) {
                const i = e.RTCPeerConnection.prototype[t];
                e.RTCPeerConnection.prototype[t] = function() {
                    return arguments[0] = new("addIceCandidate" === t ? e.RTCIceCandidate : e.RTCSessionDescription)(arguments[0]), i.apply(this, arguments)
                }
            });
            const i = e.RTCPeerConnection.prototype.addIceCandidate;
            e.RTCPeerConnection.prototype.addIceCandidate = function() {
                return arguments[0] ? i.apply(this, arguments) : (arguments[1] && arguments[1].apply(null), Promise.resolve())
            };
            const n = {
                    inboundrtp: "inbound-rtp",
                    outboundrtp: "outbound-rtp",
                    candidatepair: "candidate-pair",
                    localcandidate: "local-candidate",
                    remotecandidate: "remote-candidate"
                },
                r = e.RTCPeerConnection.prototype.getStats;
            e.RTCPeerConnection.prototype.getStats = function(e, i, a) {
                return r.apply(this, [e || null]).then(e => {
                    if (t.version < 53 && !i) try {
                        e.forEach(e => {
                            e.type = n[e.type] || e.type
                        })
                    } catch (t) {
                        if ("TypeError" !== t.name) throw t;
                        e.forEach((t, i) => {
                            e.set(i, Object.assign({}, t, {
                                type: n[t.type] || t.type
                            }))
                        })
                    }
                    return e
                }).then(i, a)
            }
        }

        function B(e) {
            if ("object" != typeof e || !e.RTCPeerConnection || !e.RTCRtpSender) return;
            if (e.RTCRtpSender && "getStats" in e.RTCRtpSender.prototype) return;
            const t = e.RTCPeerConnection.prototype.getSenders;
            t && (e.RTCPeerConnection.prototype.getSenders = function() {
                const e = t.apply(this, []);
                return e.forEach(e => e._pc = this), e
            });
            const i = e.RTCPeerConnection.prototype.addTrack;
            i && (e.RTCPeerConnection.prototype.addTrack = function() {
                const e = i.apply(this, arguments);
                return e._pc = this, e
            }), e.RTCRtpSender.prototype.getStats = function() {
                return this.track ? this._pc.getStats(this.track) : Promise.resolve(new Map)
            }
        }

        function V(e) {
            if ("object" != typeof e || !e.RTCPeerConnection || !e.RTCRtpSender) return;
            if (e.RTCRtpSender && "getStats" in e.RTCRtpReceiver.prototype) return;
            const t = e.RTCPeerConnection.prototype.getReceivers;
            t && (e.RTCPeerConnection.prototype.getReceivers = function() {
                const e = t.apply(this, []);
                return e.forEach(e => e._pc = this), e
            }), d(e, "track", e => (e.receiver._pc = e.srcElement, e)), e.RTCRtpReceiver.prototype.getStats = function() {
                return this._pc.getStats(this.track)
            }
        }

        function j(e) {
            !e.RTCPeerConnection || "removeStream" in e.RTCPeerConnection.prototype || (e.RTCPeerConnection.prototype.removeStream = function(e) {
                m("removeStream", "removeTrack"), this.getSenders().forEach(t => {
                    t.track && e.getTracks().includes(t.track) && this.removeTrack(t)
                })
            })
        }

        function z(e) {
            e.DataChannel && !e.RTCDataChannel && (e.RTCDataChannel = e.DataChannel)
        }

        function q(e) {
            if ("object" == typeof e && e.RTCPeerConnection) {
                if ("getLocalStreams" in e.RTCPeerConnection.prototype || (e.RTCPeerConnection.prototype.getLocalStreams = function() {
                        return this._localStreams || (this._localStreams = []), this._localStreams
                    }), !("addStream" in e.RTCPeerConnection.prototype)) {
                    const t = e.RTCPeerConnection.prototype.addTrack;
                    e.RTCPeerConnection.prototype.addStream = function(e) {
                        this._localStreams || (this._localStreams = []), this._localStreams.includes(e) || this._localStreams.push(e), e.getTracks().forEach(i => t.call(this, i, e))
                    }, e.RTCPeerConnection.prototype.addTrack = function(e, i) {
                        return i && (this._localStreams ? this._localStreams.includes(i) || this._localStreams.push(i) : this._localStreams = [i]), t.call(this, e, i)
                    }
                }
                "removeStream" in e.RTCPeerConnection.prototype || (e.RTCPeerConnection.prototype.removeStream = function(e) {
                    this._localStreams || (this._localStreams = []);
                    const t = this._localStreams.indexOf(e);
                    if (-1 === t) return;
                    this._localStreams.splice(t, 1);
                    const i = e.getTracks();
                    this.getSenders().forEach(e => {
                        i.includes(e.track) && this.removeTrack(e)
                    })
                })
            }
        }

        function H(e) {
            if ("object" == typeof e && e.RTCPeerConnection && ("getRemoteStreams" in e.RTCPeerConnection.prototype || (e.RTCPeerConnection.prototype.getRemoteStreams = function() {
                    return this._remoteStreams ? this._remoteStreams : []
                }), !("onaddstream" in e.RTCPeerConnection.prototype))) {
                Object.defineProperty(e.RTCPeerConnection.prototype, "onaddstream", {
                    get() {
                        return this._onaddstream
                    },
                    set(e) {
                        this._onaddstream && (this.removeEventListener("addstream", this._onaddstream), this.removeEventListener("track", this._onaddstreampoly)), this.addEventListener("addstream", this._onaddstream = e), this.addEventListener("track", this._onaddstreampoly = (e => {
                            e.streams.forEach(e => {
                                if (this._remoteStreams || (this._remoteStreams = []), this._remoteStreams.includes(e)) return;
                                this._remoteStreams.push(e);
                                const t = new Event("addstream");
                                t.stream = e, this.dispatchEvent(t)
                            })
                        }))
                    }
                });
                const t = e.RTCPeerConnection.prototype.setRemoteDescription;
                e.RTCPeerConnection.prototype.setRemoteDescription = function() {
                    const e = this;
                    return this._onaddstreampoly || this.addEventListener("track", this._onaddstreampoly = function(t) {
                        t.streams.forEach(t => {
                            if (e._remoteStreams || (e._remoteStreams = []), e._remoteStreams.indexOf(t) >= 0) return;
                            e._remoteStreams.push(t);
                            const i = new Event("addstream");
                            i.stream = t, e.dispatchEvent(i)
                        })
                    }), t.apply(e, arguments)
                }
            }
        }

        function G(e) {
            if ("object" != typeof e || !e.RTCPeerConnection) return;
            const t = e.RTCPeerConnection.prototype,
                i = t.createOffer,
                n = t.createAnswer,
                r = t.setLocalDescription,
                a = t.setRemoteDescription,
                o = t.addIceCandidate;
            t.createOffer = function(e, t) {
                const n = i.apply(this, [arguments.length >= 2 ? arguments[2] : arguments[0]]);
                return t ? (n.then(e, t), Promise.resolve()) : n
            }, t.createAnswer = function(e, t) {
                const i = n.apply(this, [arguments.length >= 2 ? arguments[2] : arguments[0]]);
                return t ? (i.then(e, t), Promise.resolve()) : i
            };
            let s = function(e, t, i) {
                const n = r.apply(this, [e]);
                return i ? (n.then(t, i), Promise.resolve()) : n
            };
            t.setLocalDescription = s, t.setRemoteDescription = s = function(e, t, i) {
                const n = a.apply(this, [e]);
                return i ? (n.then(t, i), Promise.resolve()) : n
            }, t.addIceCandidate = s = function(e, t, i) {
                const n = o.apply(this, [e]);
                return i ? (n.then(t, i), Promise.resolve()) : n
            }
        }

        function W(e) {
            const t = e && e.navigator;
            if (t.mediaDevices && t.mediaDevices.getUserMedia) {
                const e = t.mediaDevices,
                    i = e.getUserMedia.bind(e);
                t.mediaDevices.getUserMedia = (e => i(Y(e)))
            }!t.getUserMedia && t.mediaDevices && t.mediaDevices.getUserMedia && (t.getUserMedia = (function(e, i, n) {
                t.mediaDevices.getUserMedia(e).then(i, n)
            }).bind(t))
        }

        function Y(e) {
            return e && void 0 !== e.video ? Object.assign({}, e, {
                video: function e(t) {
                    return "object" != typeof t ? t : Object.keys(t).reduce(function(i, n) {
                        const r = "object" == typeof t[n],
                            a = r ? e(t[n]) : t[n],
                            o = r && !Object.keys(a).length;
                        return void 0 === a || o ? i : Object.assign(i, {
                            [n]: a
                        })
                    }, {})
                }(e.video)
            }) : e
        }

        function K(e) {
            const t = e.RTCPeerConnection;
            e.RTCPeerConnection = function(e, i) {
                if (e && e.iceServers) {
                    const t = [];
                    for (let i = 0; i < e.iceServers.length; i++) {
                        let n = e.iceServers[i];
                        !n.hasOwnProperty("urls") && n.hasOwnProperty("url") ? (m("RTCIceServer.url", "RTCIceServer.urls"), (n = JSON.parse(JSON.stringify(n))).urls = n.url, delete n.url, t.push(n)) : t.push(e.iceServers[i])
                    }
                    e.iceServers = t
                }
                return new t(e, i)
            }, e.RTCPeerConnection.prototype = t.prototype, "generateCertificate" in e.RTCPeerConnection && Object.defineProperty(e.RTCPeerConnection, "generateCertificate", {
                get: () => t.generateCertificate
            })
        }

        function X(e) {
            "object" == typeof e && e.RTCPeerConnection && "receiver" in e.RTCTrackEvent.prototype && !e.RTCTransceiver && Object.defineProperty(e.RTCTrackEvent.prototype, "transceiver", {
                get() {
                    return {
                        receiver: this.receiver
                    }
                }
            })
        }

        function J(e) {
            const t = e.RTCPeerConnection.prototype.createOffer;
            e.RTCPeerConnection.prototype.createOffer = function(e) {
                if (e) {
                    void 0 !== e.offerToReceiveAudio && (e.offerToReceiveAudio = !!e.offerToReceiveAudio);
                    const t = this.getTransceivers().find(e => e.sender.track && "audio" === e.sender.track.kind);
                    !1 === e.offerToReceiveAudio && t ? "sendrecv" === t.direction ? t.setDirection ? t.setDirection("sendonly") : t.direction = "sendonly" : "recvonly" === t.direction && (t.setDirection ? t.setDirection("inactive") : t.direction = "inactive") : !0 !== e.offerToReceiveAudio || t || this.addTransceiver("audio"), void 0 !== e.offerToReceiveVideo && (e.offerToReceiveVideo = !!e.offerToReceiveVideo);
                    const i = this.getTransceivers().find(e => e.sender.track && "video" === e.sender.track.kind);
                    !1 === e.offerToReceiveVideo && i ? "sendrecv" === i.direction ? i.setDirection ? i.setDirection("sendonly") : i.direction = "sendonly" : "recvonly" === i.direction && (i.setDirection ? i.setDirection("inactive") : i.direction = "inactive") : !0 !== e.offerToReceiveVideo || i || this.addTransceiver("video")
                }
                return t.apply(this, arguments)
            }
        }
        var $ = i(0),
            Q = i.n($);

        function Z(e) {
            if (!e.RTCIceCandidate || e.RTCIceCandidate && "foundation" in e.RTCIceCandidate.prototype) return;
            const t = e.RTCIceCandidate;
            e.RTCIceCandidate = function(e) {
                if ("object" == typeof e && e.candidate && 0 === e.candidate.indexOf("a=") && ((e = JSON.parse(JSON.stringify(e))).candidate = e.candidate.substr(2)), e.candidate && e.candidate.length) {
                    const i = new t(e),
                        n = Q.a.parseCandidate(e.candidate),
                        r = Object.assign(i, n);
                    return r.toJSON = function() {
                        return {
                            candidate: r.candidate,
                            sdpMid: r.sdpMid,
                            sdpMLineIndex: r.sdpMLineIndex,
                            usernameFragment: r.usernameFragment
                        }
                    }, r
                }
                return new t(e)
            }, e.RTCIceCandidate.prototype = t.prototype, d(e, "icecandidate", t => (t.candidate && Object.defineProperty(t, "candidate", {
                value: new e.RTCIceCandidate(t.candidate),
                writable: "false"
            }), t))
        }

        function ee(e) {
            if (e.RTCSctpTransport || !e.RTCPeerConnection) return;
            const t = g(e);
            "sctp" in e.RTCPeerConnection.prototype || Object.defineProperty(e.RTCPeerConnection.prototype, "sctp", {
                get() {
                    return void 0 === this._sctp ? null : this._sctp
                }
            });
            const i = e.RTCPeerConnection.prototype.setRemoteDescription;
            e.RTCPeerConnection.prototype.setRemoteDescription = function() {
                if (this._sctp = null, function(e) {
                        const t = Q.a.splitSections(e.sdp);
                        return t.shift(), t.some(e => {
                            const t = Q.a.parseMLine(e);
                            return t && "application" === t.kind && -1 !== t.protocol.indexOf("SCTP")
                        })
                    }(arguments[0])) {
                    const e = function(e) {
                            const t = e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);
                            if (null === t || t.length < 2) return -1;
                            const i = parseInt(t[1], 10);
                            return i != i ? -1 : i
                        }(arguments[0]),
                        i = function(e) {
                            let i = 65536;
                            return "firefox" === t.browser && (i = t.version < 57 ? -1 === e ? 16384 : 2147483637 : t.version < 60 ? 57 === t.version ? 65535 : 65536 : 2147483637), i
                        }(e),
                        n = function(e, i) {
                            let n = 65536;
                            "firefox" === t.browser && 57 === t.version && (n = 65535);
                            const r = Q.a.matchPrefix(e.sdp, "a=max-message-size:");
                            return r.length > 0 ? n = parseInt(r[0].substr(19), 10) : "firefox" === t.browser && -1 !== i && (n = 2147483637), n
                        }(arguments[0], e);
                    let r;
                    r = 0 === i && 0 === n ? Number.POSITIVE_INFINITY : 0 === i || 0 === n ? Math.max(i, n) : Math.min(i, n);
                    const a = {};
                    Object.defineProperty(a, "maxMessageSize", {
                        get: () => r
                    }), this._sctp = a
                }
                return i.apply(this, arguments)
            }
        }

        function te(e) {
            if (!(e.RTCPeerConnection && "createDataChannel" in e.RTCPeerConnection.prototype)) return;

            function t(e, t) {
                const i = e.send;
                e.send = function() {
                    const n = arguments[0];
                    if ("open" === e.readyState && t.sctp && (n.length || n.size || n.byteLength) > t.sctp.maxMessageSize) throw new TypeError("Message too large (can send a maximum of " + t.sctp.maxMessageSize + " bytes)");
                    return i.apply(e, arguments)
                }
            }
            const i = e.RTCPeerConnection.prototype.createDataChannel;
            e.RTCPeerConnection.prototype.createDataChannel = function() {
                const e = i.apply(this, arguments);
                return t(e, this), e
            }, d(e, "datachannel", e => (t(e.channel, e.target), e))
        }

        function ie(e) {
            if (!e.RTCPeerConnection || "connectionState" in e.RTCPeerConnection.prototype) return;
            const t = e.RTCPeerConnection.prototype;
            Object.defineProperty(t, "connectionState", {
                get() {
                    return {
                        completed: "connected",
                        checking: "connecting"
                    } [this.iceConnectionState] || this.iceConnectionState
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(t, "onconnectionstatechange", {
                get() {
                    return this._onconnectionstatechange || null
                },
                set(e) {
                    this._onconnectionstatechange && (this.removeEventListener("connectionstatechange", this._onconnectionstatechange), delete this._onconnectionstatechange), e && this.addEventListener("connectionstatechange", this._onconnectionstatechange = e)
                },
                enumerable: !0,
                configurable: !0
            }), ["setLocalDescription", "setRemoteDescription"].forEach(e => {
                const i = t[e];
                t[e] = function() {
                    return this._connectionstatechangepoly || (this._connectionstatechangepoly = (e => {
                        const t = e.target;
                        if (t._lastConnectionState !== t.connectionState) {
                            t._lastConnectionState = t.connectionState;
                            const i = new Event("connectionstatechange", e);
                            t.dispatchEvent(i)
                        }
                        return e
                    }), this.addEventListener("iceconnectionstatechange", this._connectionstatechangepoly)), i.apply(this, arguments)
                }
            })
        }

        function ne(e) {
            if (!e.RTCPeerConnection) return;
            const t = g(e);
            if ("chrome" === t.browser && t.version >= 71) return;
            const i = e.RTCPeerConnection.prototype.setRemoteDescription;
            e.RTCPeerConnection.prototype.setRemoteDescription = function(e) {
                return e && e.sdp && -1 !== e.sdp.indexOf("\na=extmap-allow-mixed") && (e.sdp = e.sdp.split("\n").filter(e => "a=extmap-allow-mixed" !== e.trim()).join("\n")), i.apply(this, arguments)
            }
        }
        const re = function({
            window: e
        } = {}, t = {
            shimChrome: !0,
            shimFirefox: !0,
            shimEdge: !0,
            shimSafari: !0
        }) {
            const i = f,
                l = g(e),
                c = {
                    browserDetails: l,
                    commonShim: s,
                    extractVersion: u,
                    disableLog: h,
                    disableWarnings: p
                };
            switch (l.browser) {
                case "chrome":
                    if (!n || !P || !t.shimChrome) return i("Chrome shim is not included in this adapter release."), c;
                    i("adapter.js shimming chrome."), c.browserShim = n, v(e), T(e), P(e), S(e), k(e), E(e), w(e), A(e), Z(e), ie(e), ee(e), te(e), ne(e);
                    break;
                case "firefox":
                    if (!a || !F || !t.shimFirefox) return i("Firefox shim is not included in this adapter release."), c;
                    i("adapter.js shimming firefox."), c.browserShim = a, M(e), F(e), N(e), j(e), B(e), V(e), z(e), Z(e), ie(e), ee(e), te(e);
                    break;
                case "edge":
                    if (!r || !R || !t.shimEdge) return i("MS edge shim is not included in this adapter release."), c;
                    i("adapter.js shimming edge."), c.browserShim = r, O(e), D(e), R(e), x(e), ee(e), te(e);
                    break;
                case "safari":
                    if (!o || !t.shimSafari) return i("Safari shim is not included in this adapter release."), c;
                    i("adapter.js shimming safari."), c.browserShim = o, K(e), J(e), G(e), q(e), H(e), X(e), W(e), Z(e), ee(e), te(e), ne(e);
                    break;
                default:
                    i("Unsupported browser!")
            }
            return c
        }({
            window: window
        });
        t.default = re
    }, function(e, t) {
        e.exports = function() {
            let e = null,
                t = null,
                i = null,
                n = !1,
                r = null;
            const a = {};
            let o = "";
            const s = "[PeerConnectionModule]";
            let l = !0,
                c = null;
            const u = [];
            let d = null,
                h = [],
                p = !1;
            a.init = ((i, n) => ((t = n.Logger).debug(s, "Initializing..."), new Promise((n, a) => {
                e ? a("Peer Connection Exists") : m(i.handler) ? (t.debug(s, `Creating a new PeerConnection using [${i.peerConnectionConfig.sdpSemantics}] semantics`), p = "unified-plan" === i.peerConnectionConfig.sdpSemantics, (e = new RTCPeerConnection(i.peerConnectionConfig, i.peerConnectionOptions)).onicecandidate = i.handler.onIceCandidate, e.ontrack = S, e.onremovestream = i.handler.onRemoteStreamLost, e.onnegotiationneeded = T, e.onsignalingstatechange = y, e.oniceconnectionstatechange = b, c = setInterval(f, 1e3)) : a("Invalid Handler"), r = i.handler, n()
            }))), a.dispose = ((n, a) => new Promise((n, a) => {
                e && (t.debug(s, "Closing connection"), e.close(), e = null, t = null, i = null, r = null, h = [], o = "", l = !0, d = null, c && (clearInterval(c), c = null)), n()
            }));
            let f = () => {
                e && r.getRemoteStreams().length && a.getStats().then(e => {
                    if (e) {
                        var t, i = {
                            timestamp: (new Date).getTime(),
                            localStreams: {},
                            remoteStreams: {},
                            connectionType: ""
                        };
                        e.result().forEach(e => {
                            let n = {},
                                r = !1;
                            if (n.trackId = e.stat("googTrackId"), "googComponent" == e.type && e.stat("selectedCandidatePairId")) t = e.stat("selectedCandidatePairId");
                            else if ("ssrc" == e.type) {
                                if ("audio" == e.stat("mediaType") ? (e.stat("packetsSent") && (r = !0), n.type = "audio", n.audioLevel = e.stat("audioOutputLevel"), n.codec = e.stat("googCodecName"), e.stat("googResidualEchoLikelihoodRecentMax") && (n.echo = e.stat("googResidualEchoLikelihoodRecentMax"))) : "video" == e.stat("mediaType") && (n.packetsTotal = 0, n.bytesTotal = 0, n.resolution = "", n.display = !1, n.type = "video", e.stat("packetsSent") && (r = !0), n.codec = e.stat("googCodecName"), n.packetsLost = Number(e.stat("packetsLost")), r ? (n.packetsTotal = n.packetsLost + Number(e.stat("packetsSent")), n.bytesTotal = Number(e.stat("bytesSent")), n.frameRate = e.stat("googFrameRateSent"), n.resolution = e.stat("googFrameWidthSent") + "x" + e.stat("googFrameHeightSent"), n.display = e.stat("googFrameWidthSent") > 0) : (n.packetsTotal = n.packetsLost + Number(e.stat("packetsReceived")), n.bytesTotal = Number(e.stat("bytesReceived")), n.frameRate = e.stat("googFrameRateReceived"), n.resolution = e.stat("googFrameWidthReceived") + "x" + e.stat("googFrameHeightReceived"), n.display = e.stat("googFrameWidthReceived") > 0)), n.streamId = v(n.trackId, "video" === n.type), d) {
                                    let e = i.timestamp - d.timestamp,
                                        t = null;
                                    r && d.localStreams[n.streamId] ? t = d.localStreams[n.streamId][n.type] : !r && d.remoteStreams[n.streamId] && (t = d.remoteStreams[n.streamId][n.type]), t && (n.lastTotalPackets = n.packetsTotal - t.packetsTotal, n.lastLostPackets = n.packetsLost - t.packetsLost, n.lastTotalBytes = n.bytesTotal - t.bytesTotal, n.packetLossPct = 0, n.lastLostPackets > 0 && n.lastTotalPackets > 0 && (n.packetLossPct = Math.round(100 * n.lastLostPackets / n.lastTotalPackets), n.packetLossPct > 100 && (n.packetLossPct = 100)), n.millisecFromLastCheck = e, n.bitRate = Math.round(8 * n.lastTotalBytes / e))
                                }
                                n.type && n.streamId && (n.bitRate = n.bitRate || "<N/A>", r ? (i.localStreams[n.streamId] || (i.localStreams[n.streamId] = {}), i.localStreams[n.streamId][n.type] = n) : (i.remoteStreams[n.streamId] || (i.remoteStreams[n.streamId] = {}), i.remoteStreams[n.streamId][n.type] = n))
                            }
                        });
                        var n = e[t];
                        i.connectionType = n ? n.stat("googLocalCandidateType") : "N/A", d = i, r.getRemoteStreams().forEach(e => {
                            let t = i.remoteStreams[e.id];
                            if (t) {
                                let i = Boolean(t.video),
                                    n = Boolean(t.audio),
                                    a = !1,
                                    o = !1;
                                n && (o = Number(t.audio.audioLevel) > 0), i && (a = Number(t.video.frameRate) > 0), r.onRemoteStreamStats({
                                    hasAudioTrack: n,
                                    hasVideoTrack: i,
                                    isReceivingAudio: o,
                                    isReceivingVideo: a,
                                    streamId: e.id
                                })
                            }
                        })
                    }
                }).catch(e => {
                    t.error(s, "Failed to fetch statistics", e)
                })
            };
            a.setRemoteICE = (async i => {
                if (!e) return;
                const n = new RTCIceCandidate(i);
                try {
                    await e.addIceCandidate(i), t.debug(s, "ICE added Successfully")
                } catch (e) {
                    t.debug(s, `Failed to add ICE ${n}. Will add it to queue`), u.push(n)
                }
                return !0
            }), a.addStream = (i => {
                t.debug(s, "Adding stream", i.id, "To PeerConnection"), i.senders = [], p ? [...i.getAudioTracks(), ...i.getVideoTracks()].forEach(t => {
                    const n = e.addTransceiver(t, {
                        streams: [i]
                    });
                    i.senders.push(n.sender)
                }) : e.addStream(i), h.push(i)
            }), a.removeStreams = (i => {
                i && Array.isArray(i) && e && i.forEach(i => {
                    p ? ([...i.senders].forEach(t => {
                        e.removeTrack(t)
                    }), i.senders = []) : e.removeStream(i), h = h.filter(e => e.id === i.id), t.debug(s, "Removed Stream with id:", i.id)
                })
            }), a.getStats = (() => {
                const i = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);
                return new Promise((n, r) => {
                    e ? i ? e.getStats(e => {
                        n(e)
                    }, null, function() {}) : n(null) : (t.debug(s, "No PeerConnection"), r && r())
                })
            }), a.getStatistics = (() => new Promise((e, t) => {
                d ? e(d) : t(Error("Stats are not yet calculated"))
            })), a.onRemoteDescription = (n => {
                e && (o = n.sdp, t.debug(s, "received remote description type=" + n.type), "answer" != n.type ? (i && (t.debug(s, "Remote offer received, but have saved local offer, dropping saved offer"), i = null), C(n)) : null == i ? t.error(s, "Error, received remote answer, but no saved local offer") : (t.debug(s, "Setting saved local offer before received answer"), e.setLocalDescription(i).then(() => {
                    i = null, t.debug(s, "Done setting saved local offer, setting remote answer"), C(n)
                }).catch(P)))
            }), a.restartICE = (() => {
                _()
            });
            let m = e => !!(e && k(e.onIceCandidate) && k(e.onRemoteStream) && k(e.onRemoteStreamLost) && k(e.onLocalDescription) && k(e.onIceDisconnected) && k(e.onSdpError) && k(e.onIceReconnected) && k(e.onRemoteStreamStats) && k(e.onIceError)),
                g = async () => {
                    t.debug(s, `Adding #${u.length} ICE candidates to PC`);
                    for (let i = 0; i < u.length; i++) {
                        const n = u[i];
                        try {
                            await e.addIceCandidate(n)
                        } catch (e) {
                            t.debug(s, `Failed to set ICE candidate - Will not try again. CRITICAL: ${e.message}`), r.onIceError(e)
                        }
                    }
                    u.splice(0, u.length)
                }, y = i => {
                    e && (t.debug(s, "signalingStateChange, signaling state", e.signalingState), "stable" === e.signalingState && !0 === n && (t.debug(s, "signalingStateChange, creating offer"), n = !1, e.createOffer().then(w).catch(P)))
                }, v = (e, t) => {
                    let i = r.getRemoteStreams().filter(i => {
                        let n = [];
                        if ((n = t ? i.getVideoTracks().filter(t => e === t.id) : i.getAudioTracks().filter(t => e === t.id)).length > 0) return !0
                    });
                    return i.length <= 0 && (i = h.filter(i => {
                        let n = [];
                        if ((n = t ? i.getVideoTracks().filter(t => e === t.id) : i.getAudioTracks().filter(t => e === t.id)).length > 0) return !0
                    })), i.length > 0 ? i[0].id : null
                }, b = i => {
                    e && (t.debug(s, `ICE Connection state changed to ${e.iceConnectionState}. Browser connection onLine ${navigator.onLine}`), "disconnected" === e.iceConnectionState || "closed" === e.iceConnectionState ? (t.debug(s, "ICE connection state:", e.iceConnectionState, "Restarting ICE..."), r.onIceDisconnected(e.iceConnectionState, !0)) : "connected" === e.iceConnectionState ? (l || r.onIceReconnected(e.iceConnectionState), l = !1) : "failed" === e.iceConnectionState && r.onIceDisconnected(e.iceConnectionState, !1))
                }, _ = () => {
                    t.debug(s, `_restartIce| ICE SignalingState: ${e.signalingState}, ICEState: ${e.iceConnectionState}`), "stable" !== e.signalingState || i || (t.debug(s, "Restarting ICE, calling createOffer with iceRestart"), e.createOffer({
                        iceRestart: !0
                    }).then(w).catch(P))
                }, T = r => {
                    t.debug(s, "negotiationNeeded, signaling state=" + e.signalingState + " savedLocalOffer=" + i), i || "stable" !== e.signalingState ? (t.debug(s, "negotiationNeeded, already ongoing, postpone until stable"), n = !0) : (t.debug(s, "negotiationNeeded, calling createOffer"), e.createOffer().then(w).catch(P))
                }, S = e => {
                    let t = e.streams[0];
                    if (t.streamId = t.id, p) {
                        const i = E(e);
                        t.streamId = i
                    }
                    t.onremovetrack = (e => {
                        r.onRemoteStreamLost(t)
                    }), r.onRemoteStream(t)
                }, E = e => {
                    const i = e.transceiver.mid,
                        n = o.indexOf(`a=mid:${i}`),
                        r = o.indexOf("a=msid:", n) + "a=msid:".length,
                        a = o.indexOf(" ", r),
                        l = o.substr(r, a - r);
                    return t.debug(s, `_getStreamIdFromTransceiver: mid=${i} streamId=${l}`), l
                }, w = n => {
                    if (t.debug(s, "got local description of type", n.type, n.sdp), "offer" == n.type) return null !== i ? void t.debug(s, "got new local offer, but already sent one, skipping") : (t.debug(s, "saving new local offer, will call setLocalDescription when answer is received"), i = n, void r.onLocalDescription(n));
                    e.setLocalDescription(n).then(() => {
                        r.onLocalDescription(n), g().then(e => {}).catch(e => {})
                    }).catch(P)
                }, C = i => {
                    t.debug(s, "Setting remote description, state=" + e.signalingState), e.setRemoteDescription(i).then(() => {
                        "offer" == i.type ? (t.debug(s, "Creating sdp answer."), e.createAnswer().then(w).catch(P)) : g().then(e => {}).catch(e => {})
                    }).catch(i => {
                        t.error(s, "Error setting remote description: state=" + e.signalingState + " error=" + i)
                    })
                }, k = e => e && "[object Function]" === {}.toString.call(e), P = e => {
                    t.error(s, "Error:", e.message), r.onSdpError(e)
                };
            return a
        }
    }, function(e, t) {
        const i = "[MediaModule]";
        e.exports = function() {
            let e, t = [];
            const n = {
                startLocalMedia: (t, n) => new Promise((o, s) => {
                    (e = n.Logger).debug(i, "Getting User Media: sendAudio: ", t.sendAudio, " sendVideo: ", t.sendVideo), e.debug(i, "audioSource: ", t.audioSource, " videoSource: ", t.videoSource, " hdVideo", t.hdVideo);
                    let l = {
                            sendAudio: t.sendAudio,
                            audioSource: t.audioSource,
                            sendVideo: t.videoSource,
                            hdVideo: t.hdVideo,
                            mediaConstraints: t.mediaConstraints
                        },
                        c = r(l);
                    if (c) return void a(c, null, o);
                    let u = {
                        audio: !!t.sendAudio && {
                            deviceId: t.audioSource ? {
                                exact: t.audioSource
                            } : void 0
                        },
                        video: !!t.sendVideo && {
                            deviceId: t.videoSource ? {
                                exact: t.videoSource
                            } : void 0
                        }
                    };
                    if (t.hdVideo && u.video && (u.video.width = {
                            min: 1280,
                            ideal: 1920,
                            max: 1920
                        }, u.video.height = {
                            min: 720,
                            ideal: 1080,
                            max: 1080
                        }), t.mediaConstraints) {
                        e.info(i, "Using custom mediaConstraints. Will override defaults if needed");
                        for (let e in t.mediaConstraints) u[e] = t.mediaConstraints[e];
                        u.audio && t.sendAudio && t.audioSource && (u.audio.deviceId = {
                            exact: t.audioSource
                        }), u.video && t.sendVideo && t.videoSource && (u.video.deviceId = {
                            exact: t.videoSource
                        })
                    }
                    navigator.mediaDevices.getUserMedia ? navigator.mediaDevices.getUserMedia(u).then(e => {
                        a(e, l, o)
                    }).catch(t => {
                        s(t.message), e.error(i, "Failed to start media stream. ERROR:", t)
                    }) : (e.warn(i, "Browser does not support WebRTC API"), s(new Error("Your browser does not support getUserMedia API")))
                }),
                changeDeviceForStream: (e, t) => new Promise((i, n) => {
                    let r = o(e);
                    const a = {
                        audio: !1,
                        video: !1
                    };
                    r ? (senders = r.stream.senders, t.audio && (a.audio = {
                        deviceId: {
                            exact: t.audio.deviceId
                        }
                    }), t.video && (a.video = {
                        deviceId: {
                            exact: t.video.deviceId
                        }
                    }, a.video.width = {
                        min: 1280,
                        ideal: 1920,
                        max: 1920
                    }, a.video.height = {
                        min: 720,
                        ideal: 1080,
                        max: 1080
                    }), a.audio || a.video ? navigator.mediaDevices.getUserMedia(a).then(e => {
                        senders.forEach(t => {
                            "audio" === t.track.kind && e.getAudioTracks().length && (t.replaceTrack(e.getAudioTracks()[0]), r.stream.getAudioTracks().forEach(e => {
                                e.stop(), r.stream.removeTrack(e)
                            }), r.stream.addTrack(e.getAudioTracks()[0])), "video" === t.track.kind && e.getVideoTracks().length && (t.replaceTrack(e.getVideoTracks()[0]), r.stream.getVideoTracks().forEach(e => {
                                e.stop(), r.stream.removeTrack(e)
                            }), r.stream.addTrack(e.getVideoTracks()[0])), i()
                        })
                    }).catch(n) : n("No devices provided")) : n("Unable to find requested stream")
                }),
                stopLocalMedia: (n, r) => new Promise((a, s) => {
                    if (t.length > 0)
                        if (e.debug(i, "Stopping all local streams"), n) {
                            let e = o(n);
                            e && (e.stream.getTracks().forEach(function(e) {
                                e.stop()
                            }), e.state.isSent && r.PeerConnectionModule.removeStreams([e.stream]), t = t.filter(t => t.streamId !== e.streamId))
                        } else {
                            let n = [];
                            t.forEach(t => {
                                t.stream.getTracks().forEach(function(e) {
                                    e.stop()
                                }), e.debug(i, "stopLocalMedia removing local stream", t), t.state.isSent && n.push(t.stream)
                            }), r.PeerConnectionModule.removeStreams(n), t = []
                        } a()
                }),
                setAudioEnabled: (e, i, n) => new Promise((n, r) => {
                    if (t.length > 0) {
                        let t = o(e);
                        if (t) {
                            const a = (t = t.stream).getAudioTracks();
                            a.length ? (a[0].enabled = i, n(s(t))) : r(`No audio track in stream with id ${e}`)
                        }
                    } else r(`Unknown stream: ${e}`)
                }),
                setVideoEnabled: (e, i, n) => new Promise((n, r) => {
                    if (t.length > 0) {
                        let t = o(e);
                        if (t) {
                            const a = (t = t.stream).getVideoTracks();
                            a.length ? (a[0].enabled = i, n(s(t))) : r(`No video track in stream with id ${e}`)
                        }
                    } else r(`Unknown stream: ${e}`)
                }),
                updateStreamState: (e, t) => {
                    let i = o(e);
                    i && Object.keys(t).forEach(e => i.state[e] = t[e])
                },
                getStreamState: e => {
                    let t = o(e);
                    return t ? t.state : null
                }
            };
            let r = n => {
                    let r = t.filter(e => JSON.stringify(e.streamConfig) === JSON.stringify(n));
                    return r.length > 0 ? (e.debug(i, "found local stream with same config"), r[0].stream) : null
                },
                a = (n, r, a) => {
                    e.debug(i, "Got User Media"), r && (n.streamId = n.id), t.push({
                        stream: n,
                        streamConfig: r,
                        streamId: n.id,
                        state: {
                            isSent: !1
                        }
                    }), a(n)
                },
                o = n => {
                    let r = t.filter(e => JSON.stringify(e.streamId) === JSON.stringify(n));
                    return r.length > 0 ? (e.debug(i, "found local stream with id", n), r[0]) : null
                },
                s = e => {
                    const t = {
                        audioEnabled: !1,
                        videoEnabled: !1
                    };
                    if (!e) return t;
                    const i = e.getAudioTracks(),
                        n = e.getVideoTracks();
                    return i.length && (t.audioEnabled = i[0].enabled), n.length && (t.videoEnabled = n[0].enabled), t
                };
            return n
        }
    }, function(e, t, i) {
        (function(t) {
            const n = i(1),
                r = "[SignalingModule]";
            e.exports = function() {
                const e = {};
                let i = {
                        onConnected: e => {},
                        onIceConfig: e => {},
                        onDisconnected: e => {},
                        onRemoteIce: e => {},
                        onRemoteDescription: e => {},
                        onStreamListUpdate: e => {},
                        onSubscriptionFailed: e => {},
                        onUnsubscriptionFailed: e => {},
                        onRemoteTrackAction: e => {},
                        onStagePosition: e => {},
                        onActionError: e => {}
                    },
                    a = null;
                const o = {
                    media: {
                        version: "N/A",
                        id: "N/A"
                    },
                    signaling: {
                        version: "N/A",
                        id: "N/A"
                    }
                };
                let s = 0,
                    l = null,
                    c = "",
                    u = !0,
                    d = !1,
                    h = !1,
                    p = {
                        peerId: "N/A",
                        authKey: null,
                        roomId: null,
                        applicationId: "N/A",
                        userId: "N/A",
                        sdkVersion: "js-" + n.VERSION,
                        device: `${t.parser.getBrowser().name}-${t.parser.getBrowser().version}`,
                        os: `${t.parser.getOS().name}-${t.parser.getOS().version}`
                    };

                function f(t, n, o) {
                    let p = !1;
                    a && (t.debug(r, "[Reconnect] Old websoket found - not connected. terminating"), a.onopen = (e => {}), a.onclose = (e => {}), a.onerror = (e => {}), a.websocket ? a.websocket.close(4501) : a.close(4501), a = null, t.debug(r, "[Reconnect] Old websoket = null"), p = !0, h = !0), t.debug(r, "proceed connection"), s++, (a = new WebSocket(c)).onopen = (() => {
                        if (u = !1, s = 0, l && clearTimeout(l), d) return t.debug(r, "[quiet reconnect] connected"), e.send(JSON.stringify({
                            join: !0
                        }), {
                            Logger: t
                        }), void(d = !1);
                        t.debug(r, "Connected To WS"), n(o.roomId), p || e.send(JSON.stringify({
                            join: !0,
                            token: o.token || null,
                            maxBw: o.maxBw,
                            sdpSemantics: o.sdpSemantics
                        }), {
                            Logger: t
                        }), p = !1
                    }), a.onmessage = (e => {
                        m(e, {
                            Logger: t
                        })
                    }), a.onerror = (c => {
                        l && s >= 10 ? (t.error(r, `Unable to connect to video stack. Browser connection onLine ${navigator.onLine}`), i.onDisconnected("Unable to connect to video stack."), e.disconnect({
                            Logger: t
                        })) : u ? (i.onDisconnected("Room not exists..."), e.disconnect({
                            Logger: t
                        })) : (a.onclose = (e => {}), i.onDisconnected(`Unable to connect to video stack #${s}. will try again in a sec...`, !0), l = setTimeout(f, 1e3, t, n, o))
                    }), a.onclose = (e => {
                        const s = e.code;
                        return 4500 === s && d ? (t.debug(r, "[quiet reconnect] Disconnected old socket. attempt to reconnect..."), a = null, void f(t, n, o)) : 1006 === s ? (t.debug(r, "[soft reconnect] connection closed abnormally, will try to reconnect"), a = null, f(t, n, o), void i.requestIceRecon()) : (t.debug(r, `connection closed with code ${e.code}. Browser connection onLine ${navigator.onLine}`), a = null, void i.onDisconnected("connection closed"))
                    })
                }
                e.connectToRoom = ((t, n) => new Promise((o, s) => {
                    const l = n.Logger;
                    if (!navigator.onLine) return l.error(r, "Browser is offline, cant connect"), void s("You are offline");
                    if (l.info(r, "Connecting to room. Options:", t), t && g(t.handler))
                        if (a) s("Already connected to a room");
                        else if (t.roomId || t.applicationId || !t.userId) {
                        t.roomId = t.roomId || t.roomId;
                        try {
                            t.hasOwnProperty("sdpSemantics") || (t.sdpSemantics = "plan-b"), c = v(t, n), f(l, o, t), i = t.handler, p.peerId = t.peerId, p.userId = t.userId, p.roomId = t.roomId, p.applicationId = t.applicationId
                        } catch (t) {
                            e.disconnect({
                                Logger: l
                            }), s(t.message)
                        }
                    } else s("Options must contain userId, roomId and applicationId");
                    else s("No Valid handler in options. Handler:", t.handler)
                })), e.forceReconnect = (e => new Promise((t, i) => {
                    f(e.Logger, t, p)
                })), e.disconnect = (e => {
                    let s = p.roomId;
                    return a && (e.Logger.debug(r, "Closing connections..."), a.onopen = (() => {}), a.onmessage = (() => {}), a.onerror = (() => {}), a.onclose = (() => {}), a.websocket ? a.websocket.close(1e3) : a.close(1e3), a = null), p = {
                        peerId: "N/A",
                        userId: "N/A",
                        authKey: null,
                        roomId: null,
                        applicationId: "N/A",
                        sdkVersion: "js-" + n.VERSION,
                        device: `${t.parser.getBrowser().name}-${t.parser.getBrowser().version}`,
                        os: `${t.parser.getOS().name}-${t.parser.getOS().version}`
                    }, o.media.version = "N/A", o.media.id = "N/A", o.signaling.id = "N/A", o.signaling.version = "N/A", i = {
                        onConnected: e => {},
                        onIceConfig: e => {},
                        onDisconnected: e => {},
                        onRemoteIce: e => {},
                        onRemoteDescription: e => {},
                        onStreamListUpdate: e => {},
                        onSubscriptionFailed: e => {},
                        onUnsubscriptionFailed: e => {},
                        onRemoteTrackAction: e => {},
                        onStagePosition: e => {},
                        onActionError: e => {}
                    }, l && clearTimeout(l), u = !0, d = !1, isReconnect = !1, s
                });
                let m = (t, n) => {
                    const s = n.Logger;
                    let l;
                    try {
                        l = JSON.parse(t.data)
                    } catch (e) {
                        return void s.error(r, "Failed to parse signal from server. Unexpected message, ignoring")
                    }
                    if (s.debug(r, "got message from server: " + t.data), l.authKey && (p.authKey = l.authKey), l.mediaServerId && l.signalingId && (o.media.id = l.mediaServerId, o.signaling.id = l.signalingId, o.media.version = l.mediaServerVersion, o.signaling.version = l.signalingVersion), l.hasOwnProperty("audioMute"), l.streams && i.onStreamListUpdate(l.streams), l.error) {
                        let e = l.error;
                        if (e.subscription) {
                            let t = e.subscription;
                            t.isSubscribe ? i.onSubscriptionFailed(t.subscribePeerId) : i.onUnsubscriptionFailed(t.subscribePeerId)
                        } else e.action && i.onActionError(e.action)
                    }
                    if (l.notify) {
                        const e = l.notify;
                        "mediaTrackAction" === e.eventType ? i.onRemoteTrackAction(e.event) : "stagePosition" === e.eventType && i.onStagePosition(e.event)
                    }
                    if (l.sdp) l.iceServers && i.onIceConfig(l.iceServers), i.onRemoteDescription(l.sdp), l.iceServers && !h && i.onConnected(p.roomId);
                    else if (l.ice) i.onRemoteIce(l.ice);
                    else if (l.disconnect) s.debug(r, "Received disconnect, stopping..."), i.onDisconnected(l.reason), e.disconnect({
                        Logger: s
                    });
                    else if (l.reconnect && !d) {
                        const e = l.reason;
                        s.debug(r, `[quiet reconnect] Received reconnect signal from server. reason: ${e}. Will disconnect old socket`), d = !0, a.websocket ? a.websocket.close(4501, e) : a.close(4501, e)
                    }
                };
                e.send = ((e, t) => {
                    const i = t.Logger;
                    if (a && a.readyState === WebSocket.OPEN) e = JSON.parse(e), e = Object.assign(e, p), e = JSON.stringify(e), i.debug(r, "Sending message to server\n" + e), a.send(e);
                    else {
                        let e = "NOSOCKET";
                        a && a.readyState === WebSocket.CONNECTING && (e = "CONNECTING"), a && a.readyState === WebSocket.OPEN && (e = "OPEN"), a && a.readyState === WebSocket.CLOSING && (e = "CLOSING"), a && a.readyState === WebSocket.CLOSED && (e = "CLOSED"), i.warn(r, `Attempt to send a signal from an unconnected state (${e}). Ignoring`)
                    }
                }), e.getServersInfo = (() => o);
                let g = e => !!(e && y(e.onConnected) && y(e.onIceConfig) && y(e.onDisconnected) && y(e.onRemoteIce) && y(e.onRemoteDescription) && y(e.onStreamListUpdate) && y(e.onSubscriptionFailed) && y(e.onUnsubscriptionFailed) && y(e.onRemoteTrackAction) && y(e.onActionError) && y(e.requestIceRecon)),
                    y = e => e && "[object Function]" === {}.toString.call(e),
                    v = (e, t) => {
                        const i = t.Logger;
                        i.debug(r, "Generating ws_url", e);
                        let n = JSON.parse(JSON.stringify(e)),
                            a = n.wsUrl + "?";
                        const o = ["peerId", "roomId", "token", "isHost"];
                        return delete n.wsUrl, delete n.handler, Object.keys(n).filter(e => o.indexOf(e) >= 0).forEach(e => {
                            a += e + "=" + n[e] + "&"
                        }), i.debug(r, "Websocket URL after manipulation", a), a.slice(0, -1)
                    };
                return e
            }
        }).call(this, i(2))
    }, function(e, t) {
        function i() {
            this._events = this._events || {}, this._maxListeners = this._maxListeners || void 0
        }

        function n(e) {
            return "function" == typeof e
        }

        function r(e) {
            return "object" == typeof e && null !== e
        }

        function a(e) {
            return void 0 === e
        }
        e.exports = i, i.EventEmitter = i, i.prototype._events = void 0, i.prototype._maxListeners = void 0, i.defaultMaxListeners = 10, i.prototype.setMaxListeners = function(e) {
            if (! function(e) {
                    return "number" == typeof e
                }(e) || e < 0 || isNaN(e)) throw TypeError("n must be a positive number");
            return this._maxListeners = e, this
        }, i.prototype.emit = function(e) {
            var t, i, o, s, l, c;
            if (this._events || (this._events = {}), "error" === e && (!this._events.error || r(this._events.error) && !this._events.error.length)) {
                if ((t = arguments[1]) instanceof Error) throw t;
                var u = new Error('Uncaught, unspecified "error" event. (' + t + ")");
                throw u.context = t, u
            }
            if (a(i = this._events[e])) return !1;
            if (n(i)) switch (arguments.length) {
                case 1:
                    i.call(this);
                    break;
                case 2:
                    i.call(this, arguments[1]);
                    break;
                case 3:
                    i.call(this, arguments[1], arguments[2]);
                    break;
                default:
                    s = Array.prototype.slice.call(arguments, 1), i.apply(this, s)
            } else if (r(i))
                for (s = Array.prototype.slice.call(arguments, 1), o = (c = i.slice()).length, l = 0; l < o; l++) c[l].apply(this, s);
            return !0
        }, i.prototype.on = i.prototype.addListener = function(e, t) {
            var o;
            if (!n(t)) throw TypeError("listener must be a function");
            return this._events || (this._events = {}), this._events.newListener && this.emit("newListener", e, n(t.listener) ? t.listener : t), this._events[e] ? r(this._events[e]) ? this._events[e].push(t) : this._events[e] = [this._events[e], t] : this._events[e] = t, r(this._events[e]) && !this._events[e].warned && (o = a(this._maxListeners) ? i.defaultMaxListeners : this._maxListeners) && o > 0 && this._events[e].length > o && (this._events[e].warned = !0, console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.", this._events[e].length), "function" == typeof console.trace && console.trace()), this
        }, i.prototype.once = function(e, t) {
            if (!n(t)) throw TypeError("listener must be a function");
            var i = !1;

            function r() {
                this.removeListener(e, r), i || (i = !0, t.apply(this, arguments))
            }
            return r.listener = t, this.on(e, r), this
        }, i.prototype.removeListener = function(e, t) {
            var i, a, o, s;
            if (!n(t)) throw TypeError("listener must be a function");
            if (!this._events || !this._events[e]) return this;
            if (o = (i = this._events[e]).length, a = -1, i === t || n(i.listener) && i.listener === t) delete this._events[e], this._events.removeListener && this.emit("removeListener", e, t);
            else if (r(i)) {
                for (s = o; s-- > 0;)
                    if (i[s] === t || i[s].listener && i[s].listener === t) {
                        a = s;
                        break
                    } if (a < 0) return this;
                1 === i.length ? (i.length = 0, delete this._events[e]) : i.splice(a, 1), this._events.removeListener && this.emit("removeListener", e, t)
            }
            return this
        }, i.prototype.removeAllListeners = function(e) {
            var t, i;
            if (!this._events) return this;
            if (!this._events.removeListener) return 0 === arguments.length ? this._events = {} : this._events[e] && delete this._events[e], this;
            if (0 === arguments.length) {
                for (t in this._events) "removeListener" !== t && this.removeAllListeners(t);
                return this.removeAllListeners("removeListener"), this._events = {}, this
            }
            if (n(i = this._events[e])) this.removeListener(e, i);
            else if (i)
                for (; i.length;) this.removeListener(e, i[i.length - 1]);
            return delete this._events[e], this
        }, i.prototype.listeners = function(e) {
            return this._events && this._events[e] ? n(this._events[e]) ? [this._events[e]] : this._events[e].slice() : []
        }, i.prototype.listenerCount = function(e) {
            if (this._events) {
                var t = this._events[e];
                if (n(t)) return 1;
                if (t) return t.length
            }
            return 0
        }, i.listenerCount = function(e, t) {
            return e.listenerCount(t)
        }
    }, function(e, t) {
        e.exports = {
            JOINED_ROOM: "joined_room",
            LEFT_ROOM: "left_room",
            DISCONNECTED: "disconnected",
            RECONNECTING: "reconnecting",
            RECONNECTED: "reconnected",
            REMOTE_STREAM_RECEIVED: "remote_stream_received",
            REMOTE_STREAM_LOST: "remote_stream_lost",
            SUBSCRIPTION_FAILED: "subscription_failed",
            UNSUBSCRIPTION_FAILED: "unsubscription_failed",
            REMOTE_STREAM_DATA_LOSS: "remote_stream_data_loss",
            REMOTE_STREAM_AUDIO_STATE_CHANGED: "remote_stream_audio_state_changed",
            REMOTE_STREAM_VIDEO_STATE_CHANGED: "remote_stream_video_state_changed",
            REMOTE_STREAM_RECOVERED: "remote_stream_recovered",
            STAGE_POSITION_UPDATED: "stage_position_updated",
            ACTION_ERROR: "action_error"
        }
    }, function(e, t) {
        for (var i = [], n = 0; n < 256; ++n) i[n] = (n + 256).toString(16).substr(1);
        e.exports = function(e, t) {
            var n = t || 0;
            return [i[e[n++]], i[e[n++]], i[e[n++]], i[e[n++]], "-", i[e[n++]], i[e[n++]], "-", i[e[n++]], i[e[n++]], "-", i[e[n++]], i[e[n++]], "-", i[e[n++]], i[e[n++]], i[e[n++]], i[e[n++]], i[e[n++]], i[e[n++]]].join("")
        }
    }, function(e, t) {
        var i = "undefined" != typeof crypto && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || "undefined" != typeof msCrypto && "function" == typeof window.msCrypto.getRandomValues && msCrypto.getRandomValues.bind(msCrypto);
        if (i) {
            var n = new Uint8Array(16);
            e.exports = function() {
                return i(n), n
            }
        } else {
            var r = new Array(16);
            e.exports = function() {
                for (var e, t = 0; t < 16; t++) 0 == (3 & t) && (e = 4294967296 * Math.random()), r[t] = e >>> ((3 & t) << 3) & 255;
                return r
            }
        }
    }, function(e, t, i) {
        var n = i(11),
            r = i(10);
        e.exports = function(e, t, i) {
            var a = t && i || 0;
            "string" == typeof e && (t = "binary" === e ? new Array(16) : null, e = null);
            var o = (e = e || {}).random || (e.rng || n)();
            if (o[6] = 15 & o[6] | 64, o[8] = 63 & o[8] | 128, t)
                for (var s = 0; s < 16; ++s) t[a + s] = o[s];
            return t || r(o)
        }
    }, function(t, i, n) {
        const r = n(12),
            a = "[Props-Video-Core]",
            o = n(9),
            s = n(8).EventEmitter;
        t.exports = function(t, i, n) {
            if (!(t && t.wsUrl && t.userId && t.applicationId)) throw new Error("Invalid config object. userId, applicationId and wsUrl are needed");
            const {
                SignalingModule: l,
                Logger: c,
                MediaModule: u,
                PeerConnectionModule: d
            } = n, h = new s;
            let p = r();
            const f = {
                connected: !1,
                inRoom: !1
            };
            let m = t.unifiedPlan || !1,
                g = {},
                y = !1;
            const v = t.wsUrl;
            let b = {},
                _ = [],
                T = {};
            c.setAdditionalValues({
                peerId: p
            });
            const S = {
                    peerId: p,
                    userId: t.userId,
                    events: o,
                    dispose: () => (S.leaveRoom(), Object.keys(S).forEach(e => delete S[e]), Object.values(o).forEach(e => {
                        h.removeAllListeners(e)
                    }), p = r(), i(S.peerId)),
                    joinRoom: async e => {
                        f.connected && await S.leaveRoom(), m = e.useUnifiedSemantics || !1;
                        try {
                            const i = Object.assign(e, {
                                wsUrl: v,
                                applicationId: t.applicationId,
                                userId: t.userId,
                                peerId: p,
                                handler: E,
                                sdpSemantics: e.useUnifiedSemantics ? "unified-plan" : "plan-b"
                            });
                            c.setAdditionalValues({
                                peerId: p,
                                sdpSemantics: i.sdpSemantics,
                                roomId: e.roomId
                            });
                            let r = await l.connectToRoom(i, n);
                            return c.debug(a, "Connected to room"), await d.init({
                                handler: w,
                                peerConnectionConfig: {
                                    sdpSemantics: e.useUnifiedSemantics ? "unified-plan" : "plan-b",
                                    iceServers: [{
                                        urls: "stun:stun.services.mozilla.com"
                                    }, {
                                        urls: "stun:stun.l.google.com:19302"
                                    }]
                                }
                            }, {
                                Logger: c
                            }), f.connected = !0, r
                        } catch (e) {
                            throw c.error(a, e), e
                        }
                    },
                    leaveRoom: e => new Promise((e, t) => {
                        let i = l.disconnect(n);
                        f.connected = !1, u.stopLocalMedia(null, {
                            Logger: c,
                            PeerConnectionModule: d
                        }), d.dispose();
                        const a = Object.keys(T).map(e => T[e]);
                        for (let n = 0; n < a.length; n++) w.onRemoteStreamLost(a[n]);
                        h.emit(o.LEFT_ROOM, i), g = {}, p = r(), e(i)
                    }),
                    startLocalMedia: e => new Promise((t, i) => {
                        u.startLocalMedia(e, {
                            Logger: c
                        }).then(i => {
                            c.debug(a, "Got local stream => ", i), e.autoSendStream && (d.addStream(i), u.updateStreamState(i.streamId, {
                                isSent: !0
                            })), t(i)
                        }).catch(e => {
                            c.error(a, "Error starting local media:", e), i(e)
                        })
                    }),
                    enterStage: e => {
                        l.send(JSON.stringify({
                            onStage: !0,
                            token: e
                        }), {
                            Logger: c
                        })
                    },
                    exitStage: () => {
                        l.send(JSON.stringify({
                            onStage: !1
                        }), {
                            Logger: c
                        })
                    },
                    stopLocalMedia: e => u.stopLocalMedia(e, {
                        Logger: c,
                        PeerConnectionModule: d
                    }),
                    enableAudioForStream: e => (c.log(a, `Setting audio enable true for stream ${e}`), C(e, !0)),
                    disableAudioForStream: e => (c.log(a, `Setting audio disable true for stream ${e}`), C(e, !1)),
                    enableVideoForStream: e => (c.log(a, `Setting video enable true for stream ${e}`), k(e, !0)),
                    disableVideoForStream: e => (c.log(a, `Setting video disable true for stream ${e}`), k(e, !1)),
                    changeDeviceForStream: (e, t) => new Promise((i, n) => {
                        m ? u.changeDeviceForStream(e, t).then(i).catch(n) : n("This is supported only on unified-plan connections")
                    }),
                    getStats: e => d.getStatistics(),
                    sendStream: e => {
                        e && e.__proto__.toString().indexOf("MediaStream") >= 0 ? (d.addStream(e), u.updateStreamState(e.streamId, {
                            isSent: !0
                        })) : c.warn(a, "Called sendStream with an invalid parameter. (stream is null or not of type MediaStream)", e)
                    },
                    subscribe: (e, t) => {
                        c.debug(a, "Subscribing to peer:", e), l.send(JSON.stringify({
                            token: t,
                            subscribePeerId: e
                        }), {
                            Logger: c
                        })
                    },
                    unsubscribe: e => {
                        c.debug(a, "Unsubscribing from peer:", e), l.send(JSON.stringify({
                            unsubscribePeerId: e
                        }), {
                            Logger: c
                        })
                    },
                    on: (e, t) => {
                        h.on(e, t)
                    },
                    getServersInfo: () => l.getServersInfo(),
                    isOnStage: () => y,
                    setLogglyEnabled: e => {
                        c.setLogglyEnabled(e)
                    }
                },
                E = {
                    onConnected: function(e) {
                        c.debug(a, "onConnected (SignalingModule)"), h.emit(o.JOINED_ROOM, e)
                    },
                    onStagePosition: function(e) {
                        c.debug(a, `Stage position changed. On stage : ${e.onStage}`), y = e.onStage, h.emit(o.STAGE_POSITION_UPDATED, e)
                    },
                    onIceConfig: function(e) {
                        c.debug(a, "Got ICE Servers")
                    },
                    onDisconnected: function(e, t) {
                        c.debug(a, `Disconnected. Reason: ${e}. will reconnect? ${t=!!t}`), h.emit(o.DISCONNECTED, {
                            reason: e,
                            willReconnect: t
                        })
                    },
                    onRemoteIce: function(e) {
                        c.debug(a, "Got remote ICE candidate: ", e), d.setRemoteICE(e).then(e => {}).catch(e => {})
                    },
                    onRemoteDescription: function(e) {
                        c.debug(a, "Got remote sdp: ", e), d.onRemoteDescription(e)
                    },
                    onStreamListUpdate: function(e) {
                        c.debug(a, "Got Stream List Update", e),
                            function(e) {
                                e && Array.isArray(e) && e.forEach(e => {
                                    b[e.stream] || (c.debug(a, "Update Stream Mapping. Stream:", e.stream, `-> {userId: ${e.userId}, peerId: ${e.peerId}, audioEnabled: ${e.audioEnabled}, videoEnabled: ${e.videoEnabled}, streamId: ${e.stream}}`), b[e.stream] = {
                                        userId: e.userId,
                                        peerId: e.peerId,
                                        videoEnabled: e.videoEnabled,
                                        audioEnabled: e.audioEnabled,
                                        streamId: e.stream
                                    })
                                })
                            }(e)
                    },
                    onSubscriptionFailed: e => {
                        c.debug(a, "Failed to subscribe to user", e), h.emit(o.SUBSCRIPTION_FAILED, e)
                    },
                    onUnsubscriptionFailed: e => {
                        c.debug(a, "Failed to unsubscribe from user", e), h.emit(o.UNSUBSCRIPTION_FAILED, e)
                    },
                    onActionError: e => {
                        c.error(a, `Action Error. ${JSON.stringify(e,null,2)}`), h.emit(o.ACTION_ERROR, e)
                    },
                    requestIceRecon: () => {
                        d.restartICE()
                    },
                    onRemoteTrackAction: e => {
                        c.debug(a, `Remote track event: peerId=${e.peerId} streamId=${e.streamId} audioEnabled=${e.audioEnabled} videoEnabled=${e.videoEnabled}`);
                        const t = T[e.streamId];
                        if (t) {
                            const i = t.getAudioTracks(),
                                n = t.getVideoTracks();
                            i.length && i[0].enabled != e.audioEnabled && (i[0].enabled = e.audioEnabled, h.emit(o.REMOTE_STREAM_AUDIO_STATE_CHANGED, {
                                stream: t,
                                audioEnabled: e.audioEnabled,
                                userId: e.userId,
                                peerId: e.peerId
                            })), n.length && n[0].enabled != e.videoEnabled && (n[0].enabled = e.videoEnabled, h.emit(o.REMOTE_STREAM_VIDEO_STATE_CHANGED, {
                                stream: t,
                                videoEnabled: e.videoEnabled,
                                userId: e.userId,
                                peerId: e.peerId
                            }))
                        }
                    }
                },
                w = {
                    onSdpError: function(e) {
                        c.error(a, "got SDP error: ", e, "Disposing"), S.dispose()
                    },
                    onIceError: function(t) {
                        c.error(a, `Failed to set ICE candidate ${e}. Disposing...`), S.dispose()
                    },
                    getRemoteStreams: function() {
                        return Object.values(T)
                    },
                    onIceCandidate: function(e) {
                        c.debug(a, "got local ICE candidate:", e.candidate), e.candidate ? l.send(JSON.stringify({
                            ice: e.candidate
                        }), {
                            Logger: c
                        }) : c.debug(a, "got null local ICE candidate, gathering finished")
                    },
                    onRemoteStream: function(e) {
                        b[e.streamId] ? (g[e.streamId] = Date.now(), _.indexOf(e.streamId) > -1 || (c.debug(a, "got remote stream, ID:", e.streamId, "From User: ", b[e.streamId].userId, " PeerId: ", b[e.streamId].peerId), e.userId = b[e.streamId].userId, e.peerId = b[e.streamId].peerId, setTimeout(() => {
                            E.onRemoteTrackAction(b[e.streamId])
                        }, 100), h.emit(o.REMOTE_STREAM_RECEIVED, e), _.push(e.streamId), T[e.streamId] = e)) : c.debug(a, `Got an unknown remote stream ${e.streamId}. Ignoring...`)
                    },
                    onRemoteStreamLost: function(e) {
                        b[e.streamId] && (e.userId = b[e.streamId].userId, e.peerId = b[e.streamId].peerId, c.debug(a, "Remote stream lost, ID:", e.streamId, "From User: ", e.userId, " PeerId: ", e.peerId), h.emit(o.REMOTE_STREAM_LOST, e), delete b[e.streamId], delete T[e.streamId], _.splice(_.indexOf(e.streamId), 1))
                    },
                    onRemoteStreamStats: function(e) {
                        let {
                            hasAudioTrack: t,
                            hasVideoTrack: i,
                            isReceivingAudio: n,
                            isReceivingVideo: r,
                            streamId: s
                        } = e;
                        const l = T[s];
                        if (l) {
                            if (Date.now() - g[s] < 2e3) return;
                            let e = t && l.getAudioTracks()[0].enabled,
                                u = i && l.getVideoTracks()[0].enabled;
                            if (u && !r || e && !n) {
                                if (!l.hasDataLoss) {
                                    const t = {
                                        stream: l,
                                        videoLoss: u && !r,
                                        audioLoss: e && !n,
                                        userId: l.userId
                                    };
                                    c.debug(a, `Remote stream data loss ${t}`), h.emit(o.REMOTE_STREAM_DATA_LOSS, t)
                                }
                                l.hasDataLoss = !0
                            } else l.hasDataLoss && (h.emit(o.REMOTE_STREAM_RECOVERED, {
                                stream: l,
                                userId: l.userId
                            }), c.debug(a, `Remote stream id=${l.streamId} from userId=${l.userId} has recovered!`)), l.hasDataLoss = !1
                        }
                    },
                    onLocalDescription: function(e) {
                        c.debug(a, "Got Local Description - sending to server"), l.send(JSON.stringify({
                            sdp: e
                        }), {
                            Logger: c
                        })
                    },
                    onIceDisconnected: function(e, t) {
                        c.debug(a, "Ice state changed to", e, "is trying to reconnect:", t, "Current state", JSON.stringify(f)), t && f.connected ? (h.emit(o.RECONNECTING, e), l.forceReconnect({
                            Logger: c
                        }).then(e => {
                            d.restartICE()
                        }).catch(e => {})) : (h.emit(o.DISCONNECTED, {
                            reason: "Ice Fail",
                            willReconnect: !1
                        }), S.leaveRoom())
                    },
                    onIceReconnected: function(e) {
                        c.debug(a, "ICE reconnection stable. state", e), h.emit(o.RECONNECTED, e)
                    }
                };

            function C(e, t) {
                return new Promise((i, n) => {
                    u.setAudioEnabled(e, t, {
                        Logger: c
                    }).then(t => {
                        l.send(JSON.stringify({
                            notify: {
                                eventType: "mediaTrackAction",
                                event: Object.assign({
                                    streamId: e,
                                    peerId: p
                                }, t)
                            }
                        }), {
                            Logger: c
                        }), i(t.audioEnabled)
                    }).catch(n)
                })
            }

            function k(e, t) {
                return new Promise((i, n) => {
                    u.setVideoEnabled(e, t, {
                        Logger: c
                    }).then(t => {
                        l.send(JSON.stringify({
                            notify: {
                                eventType: "mediaTrackAction",
                                event: Object.assign({
                                    streamId: e,
                                    peerId: p
                                }, t)
                            }
                        }), {
                            Logger: c
                        }), i(t.audioEnabled)
                    }).catch(n)
                })
            }
            return S
        }
    }, function(e, t, i) {
        const n = i(1);
        let r = null;
        ! function(e, t) {
            var i = "http" + ("https:" === t.location.protocol ? "s" : "") + "://",
                a = "logs-01.loggly.com",
                o = "logglytrackingsession".length + 1,
                s = "loggly";

            function l(e) {
                this.key = !1, this.sendConsoleErrors = !1, this.tag = `PropsVideoSDK,js-${n.VERSION}`, this.useDomainProxy = !1, this.useUtfEncoding = !1, e && (r = e)
            }

            function c(t) {
                t.inputUrl = 1 == t.useDomainProxy ? i + (r || e.location.host) + "/" + s + "/inputs/" + t.key + "/tag/" + t.tag : i + (t.logglyCollectorDomain || a) + "/inputs/" + t.key + "/tag/" + t.tag
            }
            l.prototype = {
                setSession: function(e) {
                    e ? (this.session_id = e, this.setCookie(this.session_id)) : this.session_id || (this.session_id = this.readCookie(), this.session_id || (this.session_id = "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(e) {
                        var t = 16 * Math.random() | 0;
                        return ("x" == e ? t : 3 & t | 8).toString(16)
                    }), this.setCookie(this.session_id)))
                },
                push: function(t) {
                    var i = typeof t;
                    if (t && ("object" === i || "string" === i)) {
                        if ("string" === i) t = {
                            text: t
                        };
                        else {
                            if (t.logglyCollectorDomain) return void(this.logglyCollectorDomain = t.logglyCollectorDomain);
                            if (void 0 !== t.sendConsoleErrors && function(t, i) {
                                    if (t.sendConsoleErrors = i, !0 === t.sendConsoleErrors) {
                                        var n = e.onerror;
                                        e.onerror = function(i, r, a, o, s) {
                                            t.push({
                                                category: "BrowserJsException",
                                                exception: {
                                                    message: i,
                                                    url: r,
                                                    lineno: a,
                                                    colno: o,
                                                    stack: s ? s.stack : "n/a"
                                                }
                                            }), n && "function" == typeof n && n.apply(e, arguments)
                                        }
                                    }
                                }(this, t.sendConsoleErrors), t.tag && function(e, t) {
                                    e.tag = t
                                }(this, t.tag), void 0 !== t.useUtfEncoding && function(e, t) {
                                    e.useUtfEncoding = t
                                }(this, t.useUtfEncoding), t.useDomainProxy && function(e, t) {
                                    e.useDomainProxy = t, c(e)
                                }(this, t.useDomainProxy), t.logglyKey) return void
                            function(e, t) {
                                e.key = t, e.setSession(), c(e)
                            }(this, t.logglyKey);
                            if (t.session_id) return void this.setSession(t.session_id)
                        }
                        this.key && this.track(t)
                    }
                },
                track: function(t) {
                    t.sessionId = this.session_id;
                    try {
                        var i = new XMLHttpRequest;
                        i.open("POST", this.inputUrl, !0), i.setRequestHeader("Content-Type", !0 === d.useUtfEncoding ? "text/plain; charset=utf-8" : "text/plain"), i.send(JSON.stringify(t))
                    } catch (i) {
                        e && e.console && "function" == typeof e.console.log && (console.log("Failed to log to loggly because of this exception:\n" + i), console.log("Failed log data:", t))
                    }
                },
                readCookie: function() {
                    var e = t.cookie,
                        i = e.indexOf("logglytrackingsession");
                    if (i < 0) return !1;
                    var n = e.indexOf(";", i + 1);
                    return e.slice(i + o, n = n < 0 ? e.length : n)
                },
                setCookie: function(e) {
                    t.cookie = "logglytrackingsession=" + e
                }
            };
            var u = e._LTracker,
                d = new l;
            if (u && u.length) {
                var h = 0,
                    p = u.length;
                for (h = 0; h < p; h++) d.push(u[h])
            }
            e._LTracker = d, e.LogglyTracker = l
        }(window, document)
    }, function(e, t, i) {
        i(14);
        let n = console,
            r = {};
        const a = {
            DEBUG: 0,
            INFO: 1,
            LOG: 2,
            WARN: 3,
            ERROR: 4
        };
        let o = null,
            s = null,
            l = a.WARN,
            c = () => {},
            u = e => {
                e >= a.ERROR && (e = a.ERROR), e >= a.DEBUG && (e = a.DEBUG), l = e
            };
        const d = (e, t, i) => {
                const n = Object.assign({
                    topic: e,
                    msg: t,
                    level: i,
                    deviceMemory: `${navigator.deviceMemory}GB`,
                    app: "PropsVideoSDK",
                    hostUrl: window.location.host
                }, r);
                o && (n.environment = o), h(n), c(n)
            },
            h = e => {
                s && (console.log("sending to loggly"), s.push(e))
            };
        let p = (...e) => {
                let t = f() + " [DEBUG]",
                    i = "",
                    r = e[0];
                e.splice(0, 1), e.forEach(e => {
                    m(e) ? i += " " + JSON.stringify(e, null, 2) : i += " " + e
                }), i = i.trim(), d(r, i, "DEBUG"), l > a.DEBUG || n.log(t, r, i)
            },
            f = () => {
                const e = new Date;
                return "[" + e.getFullYear() + "-" + ("0" + (e.getMonth() + 1)).slice(-2) + "-" + ("0" + e.getDate()).slice(-2) + " " + ("0" + e.getHours()).slice(-2) + ":" + ("0" + e.getMinutes()).slice(-2) + ":" + ("0" + e.getSeconds()).slice(-2) + "." + ("00" + e.getMilliseconds()).slice(-3) + "]"
            },
            m = e => "object" == typeof e && null !== e || "function" == typeof e,
            g = Object.assign({
                init: e => {
                    e && e.hasOwnProperty("logger") && (n = e.logger), e && e.hasOwnProperty("level") && u(e.level), c = e && e.hasOwnProperty("proxyCallback") ? e.proxyCallback : () => {}, o = e.hasOwnProperty("logglyHost") ? e.logglyHost : null, e && e.hasOwnProperty("logglyEnabled") && e.logglyEnabled ? (s = new LogglyTracker(o)).push({
                        logglyKey: "caf375d8-021d-4cf7-8235-4af07cd9cdac",
                        sendConsoleErrors: !0,
                        useUtfEncoding: !0,
                        useDomainProxy: !0
                    }) : s = null
                },
                setAdditionalValues: e => {
                    for (let t in e) r[t] = e[t]
                },
                setLevel: u,
                getLevel: () => l,
                log: (...e) => {
                    let t = f() + " [LOG]",
                        i = "",
                        r = e[0];
                    e.splice(0, 1), e.forEach(e => {
                        m(e) ? i += " " + JSON.stringify(e, null, 2) : i += " " + e
                    }), i = i.trim(), d(r, i, "LOG"), l > a.LOG || n.log(t, r, i)
                },
                debug: p,
                warn: (...e) => {
                    let t = f() + " [WARN]",
                        i = "",
                        r = e[0];
                    e.splice(0, 1), e.forEach(e => {
                        m(e) ? i += " " + JSON.stringify(e, null, 2) : i += " " + e
                    }), i = i.trim(), d(r, i, "WARN"), l > a.WARN || n.warn(t, r, i)
                },
                error: (...e) => {
                    let t = f() + " [ERROR]",
                        i = "",
                        r = e[0];
                    e.splice(0, 1), e.forEach(e => {
                        m(e) ? i += " " + JSON.stringify(e, null, 2) : i += " " + e
                    }), i = i.trim(), n.error(t, r, i), d(r, i, "ERROR")
                },
                info: (...e) => {
                    let t = f() + " [INFO]",
                        i = "",
                        r = e[0];
                    e.splice(0, 1), e.forEach(e => {
                        m(e) ? i += " " + JSON.stringify(e, null, 2) : i += " " + e
                    }), i = i.trim(), d(r, i, "INFO"), l > a.INFO || n.info(t, r, i)
                },
                setLogglyEnabled: (e, t) => {
                    e ? ((s = new LogglyTracker(o)).push({
                        logglyKey: "caf375d8-021d-4cf7-8235-4af07cd9cdac",
                        sendConsoleErrors: !0,
                        useUtfEncoding: !0,
                        useDomainProxy: !0
                    }), p("[LoggerModule]", `Turned Loggly On, logglyHost: ${o}`)) : s = null
                }
            }, a);
        e.exports = g
    }, function(e, t) {
        (function(t) {
            e.exports = t
        }).call(this, {})
    }, function(e, t, i) {
        var n;
        ! function(r, a) {
            "use strict";
            var o = "model",
                s = "name",
                l = "type",
                c = "vendor",
                u = "version",
                d = "mobile",
                h = "tablet",
                p = {
                    extend: function(e, t) {
                        var i = {};
                        for (var n in e) i[n] = t[n] && t[n].length % 2 == 0 ? t[n].concat(e[n]) : e[n];
                        return i
                    },
                    has: function(e, t) {
                        return "string" == typeof e && -1 !== t.toLowerCase().indexOf(e.toLowerCase())
                    },
                    lowerize: function(e) {
                        return e.toLowerCase()
                    },
                    major: function(e) {
                        return "string" == typeof e ? e.replace(/[^\d\.]/g, "").split(".")[0] : void 0
                    },
                    trim: function(e) {
                        return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "")
                    }
                },
                f = {
                    rgx: function(e, t) {
                        for (var i, n, r, a, o, s, l = 0; l < t.length && !o;) {
                            var c = t[l],
                                u = t[l + 1];
                            for (i = n = 0; i < c.length && !o;)
                                if (o = c[i++].exec(e))
                                    for (r = 0; r < u.length; r++) s = o[++n], "object" == typeof(a = u[r]) && a.length > 0 ? 2 == a.length ? this[a[0]] = "function" == typeof a[1] ? a[1].call(this, s) : a[1] : 3 == a.length ? this[a[0]] = "function" != typeof a[1] || a[1].exec && a[1].test ? s ? s.replace(a[1], a[2]) : void 0 : s ? a[1].call(this, s, a[2]) : void 0 : 4 == a.length && (this[a[0]] = s ? a[3].call(this, s.replace(a[1], a[2])) : void 0) : this[a] = s || void 0;
                            l += 2
                        }
                    },
                    str: function(e, t) {
                        for (var i in t)
                            if ("object" == typeof t[i] && t[i].length > 0) {
                                for (var n = 0; n < t[i].length; n++)
                                    if (p.has(t[i][n], e)) return "?" === i ? void 0 : i
                            } else if (p.has(t[i], e)) return "?" === i ? void 0 : i;
                        return e
                    }
                },
                m = {
                    browser: {
                        oldsafari: {
                            version: {
                                "1.0": "/8",
                                1.2: "/1",
                                1.3: "/3",
                                "2.0": "/412",
                                "2.0.2": "/416",
                                "2.0.3": "/417",
                                "2.0.4": "/419",
                                "?": "/"
                            }
                        }
                    },
                    device: {
                        amazon: {
                            model: {
                                "Fire Phone": ["SD", "KF"]
                            }
                        },
                        sprint: {
                            model: {
                                "Evo Shift 4G": "7373KT"
                            },
                            vendor: {
                                HTC: "APA",
                                Sprint: "Sprint"
                            }
                        }
                    },
                    os: {
                        windows: {
                            version: {
                                ME: "4.90",
                                "NT 3.11": "NT3.51",
                                "NT 4.0": "NT4.0",
                                2000: "NT 5.0",
                                XP: ["NT 5.1", "NT 5.2"],
                                Vista: "NT 6.0",
                                7: "NT 6.1",
                                8: "NT 6.2",
                                8.1: "NT 6.3",
                                10: ["NT 6.4", "NT 10.0"],
                                RT: "ARM"
                            }
                        }
                    }
                },
                g = {
                    browser: [
                        [/(opera\smini)\/([\w\.-]+)/i, /(opera\s[mobiletab]+).+version\/([\w\.-]+)/i, /(opera).+version\/([\w\.]+)/i, /(opera)[\/\s]+([\w\.]+)/i],
                        [s, u],
                        [/(opios)[\/\s]+([\w\.]+)/i],
                        [
                            [s, "Opera Mini"], u
                        ],
                        [/\s(opr)\/([\w\.]+)/i],
                        [
                            [s, "Opera"], u
                        ],
                        [/(kindle)\/([\w\.]+)/i, /(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i, /(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i, /(?:ms|\()(ie)\s([\w\.]+)/i, /(rekonq)\/([\w\.]*)/i, /(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\/([\w\.-]+)/i],
                        [s, u],
                        [/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],
                        [
                            [s, "IE"], u
                        ],
                        [/(edge|edgios|edga)\/((\d+)?[\w\.]+)/i],
                        [
                            [s, "Edge"], u
                        ],
                        [/(yabrowser)\/([\w\.]+)/i],
                        [
                            [s, "Yandex"], u
                        ],
                        [/(puffin)\/([\w\.]+)/i],
                        [
                            [s, "Puffin"], u
                        ],
                        [/(focus)\/([\w\.]+)/i],
                        [
                            [s, "Firefox Focus"], u
                        ],
                        [/(opt)\/([\w\.]+)/i],
                        [
                            [s, "Opera Touch"], u
                        ],
                        [/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],
                        [
                            [s, "UCBrowser"], u
                        ],
                        [/(comodo_dragon)\/([\w\.]+)/i],
                        [
                            [s, /_/g, " "], u
                        ],
                        [/(micromessenger)\/([\w\.]+)/i],
                        [
                            [s, "WeChat"], u
                        ],
                        [/(brave)\/([\w\.]+)/i],
                        [
                            [s, "Brave"], u
                        ],
                        [/(qqbrowserlite)\/([\w\.]+)/i],
                        [s, u],
                        [/(QQ)\/([\d\.]+)/i],
                        [s, u],
                        [/m?(qqbrowser)[\/\s]?([\w\.]+)/i],
                        [s, u],
                        [/(BIDUBrowser)[\/\s]?([\w\.]+)/i],
                        [s, u],
                        [/(2345Explorer)[\/\s]?([\w\.]+)/i],
                        [s, u],
                        [/(MetaSr)[\/\s]?([\w\.]+)/i],
                        [s],
                        [/(LBBROWSER)/i],
                        [s],
                        [/xiaomi\/miuibrowser\/([\w\.]+)/i],
                        [u, [s, "MIUI Browser"]],
                        [/;fbav\/([\w\.]+);/i],
                        [u, [s, "Facebook"]],
                        [/safari\s(line)\/([\w\.]+)/i, /android.+(line)\/([\w\.]+)\/iab/i],
                        [s, u],
                        [/headlesschrome(?:\/([\w\.]+)|\s)/i],
                        [u, [s, "Chrome Headless"]],
                        [/\swv\).+(chrome)\/([\w\.]+)/i],
                        [
                            [s, /(.+)/, "$1 WebView"], u
                        ],
                        [/((?:oculus|samsung)browser)\/([\w\.]+)/i],
                        [
                            [s, /(.+(?:g|us))(.+)/, "$1 $2"], u
                        ],
                        [/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],
                        [u, [s, "Android Browser"]],
                        [/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],
                        [s, u],
                        [/(dolfin)\/([\w\.]+)/i],
                        [
                            [s, "Dolphin"], u
                        ],
                        [/((?:android.+)crmo|crios)\/([\w\.]+)/i],
                        [
                            [s, "Chrome"], u
                        ],
                        [/(coast)\/([\w\.]+)/i],
                        [
                            [s, "Opera Coast"], u
                        ],
                        [/fxios\/([\w\.-]+)/i],
                        [u, [s, "Firefox"]],
                        [/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],
                        [u, [s, "Mobile Safari"]],
                        [/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],
                        [u, s],
                        [/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],
                        [
                            [s, "GSA"], u
                        ],
                        [/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],
                        [s, [u, f.str, m.browser.oldsafari.version]],
                        [/(konqueror)\/([\w\.]+)/i, /(webkit|khtml)\/([\w\.]+)/i],
                        [s, u],
                        [/(navigator|netscape)\/([\w\.-]+)/i],
                        [
                            [s, "Netscape"], u
                        ],
                        [/(swiftfox)/i, /(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i, /(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i, /(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i, /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i, /(links)\s\(([\w\.]+)/i, /(gobrowser)\/?([\w\.]*)/i, /(ice\s?browser)\/v?([\w\._]+)/i, /(mosaic)[\/\s]([\w\.]+)/i],
                        [s, u]
                    ],
                    cpu: [
                        [/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],
                        [
                            ["architecture", "amd64"]
                        ],
                        [/(ia32(?=;))/i],
                        [
                            ["architecture", p.lowerize]
                        ],
                        [/((?:i[346]|x)86)[;\)]/i],
                        [
                            ["architecture", "ia32"]
                        ],
                        [/windows\s(ce|mobile);\sppc;/i],
                        [
                            ["architecture", "arm"]
                        ],
                        [/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],
                        [
                            ["architecture", /ower/, "", p.lowerize]
                        ],
                        [/(sun4\w)[;\)]/i],
                        [
                            ["architecture", "sparc"]
                        ],
                        [/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],
                        [
                            ["architecture", p.lowerize]
                        ]
                    ],
                    device: [
                        [/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],
                        [o, c, [l, h]],
                        [/applecoremedia\/[\w\.]+ \((ipad)/],
                        [o, [c, "Apple"],
                            [l, h]
                        ],
                        [/(apple\s{0,1}tv)/i],
                        [
                            [o, "Apple TV"],
                            [c, "Apple"]
                        ],
                        [/(archos)\s(gamepad2?)/i, /(hp).+(touchpad)/i, /(hp).+(tablet)/i, /(kindle)\/([\w\.]+)/i, /\s(nook)[\w\s]+build\/(\w+)/i, /(dell)\s(strea[kpr\s\d]*[\dko])/i],
                        [c, o, [l, h]],
                        [/(kf[A-z]+)\sbuild\/.+silk\//i],
                        [o, [c, "Amazon"],
                            [l, h]
                        ],
                        [/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],
                        [
                            [o, f.str, m.device.amazon.model],
                            [c, "Amazon"],
                            [l, d]
                        ],
                        [/android.+aft([bms])\sbuild/i],
                        [o, [c, "Amazon"],
                            [l, "smarttv"]
                        ],
                        [/\((ip[honed|\s\w*]+);.+(apple)/i],
                        [o, c, [l, d]],
                        [/\((ip[honed|\s\w*]+);/i],
                        [o, [c, "Apple"],
                            [l, d]
                        ],
                        [/(blackberry)[\s-]?(\w+)/i, /(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i, /(hp)\s([\w\s]+\w)/i, /(asus)-?(\w+)/i],
                        [c, o, [l, d]],
                        [/\(bb10;\s(\w+)/i],
                        [o, [c, "BlackBerry"],
                            [l, d]
                        ],
                        [/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],
                        [o, [c, "Asus"],
                            [l, h]
                        ],
                        [/(sony)\s(tablet\s[ps])\sbuild\//i, /(sony)?(?:sgp.+)\sbuild\//i],
                        [
                            [c, "Sony"],
                            [o, "Xperia Tablet"],
                            [l, h]
                        ],
                        [/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],
                        [o, [c, "Sony"],
                            [l, d]
                        ],
                        [/\s(ouya)\s/i, /(nintendo)\s([wids3u]+)/i],
                        [c, o, [l, "console"]],
                        [/android.+;\s(shield)\sbuild/i],
                        [o, [c, "Nvidia"],
                            [l, "console"]
                        ],
                        [/(playstation\s[34portablevi]+)/i],
                        [o, [c, "Sony"],
                            [l, "console"]
                        ],
                        [/(sprint\s(\w+))/i],
                        [
                            [c, f.str, m.device.sprint.vendor],
                            [o, f.str, m.device.sprint.model],
                            [l, d]
                        ],
                        [/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],
                        [c, o, [l, h]],
                        [/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i, /(zte)-(\w*)/i, /(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],
                        [c, [o, /_/g, " "],
                            [l, d]
                        ],
                        [/(nexus\s9)/i],
                        [o, [c, "HTC"],
                            [l, h]
                        ],
                        [/d\/huawei([\w\s-]+)[;\)]/i, /(nexus\s6p)/i],
                        [o, [c, "Huawei"],
                            [l, d]
                        ],
                        [/(microsoft);\s(lumia[\s\w]+)/i],
                        [c, o, [l, d]],
                        [/[\s\(;](xbox(?:\sone)?)[\s\);]/i],
                        [o, [c, "Microsoft"],
                            [l, "console"]
                        ],
                        [/(kin\.[onetw]{3})/i],
                        [
                            [o, /\./g, " "],
                            [c, "Microsoft"],
                            [l, d]
                        ],
                        [/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i, /mot[\s-]?(\w*)/i, /(XT\d{3,4}) build\//i, /(nexus\s6)/i],
                        [o, [c, "Motorola"],
                            [l, d]
                        ],
                        [/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],
                        [o, [c, "Motorola"],
                            [l, h]
                        ],
                        [/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],
                        [
                            [c, p.trim],
                            [o, p.trim],
                            [l, "smarttv"]
                        ],
                        [/hbbtv.+maple;(\d+)/i],
                        [
                            [o, /^/, "SmartTV"],
                            [c, "Samsung"],
                            [l, "smarttv"]
                        ],
                        [/\(dtv[\);].+(aquos)/i],
                        [o, [c, "Sharp"],
                            [l, "smarttv"]
                        ],
                        [/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i, /((SM-T\w+))/i],
                        [
                            [c, "Samsung"], o, [l, h]
                        ],
                        [/smart-tv.+(samsung)/i],
                        [c, [l, "smarttv"], o],
                        [/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i, /(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i, /sec-((sgh\w+))/i],
                        [
                            [c, "Samsung"], o, [l, d]
                        ],
                        [/sie-(\w*)/i],
                        [o, [c, "Siemens"],
                            [l, d]
                        ],
                        [/(maemo|nokia).*(n900|lumia\s\d+)/i, /(nokia)[\s_-]?([\w-]*)/i],
                        [
                            [c, "Nokia"], o, [l, d]
                        ],
                        [/android\s3\.[\s\w;-]{10}(a\d{3})/i],
                        [o, [c, "Acer"],
                            [l, h]
                        ],
                        [/android.+([vl]k\-?\d{3})\s+build/i],
                        [o, [c, "LG"],
                            [l, h]
                        ],
                        [/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],
                        [
                            [c, "LG"], o, [l, h]
                        ],
                        [/(lg) netcast\.tv/i],
                        [c, o, [l, "smarttv"]],
                        [/(nexus\s[45])/i, /lg[e;\s\/-]+(\w*)/i, /android.+lg(\-?[\d\w]+)\s+build/i],
                        [o, [c, "LG"],
                            [l, d]
                        ],
                        [/android.+(ideatab[a-z0-9\-\s]+)/i],
                        [o, [c, "Lenovo"],
                            [l, h]
                        ],
                        [/linux;.+((jolla));/i],
                        [c, o, [l, d]],
                        [/((pebble))app\/[\d\.]+\s/i],
                        [c, o, [l, "wearable"]],
                        [/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],
                        [c, o, [l, d]],
                        [/crkey/i],
                        [
                            [o, "Chromecast"],
                            [c, "Google"]
                        ],
                        [/android.+;\s(glass)\s\d/i],
                        [o, [c, "Google"],
                            [l, "wearable"]
                        ],
                        [/android.+;\s(pixel c)[\s)]/i],
                        [o, [c, "Google"],
                            [l, h]
                        ],
                        [/android.+;\s(pixel( [23])?( xl)?)\s/i],
                        [o, [c, "Google"],
                            [l, d]
                        ],
                        [/android.+;\s(\w+)\s+build\/hm\1/i, /android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i, /android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i, /android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],
                        [
                            [o, /_/g, " "],
                            [c, "Xiaomi"],
                            [l, d]
                        ],
                        [/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],
                        [
                            [o, /_/g, " "],
                            [c, "Xiaomi"],
                            [l, h]
                        ],
                        [/android.+;\s(m[1-5]\snote)\sbuild/i],
                        [o, [c, "Meizu"],
                            [l, h]
                        ],
                        [/(mz)-([\w-]{2,})/i],
                        [
                            [c, "Meizu"], o, [l, d]
                        ],
                        [/android.+a000(1)\s+build/i, /android.+oneplus\s(a\d{4})\s+build/i],
                        [o, [c, "OnePlus"],
                            [l, d]
                        ],
                        [/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],
                        [o, [c, "RCA"],
                            [l, h]
                        ],
                        [/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],
                        [o, [c, "Dell"],
                            [l, h]
                        ],
                        [/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],
                        [o, [c, "Verizon"],
                            [l, h]
                        ],
                        [/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],
                        [
                            [c, "Barnes & Noble"], o, [l, h]
                        ],
                        [/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],
                        [o, [c, "NuVision"],
                            [l, h]
                        ],
                        [/android.+;\s(k88)\sbuild/i],
                        [o, [c, "ZTE"],
                            [l, h]
                        ],
                        [/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],
                        [o, [c, "Swiss"],
                            [l, d]
                        ],
                        [/android.+[;\/]\s*(zur\d{3})\s+build/i],
                        [o, [c, "Swiss"],
                            [l, h]
                        ],
                        [/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],
                        [o, [c, "Zeki"],
                            [l, h]
                        ],
                        [/(android).+[;\/]\s+([YR]\d{2})\s+build/i, /android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],
                        [
                            [c, "Dragon Touch"], o, [l, h]
                        ],
                        [/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],
                        [o, [c, "Insignia"],
                            [l, h]
                        ],
                        [/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],
                        [o, [c, "NextBook"],
                            [l, h]
                        ],
                        [/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],
                        [
                            [c, "Voice"], o, [l, d]
                        ],
                        [/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],
                        [
                            [c, "LvTel"], o, [l, d]
                        ],
                        [/android.+;\s(PH-1)\s/i],
                        [o, [c, "Essential"],
                            [l, d]
                        ],
                        [/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],
                        [o, [c, "Envizen"],
                            [l, h]
                        ],
                        [/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],
                        [c, o, [l, h]],
                        [/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],
                        [o, [c, "MachSpeed"],
                            [l, h]
                        ],
                        [/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],
                        [c, o, [l, h]],
                        [/android.+[;\/]\s*TU_(1491)\s+build/i],
                        [o, [c, "Rotor"],
                            [l, h]
                        ],
                        [/android.+(KS(.+))\s+build/i],
                        [o, [c, "Amazon"],
                            [l, h]
                        ],
                        [/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],
                        [c, o, [l, h]],
                        [/\s(tablet|tab)[;\/]/i, /\s(mobile)(?:[;\/]|\ssafari)/i],
                        [
                            [l, p.lowerize], c, o
                        ],
                        [/(android[\w\.\s\-]{0,9});.+build/i],
                        [o, [c, "Generic"]]
                    ],
                    engine: [
                        [/windows.+\sedge\/([\w\.]+)/i],
                        [u, [s, "EdgeHTML"]],
                        [/(presto)\/([\w\.]+)/i, /(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i, /(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i, /(icab)[\/\s]([23]\.[\d\.]+)/i],
                        [s, u],
                        [/rv\:([\w\.]{1,9}).+(gecko)/i],
                        [u, s]
                    ],
                    os: [
                        [/microsoft\s(windows)\s(vista|xp)/i],
                        [s, u],
                        [/(windows)\snt\s6\.2;\s(arm)/i, /(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i, /(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],
                        [s, [u, f.str, m.os.windows.version]],
                        [/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],
                        [
                            [s, "Windows"],
                            [u, f.str, m.os.windows.version]
                        ],
                        [/\((bb)(10);/i],
                        [
                            [s, "BlackBerry"], u
                        ],
                        [/(blackberry)\w*\/?([\w\.]*)/i, /(tizen)[\/\s]([\w\.]+)/i, /(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i, /linux;.+(sailfish);/i],
                        [s, u],
                        [/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],
                        [
                            [s, "Symbian"], u
                        ],
                        [/\((series40);/i],
                        [s],
                        [/mozilla.+\(mobile;.+gecko.+firefox/i],
                        [
                            [s, "Firefox OS"], u
                        ],
                        [/(nintendo|playstation)\s([wids34portablevu]+)/i, /(mint)[\/\s\(]?(\w*)/i, /(mageia|vectorlinux)[;\s]/i, /(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i, /(hurd|linux)\s?([\w\.]*)/i, /(gnu)\s?([\w\.]*)/i],
                        [s, u],
                        [/(cros)\s[\w]+\s([\w\.]+\w)/i],
                        [
                            [s, "Chromium OS"], u
                        ],
                        [/(sunos)\s?([\w\.\d]*)/i],
                        [
                            [s, "Solaris"], u
                        ],
                        [/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],
                        [s, u],
                        [/(haiku)\s(\w+)/i],
                        [s, u],
                        [/cfnetwork\/.+darwin/i, /ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],
                        [
                            [u, /_/g, "."],
                            [s, "iOS"]
                        ],
                        [/(mac\sos\sx)\s?([\w\s\.]*)/i, /(macintosh|mac(?=_powerpc)\s)/i],
                        [
                            [s, "Mac OS"],
                            [u, /_/g, "."]
                        ],
                        [/((?:open)?solaris)[\/\s-]?([\w\.]*)/i, /(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i, /(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i, /(unix)\s?([\w\.]*)/i],
                        [s, u]
                    ]
                },
                y = function(e, t) {
                    if ("object" == typeof e && (t = e, e = void 0), !(this instanceof y)) return new y(e, t).getResult();
                    var i = e || (r && r.navigator && r.navigator.userAgent ? r.navigator.userAgent : ""),
                        n = t ? p.extend(g, t) : g;
                    return this.getBrowser = function() {
                        var e = {
                            name: void 0,
                            version: void 0
                        };
                        return f.rgx.call(e, i, n.browser), e.major = p.major(e.version), e
                    }, this.getCPU = function() {
                        var e = {
                            architecture: void 0
                        };
                        return f.rgx.call(e, i, n.cpu), e
                    }, this.getDevice = function() {
                        var e = {
                            vendor: void 0,
                            model: void 0,
                            type: void 0
                        };
                        return f.rgx.call(e, i, n.device), e
                    }, this.getEngine = function() {
                        var e = {
                            name: void 0,
                            version: void 0
                        };
                        return f.rgx.call(e, i, n.engine), e
                    }, this.getOS = function() {
                        var e = {
                            name: void 0,
                            version: void 0
                        };
                        return f.rgx.call(e, i, n.os), e
                    }, this.getResult = function() {
                        return {
                            ua: this.getUA(),
                            browser: this.getBrowser(),
                            engine: this.getEngine(),
                            os: this.getOS(),
                            device: this.getDevice(),
                            cpu: this.getCPU()
                        }
                    }, this.getUA = function() {
                        return i
                    }, this.setUA = function(e) {
                        return i = e, this
                    }, this
                };
            y.VERSION = "0.7.19", y.BROWSER = {
                NAME: s,
                MAJOR: "major",
                VERSION: u
            }, y.CPU = {
                ARCHITECTURE: "architecture"
            }, y.DEVICE = {
                MODEL: o,
                VENDOR: c,
                TYPE: l,
                CONSOLE: "console",
                MOBILE: d,
                SMARTTV: "smarttv",
                TABLET: h,
                WEARABLE: "wearable",
                EMBEDDED: "embedded"
            }, y.ENGINE = {
                NAME: s,
                VERSION: u
            }, y.OS = {
                NAME: s,
                VERSION: u
            }, void 0 !== t ? (void 0 !== e && e.exports && (t = e.exports = y), t.UAParser = y) : i(16) ? void 0 === (n = (function() {
                return y
            }).call(t, i, t, e)) || (e.exports = n) : r && (r.UAParser = y);
            var v = r && (r.jQuery || r.Zepto);
            if (void 0 !== v && !v.ua) {
                var b = new y;
                v.ua = b.getResult(), v.ua.get = function() {
                    return b.getUA()
                }, v.ua.set = function(e) {
                    b.setUA(e);
                    var t = b.getResult();
                    for (var i in t) v.ua[i] = t[i]
                }
            }
        }("object" == typeof window ? window : this)
    }, function(e, t, i) {
        "use strict";
        var n = {
            generateIdentifier: function() {
                return Math.random().toString(36).substr(2, 10)
            }
        };
        n.localCName = n.generateIdentifier(), n.splitLines = function(e) {
            return e.trim().split("\n").map(function(e) {
                return e.trim()
            })
        }, n.splitSections = function(e) {
            return e.split("\nm=").map(function(e, t) {
                return (t > 0 ? "m=" + e : e).trim() + "\r\n"
            })
        }, n.getDescription = function(e) {
            var t = n.splitSections(e);
            return t && t[0]
        }, n.getMediaSections = function(e) {
            var t = n.splitSections(e);
            return t.shift(), t
        }, n.matchPrefix = function(e, t) {
            return n.splitLines(e).filter(function(e) {
                return 0 === e.indexOf(t)
            })
        }, n.parseCandidate = function(e) {
            for (var t, i = {
                    foundation: (t = 0 === e.indexOf("a=candidate:") ? e.substring(12).split(" ") : e.substring(10).split(" "))[0],
                    component: parseInt(t[1], 10),
                    protocol: t[2].toLowerCase(),
                    priority: parseInt(t[3], 10),
                    ip: t[4],
                    port: parseInt(t[5], 10),
                    type: t[7]
                }, n = 8; n < t.length; n += 2) switch (t[n]) {
                case "raddr":
                    i.relatedAddress = t[n + 1];
                    break;
                case "rport":
                    i.relatedPort = parseInt(t[n + 1], 10);
                    break;
                case "tcptype":
                    i.tcpType = t[n + 1];
                    break;
                case "ufrag":
                    i.ufrag = t[n + 1], i.usernameFragment = t[n + 1];
                    break;
                default:
                    i[t[n]] = t[n + 1]
            }
            return i
        }, n.writeCandidate = function(e) {
            var t = [];
            t.push(e.foundation), t.push(e.component), t.push(e.protocol.toUpperCase()), t.push(e.priority), t.push(e.ip), t.push(e.port);
            var i = e.type;
            return t.push("typ"), t.push(i), "host" !== i && e.relatedAddress && e.relatedPort && (t.push("raddr"), t.push(e.relatedAddress), t.push("rport"), t.push(e.relatedPort)), e.tcpType && "tcp" === e.protocol.toLowerCase() && (t.push("tcptype"), t.push(e.tcpType)), (e.usernameFragment || e.ufrag) && (t.push("ufrag"), t.push(e.usernameFragment || e.ufrag)), "candidate:" + t.join(" ")
        }, n.parseIceOptions = function(e) {
            return e.substr(14).split(" ")
        }, n.parseRtpMap = function(e) {
            var t = e.substr(9).split(" "),
                i = {
                    payloadType: parseInt(t.shift(), 10)
                };
            return t = t[0].split("/"), i.name = t[0], i.clockRate = parseInt(t[1], 10), i.channels = 3 === t.length ? parseInt(t[2], 10) : 1, i.numChannels = i.channels, i
        }, n.writeRtpMap = function(e) {
            var t = e.payloadType;
            void 0 !== e.preferredPayloadType && (t = e.preferredPayloadType);
            var i = e.channels || e.numChannels || 1;
            return "a=rtpmap:" + t + " " + e.name + "/" + e.clockRate + (1 !== i ? "/" + i : "") + "\r\n"
        }, n.parseExtmap = function(e) {
            var t = e.substr(9).split(" ");
            return {
                id: parseInt(t[0], 10),
                direction: t[0].indexOf("/") > 0 ? t[0].split("/")[1] : "sendrecv",
                uri: t[1]
            }
        }, n.writeExtmap = function(e) {
            return "a=extmap:" + (e.id || e.preferredId) + (e.direction && "sendrecv" !== e.direction ? "/" + e.direction : "") + " " + e.uri + "\r\n"
        }, n.parseFmtp = function(e) {
            for (var t, i = {}, n = e.substr(e.indexOf(" ") + 1).split(";"), r = 0; r < n.length; r++) i[(t = n[r].trim().split("="))[0].trim()] = t[1];
            return i
        }, n.writeFmtp = function(e) {
            var t = "",
                i = e.payloadType;
            if (void 0 !== e.preferredPayloadType && (i = e.preferredPayloadType), e.parameters && Object.keys(e.parameters).length) {
                var n = [];
                Object.keys(e.parameters).forEach(function(t) {
                    n.push(e.parameters[t] ? t + "=" + e.parameters[t] : t)
                }), t += "a=fmtp:" + i + " " + n.join(";") + "\r\n"
            }
            return t
        }, n.parseRtcpFb = function(e) {
            var t = e.substr(e.indexOf(" ") + 1).split(" ");
            return {
                type: t.shift(),
                parameter: t.join(" ")
            }
        }, n.writeRtcpFb = function(e) {
            var t = "",
                i = e.payloadType;
            return void 0 !== e.preferredPayloadType && (i = e.preferredPayloadType), e.rtcpFeedback && e.rtcpFeedback.length && e.rtcpFeedback.forEach(function(e) {
                t += "a=rtcp-fb:" + i + " " + e.type + (e.parameter && e.parameter.length ? " " + e.parameter : "") + "\r\n"
            }), t
        }, n.parseSsrcMedia = function(e) {
            var t = e.indexOf(" "),
                i = {
                    ssrc: parseInt(e.substr(7, t - 7), 10)
                },
                n = e.indexOf(":", t);
            return n > -1 ? (i.attribute = e.substr(t + 1, n - t - 1), i.value = e.substr(n + 1)) : i.attribute = e.substr(t + 1), i
        }, n.getMid = function(e) {
            var t = n.matchPrefix(e, "a=mid:")[0];
            if (t) return t.substr(6)
        }, n.parseFingerprint = function(e) {
            var t = e.substr(14).split(" ");
            return {
                algorithm: t[0].toLowerCase(),
                value: t[1]
            }
        }, n.getDtlsParameters = function(e, t) {
            return {
                role: "auto",
                fingerprints: n.matchPrefix(e + t, "a=fingerprint:").map(n.parseFingerprint)
            }
        }, n.writeDtlsParameters = function(e, t) {
            var i = "a=setup:" + t + "\r\n";
            return e.fingerprints.forEach(function(e) {
                i += "a=fingerprint:" + e.algorithm + " " + e.value + "\r\n"
            }), i
        }, n.getIceParameters = function(e, t) {
            var i = n.splitLines(e);
            return {
                usernameFragment: (i = i.concat(n.splitLines(t))).filter(function(e) {
                    return 0 === e.indexOf("a=ice-ufrag:")
                })[0].substr(12),
                password: i.filter(function(e) {
                    return 0 === e.indexOf("a=ice-pwd:")
                })[0].substr(10)
            }
        }, n.writeIceParameters = function(e) {
            return "a=ice-ufrag:" + e.usernameFragment + "\r\na=ice-pwd:" + e.password + "\r\n"
        }, n.parseRtpParameters = function(e) {
            for (var t = {
                    codecs: [],
                    headerExtensions: [],
                    fecMechanisms: [],
                    rtcp: []
                }, i = n.splitLines(e)[0].split(" "), r = 3; r < i.length; r++) {
                var a = i[r],
                    o = n.matchPrefix(e, "a=rtpmap:" + a + " ")[0];
                if (o) {
                    var s = n.parseRtpMap(o),
                        l = n.matchPrefix(e, "a=fmtp:" + a + " ");
                    switch (s.parameters = l.length ? n.parseFmtp(l[0]) : {}, s.rtcpFeedback = n.matchPrefix(e, "a=rtcp-fb:" + a + " ").map(n.parseRtcpFb), t.codecs.push(s), s.name.toUpperCase()) {
                        case "RED":
                        case "ULPFEC":
                            t.fecMechanisms.push(s.name.toUpperCase())
                    }
                }
            }
            return n.matchPrefix(e, "a=extmap:").forEach(function(e) {
                t.headerExtensions.push(n.parseExtmap(e))
            }), t
        }, n.writeRtpDescription = function(e, t) {
            var i = "";
            i += "m=" + e + " ", i += t.codecs.length > 0 ? "9" : "0", i += " UDP/TLS/RTP/SAVPF ", i += t.codecs.map(function(e) {
                return void 0 !== e.preferredPayloadType ? e.preferredPayloadType : e.payloadType
            }).join(" ") + "\r\n", i += "c=IN IP4 0.0.0.0\r\n", i += "a=rtcp:9 IN IP4 0.0.0.0\r\n", t.codecs.forEach(function(e) {
                i += n.writeRtpMap(e), i += n.writeFmtp(e), i += n.writeRtcpFb(e)
            });
            var r = 0;
            return t.codecs.forEach(function(e) {
                e.maxptime > r && (r = e.maxptime)
            }), r > 0 && (i += "a=maxptime:" + r + "\r\n"), i += "a=rtcp-mux\r\n", t.headerExtensions && t.headerExtensions.forEach(function(e) {
                i += n.writeExtmap(e)
            }), i
        }, n.parseRtpEncodingParameters = function(e) {
            var t, i = [],
                r = n.parseRtpParameters(e),
                a = -1 !== r.fecMechanisms.indexOf("RED"),
                o = -1 !== r.fecMechanisms.indexOf("ULPFEC"),
                s = n.matchPrefix(e, "a=ssrc:").map(function(e) {
                    return n.parseSsrcMedia(e)
                }).filter(function(e) {
                    return "cname" === e.attribute
                }),
                l = s.length > 0 && s[0].ssrc,
                c = n.matchPrefix(e, "a=ssrc-group:FID").map(function(e) {
                    return e.substr(17).split(" ").map(function(e) {
                        return parseInt(e, 10)
                    })
                });
            c.length > 0 && c[0].length > 1 && c[0][0] === l && (t = c[0][1]), r.codecs.forEach(function(e) {
                if ("RTX" === e.name.toUpperCase() && e.parameters.apt) {
                    var n = {
                        ssrc: l,
                        codecPayloadType: parseInt(e.parameters.apt, 10)
                    };
                    l && t && (n.rtx = {
                        ssrc: t
                    }), i.push(n), a && ((n = JSON.parse(JSON.stringify(n))).fec = {
                        ssrc: t,
                        mechanism: o ? "red+ulpfec" : "red"
                    }, i.push(n))
                }
            }), 0 === i.length && l && i.push({
                ssrc: l
            });
            var u = n.matchPrefix(e, "b=");
            return u.length && (u = 0 === u[0].indexOf("b=TIAS:") ? parseInt(u[0].substr(7), 10) : 0 === u[0].indexOf("b=AS:") ? 1e3 * parseInt(u[0].substr(5), 10) * .95 - 16e3 : void 0, i.forEach(function(e) {
                e.maxBitrate = u
            })), i
        }, n.parseRtcpParameters = function(e) {
            var t = {},
                i = n.matchPrefix(e, "a=ssrc:").map(function(e) {
                    return n.parseSsrcMedia(e)
                }).filter(function(e) {
                    return "cname" === e.attribute
                })[0];
            i && (t.cname = i.value, t.ssrc = i.ssrc);
            var r = n.matchPrefix(e, "a=rtcp-rsize");
            t.reducedSize = r.length > 0, t.compound = 0 === r.length;
            var a = n.matchPrefix(e, "a=rtcp-mux");
            return t.mux = a.length > 0, t
        }, n.parseMsid = function(e) {
            var t, i = n.matchPrefix(e, "a=msid:");
            if (1 === i.length) return {
                stream: (t = i[0].substr(7).split(" "))[0],
                track: t[1]
            };
            var r = n.matchPrefix(e, "a=ssrc:").map(function(e) {
                return n.parseSsrcMedia(e)
            }).filter(function(e) {
                return "msid" === e.attribute
            });
            return r.length > 0 ? {
                stream: (t = r[0].value.split(" "))[0],
                track: t[1]
            } : void 0
        }, n.generateSessionId = function() {
            return Math.random().toString().substr(2, 21)
        }, n.writeSessionBoilerplate = function(e, t) {
            var i = void 0 !== t ? t : 2;
            return "v=0\r\no=thisisadapterortc " + (e || n.generateSessionId()) + " " + i + " IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"
        }, n.writeMediaSection = function(e, t, i, r) {
            var a = n.writeRtpDescription(e.kind, t);
            if (a += n.writeIceParameters(e.iceGatherer.getLocalParameters()), a += n.writeDtlsParameters(e.dtlsTransport.getLocalParameters(), "offer" === i ? "actpass" : "active"), a += "a=mid:" + e.mid + "\r\n", a += e.direction ? "a=" + e.direction + "\r\n" : e.rtpSender && e.rtpReceiver ? "a=sendrecv\r\n" : e.rtpSender ? "a=sendonly\r\n" : e.rtpReceiver ? "a=recvonly\r\n" : "a=inactive\r\n", e.rtpSender) {
                var o = "msid:" + r.id + " " + e.rtpSender.track.id + "\r\n";
                a += "a=" + o, a += "a=ssrc:" + e.sendEncodingParameters[0].ssrc + " " + o, e.sendEncodingParameters[0].rtx && (a += "a=ssrc:" + e.sendEncodingParameters[0].rtx.ssrc + " " + o, a += "a=ssrc-group:FID " + e.sendEncodingParameters[0].ssrc + " " + e.sendEncodingParameters[0].rtx.ssrc + "\r\n")
            }
            return a += "a=ssrc:" + e.sendEncodingParameters[0].ssrc + " cname:" + n.localCName + "\r\n", e.rtpSender && e.sendEncodingParameters[0].rtx && (a += "a=ssrc:" + e.sendEncodingParameters[0].rtx.ssrc + " cname:" + n.localCName + "\r\n"), a
        }, n.getDirection = function(e, t) {
            for (var i = n.splitLines(e), r = 0; r < i.length; r++) switch (i[r]) {
                case "a=sendrecv":
                case "a=sendonly":
                case "a=recvonly":
                case "a=inactive":
                    return i[r].substr(2)
            }
            return t ? n.getDirection(t) : "sendrecv"
        }, n.getKind = function(e) {
            return n.splitLines(e)[0].split(" ")[0].substr(2)
        }, n.isRejected = function(e) {
            return "0" === e.split(" ", 2)[1]
        }, n.parseMLine = function(e) {
            var t = n.splitLines(e)[0].substr(2).split(" ");
            return {
                kind: t[0],
                port: parseInt(t[1], 10),
                protocol: t[2],
                fmt: t.slice(3).join(" ")
            }
        }, n.parseOLine = function(e) {
            var t = n.matchPrefix(e, "o=")[0].substr(2).split(" ");
            return {
                username: t[0],
                sessionId: t[1],
                sessionVersion: parseInt(t[2], 10),
                netType: t[3],
                addressType: t[4],
                address: t[5]
            }
        }, e.exports = n
    }, function(e, t, i) {
        (function(e) {
            const t = i(4).default;
            e.adapter = t, t.disableLog(!0);
            var n = i(17);
            e.parser = new n;
            const r = i(1),
                a = {
                    clients: []
                },
                o = i(15),
                s = "[PropsVideo]",
                l = i(13),
                c = i(7),
                u = i(6),
                d = i(5);
            let h = e => (a.clients = a.clients.filter(t => t.clientId !== e), !0);
            e.PropsVideo = {
                version: r.VERSION,
                init: t => {
                    const i = {
                        SignalingModule: new c,
                        Logger: o,
                        MediaModule: new u,
                        PeerConnectionModule: new d
                    };
                    o.init(t.logs), o.setAdditionalValues({
                        version: `js-${r.VERSION}`,
                        wsUrl: t.wsUrl,
                        userId: t.userId,
                        applicationId: t.applicationId,
                        device: `${e.parser.getBrowser().name}-${e.parser.getBrowser().version}`,
                        os: `${e.parser.getOS().name}-${e.parser.getOS().version}`
                    }), a.clients.length && o.warn(s, "A Client was already initialized, be careful - use one client per connection"), o.debug(s, "Initializing...");
                    try {
                        const n = new l(t, h, i);
                        return a.clients.push(n), n
                    } catch (e) {
                        throw o.error(s, e.message), e
                    }
                }
            }
        }).call(this, i(2))
    }]),
    function(e) {
        if ("object" == typeof exports && "undefined" != typeof module) module.exports = e();
        else if ("function" == typeof define && define.amd) define([], e);
        else {
            var t;
            ((t = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this).braintree || (t.braintree = {})).dropin = e()
        }
    }(function() {
        return function e(t, i, n) {
            function r(o, s) {
                if (!i[o]) {
                    if (!t[o]) {
                        var l = "function" == typeof require && require;
                        if (!s && l) return l(o, !0);
                        if (a) return a(o, !0);
                        var c = new Error("Cannot find module '" + o + "'");
                        throw c.code = "MODULE_NOT_FOUND", c
                    }
                    var u = i[o] = {
                        exports: {}
                    };
                    t[o][0].call(u.exports, function(e) {
                        return r(t[o][1][e] || e)
                    }, u, u.exports, e, t, i, n)
                }
                return i[o].exports
            }
            for (var a = "function" == typeof require && require, o = 0; o < n.length; o++) r(n[o]);
            return r
        }({
            1: [function(e, t, i) {
                "use strict";
                var n = e("./load-script"),
                    r = e("./load-stylesheet");
                t.exports = {
                    loadScript: n,
                    loadStylesheet: r
                }
            }, {
                "./load-script": 3,
                "./load-stylesheet": 4
            }],
            2: [function(e, t, i) {
                (function(i) {
                    "use strict";
                    var n = e("promise-polyfill");
                    t.exports = i.Promise || n
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {
                "promise-polyfill": 118
            }],
            3: [function(e, t, i) {
                "use strict";
                var n = e("./lib/promise");
                t.exports = function(e) {
                    var t, i, r;
                    return !e.forceScriptReload && (r = document.querySelector('script[src="' + e.src + '"]')) ? n.resolve(r) : (r = document.createElement("script"), t = e.dataAttributes || {}, i = e.container || document.head, r.src = e.src, r.id = e.id, r.async = !0, Object.keys(t).forEach(function(e) {
                        r.setAttribute("data-" + e, t[e])
                    }), new n(function(t, n) {
                        r.addEventListener("load", function() {
                            t(r)
                        }), r.addEventListener("error", function() {
                            n(new Error(e.src + " failed to load."))
                        }), r.addEventListener("abort", function() {
                            n(new Error(e.src + " has aborted."))
                        }), i.appendChild(r)
                    }))
                }
            }, {
                "./lib/promise": 2
            }],
            4: [function(e, t, i) {
                "use strict";
                var n = e("./lib/promise");
                t.exports = function(e) {
                    var t, i = document.querySelector('link[href="' + e.href + '"]');
                    return i || (i = document.createElement("link"), t = e.container || document.head, i.setAttribute("rel", "stylesheet"), i.setAttribute("type", "text/css"), i.setAttribute("href", e.href), i.setAttribute("id", e.id), t.firstChild ? t.insertBefore(i, t.firstChild) : t.appendChild(i)), n.resolve(i)
                }
            }, {
                "./lib/promise": 2
            }],
            5: [function(e, t, i) {
                (function(e) {
                    "use strict";
                    t.exports = function(t) {
                        return /Android/.test(t = t || e.navigator.userAgent)
                    }
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {}],
            6: [function(e, t, i) {
                "use strict";
                var n = e("./is-edge"),
                    r = e("./is-samsung");
                t.exports = function(e) {
                    return !(-1 === (e = e || navigator.userAgent).indexOf("Chrome") && -1 === e.indexOf("CriOS") || n(e) || r(e))
                }
            }, {
                "./is-edge": 7,
                "./is-samsung": 17
            }],
            7: [function(e, t, i) {
                "use strict";
                t.exports = function(e) {
                    return -1 !== (e = e || navigator.userAgent).indexOf("Edge/")
                }
            }, {}],
            8: [function(e, t, i) {
                (function(i) {
                    "use strict";
                    var n = e("./is-ie11");
                    t.exports = function(e) {
                        return -1 !== (e = e || i.navigator.userAgent).indexOf("MSIE") || n(e)
                    }
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {
                "./is-ie11": 10
            }],
            9: [function(e, t, i) {
                "use strict";
                t.exports = function(e) {
                    return -1 !== (e = e || navigator.userAgent).indexOf("MSIE 10")
                }
            }, {}],
            10: [function(e, t, i) {
                "use strict";
                t.exports = function(e) {
                    return -1 !== (e = e || navigator.userAgent).indexOf("Trident/7")
                }
            }, {}],
            11: [function(e, t, i) {
                "use strict";
                t.exports = function(e) {
                    return -1 !== (e = e || navigator.userAgent).indexOf("MSIE 9")
                }
            }, {}],
            12: [function(e, t, i) {
                (function(e) {
                    "use strict";
                    t.exports = function(t) {
                        return /FxiOS/i.test(t = t || e.navigator.userAgent)
                    }
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {}],
            13: [function(e, t, i) {
                "use strict";
                var n = e("./is-ios"),
                    r = /webkit/i;
                t.exports = function(e) {
                    return e = e || navigator.userAgent, n(e) && e.match(r) && -1 === e.indexOf("CriOS")
                }
            }, {
                "./is-ios": 15
            }],
            14: [function(e, t, i) {
                (function(i) {
                    "use strict";
                    var n = e("./is-ios");
                    t.exports = function(e) {
                        return !!n(e = e || i.navigator.userAgent) && (!!/\bGSA\b/.test(e) || /.+AppleWebKit(?!.*Safari)/.test(e))
                    }
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {
                "./is-ios": 15
            }],
            15: [function(e, t, i) {
                (function(e) {
                    "use strict";
                    t.exports = function(t) {
                        return /iPhone|iPod|iPad/i.test(t = t || e.navigator.userAgent)
                    }
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {}],
            16: [function(e, t, i) {
                (function(i) {
                    "use strict";
                    var n = e("./is-ios-firefox");
                    t.exports = function(e) {
                        return n(e = e || i.navigator.userAgent) || /iPhone|iPod|iPad|Mobile|Tablet/i.test(e) && /Firefox/i.test(e)
                    }
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {
                "./is-ios-firefox": 12
            }],
            17: [function(e, t, i) {
                (function(e) {
                    "use strict";
                    t.exports = function(t) {
                        return /SamsungBrowser/i.test(t = t || e.navigator.userAgent)
                    }
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {}],
            18: [function(e, t, i) {
                "use strict";

                function n(e) {
                    return e.className.trim().split(/\s+/)
                }

                function r(e) {
                    var t = Array.prototype.slice.call(arguments, 1),
                        i = n(e).filter(function(e) {
                            return -1 === t.indexOf(e)
                        }).concat(t).join(" ");
                    e.className = i
                }

                function a(e) {
                    var t = Array.prototype.slice.call(arguments, 1),
                        i = n(e).filter(function(e) {
                            return -1 === t.indexOf(e)
                        }).join(" ");
                    e.className = i
                }
                t.exports = {
                    add: r,
                    remove: a,
                    toggle: function(e, t, i) {
                        i ? r(e, t) : a(e, t)
                    }
                }
            }, {}],
            19: [function(e, t, i) {
                "use strict";
                var n = e("./lib/set-attributes"),
                    r = e("./lib/default-attributes"),
                    a = e("./lib/assign");
                t.exports = function(e) {
                    var t = document.createElement("iframe"),
                        i = a({}, r, e);
                    return i.style && "string" != typeof i.style && (a(t.style, i.style), delete i.style), n(t, i), t.getAttribute("id") || (t.id = t.name), t
                }
            }, {
                "./lib/assign": 20,
                "./lib/default-attributes": 21,
                "./lib/set-attributes": 22
            }],
            20: [function(e, t, i) {
                "use strict";
                t.exports = function(e) {
                    return Array.prototype.slice.call(arguments, 1).forEach(function(t) {
                        "object" == typeof t && Object.keys(t).forEach(function(i) {
                            e[i] = t[i]
                        })
                    }), e
                }
            }, {}],
            21: [function(e, t, i) {
                "use strict";
                t.exports = {
                    src: "about:blank",
                    frameBorder: 0,
                    allowtransparency: !0,
                    scrolling: "no"
                }
            }, {}],
            22: [function(e, t, i) {
                "use strict";
                t.exports = function(e, t) {
                    var i;
                    for (var n in t) t.hasOwnProperty(n) && (null == (i = t[n]) ? e.removeAttribute(n) : e.setAttribute(n, i))
                }
            }, {}],
            23: [function(e, t, i) {
                "use strict";
                t.exports = function(e) {
                    return function() {
                        var t = arguments;
                        setTimeout(function() {
                            e.apply(null, t)
                        }, 1)
                    }
                }
            }, {}],
            24: [function(e, t, i) {
                "use strict";
                t.exports = function(e) {
                    var t = !1;
                    return function() {
                        t || (t = !0, e.apply(null, arguments))
                    }
                }
            }, {}],
            25: [function(e, t, i) {
                "use strict";
                t.exports = function(e, t) {
                    if (!t) return e;
                    e.then(function(e) {
                        t(null, e)
                    }).catch(function(e) {
                        t(e)
                    })
                }
            }, {}],
            26: [function(e, t, i) {
                "use strict";
                var n = e("./lib/deferred"),
                    r = e("./lib/once"),
                    a = e("./lib/promise-or-callback");

                function o(e) {
                    return function() {
                        var t, i = Array.prototype.slice.call(arguments);
                        return "function" == typeof i[i.length - 1] && (t = i.pop(), t = r(n(t))), a(e.apply(this, i), t)
                    }
                }
                o.wrapPrototype = function(e, t) {
                    var i, n;
                    return i = (t = t || {}).ignoreMethods || [], n = !0 === t.transformPrivateMethods, Object.getOwnPropertyNames(e.prototype).filter(function(t) {
                        var r, a = "constructor" !== t && "function" == typeof e.prototype[t],
                            o = -1 === i.indexOf(t);
                        return r = !!n || "_" !== t.charAt(0), a && r && o
                    }).forEach(function(t) {
                        e.prototype[t] = o(e.prototype[t])
                    }), e
                }, t.exports = o
            }, {
                "./lib/deferred": 23,
                "./lib/once": 24,
                "./lib/promise-or-callback": 25
            }],
            27: [function(e, t, i) {
                (function(i) {
                    "use strict";
                    var n = e("../lib/braintree-error"),
                        r = e("../lib/analytics"),
                        a = e("./errors"),
                        o = e("../lib/promise"),
                        s = e("../lib/methods"),
                        l = e("../lib/convert-methods-to-error"),
                        c = e("@braintree/wrap-promise");

                    function u(e) {
                        this._client = e.client, Object.defineProperty(this, "merchantIdentifier", {
                            value: this._client.getConfiguration().gatewayConfiguration.applePayWeb.merchantIdentifier,
                            configurable: !1,
                            writable: !1
                        })
                    }
                    u.prototype.createPaymentRequest = function(e) {
                        var t = this._client.getConfiguration().gatewayConfiguration.applePayWeb,
                            i = {
                                countryCode: t.countryCode,
                                currencyCode: t.currencyCode,
                                merchantCapabilities: t.merchantCapabilities || ["supports3DS"],
                                supportedNetworks: t.supportedNetworks.map(function(e) {
                                    return "mastercard" === e ? "masterCard" : e
                                })
                            };
                        return Object.assign({}, i, e)
                    }, u.prototype.performValidation = function(e) {
                        var t, s = this;
                        return e && e.validationURL ? (t = {
                            validationUrl: e.validationURL,
                            domainName: e.domainName || i.location.hostname,
                            merchantIdentifier: e.merchantIdentifier || this.merchantIdentifier
                        }, null != e.displayName && (t.displayName = e.displayName), this._client.request({
                            method: "post",
                            endpoint: "apple_pay_web/sessions",
                            data: {
                                _meta: {
                                    source: "apple-pay"
                                },
                                applePayWebSession: t
                            }
                        }).then(function(e) {
                            return r.sendEvent(s._client, "applepay.performValidation.succeeded"), o.resolve(e)
                        }).catch(function(e) {
                            return r.sendEvent(s._client, "applepay.performValidation.failed"), o.reject(new n("CLIENT_REQUEST_ERROR" === e.code ? {
                                type: a.APPLE_PAY_MERCHANT_VALIDATION_FAILED.type,
                                code: a.APPLE_PAY_MERCHANT_VALIDATION_FAILED.code,
                                message: a.APPLE_PAY_MERCHANT_VALIDATION_FAILED.message,
                                details: {
                                    originalError: e.details.originalError
                                }
                            } : {
                                type: a.APPLE_PAY_MERCHANT_VALIDATION_NETWORK.type,
                                code: a.APPLE_PAY_MERCHANT_VALIDATION_NETWORK.code,
                                message: a.APPLE_PAY_MERCHANT_VALIDATION_NETWORK.message,
                                details: {
                                    originalError: e
                                }
                            }))
                        })) : o.reject(new n(a.APPLE_PAY_VALIDATION_URL_REQUIRED))
                    }, u.prototype.tokenize = function(e) {
                        var t = this;
                        return e.token ? this._client.request({
                            method: "post",
                            endpoint: "payment_methods/apple_payment_tokens",
                            data: {
                                _meta: {
                                    source: "apple-pay"
                                },
                                applePaymentToken: Object.assign({}, e.token, {
                                    paymentData: btoa(JSON.stringify(e.token.paymentData))
                                })
                            }
                        }).then(function(e) {
                            return r.sendEvent(t._client, "applepay.tokenize.succeeded"), o.resolve(e.applePayCards[0])
                        }).catch(function(e) {
                            return r.sendEvent(t._client, "applepay.tokenize.failed"), o.reject(new n({
                                type: a.APPLE_PAY_TOKENIZATION.type,
                                code: a.APPLE_PAY_TOKENIZATION.code,
                                message: a.APPLE_PAY_TOKENIZATION.message,
                                details: {
                                    originalError: e
                                }
                            }))
                        }) : o.reject(new n(a.APPLE_PAY_PAYMENT_TOKEN_REQUIRED))
                    }, u.prototype.teardown = function() {
                        return l(this, s(u.prototype)), o.resolve()
                    }, t.exports = c.wrapPrototype(u)
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {
                "../lib/analytics": 67,
                "../lib/braintree-error": 72,
                "../lib/convert-methods-to-error": 77,
                "../lib/methods": 90,
                "../lib/promise": 92,
                "./errors": 28,
                "@braintree/wrap-promise": 26
            }],
            28: [function(e, t, i) {
                "use strict";
                var n = e("../lib/braintree-error");
                t.exports = {
                    APPLE_PAY_NOT_ENABLED: {
                        type: n.types.MERCHANT,
                        code: "APPLE_PAY_NOT_ENABLED",
                        message: "Apple Pay is not enabled for this merchant."
                    },
                    APPLE_PAY_VALIDATION_URL_REQUIRED: {
                        type: n.types.MERCHANT,
                        code: "APPLE_PAY_VALIDATION_URL_REQUIRED",
                        message: "performValidation must be called with a validationURL."
                    },
                    APPLE_PAY_MERCHANT_VALIDATION_NETWORK: {
                        type: n.types.NETWORK,
                        code: "APPLE_PAY_MERCHANT_VALIDATION_NETWORK",
                        message: "A network error occurred when validating the Apple Pay merchant."
                    },
                    APPLE_PAY_MERCHANT_VALIDATION_FAILED: {
                        type: n.types.MERCHANT,
                        code: "APPLE_PAY_MERCHANT_VALIDATION_FAILED",
                        message: "Make sure you have registered your domain name in the Braintree Control Panel."
                    },
                    APPLE_PAY_PAYMENT_TOKEN_REQUIRED: {
                        type: n.types.MERCHANT,
                        code: "APPLE_PAY_PAYMENT_TOKEN_REQUIRED",
                        message: "tokenize must be called with a payment token."
                    },
                    APPLE_PAY_TOKENIZATION: {
                        type: n.types.NETWORK,
                        code: "APPLE_PAY_TOKENIZATION",
                        message: "A network error occurred when processing the Apple Pay payment."
                    }
                }
            }, {
                "../lib/braintree-error": 72
            }],
            29: [function(e, t, i) {
                "use strict";
                var n = e("../lib/braintree-error"),
                    r = e("./apple-pay"),
                    a = e("../lib/analytics"),
                    o = e("../lib/basic-component-verification"),
                    s = e("./errors"),
                    l = e("../lib/promise"),
                    c = e("@braintree/wrap-promise");
                t.exports = {
                    create: c(function(e) {
                        return o.verify({
                            name: "Apple Pay",
                            client: e.client
                        }).then(function() {
                            return e.client.getConfiguration().gatewayConfiguration.applePayWeb ? (a.sendEvent(e.client, "applepay.initialized"), new r(e)) : l.reject(new n(s.APPLE_PAY_NOT_ENABLED))
                        })
                    }),
                    VERSION: "3.39.0"
                }
            }, {
                "../lib/analytics": 67,
                "../lib/basic-component-verification": 70,
                "../lib/braintree-error": 72,
                "../lib/promise": 92,
                "./apple-pay": 27,
                "./errors": 28,
                "@braintree/wrap-promise": 26
            }],
            30: [function(e, t, i) {
                "use strict";
                var n = e("@braintree/browser-detection/is-ie"),
                    r = e("@braintree/browser-detection/is-ie9");
                t.exports = {
                    isIe: n,
                    isIe9: r
                }
            }, {
                "@braintree/browser-detection/is-ie": 8,
                "@braintree/browser-detection/is-ie9": 11
            }],
            31: [function(e, t, i) {
                "use strict";
                var n = e("./constants").BRAINTREE_VERSION,
                    r = e("./request/graphql"),
                    a = e("./request"),
                    o = e("../lib/is-verified-domain"),
                    s = e("../lib/braintree-error"),
                    l = e("../lib/convert-to-braintree-error"),
                    c = e("../lib/create-authorization-data"),
                    u = e("./get-configuration").getConfiguration,
                    d = e("../lib/add-metadata"),
                    h = e("../lib/promise"),
                    p = e("@braintree/wrap-promise"),
                    f = e("../lib/once"),
                    m = e("../lib/deferred"),
                    g = e("../lib/assign").assign,
                    y = e("../lib/analytics"),
                    v = e("./constants"),
                    b = e("./errors"),
                    _ = e("../lib/errors"),
                    T = e("../lib/constants").VERSION,
                    S = e("../lib/constants").GRAPHQL_URLS,
                    E = e("../lib/methods"),
                    w = e("../lib/convert-methods-to-error"),
                    C = e("../lib/assets"),
                    k = e("../lib/constants").FRAUDNET_FNCLS,
                    P = e("../lib/constants").FRAUDNET_SOURCE,
                    A = e("../lib/constants").FRAUDNET_URL,
                    I = {};

                function L(e) {
                    var t, i, n;
                    if (e = e || {}, t = JSON.stringify(e), !(i = e.gatewayConfiguration)) throw new s(b.CLIENT_MISSING_GATEWAY_CONFIGURATION);
                    if (["assetsUrl", "clientApiUrl", "configUrl"].forEach(function(e) {
                            if (e in i && !o(i[e])) throw new s({
                                type: b.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,
                                code: b.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,
                                message: e + " property is on an invalid domain."
                            })
                        }), this.getConfiguration = function() {
                            return JSON.parse(t)
                        }, this._request = a, this._configuration = this.getConfiguration(), this._clientApiBaseUrl = i.clientApiUrl + "/v1/", (n = i.braintreeApi) && (this._braintreeApi = {
                            baseUrl: n.url + "/",
                            accessToken: n.accessToken
                        }, !o(this._braintreeApi.baseUrl))) throw new s({
                        type: b.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,
                        code: b.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,
                        message: "braintreeApi URL is on an invalid domain."
                    });
                    i.graphQL && (this._graphQL = new r({
                        graphQL: i.graphQL
                    }))
                }
                L.initialize = function(e) {
                    var t, i = I[e.authorization];
                    return i ? (y.sendEvent(i, "custom.client.load.cached"), i) : (i = u(e).then(function(i) {
                        return e.debug && (i.isDebug = !0), t = new L(i)
                    }), I[e.authorization] = i, y.sendEvent(i, "custom.client.load.initialized"), i.then(function(e) {
                        return y.sendEvent(t, "custom.client.load.succeeded"), e
                    }).catch(function(t) {
                        return delete I[e.authorization], h.reject(t)
                    }))
                }, L.clearCache = function() {
                    I = {}
                }, L.prototype._findOrCreateFraudnetJSON = function(e) {
                    var t, i, n, r, a = document.querySelector('script[fncls="' + k + '"]');
                    a || ((a = document.body.appendChild(document.createElement("script"))).type = "application/json", a.setAttribute("fncls", k)), t = this.getConfiguration(), i = {
                        rda_tenant: "bt_card",
                        mid: t.gatewayConfiguration.merchantId
                    }, (n = c(t.authorization).attrs.authorizationFingerprint) && n.split("&").forEach(function(e) {
                        var t = e.split("=");
                        "customer_id" === t[0] && 1 < t.length && (i.cid = t[1])
                    }), r = {
                        f: e.substr(0, 32),
                        fp: i,
                        bu: !1,
                        s: P
                    }, a.text = JSON.stringify(r)
                }, L.prototype.request = function(e, t) {
                    var i = this,
                        r = new h(function(t, r) {
                            var a, o, u, h, p, f = Boolean("payment_methods/credit_cards" === e.endpoint && i.getConfiguration().gatewayConfiguration.creditCards.collectDeviceData);
                            if ("graphQLApi" !== e.api && (e.method ? e.endpoint || (a = "options.endpoint") : a = "options.method"), a) throw new s({
                                type: b.CLIENT_OPTION_REQUIRED.type,
                                code: b.CLIENT_OPTION_REQUIRED.code,
                                message: a + " is required when making a request."
                            });
                            if (h = {
                                    method: e.method,
                                    graphQL: i._graphQL,
                                    timeout: e.timeout,
                                    metadata: i._configuration.analyticsMetadata
                                }, "clientApi" === (o = "api" in e ? e.api : "clientApi")) u = i._clientApiBaseUrl, h.data = d(i._configuration, e.data);
                            else if ("braintreeApi" === o) {
                                if (!i._braintreeApi) throw new s(_.BRAINTREE_API_ACCESS_RESTRICTED);
                                u = i._braintreeApi.baseUrl, h.data = e.data, h.headers = {
                                    "Braintree-Version": v.BRAINTREE_API_VERSION_HEADER,
                                    Authorization: "Bearer " + i._braintreeApi.accessToken
                                }
                            } else {
                                if ("graphQLApi" !== o) throw new s({
                                    type: b.CLIENT_OPTION_INVALID.type,
                                    code: b.CLIENT_OPTION_INVALID.code,
                                    message: "options.api is invalid."
                                });
                                u = S[i._configuration.gatewayConfiguration.environment], e.endpoint = "", h.method = "post", h.data = g({
                                    clientSdkMetadata: {
                                        source: i._configuration.analyticsMetadata.source,
                                        integration: i._configuration.analyticsMetadata.integration,
                                        sessionId: i._configuration.analyticsMetadata.sessionId
                                    }
                                }, e.data), h.headers = {
                                    Authorization: "Bearer " + ((p = c(i._configuration.authorization).attrs).authorizationFingerprint || p.tokenizationKey),
                                    "Braintree-Version": n
                                }
                            }
                            h.url = u + e.endpoint, h.sendAnalyticsEvent = function(e) {
                                y.sendEvent(i, e)
                            }, i._request(h, function(e, n, a) {
                                var c, u;
                                (u = function(e, t) {
                                    var i;
                                    if (-1 === e ? i = new s(b.CLIENT_REQUEST_TIMEOUT) : 403 === e ? i = new s(b.CLIENT_AUTHORIZATION_INSUFFICIENT) : 429 === e ? i = new s(b.CLIENT_RATE_LIMITED) : 500 <= e ? i = new s(b.CLIENT_GATEWAY_NETWORK) : (e < 200 || 400 <= e) && (i = l(t, {
                                            type: b.CLIENT_REQUEST_ERROR.type,
                                            code: b.CLIENT_REQUEST_ERROR.code,
                                            message: b.CLIENT_REQUEST_ERROR.message
                                        })), i) return i.details = i.details || {}, i.details.httpStatus = e, i
                                }(a, e)) ? r(u): "graphQLApi" === o && n.errors ? r(l(n.errors, {
                                    type: b.CLIENT_GRAPHQL_REQUEST_ERROR.type,
                                    code: b.CLIENT_GRAPHQL_REQUEST_ERROR.code,
                                    message: b.CLIENT_GRAPHQL_REQUEST_ERROR.message
                                })) : (c = g({
                                    _httpStatus: a
                                }, n), f && c.creditCards && 0 < c.creditCards.length && (i._findOrCreateFraudnetJSON(c.creditCards[0].nonce), C.loadScript({
                                    src: A,
                                    forceScriptReload: !0
                                })), t(c))
                            })
                        });
                    return "function" == typeof t ? (t = f(m(t)), void r.then(function(e) {
                        t(null, e, e._httpStatus)
                    }).catch(function(e) {
                        t(e, null, e && e.details && e.details.httpStatus)
                    })) : r
                }, L.prototype.toJSON = function() {
                    return this.getConfiguration()
                }, L.prototype.getVersion = function() {
                    return T
                }, L.prototype.teardown = p(function() {
                    return delete I[this.getConfiguration().authorization], w(this, E(L.prototype)), h.resolve()
                }), t.exports = L
            }, {
                "../lib/add-metadata": 66,
                "../lib/analytics": 67,
                "../lib/assets": 68,
                "../lib/assign": 69,
                "../lib/braintree-error": 72,
                "../lib/constants": 76,
                "../lib/convert-methods-to-error": 77,
                "../lib/convert-to-braintree-error": 78,
                "../lib/create-authorization-data": 79,
                "../lib/deferred": 80,
                "../lib/errors": 83,
                "../lib/is-verified-domain": 88,
                "../lib/methods": 90,
                "../lib/once": 91,
                "../lib/promise": 92,
                "./constants": 32,
                "./errors": 33,
                "./get-configuration": 34,
                "./request": 46,
                "./request/graphql": 44,
                "@braintree/wrap-promise": 26
            }],
            32: [function(e, t, i) {
                "use strict";
                t.exports = {
                    BRAINTREE_API_VERSION_HEADER: "2017-04-03",
                    BRAINTREE_VERSION: "2018-05-10"
                }
            }, {}],
            33: [function(e, t, i) {
                "use strict";
                var n = e("../lib/braintree-error");
                t.exports = {
                    CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN: {
                        type: n.types.MERCHANT,
                        code: "CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN"
                    },
                    CLIENT_OPTION_REQUIRED: {
                        type: n.types.MERCHANT,
                        code: "CLIENT_OPTION_REQUIRED"
                    },
                    CLIENT_OPTION_INVALID: {
                        type: n.types.MERCHANT,
                        code: "CLIENT_OPTION_INVALID"
                    },
                    CLIENT_MISSING_GATEWAY_CONFIGURATION: {
                        type: n.types.INTERNAL,
                        code: "CLIENT_MISSING_GATEWAY_CONFIGURATION",
                        message: "Missing gatewayConfiguration."
                    },
                    CLIENT_INVALID_AUTHORIZATION: {
                        type: n.types.MERCHANT,
                        code: "CLIENT_INVALID_AUTHORIZATION",
                        message: "Authorization is invalid. Make sure your client token or tokenization key is valid."
                    },
                    CLIENT_GATEWAY_NETWORK: {
                        type: n.types.NETWORK,
                        code: "CLIENT_GATEWAY_NETWORK",
                        message: "Cannot contact the gateway at this time."
                    },
                    CLIENT_REQUEST_TIMEOUT: {
                        type: n.types.NETWORK,
                        code: "CLIENT_REQUEST_TIMEOUT",
                        message: "Request timed out waiting for a reply."
                    },
                    CLIENT_REQUEST_ERROR: {
                        type: n.types.NETWORK,
                        code: "CLIENT_REQUEST_ERROR",
                        message: "There was a problem with your request."
                    },
                    CLIENT_GRAPHQL_REQUEST_ERROR: {
                        type: n.types.NETWORK,
                        code: "CLIENT_GRAPHQL_REQUEST_ERROR",
                        message: "There was a problem with your request."
                    },
                    CLIENT_RATE_LIMITED: {
                        type: n.types.MERCHANT,
                        code: "CLIENT_RATE_LIMITED",
                        message: "You are being rate-limited; please try again in a few minutes."
                    },
                    CLIENT_AUTHORIZATION_INSUFFICIENT: {
                        type: n.types.MERCHANT,
                        code: "CLIENT_AUTHORIZATION_INSUFFICIENT",
                        message: "The authorization used has insufficient privileges."
                    }
                }
            }, {
                "../lib/braintree-error": 72
            }],
            34: [function(e, t, i) {
                (function(i) {
                    "use strict";
                    var n = e("../lib/braintree-error"),
                        r = e("../lib/promise"),
                        a = e("@braintree/wrap-promise"),
                        o = e("./request"),
                        s = e("../lib/vendor/uuid"),
                        l = e("../lib/constants"),
                        c = e("../lib/create-authorization-data"),
                        u = e("./errors"),
                        d = e("./request/graphql"),
                        h = e("../lib/is-date-string-before-or-on"),
                        p = e("./constants").BRAINTREE_VERSION;
                    t.exports = {
                        getConfiguration: a(function(e) {
                            return new r(function(t, r) {
                                var a, f, m, g, y = s(),
                                    v = {
                                        merchantAppId: i.location.host,
                                        platform: l.PLATFORM,
                                        sdkVersion: l.VERSION,
                                        source: l.SOURCE,
                                        integration: l.INTEGRATION,
                                        integrationType: l.INTEGRATION,
                                        sessionId: y
                                    };
                                try {
                                    a = c(e.authorization)
                                } catch (a) {
                                    return void r(new n(u.CLIENT_INVALID_AUTHORIZATION))
                                }
                                m = a.configUrl, (f = a.attrs)._meta = v, f.braintreeLibraryVersion = l.BRAINTREE_LIBRARY_VERSION, f.configVersion = "3", g = {
                                    url: m,
                                    method: "GET",
                                    data: f
                                }, f.authorizationFingerprint && a.graphQL && (h(a.graphQL.date, p) && (g.graphQL = new d({
                                    graphQL: {
                                        url: a.graphQL.url,
                                        features: ["configuration"]
                                    }
                                })), g.metadata = v), o(g, function(i, a, o) {
                                    var s;
                                    i ? r(new n({
                                        type: (s = 403 === o ? u.CLIENT_AUTHORIZATION_INSUFFICIENT : u.CLIENT_GATEWAY_NETWORK).type,
                                        code: s.code,
                                        message: s.message,
                                        details: {
                                            originalError: i
                                        }
                                    })) : t({
                                        authorization: e.authorization,
                                        authorizationType: f.tokenizationKey ? "TOKENIZATION_KEY" : "CLIENT_TOKEN",
                                        analyticsMetadata: v,
                                        gatewayConfiguration: a
                                    })
                                })
                            })
                        })
                    }
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {
                "../lib/braintree-error": 72,
                "../lib/constants": 76,
                "../lib/create-authorization-data": 79,
                "../lib/is-date-string-before-or-on": 86,
                "../lib/promise": 92,
                "../lib/vendor/uuid": 96,
                "./constants": 32,
                "./errors": 33,
                "./request": 46,
                "./request/graphql": 44,
                "@braintree/wrap-promise": 26
            }],
            35: [function(e, t, i) {
                "use strict";
                var n = e("../lib/braintree-error"),
                    r = e("./client"),
                    a = e("../lib/promise"),
                    o = e("@braintree/wrap-promise"),
                    s = e("../lib/errors");
                t.exports = {
                    create: o(function(e) {
                        return e.authorization ? r.initialize(e) : a.reject(new n({
                            type: s.INSTANTIATION_OPTION_REQUIRED.type,
                            code: s.INSTANTIATION_OPTION_REQUIRED.code,
                            message: "options.authorization is required when instantiating a client."
                        }))
                    }),
                    VERSION: "3.39.0"
                }
            }, {
                "../lib/braintree-error": 72,
                "../lib/errors": 83,
                "../lib/promise": 92,
                "./client": 31,
                "@braintree/wrap-promise": 26
            }],
            36: [function(e, t, i) {
                "use strict";
                var n = e("../../lib/querystring"),
                    r = e("../browser-detection"),
                    a = e("../../lib/assign").assign,
                    o = e("./prep-body"),
                    s = e("./parse-body"),
                    l = e("./xhr"),
                    c = l.isAvailable,
                    u = e("./graphql/request"),
                    d = e("./default-request");
                t.exports = {
                    request: function(e, t) {
                        ! function e(t, i, h) {
                            var p, f, m, g, y, v, b, _ = t.url,
                                T = t.graphQL,
                                S = t.timeout,
                                E = l.getRequestObject(),
                                w = h,
                                C = Boolean(T && T.isGraphQLRequest(_, t.data));
                            t.headers = a({
                                "Content-Type": "application/json"
                            }, t.headers), _ = (m = C ? new u(t) : new d(t)).getUrl(), g = m.getBody(), y = m.getMethod(), v = m.getHeaders(), "GET" === y && (_ = n.queryify(_, g), g = null), c ? E.onreadystatechange = function() {
                                if (4 === E.readyState) {
                                    if (0 === E.status && C) return delete t.graphQL, void e(t, i, h);
                                    if (b = s(E.responseText), f = m.adaptResponseBody(b), 400 <= (p = m.determineStatus(E.status, b)) || p < 200) {
                                        if (C && ("UNKNOWN" === (o = !(a = b).data && a.errors && a.errors[0] && a.errors[0].extensions && a.errors[0].extensions.errorClass) || "INTERNAL" === o)) return delete t.graphQL, void e(t, i, h);
                                        if (i < 1 && (!(n = p) || 408 === n) && r.isIe()) return void e(t, ++i, h);
                                        w(f || "error", null, p || 500)
                                    } else w(null, f, p);
                                    var n, a, o
                                }
                            } : (t.headers && (_ = n.queryify(_, v)), E.onload = function() {
                                w(null, s(E.responseText), E.status)
                            }, E.onerror = function() {
                                w("error", null, 500)
                            }, E.onprogress = function() {}, E.ontimeout = function() {
                                w("timeout", null, -1)
                            });
                            try {
                                E.open(y, _, !0)
                            } catch (g) {
                                if (!C) throw g;
                                return delete t.graphQL, void e(t, i, h)
                            }
                            E.timeout = S, c && Object.keys(v).forEach(function(e) {
                                E.setRequestHeader(e, v[e])
                            });
                            try {
                                E.send(o(y, g))
                            } catch (g) {}
                        }(e, 0, t)
                    }
                }
            }, {
                "../../lib/assign": 69,
                "../../lib/querystring": 93,
                "../browser-detection": 30,
                "./default-request": 37,
                "./graphql/request": 45,
                "./parse-body": 49,
                "./prep-body": 50,
                "./xhr": 51
            }],
            37: [function(e, t, i) {
                "use strict";

                function n(e) {
                    this._url = e.url, this._data = e.data, this._method = e.method, this._headers = e.headers
                }
                n.prototype.getUrl = function() {
                    return this._url
                }, n.prototype.getBody = function() {
                    return this._data
                }, n.prototype.getMethod = function() {
                    return this._method
                }, n.prototype.getHeaders = function() {
                    return this._headers
                }, n.prototype.adaptResponseBody = function(e) {
                    return e
                }, n.prototype.determineStatus = function(e) {
                    return e
                }, t.exports = n
            }, {}],
            38: [function(e, t, i) {
                (function(e) {
                    "use strict";
                    t.exports = function() {
                        return e.navigator.userAgent
                    }
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {}],
            39: [function(e, t, i) {
                "use strict";
                var n = e("./error"),
                    r = e("../../../../lib/assign").assign,
                    a = {
                        AMERICAN_EXPRESS: "American Express",
                        DISCOVER: "Discover",
                        INTERNATIONAL_MAESTRO: "Maestro",
                        JCB: "JCB",
                        MASTERCARD: "MasterCard",
                        SOLO: "Solo",
                        UK_MAESTRO: "UK Maestro",
                        UNION_PAY: "UnionPay",
                        VISA: "Visa"
                    },
                    o = {
                        VISA: "visa",
                        MASTERCARD: "mastercard",
                        DISCOVER: "discover",
                        AMERICAN_EXPRESS: "amex"
                    },
                    s = {
                        VISA: "Visa",
                        MASTERCARD: "MasterCard",
                        DISCOVER: "Discover",
                        AMERICAN_EXPRESS: "American Express"
                    },
                    l = {
                        VISA: "visa",
                        MASTERCARD: "mastercard",
                        DISCOVER: "discover",
                        AMERICAN_EXPRESS: "amex"
                    },
                    c = {
                        VISA: "visa",
                        MASTERCARD: "master",
                        DISCOVER: "discover",
                        AMERICAN_EXPRESS: "amex",
                        DINERS: "diners",
                        INTERNATIONAL_MAESTRO: "maestro",
                        JCB: "jcb"
                    };

                function u(e, t) {
                    return e.reduce(function(e, i) {
                        return t.hasOwnProperty(i) ? e.concat(t[i]) : e
                    }, [])
                }
                t.exports = function(e, t) {
                    return e.data && !e.errors ? (i = t, d = {
                        environment: (h = e.data.clientConfiguration).environment.toLowerCase(),
                        clientApiUrl: h.clientApiUrl,
                        assetsUrl: h.assetsUrl,
                        analytics: {
                            url: h.analyticsUrl
                        },
                        merchantId: h.merchantId,
                        venmo: "off"
                    }, h.supportedFeatures && (d.graphQL = {
                        url: i._graphQL._config.url,
                        features: h.supportedFeatures.map(function(e) {
                            return e.toLowerCase()
                        })
                    }), h.braintreeApi && (d.braintreeApi = h.braintreeApi), h.applePayWeb && (d.applePayWeb = h.applePayWeb, d.applePayWeb.supportedNetworks = u(h.applePayWeb.supportedCardBrands, o), delete d.applePayWeb.supportedCardBrands), h.ideal && (d.ideal = h.ideal), h.kount && (d.kount = {
                        kountMerchantId: h.kount.merchantId
                    }), h.creditCard ? (d.challenges = h.creditCard.challenges.map(function(e) {
                        return e.toLowerCase()
                    }), d.creditCards = {
                        supportedCardTypes: u(h.creditCard.supportedCardBrands, a)
                    }, d.threeDSecureEnabled = h.creditCard.threeDSecureEnabled) : (d.challenges = [], d.creditCards = {
                        supportedCardTypes: []
                    }, d.threeDSecureEnabled = !1), h.googlePay && (d.androidPay = {
                        displayName: h.googlePay.displayName,
                        enabled: !0,
                        environment: h.googlePay.environment.toLowerCase(),
                        googleAuthorizationFingerprint: h.googlePay.googleAuthorization,
                        supportedNetworks: u(h.googlePay.supportedCardBrands, l)
                    }), h.venmo && (d.payWithVenmo = {
                        merchantId: h.venmo.merchantId,
                        accessToken: h.venmo.accessToken,
                        environment: h.venmo.environment.toLowerCase()
                    }), h.paypal ? (d.paypalEnabled = !0, d.paypal = r({}, h.paypal), d.paypal.currencyIsoCode = d.paypal.currencyCode, d.paypal.environment = d.paypal.environment.toLowerCase(), delete d.paypal.currencyCode) : d.paypalEnabled = !1, h.unionPay && (d.unionPay = {
                        enabled: !0,
                        merchantAccountId: h.unionPay.merchantAccountId
                    }), h.visaCheckout && (d.visaCheckout = {
                        apikey: h.visaCheckout.apiKey,
                        externalClientId: h.visaCheckout.externalClientId,
                        supportedCardTypes: u(h.visaCheckout.supportedCardBrands, s)
                    }), h.masterpass && (d.masterpass = {
                        merchantCheckoutId: h.masterpass.merchantCheckoutId,
                        supportedNetworks: u(h.masterpass.supportedCardBrands, c)
                    }), h.usBankAccount && (d.usBankAccount = {
                        routeId: h.usBankAccount.routeId,
                        plaid: {
                            publicKey: h.usBankAccount.plaidPublicKey
                        }
                    }), d) : n(e);
                    var i, d, h
                }
            }, {
                "../../../../lib/assign": 69,
                "./error": 41
            }],
            40: [function(e, t, i) {
                "use strict";
                var n = e("./error"),
                    r = {
                        AMERICAN_EXPRESS: "American Express",
                        DINERS: "Discover",
                        DISCOVER: "Discover",
                        INTERNATIONAL_MAESTRO: "Maestro",
                        JCB: "JCB",
                        MASTERCARD: "MasterCard",
                        UK_MAESTRO: "Maestro",
                        UNION_PAY: "Union Pay",
                        VISA: "Visa"
                    },
                    a = {
                        YES: "Yes",
                        NO: "No",
                        UNKNOWN: "Unknown"
                    };
                t.exports = function(e) {
                    return e.data && !e.errors ? (o = (i = (t = e.data.tokenizeCreditCard).creditCard).last4 ? i.last4.substr(2, 4) : "", (s = i.binData) && (["commercial", "debit", "durbinRegulated", "healthcare", "payroll", "prepaid"].forEach(function(e) {
                        s[e] = s[e] ? a[s[e]] : "Unknown"
                    }), ["issuingBank", "countryOfIssuance", "productId"].forEach(function(e) {
                        s[e] || (s[e] = "Unknown")
                    })), {
                        creditCards: [{
                            binData: s,
                            consumed: !1,
                            description: o ? "ending in " + o : "",
                            nonce: t.token,
                            details: {
                                cardType: r[i.brandCode] || "Unknown",
                                lastFour: i.last4 || "",
                                lastTwo: o
                            },
                            type: "CreditCard",
                            threeDSecureInfo: null
                        }]
                    }) : n(e);
                    var t, i, o, s
                }
            }, {
                "./error": 41
            }],
            41: [function(e, t, i) {
                "use strict";
                t.exports = function(e) {
                    var t, i, n, r, a = e.errors && e.errors[0] && e.errors[0].extensions && e.errors[0].extensions.errorClass;
                    return "VALIDATION" === a ? (i = [], e.errors.forEach(function(e) {
                        ! function e(t, i, n) {
                            var r, a = i.extensions.legacyCode,
                                o = t[0];
                            1 !== t.length ? (n.forEach(function(e) {
                                e.field === o && (r = e)
                            }), r || n.push(r = {
                                field: o,
                                fieldErrors: []
                            }), e(t.slice(1), i, r.fieldErrors)) : n.push({
                                code: a,
                                field: o,
                                message: i.message
                            })
                        }(e.extensions.inputPath.slice(1), e, i)
                    }), {
                        error: {
                            message: (n = t = i, r = n[0].field, {
                                creditCard: "Credit card is invalid"
                            } [r])
                        },
                        fieldErrors: t
                    }) : a ? {
                        error: {
                            message: e.errors[0].message
                        },
                        fieldErrors: []
                    } : {
                        error: {
                            message: "There was a problem serving your request"
                        },
                        fieldErrors: []
                    }
                }
            }, {}],
            42: [function(e, t, i) {
                "use strict";
                t.exports = function() {
                    return {
                        query: "query ClientConfiguration {   clientConfiguration {     analyticsUrl     environment     merchantId     assetsUrl     clientApiUrl     creditCard {       supportedCardBrands       challenges       threeDSecureEnabled     }     applePayWeb {       countryCode       currencyCode       merchantIdentifier       supportedCardBrands     }     googlePay {       displayName       supportedCardBrands       environment       googleAuthorization     }     ideal {       routeId       assetsUrl     }     kount {       merchantId     }     masterpass {       merchantCheckoutId       supportedCardBrands     }     paypal {       displayName       clientId       privacyUrl       userAgreementUrl       assetsUrl       environment       environmentNoNetwork       unvettedMerchant       braintreeClientId       billingAgreementsEnabled       merchantAccountId       currencyCode       payeeEmail     }     unionPay {       merchantAccountId     }     usBankAccount {       routeId       plaidPublicKey     }     venmo {       merchantId       accessToken       environment     }     visaCheckout {       apiKey       externalClientId       supportedCardBrands     }     braintreeApi {       accessToken       url     }     supportedFeatures   } }",
                        operationName: "ClientConfiguration"
                    }
                }
            }, {}],
            43: [function(e, t, i) {
                "use strict";
                var n = e("../../../../lib/assign").assign;

                function r(e) {
                    var t = e.creditCard,
                        i = t && t.billingAddress,
                        r = t && t.expirationDate,
                        a = t && (t.expirationMonth || r && r.split("/")[0].trim()),
                        o = t && (t.expirationYear || r && r.split("/")[1].trim()),
                        s = {
                            input: {
                                creditCard: {
                                    number: t && t.number,
                                    expirationMonth: a,
                                    expirationYear: o,
                                    cvv: t && t.cvv,
                                    cardholderName: t && t.cardholderName
                                },
                                options: {}
                            }
                        };
                    return i && (s.input.creditCard.billingAddress = i), s.input = function(e, t) {
                        var i;
                        return e.creditCard && e.creditCard.options && "boolean" == typeof e.creditCard.options.validate ? i = e.creditCard.options.validate : e.authorizationFingerprint && e.tokenizationKey || e.authorizationFingerprint ? i = !0 : e.tokenizationKey && (i = !1), "boolean" == typeof i && (t.options = n({
                            validate: i
                        }, t.options)), t
                    }(e, s.input), s
                }
                t.exports = function(e) {
                    return {
                        query: "mutation TokenizeCreditCard($input: TokenizeCreditCardInput!) {   tokenizeCreditCard(input: $input) {     token     creditCard {       brandCode       last4       binData {         prepaid         healthcare         debit         durbinRegulated         commercial         payroll         issuingBank         countryOfIssuance         productId       }     }   } }",
                        variables: r(e),
                        operationName: "TokenizeCreditCard"
                    }
                }
            }, {
                "../../../../lib/assign": 69
            }],
            44: [function(e, t, i) {
                "use strict";
                var n = e("../../browser-detection"),
                    r = {
                        tokenize_credit_cards: "payment_methods/credit_cards",
                        configuration: "configuration"
                    },
                    a = ["creditCard.options.unionPayEnrollment"];

                function o(e) {
                    this._config = e.graphQL
                }
                o.prototype.getGraphQLEndpoint = function() {
                    return this._config.url
                }, o.prototype.isGraphQLRequest = function(e, t) {
                    var i, o, s = this.getClientApiPath(e);
                    return !(!this._isGraphQLEnabled() || !s || n.isIe9()) && (i = this._config.features.some(function(e) {
                        return r[e] === s
                    }), o = t, !a.some(function(e) {
                        return void 0 !== e.split(".").reduce(function(e, t) {
                            return e && e[t]
                        }, o)
                    }) && i)
                }, o.prototype.getClientApiPath = function(e) {
                    var t, i = e.split("/client_api/v1/");
                    return 1 < i.length && (t = i[1].split("?")[0]), t
                }, o.prototype._isGraphQLEnabled = function() {
                    return Boolean(this._config)
                }, t.exports = o
            }, {
                "../../browser-detection": 30
            }],
            45: [function(e, t, i) {
                "use strict";
                var n = e("../../constants").BRAINTREE_VERSION,
                    r = e("../../../lib/assign").assign,
                    a = e("./generators/credit-card-tokenization"),
                    o = e("./adapters/credit-card-tokenization"),
                    s = e("./generators/configuration"),
                    l = e("./adapters/configuration"),
                    c = {
                        "payment_methods/credit_cards": a,
                        configuration: s
                    },
                    u = {
                        "payment_methods/credit_cards": o,
                        configuration: l
                    };

                function d(e) {
                    var t = e.graphQL.getClientApiPath(e.url);
                    this._graphQL = e.graphQL, this._data = e.data, this._method = e.method, this._headers = e.headers, this._clientSdkMetadata = {
                        source: e.metadata.source,
                        integration: e.metadata.integration,
                        sessionId: e.metadata.sessionId
                    }, this._sendAnalyticsEvent = e.sendAnalyticsEvent || Function.prototype, this._generator = c[t], this._adapter = u[t], this._sendAnalyticsEvent("graphql.init")
                }
                d.prototype.getUrl = function() {
                    return this._graphQL.getGraphQLEndpoint()
                }, d.prototype.getBody = function() {
                    var e = function e(t) {
                            var i = {};
                            return Object.keys(t).forEach(function(n) {
                                var r = function(e) {
                                    return -1 === e.indexOf("_") ? e : e.toLowerCase().replace(/(\_\w)/g, function(e) {
                                        return e[1].toUpperCase()
                                    })
                                }(n);
                                i[r] = "object" == typeof t[n] ? e(t[n]) : "number" == typeof t[n] ? String(t[n]) : t[n]
                            }), i
                        }(this._data),
                        t = this._generator(e),
                        i = r({
                            clientSdkMetadata: this._clientSdkMetadata
                        }, t);
                    return JSON.stringify(i)
                }, d.prototype.getMethod = function() {
                    return "POST"
                }, d.prototype.getHeaders = function() {
                    var e;
                    return e = {
                        Authorization: "Bearer " + (this._data.authorizationFingerprint ? (this._sendAnalyticsEvent("graphql.authorization-fingerprint"), this._data.authorizationFingerprint) : (this._sendAnalyticsEvent("graphql.tokenization-key"), this._data.tokenizationKey)),
                        "Braintree-Version": n
                    }, r({}, this._headers, e)
                }, d.prototype.adaptResponseBody = function(e) {
                    return this._adapter(e, this)
                }, d.prototype.determineStatus = function(e, t) {
                    var i, n;
                    return i = 200 === e ? (n = t.errors && t.errors[0] && t.errors[0].extensions && t.errors[0].extensions.errorClass, t.data && !t.errors ? 200 : "VALIDATION" === n ? 422 : "AUTHORIZATION" === n ? 403 : "AUTHENTICATION" === n ? 401 : !n && t.errors[0].message ? 403 : 500) : e || 500, this._sendAnalyticsEvent("graphql.status." + e), this._sendAnalyticsEvent("graphql.determinedStatus." + i), i
                }, t.exports = d
            }, {
                "../../../lib/assign": 69,
                "../../constants": 32,
                "./adapters/configuration": 39,
                "./adapters/credit-card-tokenization": 40,
                "./generators/configuration": 42,
                "./generators/credit-card-tokenization": 43
            }],
            46: [function(e, t, i) {
                "use strict";
                var n, r = e("../../lib/once"),
                    a = e("./jsonp-driver"),
                    o = e("./ajax-driver"),
                    s = e("./get-user-agent"),
                    l = e("./is-http");
                t.exports = function(e, t) {
                    t = r(t || Function.prototype), e.method = (e.method || "GET").toUpperCase(), e.timeout = null == e.timeout ? 6e4 : e.timeout, e.data = e.data || {}, null == n && (n = !(l() && /MSIE\s(8|9)/.test(s()))), n ? o.request(e, t) : a.request(e, t)
                }
            }, {
                "../../lib/once": 91,
                "./ajax-driver": 36,
                "./get-user-agent": 38,
                "./is-http": 47,
                "./jsonp-driver": 48
            }],
            47: [function(e, t, i) {
                (function(e) {
                    "use strict";
                    t.exports = function() {
                        return "http:" === e.location.protocol
                    }
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {}],
            48: [function(e, t, i) {
                (function(i) {
                    "use strict";
                    var n, r = e("../../lib/vendor/uuid"),
                        a = e("../../lib/querystring"),
                        o = {};

                    function s(t) {
                        try {
                            delete i[t]
                        } catch (e) {
                            i[t] = null
                        }
                    }
                    t.exports = {
                        request: function(e, t) {
                            var l, c, u, d, h, p, f, m, g, y = "callback_json_" + r().replace(/-/g, ""),
                                v = e.url,
                                b = e.method,
                                _ = e.timeout;
                            v = a.queryify(v, e.data), c = v = a.queryify(v, {
                                _method: b,
                                callback: y
                            }), u = y, d = document.createElement("script"), h = !1, d.src = c, d.async = !0, d.onerror = function() {
                                i[u]({
                                    message: "error",
                                    status: 500
                                })
                            }, d.onload = d.onreadystatechange = function() {
                                h || this.readyState && "loaded" !== this.readyState && "complete" !== this.readyState || (h = !0, d.onload = d.onreadystatechange = null)
                            }, p = l = d, f = t, i[m = y] = function(e) {
                                var t, i = e.status || 500,
                                    n = null,
                                    r = null;
                                delete e.status, 400 <= i || i < 200 ? n = e : r = e, s(m), (t = p) && t.parentNode && t.parentNode.removeChild(t), clearTimeout(o[m]), f(n, r, i)
                            }, o[g = y] = setTimeout(function() {
                                o[g] = null, i[g]({
                                    error: "timeout",
                                    status: -1
                                }), i[g] = function() {
                                    s(g)
                                }
                            }, _), n || (n = document.getElementsByTagName("head")[0]), n.appendChild(l)
                        }
                    }
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {
                "../../lib/querystring": 93,
                "../../lib/vendor/uuid": 96
            }],
            49: [function(e, t, i) {
                "use strict";
                t.exports = function(e) {
                    try {
                        e = JSON.parse(e)
                    } catch (e) {}
                    return e
                }
            }, {}],
            50: [function(e, t, i) {
                "use strict";
                t.exports = function(e, t) {
                    if ("string" != typeof e) throw new Error("Method must be a string");
                    return "get" !== e.toLowerCase() && null != t && (t = "string" == typeof t ? t : JSON.stringify(t)), t
                }
            }, {}],
            51: [function(e, t, i) {
                (function(e) {
                    "use strict";
                    var i = e.XMLHttpRequest && "withCredentials" in new e.XMLHttpRequest;
                    t.exports = {
                        isAvailable: i,
                        getRequestObject: function() {
                            return i ? new XMLHttpRequest : new XDomainRequest
                        }
                    }
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {}],
            52: [function(e, t, i) {
                "use strict";
                var n = e("../lib/braintree-error");
                t.exports = {
                    GOOGLE_PAYMENT_NOT_ENABLED: {
                        type: n.types.MERCHANT,
                        code: "GOOGLE_PAYMENT_NOT_ENABLED",
                        message: "Google Pay is not enabled for this merchant."
                    },
                    GOOGLE_PAYMENT_GATEWAY_ERROR: {
                        code: "GOOGLE_PAYMENT_GATEWAY_ERROR",
                        message: "There was an error when tokenizing the Google Pay payment method.",
                        type: n.types.UNKNOWN
                    }
                }
            }, {
                "../lib/braintree-error": 72
            }],
            53: [function(e, t, i) {
                "use strict";
                var n = e("../lib/analytics"),
                    r = e("../lib/assign").assign,
                    a = e("../lib/convert-methods-to-error"),
                    o = e("../lib/generate-google-pay-configuration"),
                    s = e("../lib/braintree-error"),
                    l = e("./errors"),
                    c = e("../lib/methods"),
                    u = e("../lib/promise"),
                    d = e("@braintree/wrap-promise");

                function h(e) {
                    this._client = e.client, this._braintreeGeneratedPaymentRequestConfiguration = o(this._client.getConfiguration())
                }
                h.prototype.createPaymentDataRequest = function(e) {
                    var t = e && e.cardRequirements && e.cardRequirements.allowedCardNetworks || this._braintreeGeneratedPaymentRequestConfiguration.cardRequirements.allowedCardNetworks,
                        i = r({}, this._braintreeGeneratedPaymentRequestConfiguration, e);
                    return i.cardRequirements.allowedCardNetworks = t, n.sendEvent(this._client, "google-payment.createPaymentDataRequest"), i
                }, h.prototype.parseResponse = function(e) {
                    var t = this._client;
                    return u.resolve().then(function() {
                        var i, r = JSON.parse(e.paymentMethodToken.token),
                            a = r.error;
                        return a ? u.reject(a) : (i = r.androidPayCards[0], n.sendEvent(t, "google-payment.parseResponse.succeeded"), u.resolve({
                            nonce: i.nonce,
                            type: i.type,
                            description: i.description,
                            details: {
                                cardType: i.details.cardType,
                                lastFour: i.details.lastFour,
                                lastTwo: i.details.lastTwo
                            },
                            binData: i.binData
                        }))
                    }).catch(function(e) {
                        return n.sendEvent(t, "google-payment.parseResponse.failed"), u.reject(new s({
                            code: l.GOOGLE_PAYMENT_GATEWAY_ERROR.code,
                            message: l.GOOGLE_PAYMENT_GATEWAY_ERROR.message,
                            type: l.GOOGLE_PAYMENT_GATEWAY_ERROR.type,
                            details: {
                                originalError: e
                            }
                        }))
                    })
                }, h.prototype.teardown = function() {
                    return a(this, c(h.prototype)), u.resolve()
                }, t.exports = d.wrapPrototype(h)
            }, {
                "../lib/analytics": 67,
                "../lib/assign": 69,
                "../lib/braintree-error": 72,
                "../lib/convert-methods-to-error": 77,
                "../lib/generate-google-pay-configuration": 85,
                "../lib/methods": 90,
                "../lib/promise": 92,
                "./errors": 52,
                "@braintree/wrap-promise": 26
            }],
            54: [function(e, t, i) {
                "use strict";
                var n = e("../lib/basic-component-verification"),
                    r = e("../lib/braintree-error"),
                    a = e("./errors"),
                    o = e("./google-payment"),
                    s = e("../lib/promise"),
                    l = e("@braintree/wrap-promise");
                t.exports = {
                    create: l(function(e) {
                        return n.verify({
                            name: "Google Pay",
                            client: e.client
                        }).then(function() {
                            return e.client.getConfiguration().gatewayConfiguration.androidPay ? new o(e) : s.reject(new r(a.GOOGLE_PAYMENT_NOT_ENABLED))
                        })
                    }),
                    VERSION: "3.39.0"
                }
            }, {
                "../lib/basic-component-verification": 70,
                "../lib/braintree-error": 72,
                "../lib/promise": 92,
                "./errors": 52,
                "./google-payment": 53,
                "@braintree/wrap-promise": 26
            }],
            55: [function(e, t, i) {
                "use strict";
                var n = e("../../lib/braintree-error"),
                    r = e("../shared/errors"),
                    a = e("../shared/constants").allowedAttributes;
                t.exports = function(e, t) {
                    var i, o, s;
                    return a.hasOwnProperty(e) ? null == t || (s = t, "string" === a[o = e] ? "string" == typeof s || "number" == typeof s : "boolean" === a[o] && ("true" === String(s) || "false" === String(s))) || (i = new n({
                        type: r.HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED.type,
                        code: r.HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED.code,
                        message: 'Value "' + t + '" is not allowed for "' + e + '" attribute.'
                    })) : i = new n({
                        type: r.HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED.type,
                        code: r.HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED.code,
                        message: 'The "' + e + '" attribute is not supported in Hosted Fields.'
                    }), i
                }
            }, {
                "../../lib/braintree-error": 72,
                "../shared/constants": 62,
                "../shared/errors": 63
            }],
            56: [function(e, t, i) {
                "use strict";
                var n = e("../shared/constants"),
                    r = e("../../lib/use-min");
                t.exports = function(e, t, i) {
                    return e + "/web/" + n.VERSION + "/html/hosted-fields-frame" + r(i) + ".html#" + t
                }
            }, {
                "../../lib/use-min": 94,
                "../shared/constants": 62
            }],
            57: [function(e, t, i) {
                (function(i) {
                    "use strict";
                    var n = e("../shared/constants").allowedStyles;
                    t.exports = function(e) {
                        var t, r = document.createElement("input"),
                            a = {};
                        return "." === e[0] && (e = e.substring(1)), r.className = e, r.style.display = "none !important", r.style.position = "fixed !important", r.style.left = "-99999px !important", r.style.top = "-99999px !important", i.document.body.appendChild(r), t = i.getComputedStyle(r), n.forEach(function(e) {
                            var i = t[e];
                            i && (a[e] = i)
                        }), i.document.body.removeChild(r), a
                    }
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {
                "../shared/constants": 62
            }],
            58: [function(e, t, i) {
                (function(i) {
                    "use strict";
                    var n = e("../../lib/assign").assign,
                        r = e("../../lib/create-authorization-data"),
                        a = e("../../lib/destructor"),
                        o = e("@braintree/class-list"),
                        s = e("@braintree/iframer"),
                        l = e("../../lib/bus"),
                        c = e("../../lib/assets"),
                        u = e("../../lib/braintree-error"),
                        d = e("./compose-url"),
                        h = e("./get-styles-from-class"),
                        p = e("../shared/constants"),
                        f = e("../shared/errors"),
                        m = e("../../lib/constants").VERSION,
                        g = e("../../lib/constants").INTEGRATION_TIMEOUT_MS,
                        y = e("../../lib/constants").ASSETS_URLS,
                        v = e("../../lib/vendor/uuid"),
                        b = e("../shared/find-parent-tags"),
                        _ = e("../shared/browser-detection"),
                        T = p.events,
                        S = e("../../lib/event-emitter"),
                        E = e("./inject-frame"),
                        w = e("../../lib/analytics"),
                        C = p.allowedFields,
                        k = e("../../lib/methods"),
                        P = e("../../lib/convert-methods-to-error"),
                        A = e("../../lib/errors"),
                        I = e("../shared/get-card-types"),
                        L = e("./attribute-validation-error"),
                        O = e("../../lib/promise"),
                        D = e("@braintree/wrap-promise");

                    function R(e) {
                        var t, b, C, L, D, x, M = this,
                            U = {},
                            N = n({}, e),
                            F = {},
                            B = [],
                            V = v();
                        if (e.client ? (C = (b = e.client.getConfiguration()).gatewayConfiguration.assetsUrl, L = b.isDebug, this._clientPromise = O.resolve(e.client)) : (x = r(e.authorization), C = y[x.environment || "production"], L = Boolean(e.debug), this._clientPromise = i.braintree && i.braintree.client ? O.resolve() : c.loadScript({
                                src: C + "/web/" + m + "/js/client.min.js"
                            }), this._clientPromise = this._clientPromise.then(function() {
                                return i.braintree.client.create({
                                    authorization: e.authorization,
                                    debug: L
                                })
                            })), D = d(C, V, L), !e.fields || 0 === Object.keys(e.fields).length) throw new u({
                            type: A.INSTANTIATION_OPTION_REQUIRED.type,
                            code: A.INSTANTIATION_OPTION_REQUIRED.code,
                            message: "options.fields is required when instantiating Hosted Fields."
                        });
                        S.call(this), this._injectedNodes = [], this._destructor = new a, this._fields = U, this._state = {
                            fields: {},
                            cards: I("")
                        }, this._bus = new l({
                            channel: V,
                            merchantUrl: location.href
                        }), this._destructor.registerFunctionForTeardown(function() {
                            M._bus.teardown()
                        }), w.sendEvent(this._clientPromise, "custom.hosted-fields.initialized"), Object.keys(e.fields).forEach((function(t) {
                            var i, n, r, a;
                            if (!p.allowedFields.hasOwnProperty(t)) throw new u({
                                type: f.HOSTED_FIELDS_INVALID_FIELD_KEY.type,
                                code: f.HOSTED_FIELDS_INVALID_FIELD_KEY.code,
                                message: '"' + t + '" is not a valid field.'
                            });
                            if (i = e.fields[t], !(n = document.querySelector(i.selector))) throw new u({
                                type: f.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.type,
                                code: f.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.code,
                                message: f.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.message,
                                details: {
                                    fieldSelector: i.selector,
                                    fieldKey: t
                                }
                            });
                            if (n.querySelector('iframe[name^="braintree-"]')) throw new u({
                                type: f.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.type,
                                code: f.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.code,
                                message: f.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.message,
                                details: {
                                    fieldSelector: i.selector,
                                    fieldKey: t
                                }
                            });
                            if (i.maxlength && "number" != typeof i.maxlength) throw new u({
                                type: f.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.type,
                                code: f.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.code,
                                message: "The value for maxlength must be a number.",
                                details: {
                                    fieldKey: t
                                }
                            });
                            if (i.minlength && "number" != typeof i.minlength) throw new u({
                                type: f.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.type,
                                code: f.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.code,
                                message: "The value for minlength must be a number.",
                                details: {
                                    fieldKey: t
                                }
                            });
                            r = s({
                                type: t,
                                name: "braintree-hosted-field-" + t,
                                style: p.defaultIFrameStyle,
                                title: "Secure Credit Card Frame - " + p.allowedFields[t].label
                            }), this._injectedNodes.push.apply(this._injectedNodes, E(r, n)), this._setupLabelFocus(t, n), U[t] = {
                                frameElement: r,
                                containerElement: n
                            }, a = new O(function(e) {
                                F[t] = e
                            }), B.push(a), this._state.fields[t] = {
                                isEmpty: !0,
                                isValid: !1,
                                isPotentiallyValid: !0,
                                isFocused: !1,
                                container: n
                            }, setTimeout(function() {
                                _.isIE() || _.isEdge() ? (r.src = "about:blank", setTimeout(function() {
                                    r.src = D
                                }, 0)) : r.src = D
                            }, 0)
                        }).bind(this)), N.styles && Object.keys(N.styles).forEach(function(e) {
                            var t = N.styles[e];
                            "string" == typeof t && (N.styles[e] = h(t))
                        }), this._bus.on(T.READY_FOR_CLIENT, function(e) {
                            M._clientPromise.then(function(t) {
                                e(t)
                            })
                        }), t = setTimeout(function() {
                            w.sendEvent(M._clientPromise, "custom.hosted-fields.load.timed-out"), M._emit("timeout")
                        }, g), O.all(B).then(function(e) {
                            var i = e[0];
                            clearTimeout(t), i(N), M._emit("ready")
                        }), this._bus.on(T.FRAME_READY, function(e, t) {
                            F[e.field](t)
                        }), this._bus.on(T.INPUT_EVENT, function(e) {
                            return function(t) {
                                var i, n = t.merchantPayload,
                                    r = n.emittedBy,
                                    a = e[r].containerElement;
                                Object.keys(n.fields).forEach(function(t) {
                                    n.fields[t].container = e[t].containerElement
                                }), i = n.fields[r], "blur" === t.type && function(e) {
                                    var t;
                                    _.isIos() && document.activeElement === document.body && ((t = e.querySelector("input")) || ((t = document.createElement("input")).type = "button", t.style.height = "0px", t.style.width = "0px", t.style.opacity = "0", t.style.padding = "0", t.style.position = "absolute", t.style.left = "-200%", t.style.top = "0px", e.insertBefore(t, e.firstChild)), t.focus(), t.blur())
                                }(a), o.toggle(a, p.externalClasses.FOCUSED, i.isFocused), o.toggle(a, p.externalClasses.VALID, i.isValid), o.toggle(a, p.externalClasses.INVALID, !i.isPotentiallyValid), this._state = {
                                    cards: n.cards,
                                    fields: n.fields
                                }, this._emit(t.type, n)
                            }
                        }(U).bind(this)), this._destructor.registerFunctionForTeardown(function() {
                            var e, t, i;
                            for (e = 0; e < M._injectedNodes.length; e++)(i = (t = M._injectedNodes[e]).parentNode).removeChild(t), o.remove(i, p.externalClasses.FOCUSED, p.externalClasses.INVALID, p.externalClasses.VALID)
                        }), this._destructor.registerFunctionForTeardown(function() {
                            var e = k(R.prototype).concat(k(S.prototype));
                            P(M, e)
                        })
                    }(R.prototype = Object.create(S.prototype, {
                        constructor: R
                    }))._setupLabelFocus = function(e, t) {
                        var i, n, r = _.isIos(),
                            a = this._bus;
                        if (!r && null != t.id) {
                            for (i = (i = Array.prototype.slice.call(document.querySelectorAll('label[for="' + t.id + '"]'))).concat(b(t, "label")), n = 0; n < i.length; n++) i[n].addEventListener("click", o, !1);
                            this._destructor.registerFunctionForTeardown(function() {
                                for (n = 0; n < i.length; n++) i[n].removeEventListener("click", o, !1)
                            })
                        }

                        function o() {
                            a.emit(T.TRIGGER_INPUT_FOCUS, e)
                        }
                    }, R.prototype._attachInvalidFieldContainersToError = function(e) {
                        e.details && e.details.invalidFieldKeys && 0 < e.details.invalidFieldKeys.length && (e.details.invalidFields = {}, e.details.invalidFieldKeys.forEach((function(t) {
                            e.details.invalidFields[t] = this._fields[t].containerElement
                        }).bind(this)))
                    }, R.prototype.teardown = function() {
                        var e = this;
                        return new O(function(t, i) {
                            e._destructor.teardown(function(n) {
                                w.sendEvent(e._clientPromise, "custom.hosted-fields.teardown-completed"), n ? i(n) : t()
                            })
                        })
                    }, R.prototype.tokenize = function(e) {
                        var t = this;
                        return e || (e = {}), new O(function(i, n) {
                            t._bus.emit(T.TOKENIZATION_REQUEST, e, function(e) {
                                var r = e[0],
                                    a = e[1];
                                r ? (t._attachInvalidFieldContainersToError(r), n(new u(r))) : i(a)
                            })
                        })
                    }, R.prototype.addClass = function(e, t) {
                        var i;
                        return C.hasOwnProperty(e) ? this._fields.hasOwnProperty(e) ? this._bus.emit(T.ADD_CLASS, e, t) : i = new u({
                            type: f.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,
                            code: f.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,
                            message: 'Cannot add class to "' + e + '" field because it is not part of the current Hosted Fields options.'
                        }) : i = new u({
                            type: f.HOSTED_FIELDS_FIELD_INVALID.type,
                            code: f.HOSTED_FIELDS_FIELD_INVALID.code,
                            message: '"' + e + '" is not a valid field. You must use a valid field option when adding a class.'
                        }), i ? O.reject(i) : O.resolve()
                    }, R.prototype.removeClass = function(e, t) {
                        var i;
                        return C.hasOwnProperty(e) ? this._fields.hasOwnProperty(e) ? this._bus.emit(T.REMOVE_CLASS, e, t) : i = new u({
                            type: f.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,
                            code: f.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,
                            message: 'Cannot remove class from "' + e + '" field because it is not part of the current Hosted Fields options.'
                        }) : i = new u({
                            type: f.HOSTED_FIELDS_FIELD_INVALID.type,
                            code: f.HOSTED_FIELDS_FIELD_INVALID.code,
                            message: '"' + e + '" is not a valid field. You must use a valid field option when removing a class.'
                        }), i ? O.reject(i) : O.resolve()
                    }, R.prototype.setAttribute = function(e) {
                        var t, i;
                        return C.hasOwnProperty(e.field) ? this._fields.hasOwnProperty(e.field) ? (t = L(e.attribute, e.value)) ? i = t : this._bus.emit(T.SET_ATTRIBUTE, e.field, e.attribute, e.value) : i = new u({
                            type: f.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,
                            code: f.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,
                            message: 'Cannot set attribute for "' + e.field + '" field because it is not part of the current Hosted Fields options.'
                        }) : i = new u({
                            type: f.HOSTED_FIELDS_FIELD_INVALID.type,
                            code: f.HOSTED_FIELDS_FIELD_INVALID.code,
                            message: '"' + e.field + '" is not a valid field. You must use a valid field option when setting an attribute.'
                        }), i ? O.reject(i) : O.resolve()
                    }, R.prototype.setMessage = function(e) {
                        this._bus.emit(T.SET_MESSAGE, e.field, e.message)
                    }, R.prototype.removeAttribute = function(e) {
                        var t, i;
                        return C.hasOwnProperty(e.field) ? this._fields.hasOwnProperty(e.field) ? (t = L(e.attribute)) ? i = t : this._bus.emit(T.REMOVE_ATTRIBUTE, e.field, e.attribute) : i = new u({
                            type: f.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,
                            code: f.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,
                            message: 'Cannot remove attribute for "' + e.field + '" field because it is not part of the current Hosted Fields options.'
                        }) : i = new u({
                            type: f.HOSTED_FIELDS_FIELD_INVALID.type,
                            code: f.HOSTED_FIELDS_FIELD_INVALID.code,
                            message: '"' + e.field + '" is not a valid field. You must use a valid field option when removing an attribute.'
                        }), i ? O.reject(i) : O.resolve()
                    }, R.prototype.setPlaceholder = function(e, t) {
                        return this.setAttribute({
                            field: e,
                            attribute: "placeholder",
                            value: t
                        })
                    }, R.prototype.clear = function(e) {
                        var t;
                        return C.hasOwnProperty(e) ? this._fields.hasOwnProperty(e) ? this._bus.emit(T.CLEAR_FIELD, e) : t = new u({
                            type: f.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,
                            code: f.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,
                            message: 'Cannot clear "' + e + '" field because it is not part of the current Hosted Fields options.'
                        }) : t = new u({
                            type: f.HOSTED_FIELDS_FIELD_INVALID.type,
                            code: f.HOSTED_FIELDS_FIELD_INVALID.code,
                            message: '"' + e + '" is not a valid field. You must use a valid field option when clearing a field.'
                        }), t ? O.reject(t) : O.resolve()
                    }, R.prototype.focus = function(e) {
                        var t;
                        return C.hasOwnProperty(e) ? this._fields.hasOwnProperty(e) ? this._bus.emit(T.TRIGGER_INPUT_FOCUS, e) : t = new u({
                            type: f.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,
                            code: f.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,
                            message: 'Cannot focus "' + e + '" field because it is not part of the current Hosted Fields options.'
                        }) : t = new u({
                            type: f.HOSTED_FIELDS_FIELD_INVALID.type,
                            code: f.HOSTED_FIELDS_FIELD_INVALID.code,
                            message: '"' + e + '" is not a valid field. You must use a valid field option when focusing a field.'
                        }), t ? O.reject(t) : O.resolve()
                    }, R.prototype.getState = function() {
                        return this._state
                    }, t.exports = D.wrapPrototype(R)
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {
                "../../lib/analytics": 67,
                "../../lib/assets": 68,
                "../../lib/assign": 69,
                "../../lib/braintree-error": 72,
                "../../lib/bus": 75,
                "../../lib/constants": 76,
                "../../lib/convert-methods-to-error": 77,
                "../../lib/create-authorization-data": 79,
                "../../lib/destructor": 81,
                "../../lib/errors": 83,
                "../../lib/event-emitter": 84,
                "../../lib/methods": 90,
                "../../lib/promise": 92,
                "../../lib/vendor/uuid": 96,
                "../shared/browser-detection": 61,
                "../shared/constants": 62,
                "../shared/errors": 63,
                "../shared/find-parent-tags": 64,
                "../shared/get-card-types": 65,
                "./attribute-validation-error": 55,
                "./compose-url": 56,
                "./get-styles-from-class": 57,
                "./inject-frame": 59,
                "@braintree/class-list": 18,
                "@braintree/iframer": 19,
                "@braintree/wrap-promise": 26
            }],
            59: [function(e, t, i) {
                "use strict";
                t.exports = function(e, t) {
                    var i = document.createElement("div"),
                        n = document.createDocumentFragment();
                    return i.style.clear = "both", n.appendChild(e), n.appendChild(i), t.appendChild(n), [e, i]
                }
            }, {}],
            60: [function(e, t, i) {
                "use strict";
                var n = e("./external/hosted-fields"),
                    r = e("../lib/basic-component-verification"),
                    a = e("./shared/errors"),
                    o = e("restricted-input/supports-input-formatting"),
                    s = e("@braintree/wrap-promise"),
                    l = e("../lib/braintree-error"),
                    c = e("../lib/promise");
                t.exports = {
                    supportsInputFormatting: o,
                    create: s(function(e) {
                        return r.verify({
                            name: "Hosted Fields",
                            authorization: e.authorization,
                            client: e.client
                        }).then(function() {
                            var t = new n(e);
                            return new c(function(e, i) {
                                t.on("ready", function() {
                                    e(t)
                                }), t.on("timeout", function() {
                                    i(new l(a.HOSTED_FIELDS_TIMEOUT))
                                })
                            })
                        })
                    }),
                    VERSION: "3.39.0"
                }
            }, {
                "../lib/basic-component-verification": 70,
                "../lib/braintree-error": 72,
                "../lib/promise": 92,
                "./external/hosted-fields": 58,
                "./shared/errors": 63,
                "@braintree/wrap-promise": 26,
                "restricted-input/supports-input-formatting": 120
            }],
            61: [function(e, t, i) {
                "use strict";
                t.exports = {
                    isIE: e("@braintree/browser-detection/is-ie"),
                    isEdge: e("@braintree/browser-detection/is-edge"),
                    isIe9: e("@braintree/browser-detection/is-ie9"),
                    isIos: e("@braintree/browser-detection/is-ios"),
                    isIosWebview: e("@braintree/browser-detection/is-ios-webview")
                }
            }, {
                "@braintree/browser-detection/is-edge": 7,
                "@braintree/browser-detection/is-ie": 8,
                "@braintree/browser-detection/is-ie9": 11,
                "@braintree/browser-detection/is-ios": 15,
                "@braintree/browser-detection/is-ios-webview": 14
            }],
            62: [function(e, t, i) {
                "use strict";
                var n = e("../../lib/enumerate"),
                    r = e("./errors"),
                    a = {
                        VERSION: "3.39.0",
                        maxExpirationYearAge: 19,
                        externalEvents: {
                            FOCUS: "focus",
                            BLUR: "blur",
                            EMPTY: "empty",
                            NOT_EMPTY: "notEmpty",
                            VALIDITY_CHANGE: "validityChange",
                            CARD_TYPE_CHANGE: "cardTypeChange"
                        },
                        defaultMaxLengths: {
                            number: 19,
                            postalCode: 8,
                            expirationDate: 7,
                            expirationMonth: 2,
                            expirationYear: 4,
                            cvv: 3
                        },
                        externalClasses: {
                            FOCUSED: "braintree-hosted-fields-focused",
                            INVALID: "braintree-hosted-fields-invalid",
                            VALID: "braintree-hosted-fields-valid"
                        },
                        defaultIFrameStyle: {
                            border: "none",
                            width: "100%",
                            height: "100%",
                            float: "left"
                        },
                        tokenizationErrorCodes: {
                            81724: r.HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE,
                            81736: r.HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED
                        },
                        allowedStyles: ["-moz-appearance", "-moz-osx-font-smoothing", "-moz-tap-highlight-color", "-moz-transition", "-webkit-appearance", "-webkit-font-smoothing", "-webkit-tap-highlight-color", "-webkit-transition", "appearance", "color", "direction", "font", "font-family", "font-size", "font-size-adjust", "font-stretch", "font-style", "font-variant", "font-variant-alternates", "font-variant-caps", "font-variant-east-asian", "font-variant-ligatures", "font-variant-numeric", "font-weight", "letter-spacing", "line-height", "padding", "opacity", "outline", "text-shadow", "transition"],
                        allowedFields: {
                            number: {
                                name: "credit-card-number",
                                label: "Credit Card Number"
                            },
                            cvv: {
                                name: "cvv",
                                label: "CVV"
                            },
                            expirationDate: {
                                name: "expiration",
                                label: "Expiration Date"
                            },
                            expirationMonth: {
                                name: "expiration-month",
                                label: "Expiration Month"
                            },
                            expirationYear: {
                                name: "expiration-year",
                                label: "Expiration Year"
                            },
                            postalCode: {
                                name: "postal-code",
                                label: "Postal Code"
                            }
                        },
                        allowedAttributes: {
                            "aria-invalid": "boolean",
                            "aria-required": "boolean",
                            disabled: "boolean",
                            placeholder: "string"
                        },
                        autocompleteMappings: {
                            "credit-card-number": "cc-number",
                            expiration: "cc-exp",
                            "expiration-month": "cc-exp-month",
                            "expiration-year": "cc-exp-year",
                            cvv: "cc-csc",
                            "postal-code": "billing postal-code"
                        }
                    };
                a.events = n(["READY_FOR_CLIENT", "FRAME_READY", "VALIDATE_STRICT", "CONFIGURATION", "TOKENIZATION_REQUEST", "INPUT_EVENT", "TRIGGER_INPUT_FOCUS", "ADD_CLASS", "REMOVE_CLASS", "SET_ATTRIBUTE", "REMOVE_ATTRIBUTE", "CLEAR_FIELD", "AUTOFILL_EXPIRATION_DATE", "SET_MESSAGE"], "hosted-fields:"), t.exports = a
            }, {
                "../../lib/enumerate": 82,
                "./errors": 63
            }],
            63: [function(e, t, i) {
                "use strict";
                var n = e("../../lib/braintree-error");
                t.exports = {
                    HOSTED_FIELDS_TIMEOUT: {
                        type: n.types.UNKNOWN,
                        code: "HOSTED_FIELDS_TIMEOUT",
                        message: "Hosted Fields timed out when attempting to set up."
                    },
                    HOSTED_FIELDS_INVALID_FIELD_KEY: {
                        type: n.types.MERCHANT,
                        code: "HOSTED_FIELDS_INVALID_FIELD_KEY"
                    },
                    HOSTED_FIELDS_INVALID_FIELD_SELECTOR: {
                        type: n.types.MERCHANT,
                        code: "HOSTED_FIELDS_INVALID_FIELD_SELECTOR",
                        message: "Selector does not reference a valid DOM node."
                    },
                    HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME: {
                        type: n.types.MERCHANT,
                        code: "HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME",
                        message: "Element already contains a Braintree iframe."
                    },
                    HOSTED_FIELDS_FIELD_INVALID: {
                        type: n.types.MERCHANT,
                        code: "HOSTED_FIELDS_FIELD_INVALID"
                    },
                    HOSTED_FIELDS_FIELD_NOT_PRESENT: {
                        type: n.types.MERCHANT,
                        code: "HOSTED_FIELDS_FIELD_NOT_PRESENT"
                    },
                    HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR: {
                        type: n.types.NETWORK,
                        code: "HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR",
                        message: "A tokenization network error occurred."
                    },
                    HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE: {
                        type: n.types.CUSTOMER,
                        code: "HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE",
                        message: "This credit card already exists in the merchant's vault."
                    },
                    HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED: {
                        type: n.types.CUSTOMER,
                        code: "HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED",
                        message: "CVV verification failed during tokenization."
                    },
                    HOSTED_FIELDS_FAILED_TOKENIZATION: {
                        type: n.types.CUSTOMER,
                        code: "HOSTED_FIELDS_FAILED_TOKENIZATION",
                        message: "The supplied card data failed tokenization."
                    },
                    HOSTED_FIELDS_FIELDS_EMPTY: {
                        type: n.types.CUSTOMER,
                        code: "HOSTED_FIELDS_FIELDS_EMPTY",
                        message: "All fields are empty. Cannot tokenize empty card fields."
                    },
                    HOSTED_FIELDS_FIELDS_INVALID: {
                        type: n.types.CUSTOMER,
                        code: "HOSTED_FIELDS_FIELDS_INVALID",
                        message: "Some payment input fields are invalid. Cannot tokenize invalid card fields."
                    },
                    HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED: {
                        type: n.types.MERCHANT,
                        code: "HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED"
                    },
                    HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED: {
                        type: n.types.MERCHANT,
                        code: "HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED"
                    },
                    HOSTED_FIELDS_FIELD_PROPERTY_INVALID: {
                        type: n.types.MERCHANT,
                        code: "HOSTED_FIELDS_FIELD_PROPERTY_INVALID"
                    }
                }
            }, {
                "../../lib/braintree-error": 72
            }],
            64: [function(e, t, i) {
                "use strict";
                t.exports = function(e, t) {
                    for (var i = e.parentNode, n = []; null != i;) null != i.tagName && i.tagName.toLowerCase() === t && n.push(i), i = i.parentNode;
                    return n
                }
            }, {}],
            65: [function(e, t, i) {
                "use strict";
                var n = e("credit-card-type");
                t.exports = function(e) {
                    var t = n(e);
                    return t.forEach(function(e) {
                        "mastercard" === e.type && (e.type = "master-card")
                    }), t
                }
            }, {
                "credit-card-type": 115
            }],
            66: [function(e, t, i) {
                "use strict";
                var n = e("./create-authorization-data"),
                    r = e("./json-clone"),
                    a = e("./constants");
                t.exports = function(e, t) {
                    var i, o = t ? r(t) : {},
                        s = n(e.authorization).attrs,
                        l = r(e.analyticsMetadata);
                    for (i in o.braintreeLibraryVersion = a.BRAINTREE_LIBRARY_VERSION, o._meta) o._meta.hasOwnProperty(i) && (l[i] = o._meta[i]);
                    return o._meta = l, s.tokenizationKey ? o.tokenizationKey = s.tokenizationKey : o.authorizationFingerprint = s.authorizationFingerprint, o
                }
            }, {
                "./constants": 76,
                "./create-authorization-data": 79,
                "./json-clone": 89
            }],
            67: [function(e, t, i) {
                "use strict";
                var n = e("./promise"),
                    r = e("./constants"),
                    a = e("./add-metadata");

                function o(e) {
                    return Math.floor(e / 1e3)
                }
                t.exports = {
                    sendEvent: function(e, t, i) {
                        var s = o(Date.now());
                        return n.resolve(e).then(function(e) {
                            var n = o(Date.now()),
                                l = e.getConfiguration();
                            (0, e._request)({
                                url: l.gatewayConfiguration.analytics.url,
                                method: "post",
                                data: a(l, {
                                    analytics: [{
                                        kind: r.ANALYTICS_PREFIX + t,
                                        isAsync: n !== s,
                                        timestamp: s
                                    }]
                                }),
                                timeout: r.ANALYTICS_REQUEST_TIMEOUT_MS
                            }, i)
                        })
                    }
                }
            }, {
                "./add-metadata": 66,
                "./constants": 76,
                "./promise": 92
            }],
            68: [function(e, t, i) {
                "use strict";
                var n = e("@braintree/asset-loader/load-script");
                t.exports = {
                    loadScript: n
                }
            }, {
                "@braintree/asset-loader/load-script": 3
            }],
            69: [function(e, t, i) {
                "use strict";
                var n = "function" == typeof Object.assign ? Object.assign : r;

                function r(e) {
                    var t, i, n;
                    for (t = 1; t < arguments.length; t++)
                        for (n in i = arguments[t]) i.hasOwnProperty(n) && (e[n] = i[n]);
                    return e
                }
                t.exports = {
                    assign: n,
                    _assign: r
                }
            }, {}],
            70: [function(e, t, i) {
                "use strict";
                var n = e("./braintree-error"),
                    r = e("./promise"),
                    a = e("./errors");
                t.exports = {
                    verify: function(e) {
                        var t, i, o;
                        return e ? (o = e.name, i = e.authorization, null == (t = e.client) && null == i ? r.reject(new n({
                            type: a.INSTANTIATION_OPTION_REQUIRED.type,
                            code: a.INSTANTIATION_OPTION_REQUIRED.code,
                            message: "options.client is required when instantiating " + o + "."
                        })) : i || "3.39.0" === t.getVersion() ? r.resolve() : r.reject(new n({
                            type: a.INCOMPATIBLE_VERSIONS.type,
                            code: a.INCOMPATIBLE_VERSIONS.code,
                            message: "Client (version " + t.getVersion() + ") and " + o + " (version 3.39.0) components must be from the same SDK version."
                        }))) : r.reject(new n({
                            type: a.INVALID_USE_OF_INTERNAL_FUNCTION.type,
                            code: a.INVALID_USE_OF_INTERNAL_FUNCTION.code,
                            message: "Options must be passed to basicComponentVerification function."
                        }))
                    }
                }
            }, {
                "./braintree-error": 72,
                "./errors": 83,
                "./promise": 92
            }],
            71: [function(e, t, i) {
                "use strict";
                var n = e("./once");
                t.exports = function(e, t) {
                    var i, r, a, o = e.length,
                        s = o,
                        l = n(t);
                    if (0 !== o)
                        for (i = 0; i < o; i++) a = c, 0 === (r = e[i]).length ? (r(), a(null)) : r(a);
                    else l(null);

                    function c(e) {
                        e ? l(e) : 0 == (s -= 1) && l(null)
                    }
                }
            }, {
                "./once": 91
            }],
            72: [function(e, t, i) {
                "use strict";
                var n = e("./enumerate");

                function r(e) {
                    if (!r.types.hasOwnProperty(e.type)) throw new Error(e.type + " is not a valid type.");
                    if (!e.code) throw new Error("Error code required.");
                    if (!e.message) throw new Error("Error message required.");
                    this.name = "BraintreeError", this.code = e.code, this.message = e.message, this.type = e.type, this.details = e.details
                }((r.prototype = Object.create(Error.prototype)).constructor = r).types = n(["CUSTOMER", "MERCHANT", "NETWORK", "INTERNAL", "UNKNOWN"]), r.findRootError = function(e) {
                    return e instanceof r && e.details && e.details.originalError ? r.findRootError(e.details.originalError) : e
                }, t.exports = r
            }, {
                "./enumerate": 82
            }],
            73: [function(e, t, i) {
                "use strict";
                var n = e("../is-verified-domain");
                t.exports = {
                    checkOrigin: function(e, t) {
                        var i, r = document.createElement("a");
                        return r.href = t, i = "https:" === r.protocol ? r.host.replace(/:443$/, "") : "http:" === r.protocol ? r.host.replace(/:80$/, "") : r.host, r.protocol + "//" + i === e || (r.href = e, n(e))
                    }
                }
            }, {
                "../is-verified-domain": 88
            }],
            74: [function(e, t, i) {
                "use strict";
                var n = e("../enumerate");
                t.exports = n(["CONFIGURATION_REQUEST"], "bus:")
            }, {
                "../enumerate": 82
            }],
            75: [function(e, t, i) {
                "use strict";
                var n = e("framebus"),
                    r = e("./events"),
                    a = e("./check-origin").checkOrigin,
                    o = e("../braintree-error");

                function s(e) {
                    if (this.channel = (e = e || {}).channel, !this.channel) throw new o({
                        type: o.types.INTERNAL,
                        code: "MISSING_CHANNEL_ID",
                        message: "Channel ID must be specified."
                    });
                    this.merchantUrl = e.merchantUrl, this._isDestroyed = !1, this._isVerbose = !1, this._listeners = [], this._log("new bus on channel " + this.channel, [location.href])
                }
                s.prototype.on = function(e, t) {
                    var i, r, o = t,
                        s = this;
                    this._isDestroyed || (this.merchantUrl && (o = function() {
                        a(this.origin, s.merchantUrl) && t.apply(this, arguments)
                    }), i = this._namespaceEvent(e), (r = Array.prototype.slice.call(arguments))[0] = i, r[1] = o, this._log("on", r), n.on.apply(n, r), this._listeners.push({
                        eventName: e,
                        handler: o,
                        originalHandler: t
                    }))
                }, s.prototype.emit = function(e) {
                    var t;
                    this._isDestroyed || ((t = Array.prototype.slice.call(arguments))[0] = this._namespaceEvent(e), this._log("emit", t), n.emit.apply(n, t))
                }, s.prototype._offDirect = function(e) {
                    var t = Array.prototype.slice.call(arguments);
                    this._isDestroyed || (t[0] = this._namespaceEvent(e), this._log("off", t), n.off.apply(n, t))
                }, s.prototype.off = function(e, t) {
                    var i, n, r = t;
                    if (!this._isDestroyed) {
                        if (this.merchantUrl)
                            for (i = 0; i < this._listeners.length; i++)(n = this._listeners[i]).originalHandler === t && (r = n.handler);
                        this._offDirect(e, r)
                    }
                }, s.prototype._namespaceEvent = function(e) {
                    return ["braintree", this.channel, e].join(":")
                }, s.prototype.teardown = function() {
                    var e, t;
                    for (t = 0; t < this._listeners.length; t++) this._offDirect((e = this._listeners[t]).eventName, e.handler);
                    this._listeners.length = 0, this._isDestroyed = !0
                }, s.prototype._log = function(e, t) {
                    this._isVerbose && console.log(e, t)
                }, s.events = r, t.exports = s
            }, {
                "../braintree-error": 72,
                "./check-origin": 73,
                "./events": 74,
                framebus: 116
            }],
            76: [function(e, t, i) {
                "use strict";
                t.exports = {
                    ANALYTICS_PREFIX: "web.",
                    ANALYTICS_REQUEST_TIMEOUT_MS: 2e3,
                    ASSETS_URLS: {
                        production: "https://assets.braintreegateway.com",
                        sandbox: "https://assets.braintreegateway.com"
                    },
                    CLIENT_API_URLS: {
                        production: "https://api.braintreegateway.com:443",
                        sandbox: "https://api.sandbox.braintreegateway.com:443"
                    },
                    FRAUDNET_SOURCE: "BRAINTREE_SIGNIN",
                    FRAUDNET_FNCLS: "fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",
                    FRAUDNET_URL: "https://c.paypal.com/da/r/fb.js",
                    GRAPHQL_URLS: {
                        production: "https://payments.braintree-api.com/graphql",
                        sandbox: "https://payments.sandbox.braintree-api.com/graphql"
                    },
                    INTEGRATION_TIMEOUT_MS: 6e4,
                    VERSION: "3.39.0",
                    INTEGRATION: "custom",
                    SOURCE: "client",
                    PLATFORM: "web",
                    BRAINTREE_LIBRARY_VERSION: "braintree/web/3.39.0"
                }
            }, {}],
            77: [function(e, t, i) {
                "use strict";
                var n = e("./braintree-error"),
                    r = e("./errors");
                t.exports = function(e, t) {
                    t.forEach(function(t) {
                        e[t] = function() {
                            throw new n({
                                type: r.METHOD_CALLED_AFTER_TEARDOWN.type,
                                code: r.METHOD_CALLED_AFTER_TEARDOWN.code,
                                message: t + " cannot be called after teardown."
                            })
                        }
                    })
                }
            }, {
                "./braintree-error": 72,
                "./errors": 83
            }],
            78: [function(e, t, i) {
                "use strict";
                var n = e("./braintree-error");
                t.exports = function(e, t) {
                    return e instanceof n ? e : new n({
                        type: t.type,
                        code: t.code,
                        message: t.message,
                        details: {
                            originalError: e
                        }
                    })
                }
            }, {
                "./braintree-error": 72
            }],
            79: [function(e, t, i) {
                "use strict";
                var n = e("../lib/vendor/polyfill").atob,
                    r = e("../lib/constants").CLIENT_API_URLS;
                t.exports = function(e) {
                    var t, i, a, o, s = {
                        attrs: {},
                        configUrl: ""
                    };
                    return /^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(e) ? (o = (a = e.split("_"))[0], i = {
                        merchantId: a.slice(2).join("_"),
                        environment: o
                    }, s.environment = i.environment, s.attrs.tokenizationKey = e, s.configUrl = r[i.environment] + "/merchants/" + i.merchantId + "/client_api/v1/configuration") : (t = JSON.parse(n(e)), s.environment = t.environment, s.attrs.authorizationFingerprint = t.authorizationFingerprint, s.configUrl = t.configUrl, s.graphQL = t.graphQL), s
                }
            }, {
                "../lib/constants": 76,
                "../lib/vendor/polyfill": 95
            }],
            80: [function(e, t, i) {
                "use strict";
                t.exports = function(e) {
                    return function() {
                        var t = arguments;
                        setTimeout(function() {
                            e.apply(null, t)
                        }, 1)
                    }
                }
            }, {}],
            81: [function(e, t, i) {
                "use strict";
                var n = e("./batch-execute-functions");

                function r() {
                    this._teardownRegistry = [], this._isTearingDown = !1
                }
                r.prototype.registerFunctionForTeardown = function(e) {
                    "function" == typeof e && this._teardownRegistry.push(e)
                }, r.prototype.teardown = function(e) {
                    this._isTearingDown ? e(new Error("Destructor is already tearing down")) : (this._isTearingDown = !0, n(this._teardownRegistry, (function(t) {
                        this._teardownRegistry = [], this._isTearingDown = !1, "function" == typeof e && e(t)
                    }).bind(this)))
                }, t.exports = r
            }, {
                "./batch-execute-functions": 71
            }],
            82: [function(e, t, i) {
                "use strict";
                t.exports = function(e, t) {
                    return t = null == t ? "" : t, e.reduce(function(e, i) {
                        return e[i] = t + i, e
                    }, {})
                }
            }, {}],
            83: [function(e, t, i) {
                "use strict";
                var n = e("./braintree-error");
                t.exports = {
                    INVALID_USE_OF_INTERNAL_FUNCTION: {
                        type: n.types.INTERNAL,
                        code: "INVALID_USE_OF_INTERNAL_FUNCTION"
                    },
                    INSTANTIATION_OPTION_REQUIRED: {
                        type: n.types.MERCHANT,
                        code: "INSTANTIATION_OPTION_REQUIRED"
                    },
                    INCOMPATIBLE_VERSIONS: {
                        type: n.types.MERCHANT,
                        code: "INCOMPATIBLE_VERSIONS"
                    },
                    METHOD_CALLED_AFTER_TEARDOWN: {
                        type: n.types.MERCHANT,
                        code: "METHOD_CALLED_AFTER_TEARDOWN"
                    },
                    BRAINTREE_API_ACCESS_RESTRICTED: {
                        type: n.types.MERCHANT,
                        code: "BRAINTREE_API_ACCESS_RESTRICTED",
                        message: "Your access is restricted and cannot use this part of the Braintree API."
                    }
                }
            }, {
                "./braintree-error": 72
            }],
            84: [function(e, t, i) {
                "use strict";

                function n() {
                    this._events = {}
                }
                n.prototype.on = function(e, t) {
                    this._events[e] ? this._events[e].push(t) : this._events[e] = [t]
                }, n.prototype._emit = function(e) {
                    var t, i, n = this._events[e];
                    if (n)
                        for (i = Array.prototype.slice.call(arguments, 1), t = 0; t < n.length; t++) n[t].apply(null, i)
                }, t.exports = n
            }, {}],
            85: [function(e, t, i) {
                "use strict";
                t.exports = function(e) {
                    var t = e.gatewayConfiguration.androidPay,
                        i = e.analyticsMetadata,
                        n = {
                            environment: "production" === e.gatewayConfiguration.environment ? "PRODUCTION" : "TEST",
                            allowedPaymentMethods: ["CARD", "TOKENIZED_CARD"],
                            paymentMethodTokenizationParameters: {
                                tokenizationType: "PAYMENT_GATEWAY",
                                parameters: {
                                    gateway: "braintree",
                                    "braintree:merchantId": e.gatewayConfiguration.merchantId,
                                    "braintree:authorizationFingerprint": t.googleAuthorizationFingerprint,
                                    "braintree:apiVersion": "v1",
                                    "braintree:sdkVersion": "3.39.0",
                                    "braintree:metadata": JSON.stringify({
                                        source: i.source,
                                        integration: i.integration,
                                        sessionId: i.sessionId,
                                        version: "3.39.0",
                                        platform: i.platform
                                    })
                                }
                            },
                            cardRequirements: {
                                allowedCardNetworks: t.supportedNetworks.map(function(e) {
                                    return e.toUpperCase()
                                })
                            }
                        };
                    return "TOKENIZATION_KEY" === e.authorizationType && (n.paymentMethodTokenizationParameters.parameters["braintree:clientKey"] = e.authorization), n
                }
            }, {}],
            86: [function(e, t, i) {
                "use strict";

                function n(e) {
                    var t = e.split("-");
                    return new Date(t[0], t[1], t[2])
                }
                t.exports = function(e, t) {
                    return n(e) <= n(t)
                }
            }, {}],
            87: [function(e, t, i) {
                (function(e) {
                    "use strict";
                    t.exports = {
                        isHTTPS: function(t) {
                            return "https:" === (t || e.location.protocol)
                        }
                    }
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {}],
            88: [function(e, t, i) {
                "use strict";
                var n, r = {
                    "paypal.com": 1,
                    "braintreepayments.com": 1,
                    "braintreegateway.com": 1,
                    "braintree-api.com": 1
                };
                t.exports = function(e) {
                    var t;
                    return e = e.toLowerCase(), !!/^https:/.test(e) && ((n = n || document.createElement("a")).href = e, t = n.hostname.split(".").slice(-2).join("."), r.hasOwnProperty(t))
                }
            }, {}],
            89: [function(e, t, i) {
                "use strict";
                t.exports = function(e) {
                    return JSON.parse(JSON.stringify(e))
                }
            }, {}],
            90: [function(e, t, i) {
                "use strict";
                t.exports = function(e) {
                    return Object.keys(e).filter(function(t) {
                        return "function" == typeof e[t]
                    })
                }
            }, {}],
            91: [function(e, t, i) {
                arguments[4][24][0].apply(i, arguments)
            }, {
                dup: 24
            }],
            92: [function(e, t, i) {
                (function(i) {
                    "use strict";
                    var n = i.Promise || e("promise-polyfill");
                    t.exports = n
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {
                "promise-polyfill": 118
            }],
            93: [function(e, t, i) {
                (function(e) {
                    "use strict";

                    function i(e, t) {
                        var n, r, a, o, s = [];
                        for (a in e) e.hasOwnProperty(a) && (r = e[a], n = t ? (o = e) && "object" == typeof o && "number" == typeof o.length && "[object Array]" === Object.prototype.toString.call(o) ? t + "[]" : t + "[" + a + "]" : a, s.push("object" == typeof r ? i(r, n) : encodeURIComponent(n) + "=" + encodeURIComponent(r)));
                        return s.join("&")
                    }
                    t.exports = {
                        parse: function(t) {
                            return /\?/.test(t = t || e.location.href) ? t.replace(/#.*$/, "").replace(/^.*\?/, "").split("&").reduce(function(e, t) {
                                var i = t.split("="),
                                    n = decodeURIComponent(i[0]),
                                    r = decodeURIComponent(i[1]);
                                return e[n] = r, e
                            }, {}) : {}
                        },
                        stringify: i,
                        queryify: function(e, t) {
                            return e = e || "", null != t && "object" == typeof t && function(e) {
                                var t;
                                for (t in e)
                                    if (e.hasOwnProperty(t)) return !0;
                                return !1
                            }(t) && (e += -1 === e.indexOf("?") ? "?" : "", e += -1 !== e.indexOf("=") ? "&" : "", e += i(t)), e
                        }
                    }
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {}],
            94: [function(e, t, i) {
                "use strict";
                t.exports = function(e) {
                    return e ? "" : ".min"
                }
            }, {}],
            95: [function(e, t, i) {
                (function(e) {
                    "use strict";
                    var i = "function" == typeof e.atob ? e.atob : n;

                    function n(e) {
                        var t, i, n, r, a, o, s = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
                            l = "";
                        if (!new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$").test(e)) throw new Error("Non base64 encoded input passed to window.atob polyfill");
                        for (o = 0; t = (63 & s.indexOf(e.charAt(o++))) << 2 | (r = s.indexOf(e.charAt(o++))) >> 4 & 3, i = (15 & r) << 4 | (a = s.indexOf(e.charAt(o++))) >> 2 & 15, n = (3 & a) << 6 | 63 & s.indexOf(e.charAt(o++)), l += String.fromCharCode(t) + (i ? String.fromCharCode(i) : "") + (n ? String.fromCharCode(n) : ""), o < e.length;);
                        return l
                    }
                    t.exports = {
                        atob: function(t) {
                            return i.call(e, t)
                        },
                        _atob: n
                    }
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {}],
            96: [function(e, t, i) {
                "use strict";
                t.exports = function() {
                    return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(e) {
                        var t = 16 * Math.random() | 0;
                        return ("x" === e ? t : 3 & t | 8).toString(16)
                    })
                }
            }, {}],
            97: [function(e, t, i) {
                "use strict";
                var n = e("../lib/braintree-error");
                t.exports = {
                    PAYPAL_NOT_ENABLED: {
                        type: n.types.MERCHANT,
                        code: "PAYPAL_NOT_ENABLED",
                        message: "PayPal is not enabled for this merchant."
                    },
                    PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED: {
                        type: n.types.MERCHANT,
                        code: "PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED",
                        message: "A linked PayPal Sandbox account is required to use PayPal Checkout in Sandbox. See https://developers.braintreepayments.com/guides/paypal/testing-go-live/#linked-paypal-testing for details on linking your PayPal sandbox with Braintree."
                    },
                    PAYPAL_ACCOUNT_TOKENIZATION_FAILED: {
                        type: n.types.NETWORK,
                        code: "PAYPAL_ACCOUNT_TOKENIZATION_FAILED",
                        message: "Could not tokenize user's PayPal account."
                    },
                    PAYPAL_FLOW_FAILED: {
                        type: n.types.NETWORK,
                        code: "PAYPAL_FLOW_FAILED",
                        message: "Could not initialize PayPal flow."
                    },
                    PAYPAL_FLOW_OPTION_REQUIRED: {
                        type: n.types.MERCHANT,
                        code: "PAYPAL_FLOW_OPTION_REQUIRED",
                        message: "PayPal flow property is invalid or missing."
                    },
                    PAYPAL_INVALID_PAYMENT_OPTION: {
                        type: n.types.MERCHANT,
                        code: "PAYPAL_INVALID_PAYMENT_OPTION",
                        message: "PayPal payment options are invalid."
                    }
                }
            }, {
                "../lib/braintree-error": 72
            }],
            98: [function(e, t, i) {
                "use strict";
                var n = e("../lib/braintree-error"),
                    r = e("../lib/analytics"),
                    a = e("../lib/basic-component-verification"),
                    o = e("./errors"),
                    s = e("../lib/promise"),
                    l = e("@braintree/wrap-promise"),
                    c = e("./paypal-checkout");
                t.exports = {
                    create: l(function(e) {
                        return a.verify({
                            name: "PayPal Checkout",
                            client: e.client
                        }).then(function() {
                            var t = e.client.getConfiguration();
                            return t.gatewayConfiguration.paypalEnabled ? !0 === t.gatewayConfiguration.paypal.environmentNoNetwork ? s.reject(new n(o.PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED)) : (r.sendEvent(e.client, "paypal-checkout.initialized"), new c(e)) : s.reject(new n(o.PAYPAL_NOT_ENABLED))
                        })
                    }),
                    isSupported: function() {
                        return !0
                    },
                    VERSION: "3.39.0"
                }
            }, {
                "../lib/analytics": 67,
                "../lib/basic-component-verification": 70,
                "../lib/braintree-error": 72,
                "../lib/promise": 92,
                "./errors": 97,
                "./paypal-checkout": 99,
                "@braintree/wrap-promise": 26
            }],
            99: [function(e, t, i) {
                "use strict";
                var n = e("../lib/analytics"),
                    r = e("../lib/promise"),
                    a = e("@braintree/wrap-promise"),
                    o = e("../lib/braintree-error"),
                    s = e("../lib/convert-to-braintree-error"),
                    l = e("./errors"),
                    c = e("../paypal/shared/constants"),
                    u = e("../lib/methods"),
                    d = e("../lib/convert-methods-to-error");

                function h(e) {
                    this._client = e.client, this._merchantAccountId = e.merchantAccountId
                }
                h.prototype.createPayment = function(e) {
                    var t;
                    return e && c.FLOW_ENDPOINTS.hasOwnProperty(e.flow) ? (t = "paypal_hermes/" + c.FLOW_ENDPOINTS[e.flow], n.sendEvent(this._client, "paypal-checkout.createPayment"), !0 === e.offerCredit && n.sendEvent(this._client, "paypal-checkout.credit.offered"), this._client.request({
                        endpoint: t,
                        method: "post",
                        data: this._formatPaymentResourceData(e)
                    }).then(function(t) {
                        return "checkout" === e.flow ? t.paymentResource.paymentToken : t.agreementSetup.tokenId
                    }).catch(function(e) {
                        return r.reject(422 === (e.details && e.details.httpStatus) ? new o({
                            type: l.PAYPAL_INVALID_PAYMENT_OPTION.type,
                            code: l.PAYPAL_INVALID_PAYMENT_OPTION.code,
                            message: l.PAYPAL_INVALID_PAYMENT_OPTION.message,
                            details: {
                                originalError: e
                            }
                        }) : s(e, {
                            type: l.PAYPAL_FLOW_FAILED.type,
                            code: l.PAYPAL_FLOW_FAILED.code,
                            message: l.PAYPAL_FLOW_FAILED.message
                        }))
                    })) : r.reject(new o(l.PAYPAL_FLOW_OPTION_REQUIRED))
                }, h.prototype.tokenizePayment = function(e) {
                    var t, i = this,
                        a = this._client,
                        o = {
                            flow: e.billingToken ? "vault" : "checkout",
                            intent: e.intent
                        },
                        c = {
                            ecToken: e.paymentToken,
                            billingToken: e.billingToken,
                            payerId: e.payerID,
                            paymentId: e.paymentID
                        };
                    return n.sendEvent(a, "paypal-checkout.tokenization.started"), a.request({
                        endpoint: "payment_methods/paypal_accounts",
                        method: "post",
                        data: i._formatTokenizeData(o, c)
                    }).then(function(e) {
                        return t = i._formatTokenizePayload(e), n.sendEvent(a, "paypal-checkout.tokenization.success"), t.creditFinancingOffered && n.sendEvent(a, "paypal-checkout.credit.accepted"), t
                    }).catch(function(e) {
                        return n.sendEvent(a, "paypal-checkout.tokenization.failed"), r.reject(s(e, {
                            type: l.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.type,
                            code: l.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.code,
                            message: l.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.message
                        }))
                    })
                }, h.prototype._formatPaymentResourceData = function(e) {
                    var t, i = this._client.getConfiguration().gatewayConfiguration,
                        n = {
                            returnUrl: "x",
                            cancelUrl: "x",
                            offerPaypalCredit: !0 === e.offerCredit,
                            merchantAccountId: this._merchantAccountId,
                            experienceProfile: {
                                brandName: e.displayName || i.paypal.displayName,
                                localeCode: e.locale,
                                noShipping: (!e.enableShippingAddress).toString(),
                                addressOverride: !1 === e.shippingAddressEditable,
                                landingPageType: e.landingPageType
                            }
                        };
                    if ("checkout" === e.flow)
                        for (t in n.amount = e.amount, n.currencyIsoCode = e.currency, e.hasOwnProperty("intent") && (n.intent = e.intent), e.shippingAddressOverride) e.shippingAddressOverride.hasOwnProperty(t) && (n[t] = e.shippingAddressOverride[t]);
                    else n.shippingAddress = e.shippingAddressOverride, e.billingAgreementDescription && (n.description = e.billingAgreementDescription);
                    return n
                }, h.prototype._formatTokenizeData = function(e, t) {
                    var i = this._client.getConfiguration(),
                        n = i.gatewayConfiguration,
                        r = {
                            paypalAccount: {
                                correlationId: t.billingToken || t.ecToken,
                                options: {
                                    validate: "vault" === e.flow && !("TOKENIZATION_KEY" === i.authorizationType)
                                }
                            }
                        };
                    return t.billingToken ? r.paypalAccount.billingAgreementToken = t.billingToken : (r.paypalAccount.paymentToken = t.paymentId, r.paypalAccount.payerId = t.payerId, r.paypalAccount.unilateral = n.paypal.unvettedMerchant, e.intent && (r.paypalAccount.intent = e.intent), this._merchantAccountId && (r.merchantAccountId = this._merchantAccountId)), r
                }, h.prototype._formatTokenizePayload = function(e) {
                    var t, i = {};
                    return e.paypalAccounts && (i = e.paypalAccounts[0]), t = {
                        nonce: i.nonce,
                        details: {},
                        type: i.type
                    }, i.details && i.details.payerInfo && (t.details = i.details.payerInfo), i.details && i.details.creditFinancingOffered && (t.creditFinancingOffered = i.details.creditFinancingOffered), t
                }, h.prototype.teardown = function() {
                    return d(this, u(h.prototype)), r.resolve()
                }, t.exports = a.wrapPrototype(h)
            }, {
                "../lib/analytics": 67,
                "../lib/braintree-error": 72,
                "../lib/convert-methods-to-error": 77,
                "../lib/convert-to-braintree-error": 78,
                "../lib/methods": 90,
                "../lib/promise": 92,
                "../paypal/shared/constants": 100,
                "./errors": 97,
                "@braintree/wrap-promise": 26
            }],
            100: [function(e, t, i) {
                "use strict";
                t.exports = {
                    LANDING_FRAME_NAME: "braintreepaypallanding",
                    FLOW_ENDPOINTS: {
                        checkout: "create_payment_resource",
                        vault: "setup_billing_agreement"
                    }
                }
            }, {}],
            101: [function(e, t, i) {
                "use strict";
                var n = e("../../lib/braintree-error"),
                    r = e("../../lib/analytics"),
                    a = e("../../lib/assign").assign,
                    o = e("../../lib/methods"),
                    s = e("../../lib/convert-methods-to-error"),
                    l = e("../shared/constants"),
                    c = e("../../lib/use-min"),
                    u = e("../../lib/bus"),
                    d = e("../../lib/vendor/uuid"),
                    h = e("../../lib/deferred"),
                    p = e("../shared/errors"),
                    f = e("../shared/events"),
                    m = "3.39.0",
                    g = e("@braintree/iframer"),
                    y = e("../../lib/promise"),
                    v = e("@braintree/wrap-promise");

                function b(e) {
                    this._options = e, this._assetsUrl = e.client.getConfiguration().gatewayConfiguration.assetsUrl, this._isDebug = e.client.getConfiguration().isDebug, this._client = e.client
                }
                b.prototype.verifyCard = function(e) {
                    var t, i, r, o, s, l = this;
                    return (e = a({}, e)).customer && e.customer.billingAddress && (e.customer.billingAddress.line1 = e.customer.billingAddress.streetAddress, e.customer.billingAddress.line2 = e.customer.billingAddress.extendedAddress, e.customer.billingAddress.city = e.customer.billingAddress.locality, e.customer.billingAddress.state = e.customer.billingAddress.region, e.customer.billingAddress.countryCode = e.customer.billingAddress.countryCodeAlpha2, delete e.customer.billingAddress.streetAddress, delete e.customer.billingAddress.extendedAddress, delete e.customer.billingAddress.locality, delete e.customer.billingAddress.region, delete e.customer.billingAddress.countryCodeAlpha2), !0 === this._verifyCardInProgress ? o = p.THREEDS_AUTHENTICATION_IN_PROGRESS : e.nonce ? e.amount ? "function" != typeof e.addFrame ? s = "an addFrame function" : "function" != typeof e.removeFrame && (s = "a removeFrame function") : s = "an amount" : s = "a nonce", s && (o = {
                        type: p.THREEDS_MISSING_VERIFY_CARD_OPTION.type,
                        code: p.THREEDS_MISSING_VERIFY_CARD_OPTION.code,
                        message: "verifyCard options must include " + s + "."
                    }), o ? y.reject(new n(o)) : (t = !1 !== e.showLoader, this._verifyCardInProgress = !0, i = h(e.addFrame), r = h(e.removeFrame), this._client.request({
                        endpoint: "payment_methods/" + e.nonce + "/three_d_secure/lookup",
                        method: "post",
                        data: {
                            amount: e.amount,
                            customer: e.customer
                        }
                    }).then(function(e) {
                        return l._lookupPaymentMethod = e.paymentMethod, new y(function(n, a) {
                            l._verifyCardCallback = function(e, t) {
                                l._verifyCardInProgress = !1, e ? a(e) : n(t)
                            }, l._handleLookupResponse({
                                showLoader: t,
                                lookupResponse: e,
                                addFrame: i,
                                removeFrame: r
                            })
                        })
                    }).catch(function(e) {
                        return l._verifyCardInProgress = !1, y.reject(e)
                    }))
                }, b.prototype.cancelVerifyCard = function() {
                    var e;
                    return this._verifyCardInProgress = !1, this._lookupPaymentMethod ? (e = a({}, this._lookupPaymentMethod, {
                        liabilityShiftPossible: this._lookupPaymentMethod.threeDSecureInfo.liabilityShiftPossible,
                        liabilityShifted: this._lookupPaymentMethod.threeDSecureInfo.liabilityShifted,
                        verificationDetails: this._lookupPaymentMethod.threeDSecureInfo.verificationDetails
                    }), y.resolve(e)) : y.reject(new n(p.THREEDS_NO_VERIFICATION_PAYLOAD))
                }, b.prototype._handleLookupResponse = function(e) {
                    var t, i = e.lookupResponse;
                    i.lookup && i.lookup.acsUrl && 0 < i.lookup.acsUrl.length ? e.addFrame(null, this._createIframe({
                        showLoader: e.showLoader,
                        response: i.lookup,
                        removeFrame: e.removeFrame
                    })) : ((t = this._formatAuthResponse(i.paymentMethod, i.threeDSecureInfo)).verificationDetails = i.threeDSecureInfo, this._verifyCardCallback(null, t))
                }, b.prototype._createIframe = function(e) {
                    var t, i, n = window.location.href,
                        r = e.response;
                    return this._bus = new u({
                        channel: d(),
                        merchantUrl: location.href
                    }), i = this._assetsUrl + "/web/" + m + "/html/three-d-secure-authentication-complete-frame.html?channel=" + encodeURIComponent(this._bus.channel) + "&", -1 < n.indexOf("#") && (n = n.split("#")[0]), this._bus.on(u.events.CONFIGURATION_REQUEST, function(e) {
                        e({
                            acsUrl: r.acsUrl,
                            pareq: r.pareq,
                            termUrl: r.termUrl + "&three_d_secure_version=" + m + "&authentication_complete_base_url=" + encodeURIComponent(i),
                            md: r.md,
                            parentUrl: n
                        })
                    }), this._bus.on(f.AUTHENTICATION_COMPLETE, (function(t) {
                        this._handleAuthResponse(t, e)
                    }).bind(this)), t = this._assetsUrl + "/web/" + m + "/html/three-d-secure-bank-frame" + c(this._isDebug) + ".html?showLoader=" + e.showLoader, this._bankIframe = g({
                        src: t,
                        height: 400,
                        width: 400,
                        name: l.LANDING_FRAME_NAME + "_" + this._bus.channel,
                        title: "3D Secure Authorization Frame"
                    }), this._bankIframe
                }, b.prototype._handleAuthResponse = function(e, t) {
                    var i = JSON.parse(e.auth_response);
                    this._bus.teardown(), t.removeFrame(), h((function() {
                        i.success ? this._verifyCardCallback(null, this._formatAuthResponse(i.paymentMethod, i.threeDSecureInfo)) : i.threeDSecureInfo && i.threeDSecureInfo.liabilityShiftPossible ? this._verifyCardCallback(null, this._formatAuthResponse(this._lookupPaymentMethod, i.threeDSecureInfo)) : this._verifyCardCallback(new n({
                            type: n.types.UNKNOWN,
                            code: "UNKNOWN_AUTH_RESPONSE",
                            message: i.error.message
                        }))
                    }).bind(this))()
                }, b.prototype._formatAuthResponse = function(e, t) {
                    return {
                        nonce: e.nonce,
                        binData: e.binData,
                        details: e.details,
                        description: e.description && e.description.replace(/\+/g, " "),
                        liabilityShifted: t.liabilityShifted,
                        liabilityShiftPossible: t.liabilityShiftPossible
                    }
                }, b.prototype.teardown = function() {
                    var e;
                    return s(this, o(b.prototype)), r.sendEvent(this._options.client, "threedsecure.teardown-completed"), this._bus && this._bus.teardown(), this._bankIframe && (e = this._bankIframe.parentNode) && e.removeChild(this._bankIframe), y.resolve()
                }, t.exports = v.wrapPrototype(b)
            }, {
                "../../lib/analytics": 67,
                "../../lib/assign": 69,
                "../../lib/braintree-error": 72,
                "../../lib/bus": 75,
                "../../lib/convert-methods-to-error": 77,
                "../../lib/deferred": 80,
                "../../lib/methods": 90,
                "../../lib/promise": 92,
                "../../lib/use-min": 94,
                "../../lib/vendor/uuid": 96,
                "../shared/constants": 103,
                "../shared/errors": 104,
                "../shared/events": 105,
                "@braintree/iframer": 19,
                "@braintree/wrap-promise": 26
            }],
            102: [function(e, t, i) {
                "use strict";
                var n = e("./external/three-d-secure"),
                    r = e("../lib/is-https").isHTTPS,
                    a = e("../lib/basic-component-verification"),
                    o = e("../lib/braintree-error"),
                    s = e("../lib/analytics"),
                    l = e("./shared/errors"),
                    c = e("../lib/promise"),
                    u = e("@braintree/wrap-promise");
                t.exports = {
                    create: u(function(e) {
                        return a.verify({
                            name: "3D Secure",
                            client: e.client
                        }).then(function() {
                            var t, i = e.client.getConfiguration();
                            return i.gatewayConfiguration.threeDSecureEnabled || (t = l.THREEDS_NOT_ENABLED), "TOKENIZATION_KEY" === i.authorizationType && (t = l.THREEDS_CAN_NOT_USE_TOKENIZATION_KEY), "production" === i.gatewayConfiguration.environment && !r() && (t = l.THREEDS_HTTPS_REQUIRED), t ? c.reject(new o(t)) : (s.sendEvent(e.client, "threedsecure.initialized"), new n(e))
                        })
                    }),
                    VERSION: "3.39.0"
                }
            }, {
                "../lib/analytics": 67,
                "../lib/basic-component-verification": 70,
                "../lib/braintree-error": 72,
                "../lib/is-https": 87,
                "../lib/promise": 92,
                "./external/three-d-secure": 101,
                "./shared/errors": 104,
                "@braintree/wrap-promise": 26
            }],
            103: [function(e, t, i) {
                "use strict";
                t.exports = {
                    LANDING_FRAME_NAME: "braintreethreedsecurelanding"
                }
            }, {}],
            104: [function(e, t, i) {
                "use strict";
                var n = e("../../lib/braintree-error");
                t.exports = {
                    THREEDS_NOT_ENABLED: {
                        type: n.types.MERCHANT,
                        code: "THREEDS_NOT_ENABLED",
                        message: "3D Secure is not enabled for this merchant."
                    },
                    THREEDS_CAN_NOT_USE_TOKENIZATION_KEY: {
                        type: n.types.MERCHANT,
                        code: "THREEDS_CAN_NOT_USE_TOKENIZATION_KEY",
                        message: "3D Secure can not use a tokenization key for authorization."
                    },
                    THREEDS_HTTPS_REQUIRED: {
                        type: n.types.MERCHANT,
                        code: "THREEDS_HTTPS_REQUIRED",
                        message: "3D Secure requires HTTPS."
                    },
                    THREEDS_AUTHENTICATION_IN_PROGRESS: {
                        type: n.types.MERCHANT,
                        code: "THREEDS_AUTHENTICATION_IN_PROGRESS",
                        message: "Cannot call verifyCard while existing authentication is in progress."
                    },
                    THREEDS_MISSING_VERIFY_CARD_OPTION: {
                        type: n.types.MERCHANT,
                        code: "THREEDS_MISSING_VERIFY_CARD_OPTION"
                    },
                    THREEDS_NO_VERIFICATION_PAYLOAD: {
                        type: n.types.MERCHANT,
                        code: "THREEDS_NO_VERIFICATION_PAYLOAD",
                        message: "No verification payload available."
                    },
                    THREEDS_TERM_URL_REQUIRES_BRAINTREE_DOMAIN: {
                        type: n.types.INTERNAL,
                        code: "THREEDS_TERM_URL_REQUIRES_BRAINTREE_DOMAIN",
                        message: "Term Url must be on a Braintree domain."
                    }
                }
            }, {
                "../../lib/braintree-error": 72
            }],
            105: [function(e, t, i) {
                "use strict";
                var n = e("../../lib/enumerate");
                t.exports = n(["AUTHENTICATION_COMPLETE"], "threedsecure:")
            }, {
                "../../lib/enumerate": 82
            }],
            106: [function(e, t, i) {
                "use strict";
                var n = e("../lib/braintree-error");
                t.exports = {
                    VAULT_MANAGER_DELETE_PAYMENT_METHOD_NONCE_REQUIRES_CLIENT_TOKEN: {
                        type: n.types.MERCHANT,
                        code: "VAULT_MANAGER_DELETE_PAYMENT_METHOD_NONCE_REQUIRES_CLIENT_TOKEN",
                        message: "A client token with a customer id must be used to delete a payment method nonce."
                    },
                    VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND: {
                        type: n.types.MERCHANT,
                        code: "VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND"
                    },
                    VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR: {
                        type: n.types.UNKNOWN,
                        code: "VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR"
                    }
                }
            }, {
                "../lib/braintree-error": 72
            }],
            107: [function(e, t, i) {
                "use strict";
                var n = e("../lib/basic-component-verification"),
                    r = e("./vault-manager"),
                    a = e("@braintree/wrap-promise");
                t.exports = {
                    create: a(function(e) {
                        return n.verify({
                            name: "Vault Manager",
                            client: e.client
                        }).then(function() {
                            return new r(e)
                        })
                    }),
                    VERSION: "3.39.0"
                }
            }, {
                "../lib/basic-component-verification": 70,
                "./vault-manager": 108,
                "@braintree/wrap-promise": 26
            }],
            108: [function(e, t, i) {
                "use strict";
                var n = e("../lib/analytics"),
                    r = e("../lib/braintree-error"),
                    a = e("./errors"),
                    o = e("../lib/convert-methods-to-error"),
                    s = e("../lib/methods"),
                    l = e("../lib/promise"),
                    c = e("@braintree/wrap-promise");

                function u(e) {
                    this._client = e.client
                }

                function d(e) {
                    var t = {
                        nonce: e.nonce,
                        default: e.default,
                        details: e.details,
                        hasSubscription: e.hasSubscription,
                        type: e.type
                    };
                    return e.description && (t.description = e.description), e.binData && (t.binData = e.binData), t
                }
                u.prototype.fetchPaymentMethods = function(e) {
                    var t;
                    return t = !0 === (e = e || {}).defaultFirst ? 1 : 0, this._client.request({
                        endpoint: "payment_methods",
                        method: "get",
                        data: {
                            defaultFirst: t
                        }
                    }).then((function(e) {
                        return n.sendEvent(this._client, "vault-manager.fetch-payment-methods.succeeded"), e.paymentMethods.map(d)
                    }).bind(this))
                }, u.prototype.deletePaymentMethod = function(e) {
                    var t = this._client;
                    return "CLIENT_TOKEN" === this._client.getConfiguration().authorizationType ? this._client.request({
                        api: "graphQLApi",
                        data: {
                            query: "mutation DeletePaymentMethodFromSingleUseToken($input: DeletePaymentMethodFromSingleUseTokenInput!) {  deletePaymentMethodFromSingleUseToken(input: $input) {    clientMutationId  }}",
                            variables: {
                                input: {
                                    singleUseTokenId: e
                                }
                            },
                            operationName: "DeletePaymentMethodFromSingleUseToken"
                        }
                    }).then(function() {
                        n.sendEvent(t, "vault-manager.delete-payment-method.succeeded")
                    }).catch(function(i) {
                        var o, s = i.details.originalError;
                        return n.sendEvent(t, "vault-manager.delete-payment-method.failed"), s[0] && "NOT_FOUND" === s[0].extensions.errorClass && (o = new r({
                            type: a.VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND.type,
                            code: a.VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND.code,
                            message: "A payment method for payment method nonce `" + e + "` could not be found.",
                            details: {
                                originalError: s
                            }
                        })), o || (o = new r({
                            type: a.VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR.type,
                            code: a.VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR.code,
                            message: "An unknown error occured when attempting to delete the payment method assocaited with the payment method nonce `" + e + "`.",
                            details: {
                                originalError: s
                            }
                        })), l.reject(o)
                    }) : l.reject(new r(a.VAULT_MANAGER_DELETE_PAYMENT_METHOD_NONCE_REQUIRES_CLIENT_TOKEN))
                }, u.prototype.teardown = function() {
                    return o(this, s(u.prototype)), l.resolve()
                }, t.exports = c.wrapPrototype(u)
            }, {
                "../lib/analytics": 67,
                "../lib/braintree-error": 72,
                "../lib/convert-methods-to-error": 77,
                "../lib/methods": 90,
                "../lib/promise": 92,
                "./errors": 106,
                "@braintree/wrap-promise": 26
            }],
            109: [function(e, t, i) {
                "use strict";
                var n = e("../lib/analytics"),
                    r = e("../lib/basic-component-verification"),
                    a = e("./shared/errors"),
                    o = e("@braintree/wrap-promise"),
                    s = e("../lib/braintree-error"),
                    l = e("./venmo"),
                    c = e("../lib/promise"),
                    u = e("./shared/supports-venmo");
                t.exports = {
                    create: o(function(e) {
                        return r.verify({
                            name: "Venmo",
                            client: e.client
                        }).then(function() {
                            var t;
                            return e.client.getConfiguration().gatewayConfiguration.payWithVenmo ? e.profileId && "string" != typeof e.profileId ? c.reject(new s(a.VENMO_INVALID_PROFILE_ID)) : (t = new l(e), n.sendEvent(e.client, "venmo.initialized"), t._initialize()) : c.reject(new s(a.VENMO_NOT_ENABLED))
                        })
                    }),
                    isBrowserSupported: function(e) {
                        return u.isBrowserSupported(e)
                    },
                    VERSION: "3.39.0"
                }
            }, {
                "../lib/analytics": 67,
                "../lib/basic-component-verification": 70,
                "../lib/braintree-error": 72,
                "../lib/promise": 92,
                "./shared/errors": 112,
                "./shared/supports-venmo": 113,
                "./venmo": 114,
                "@braintree/wrap-promise": 26
            }],
            110: [function(e, t, i) {
                "use strict";
                var n = e("@braintree/browser-detection/is-android"),
                    r = e("@braintree/browser-detection/is-chrome"),
                    a = e("@braintree/browser-detection/is-ios"),
                    o = e("@braintree/browser-detection/is-ios-safari"),
                    s = e("@braintree/browser-detection/is-samsung"),
                    l = e("@braintree/browser-detection/is-mobile-firefox");
                t.exports = {
                    isAndroid: n,
                    isChrome: r,
                    isIos: a,
                    isIosSafari: o,
                    isSamsungBrowser: s,
                    isMobileFirefox: l
                }
            }, {
                "@braintree/browser-detection/is-android": 5,
                "@braintree/browser-detection/is-chrome": 6,
                "@braintree/browser-detection/is-ios": 15,
                "@braintree/browser-detection/is-ios-safari": 13,
                "@braintree/browser-detection/is-mobile-firefox": 16,
                "@braintree/browser-detection/is-samsung": 17
            }],
            111: [function(e, t, i) {
                "use strict";
                t.exports = {
                    DOCUMENT_VISIBILITY_CHANGE_EVENT_DELAY: 500,
                    PROCESS_RESULTS_DELAY: 1e3,
                    VENMO_OPEN_URL: "https://venmo.com/braintree/checkout"
                }
            }, {}],
            112: [function(e, t, i) {
                "use strict";
                var n = e("../../lib/braintree-error");
                t.exports = {
                    VENMO_NOT_ENABLED: {
                        type: n.types.MERCHANT,
                        code: "VENMO_NOT_ENABLED",
                        message: "Venmo is not enabled for this merchant."
                    },
                    VENMO_TOKENIZATION_REQUEST_ACTIVE: {
                        type: n.types.MERCHANT,
                        code: "VENMO_TOKENIZATION_REQUEST_ACTIVE",
                        message: "Another tokenization request is active."
                    },
                    VENMO_APP_FAILED: {
                        type: n.types.UNKNOWN,
                        code: "VENMO_APP_FAILED",
                        message: "Venmo app encountered a problem."
                    },
                    VENMO_APP_CANCELED: {
                        type: n.types.CUSTOMER,
                        code: "VENMO_APP_CANCELED",
                        message: "Venmo app authorization was canceled."
                    },
                    VENMO_CANCELED: {
                        type: n.types.CUSTOMER,
                        code: "VENMO_CANCELED",
                        message: "User canceled Venmo authorization, or Venmo app is not available."
                    },
                    VENMO_INVALID_PROFILE_ID: {
                        type: n.types.MERCHANT,
                        code: "VENMO_INVALID_PROFILE_ID",
                        message: "Venmo profile ID is invalid."
                    }
                }
            }, {
                "../../lib/braintree-error": 72
            }],
            113: [function(e, t, i) {
                "use strict";
                var n = e("./browser-detection");
                t.exports = {
                    isBrowserSupported: function(e) {
                        var t = n.isAndroid() && n.isChrome(),
                            i = n.isIos() && n.isChrome(),
                            r = n.isIosSafari() || t,
                            a = i || n.isSamsungBrowser() || n.isMobileFirefox();
                        return e = e || {
                            allowNewBrowserTab: !0
                        }, r || e.allowNewBrowserTab && a
                    }
                }
            }, {
                "./browser-detection": 110
            }],
            114: [function(e, t, i) {
                (function(i) {
                    "use strict";
                    var n = e("../lib/analytics"),
                        r = e("./shared/supports-venmo"),
                        a = e("./shared/constants"),
                        o = e("./shared/errors"),
                        s = e("../lib/querystring"),
                        l = e("../lib/methods"),
                        c = e("../lib/convert-methods-to-error"),
                        u = e("@braintree/wrap-promise"),
                        d = e("../lib/braintree-error"),
                        h = e("../lib/promise");

                    function p(e) {
                        var t;
                        this._client = e.client, t = this._client.getConfiguration(), this._isDebug = t.isDebug, this._assetsUrl = t.gatewayConfiguration.assetsUrl + "/web/3.39.0", this._allowNewBrowserTab = !1 !== e.allowNewBrowserTab, this._profileId = e.profileId
                    }

                    function f() {
                        return i.location.hash.substring(1).split("&").reduce(function(e, t) {
                            var i = t.split("="),
                                n = decodeURIComponent(i[0]),
                                r = decodeURIComponent(i[1]);
                            return e[n] = r, e
                        }, {})
                    }

                    function m() {
                        var e;
                        return void 0 !== i.document.hidden ? e = "visibilitychange" : void 0 !== i.document.msHidden ? e = "msvisibilitychange" : void 0 !== i.document.webkitHidden && (e = "webkitvisibilitychange"), e
                    }
                    p.prototype._initialize = function() {
                        var e = i.location.href.replace(i.location.hash, ""),
                            t = s.parse(i.location.href),
                            n = this._client.getConfiguration().gatewayConfiguration.payWithVenmo,
                            r = this._client.getConfiguration().analyticsMetadata,
                            o = {
                                _meta: {
                                    version: r.sdkVersion,
                                    integration: r.integration,
                                    platform: r.platform,
                                    sessionId: r.sessionId
                                }
                            };
                        return t["x-success"] = e + "#venmoSuccess=1", t["x-cancel"] = e + "#venmoCancel=1", t["x-error"] = e + "#venmoError=1", t.ua = i.navigator.userAgent, t.braintree_merchant_id = this._profileId || n.merchantId, t.braintree_access_token = n.accessToken, t.braintree_environment = n.environment, t.braintree_sdk_data = btoa(JSON.stringify(o)), this._url = a.VENMO_OPEN_URL + "?" + s.stringify(t), h.resolve(this)
                    }, p.prototype.isBrowserSupported = function() {
                        return r.isBrowserSupported({
                            allowNewBrowserTab: this._allowNewBrowserTab
                        })
                    }, p.prototype.hasTokenizationResult = function() {
                        var e = f();
                        return void 0 !== (e.venmoSuccess || e.venmoError || e.venmoCancel)
                    }, p.prototype.tokenize = function() {
                        var e = this;
                        return !0 === this._tokenizationInProgress ? h.reject(new d(o.VENMO_TOKENIZATION_REQUEST_ACTIVE)) : this.hasTokenizationResult() ? this._processResults() : new h(function(t, n) {
                            e._tokenizationInProgress = !0, e._previousHash = i.location.hash, i.open(e._url), e._visibilityChangeListener = function() {
                                i.document.hidden || (e._tokenizationInProgress = !1, setTimeout(function() {
                                    e._processResults().then(t).catch(n).then(function() {
                                        i.location.hash = e._previousHash, e._removeVisibilityEventListener(), delete e._visibilityChangeListener
                                    })
                                }, a.PROCESS_RESULTS_DELAY))
                            }, setTimeout(function() {
                                i.document.addEventListener(m(), e._visibilityChangeListener)
                            }, a.DOCUMENT_VISIBILITY_CHANGE_EVENT_DELAY)
                        })
                    }, p.prototype.teardown = function() {
                        return this._removeVisibilityEventListener(), c(this, l(p.prototype)), h.resolve()
                    }, p.prototype._removeVisibilityEventListener = function() {
                        i.document.removeEventListener(m(), this._visibilityChangeListener)
                    }, p.prototype._processResults = function() {
                        var e = this,
                            t = f();
                        return new h(function(r, a) {
                            var s;
                            t.venmoSuccess ? (n.sendEvent(e._client, "venmo.appswitch.handle.success"), r({
                                nonce: (s = t).paymentMethodNonce,
                                type: "VenmoAccount",
                                details: {
                                    username: s.username
                                }
                            })) : t.venmoError ? (n.sendEvent(e._client, "venmo.appswitch.handle.error"), a(new d({
                                type: o.VENMO_APP_FAILED.type,
                                code: o.VENMO_APP_FAILED.code,
                                message: o.VENMO_APP_FAILED.message,
                                details: {
                                    originalError: {
                                        message: decodeURIComponent(t.errorMessage),
                                        code: t.errorCode
                                    }
                                }
                            }))) : t.venmoCancel ? (n.sendEvent(e._client, "venmo.appswitch.handle.cancel"), a(new d(o.VENMO_APP_CANCELED))) : (n.sendEvent(e._client, "venmo.appswitch.cancel-or-unavailable"), a(new d(o.VENMO_CANCELED))), "function" == typeof i.history.replaceState && history.pushState({}, "", i.location.href.slice(0, i.location.href.indexOf("#")))
                        })
                    }, t.exports = u.wrapPrototype(p)
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {
                "../lib/analytics": 67,
                "../lib/braintree-error": 72,
                "../lib/convert-methods-to-error": 77,
                "../lib/methods": 90,
                "../lib/promise": 92,
                "../lib/querystring": 93,
                "./shared/constants": 111,
                "./shared/errors": 112,
                "./shared/supports-venmo": 113,
                "@braintree/wrap-promise": 26
            }],
            115: [function(e, t, i) {
                "use strict";
                var n, r = {},
                    a = {},
                    o = "visa",
                    s = "mastercard",
                    l = "american-express",
                    c = "diners-club",
                    u = "discover",
                    d = "elo",
                    h = "jcb",
                    p = "unionpay",
                    f = "maestro",
                    m = "mir",
                    g = [o, s, l, c, u, h, p, f, d, m];

                function y(e) {
                    return e ? JSON.parse(JSON.stringify(e)) : null
                }

                function v(e) {
                    return a[e] || r[e]
                }

                function b(e) {
                    var t, i, r = [];
                    return "string" == typeof(i = e) || i instanceof String ? 0 === e.length ? n.map(function(e) {
                        return y(v(e))
                    }) : (n.forEach(function(t) {
                        var i = v(t);
                        ! function(e, t, i) {
                            var n, r, a, o;
                            for (n = 0; n < t.patterns.length; n++)
                                if (_(e, r = t.patterns[n])) {
                                    o = y(t), a = Array.isArray(r) ? String(r[0]).length : String(r).length, e.length >= a && (o.matchStrength = a), i.push(o);
                                    break
                                }
                        }(e, i, r)
                    }), (t = function(e) {
                        var t, i;
                        if (0 < (i = (t = e).filter(function(e) {
                                return e.matchStrength
                            }).length) && i === t.length) return e.reduce(function(e, t) {
                            return e ? e.matchStrength < t.matchStrength ? t : e : t
                        })
                    }(r)) ? [t] : r) : []
                }

                function _(e, t) {
                    return Array.isArray(t) ? (i = e, n = t[0], r = t[1], a = String(n).length, o = i.substr(0, a), s = parseInt(o, 10), n = parseInt(String(n).substr(0, o.length), 10), r = parseInt(String(r).substr(0, o.length), 10), n <= s && s <= r) : (l = e, c = t, (c = String(c)).substring(0, l.length) === l.substring(0, c.length));
                    var i, n, r, a, o, s, l, c
                }

                function T(e, t) {
                    var i = n.indexOf(e);
                    if (!t && -1 === i) throw new Error('"' + e + '" is not a supported card type.');
                    return i
                }
                n = y(g), r[o] = {
                    niceType: "Visa",
                    type: o,
                    patterns: [4],
                    gaps: [4, 8, 12],
                    lengths: [16, 18, 19],
                    code: {
                        name: "CVV",
                        size: 3
                    }
                }, r[s] = {
                    niceType: "Mastercard",
                    type: s,
                    patterns: [
                        [51, 55],
                        [2221, 2229],
                        [223, 229],
                        [23, 26],
                        [270, 271], 2720
                    ],
                    gaps: [4, 8, 12],
                    lengths: [16],
                    code: {
                        name: "CVC",
                        size: 3
                    }
                }, r[l] = {
                    niceType: "American Express",
                    type: l,
                    patterns: [34, 37],
                    gaps: [4, 10],
                    lengths: [15],
                    code: {
                        name: "CID",
                        size: 4
                    }
                }, r[c] = {
                    niceType: "Diners Club",
                    type: c,
                    patterns: [
                        [300, 305], 36, 38, 39
                    ],
                    gaps: [4, 10],
                    lengths: [14, 16, 19],
                    code: {
                        name: "CVV",
                        size: 3
                    }
                }, r[u] = {
                    niceType: "Discover",
                    type: u,
                    patterns: [6011, [644, 649], 65],
                    gaps: [4, 8, 12],
                    lengths: [16, 19],
                    code: {
                        name: "CID",
                        size: 3
                    }
                }, r.jcb = {
                    niceType: "JCB",
                    type: h,
                    patterns: [2131, 1800, [3528, 3589]],
                    gaps: [4, 8, 12],
                    lengths: [16, 17, 18, 19],
                    code: {
                        name: "CVV",
                        size: 3
                    }
                }, r[p] = {
                    niceType: "UnionPay",
                    type: p,
                    patterns: [620, [624, 626],
                        [62100, 62182],
                        [62184, 62187],
                        [62185, 62197],
                        [62200, 62205],
                        [622010, 622999], 622018, [622019, 622999],
                        [62207, 62209],
                        [622126, 622925],
                        [623, 626], 6270, 6272, 6276, [627700, 627779],
                        [627781, 627799],
                        [6282, 6289], 6291, 6292
                    ],
                    gaps: [4, 8, 12],
                    lengths: [16, 17, 18, 19],
                    code: {
                        name: "CVN",
                        size: 3
                    }
                }, r[f] = {
                    niceType: "Maestro",
                    type: f,
                    patterns: [493698, [5e5, 506698],
                        [506779, 508999],
                        [56, 59], 63, 67, 6
                    ],
                    gaps: [4, 8, 12],
                    lengths: [12, 13, 14, 15, 16, 17, 18, 19],
                    code: {
                        name: "CVC",
                        size: 3
                    }
                }, r.elo = {
                    niceType: "Elo",
                    type: d,
                    patterns: [401178, 401179, 438935, 457631, 457632, 431274, 451416, 457393, 504175, [506699, 506778],
                        [509e3, 509999], 627780, 636297, 636368, [650031, 650033],
                        [650035, 650051],
                        [650405, 650439],
                        [650485, 650538],
                        [650541, 650598],
                        [650700, 650718],
                        [650720, 650727],
                        [650901, 650978],
                        [651652, 651679],
                        [655e3, 655019],
                        [655021, 655058]
                    ],
                    gaps: [4, 8, 12],
                    lengths: [16],
                    code: {
                        name: "CVE",
                        size: 3
                    }
                }, r.mir = {
                    niceType: "Mir",
                    type: m,
                    patterns: [
                        [2200, 2204]
                    ],
                    gaps: [4, 8, 12],
                    lengths: [16, 17, 18, 19],
                    code: {
                        name: "CVP2",
                        size: 3
                    }
                }, b.getTypeInfo = function(e) {
                    return y(v(e))
                }, b.removeCard = function(e) {
                    var t = T(e);
                    n.splice(t, 1)
                }, b.addCard = function(e) {
                    var t = T(e.type, !0);
                    a[e.type] = e, -1 === t && n.push(e.type)
                }, b.updateCard = function(e, t) {
                    var i, n = a[e] || r[e];
                    if (!n) throw new Error('"' + e + '" is not a recognized type. Use `addCard` instead.');
                    if (t.type && n.type !== t.type) throw new Error("Cannot overwrite type parameter.");
                    i = y(n), Object.keys(i).forEach(function(e) {
                        t[e] && (i[e] = t[e])
                    }), a[i.type] = i
                }, b.changeOrder = function(e, t) {
                    var i = T(e);
                    n.splice(i, 1), n.splice(t, 0, e)
                }, b.resetModifications = function() {
                    n = y(g), a = {}
                }, b.types = {
                    VISA: o,
                    MASTERCARD: s,
                    AMERICAN_EXPRESS: l,
                    DINERS_CLUB: c,
                    DISCOVER: u,
                    JCB: h,
                    UNIONPAY: p,
                    MAESTRO: f,
                    ELO: d,
                    MIR: m
                }, t.exports = b
            }, {}],
            116: [function(e, t, i) {
                (function(e) {
                    "use strict";
                    var i, n, r = [],
                        a = {},
                        o = "/*framebus*/";

                    function s(e) {
                        var t, n = u(this);
                        return !d(e) && !d(n) && !1 !== (t = h(e, Array.prototype.slice.call(arguments, 1), n)) && (v(i.top || i.self, t, n), !0)
                    }

                    function l(e, t) {
                        var i = u(this);
                        return !_(e, t, i) && (a[i] = a[i] || {}, a[i][e] = a[i][e] || [], a[i][e].push(t), !0)
                    }

                    function c(e, t) {
                        var i, n, r = u(this);
                        if (_(e, t, r)) return !1;
                        if (!(n = a[r] && a[r][e])) return !1;
                        for (i = 0; i < n.length; i++)
                            if (n[i] === t) return n.splice(i, 1), !0;
                        return !1
                    }

                    function u(e) {
                        return e && e._origin || "*"
                    }

                    function d(e) {
                        return "string" != typeof e
                    }

                    function h(e, t, i) {
                        var n = !1,
                            r = {
                                event: e,
                                origin: i
                            },
                            a = t[t.length - 1];
                        "function" == typeof a && (r.reply = b(a, i), t = t.slice(0, -1)), r.args = t;
                        try {
                            n = o + JSON.stringify(r)
                        } catch (e) {
                            throw new Error("Could not stringify event: " + e.message)
                        }
                        return n
                    }

                    function p(e) {
                        var t, i, n, r;
                        if (e.data.slice(0, o.length) !== o) return !1;
                        try {
                            t = JSON.parse(e.data.slice(o.length))
                        } catch (e) {
                            return !1
                        }
                        return null != t.reply && (i = e.origin, n = e.source, r = t.reply, t.reply = function(e) {
                            var t = h(r, [e], i);
                            if (!1 === t) return !1;
                            n.postMessage(t, i)
                        }, t.args.push(t.reply)), t
                    }

                    function f(t) {
                        i || ((i = t || e).addEventListener ? i.addEventListener("message", g, !1) : i.attachEvent ? i.attachEvent("onmessage", g) : null === i.onmessage ? i.onmessage = g : i = null)
                    }

                    function m() {
                        return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(e) {
                            var t = 16 * Math.random() | 0;
                            return ("x" === e ? t : 3 & t | 8).toString(16)
                        })
                    }

                    function g(e) {
                        var t;
                        d(e.data) || (t = p(e)) && (y("*", t.event, t.args, e), y(e.origin, t.event, t.args, e), function(e, t, i) {
                            var n, a;
                            for (n = r.length - 1; 0 <= n; n--) !0 === (a = r[n]).closed ? r = r.slice(n, 1) : i !== a && v(a.top, e, t)
                        }(e.data, t.origin, e.source))
                    }

                    function y(e, t, i, n) {
                        var r;
                        if (a[e] && a[e][t])
                            for (r = 0; r < a[e][t].length; r++) a[e][t][r].apply(n, i)
                    }

                    function v(e, t, i) {
                        var n, r, a = 0;
                        try {
                            for (e.postMessage(t, i), (r = e).top === r && null != r.opener && r.opener !== r && !0 !== r.opener.closed && v(e.opener.top, t, i); n = e.frames[a];) v(n, t, i), a++
                        } catch (e) {}
                    }

                    function b(e, t) {
                        var i = m();
                        return n.target(t).subscribe(i, function r(a, o) {
                            e(a, o), n.target(t).unsubscribe(i, r)
                        }), i
                    }

                    function _(e, t, i) {
                        return !!d(e) || "function" != typeof t || !!d(i)
                    }
                    f(), t.exports = n = {
                        target: function(e) {
                            var t, i = {};
                            for (t in n) n.hasOwnProperty(t) && (i[t] = n[t]);
                            return i._origin = e || "*", i
                        },
                        _packagePayload: h,
                        _unpackPayload: p,
                        _attach: f,
                        _detach: function() {
                            null != i && (i.removeEventListener ? i.removeEventListener("message", g, !1) : i.detachEvent ? i.detachEvent("onmessage", g) : i.onmessage === g && (i.onmessage = null), i = null, r = [], a = {})
                        },
                        _dispatch: y,
                        _broadcast: v,
                        _subscribeReplier: b,
                        _subscriptionArgsInvalid: _,
                        _onmessage: g,
                        _uuid: m,
                        _getSubscribers: function() {
                            return a
                        },
                        _win: function() {
                            return i
                        },
                        include: function(e) {
                            return null != e && null != e.Window && e.constructor === e.Window && (r.push(e), !0)
                        },
                        publish: s,
                        pub: s,
                        trigger: s,
                        emit: s,
                        subscribe: l,
                        sub: l,
                        on: l,
                        unsubscribe: c,
                        unsub: c,
                        off: c
                    }
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {}],
            117: [function(e, t, i) {
                var n, r, a = t.exports = {};

                function o() {
                    throw new Error("setTimeout has not been defined")
                }

                function s() {
                    throw new Error("clearTimeout has not been defined")
                }

                function l(t) {
                    if (n === setTimeout) return setTimeout(t, 0);
                    if ((n === o || !n) && setTimeout) return n = setTimeout, setTimeout(t, 0);
                    try {
                        return n(t, 0)
                    } catch (e) {
                        try {
                            return n.call(null, t, 0)
                        } catch (e) {
                            return n.call(this, t, 0)
                        }
                    }
                }! function() {
                    try {
                        n = "function" == typeof setTimeout ? setTimeout : o
                    } catch (e) {
                        n = o
                    }
                    try {
                        r = "function" == typeof clearTimeout ? clearTimeout : s
                    } catch (e) {
                        r = s
                    }
                }();
                var c, u = [],
                    d = !1,
                    h = -1;

                function p() {
                    d && c && (d = !1, c.length ? u = c.concat(u) : h = -1, u.length && f())
                }

                function f() {
                    if (!d) {
                        var e = l(p);
                        d = !0;
                        for (var t = u.length; t;) {
                            for (c = u, u = []; ++h < t;) c && c[h].run();
                            h = -1, t = u.length
                        }
                        c = null, d = !1,
                            function(t) {
                                if (r === clearTimeout) return clearTimeout(t);
                                if ((r === s || !r) && clearTimeout) return r = clearTimeout, clearTimeout(t);
                                try {
                                    r(t)
                                } catch (e) {
                                    try {
                                        return r.call(null, t)
                                    } catch (e) {
                                        return r.call(this, t)
                                    }
                                }
                            }(e)
                    }
                }

                function m(e, t) {
                    this.fun = e, this.array = t
                }

                function g() {}
                a.nextTick = function(e) {
                    var t = new Array(arguments.length - 1);
                    if (1 < arguments.length)
                        for (var i = 1; i < arguments.length; i++) t[i - 1] = arguments[i];
                    u.push(new m(e, t)), 1 !== u.length || d || l(f)
                }, m.prototype.run = function() {
                    this.fun.apply(null, this.array)
                }, a.title = "browser", a.browser = !0, a.env = {}, a.argv = [], a.version = "", a.versions = {}, a.on = g, a.addListener = g, a.once = g, a.off = g, a.removeListener = g, a.removeAllListeners = g, a.emit = g, a.prependListener = g, a.prependOnceListener = g, a.listeners = function(e) {
                    return []
                }, a.binding = function(e) {
                    throw new Error("process.binding is not supported")
                }, a.cwd = function() {
                    return "/"
                }, a.chdir = function(e) {
                    throw new Error("process.chdir is not supported")
                }, a.umask = function() {
                    return 0
                }
            }, {}],
            118: [function(e, t, i) {
                (function(e) {
                    "use strict";
                    var i = setTimeout;

                    function n() {}

                    function r(e) {
                        if (!(this instanceof r)) throw new TypeError("Promises must be constructed via new");
                        if ("function" != typeof e) throw new TypeError("not a function");
                        this._state = 0, this._handled = !1, this._value = void 0, this._deferreds = [], u(e, this)
                    }

                    function a(e, t) {
                        for (; 3 === e._state;) e = e._value;
                        0 !== e._state ? (e._handled = !0, r._immediateFn(function() {
                            var i = 1 === e._state ? t.onFulfilled : t.onRejected;
                            if (null !== i) {
                                var n;
                                try {
                                    n = i(e._value)
                                } catch (i) {
                                    return void s(t.promise, i)
                                }
                                o(t.promise, n)
                            } else(1 === e._state ? o : s)(t.promise, e._value)
                        })) : e._deferreds.push(t)
                    }

                    function o(e, t) {
                        try {
                            if (t === e) throw new TypeError("A promise cannot be resolved with itself.");
                            if (t && ("object" == typeof t || "function" == typeof t)) {
                                var i = t.then;
                                if (t instanceof r) return e._state = 3, e._value = t, void l(e);
                                if ("function" == typeof i) return void u((n = i, a = t, function() {
                                    n.apply(a, arguments)
                                }), e)
                            }
                            e._state = 1, e._value = t, l(e)
                        } catch (t) {
                            s(e, t)
                        }
                        var n, a
                    }

                    function s(e, t) {
                        e._state = 2, e._value = t, l(e)
                    }

                    function l(e) {
                        2 === e._state && 0 === e._deferreds.length && r._immediateFn(function() {
                            e._handled || r._unhandledRejectionFn(e._value)
                        });
                        for (var t = 0, i = e._deferreds.length; t < i; t++) a(e, e._deferreds[t]);
                        e._deferreds = null
                    }

                    function c(e, t, i) {
                        this.onFulfilled = "function" == typeof e ? e : null, this.onRejected = "function" == typeof t ? t : null, this.promise = i
                    }

                    function u(e, t) {
                        var i = !1;
                        try {
                            e(function(e) {
                                i || (i = !0, o(t, e))
                            }, function(e) {
                                i || (i = !0, s(t, e))
                            })
                        } catch (e) {
                            if (i) return;
                            i = !0, s(t, e)
                        }
                    }
                    r.prototype.catch = function(e) {
                        return this.then(null, e)
                    }, r.prototype.then = function(e, t) {
                        var i = new this.constructor(n);
                        return a(this, new c(e, t, i)), i
                    }, r.prototype.finally = function(e) {
                        var t = this.constructor;
                        return this.then(function(i) {
                            return t.resolve(e()).then(function() {
                                return i
                            })
                        }, function(i) {
                            return t.resolve(e()).then(function() {
                                return t.reject(i)
                            })
                        })
                    }, r.all = function(e) {
                        return new r(function(t, i) {
                            if (!e || void 0 === e.length) throw new TypeError("Promise.all accepts an array");
                            var n = Array.prototype.slice.call(e);
                            if (0 === n.length) return t([]);
                            var r = n.length;

                            function a(e, o) {
                                try {
                                    if (o && ("object" == typeof o || "function" == typeof o)) {
                                        var s = o.then;
                                        if ("function" == typeof s) return void s.call(o, function(t) {
                                            a(e, t)
                                        }, i)
                                    }
                                    n[e] = o, 0 == --r && t(n)
                                } catch (o) {
                                    i(o)
                                }
                            }
                            for (var o = 0; o < n.length; o++) a(o, n[o])
                        })
                    }, r.resolve = function(e) {
                        return e && "object" == typeof e && e.constructor === r ? e : new r(function(t) {
                            t(e)
                        })
                    }, r.reject = function(e) {
                        return new r(function(t, i) {
                            i(e)
                        })
                    }, r.race = function(e) {
                        return new r(function(t, i) {
                            for (var n = 0, r = e.length; n < r; n++) e[n].then(t, i)
                        })
                    }, r._immediateFn = "function" == typeof e && function(t) {
                        e(t)
                    } || function(e) {
                        i(e, 0)
                    }, r._unhandledRejectionFn = function(e) {
                        "undefined" != typeof console && console && console.warn("Possible Unhandled Promise Rejection:", e)
                    }, t.exports = r
                }).call(this, e("timers").setImmediate)
            }, {
                timers: 121
            }],
            119: [function(e, t, i) {
                (function(i) {
                    "use strict";
                    var n = i.navigator && i.navigator.userAgent,
                        r = e("@braintree/browser-detection/is-android"),
                        a = e("@braintree/browser-detection/is-chrome"),
                        o = e("@braintree/browser-detection/is-ios"),
                        s = e("@braintree/browser-detection/is-ie9"),
                        l = /Version\/\d\.\d* Chrome\/\d*\.0\.0\.0/;
                    t.exports = {
                        isIE9: s,
                        isAndroidChrome: function(e) {
                            var t = e || n;
                            return r(t) && a(t)
                        },
                        isIos: o,
                        isKitKatWebview: function(e) {
                            var t = e || n;
                            return r(t) && l.test(t)
                        },
                        isSamsungBrowser: function(e) {
                            return /SamsungBrowser/.test(e = e || n) || !a(t = e) && -1 < t.indexOf("Samsung");
                            var t
                        }
                    }
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {
                "@braintree/browser-detection/is-android": 5,
                "@braintree/browser-detection/is-chrome": 6,
                "@braintree/browser-detection/is-ie9": 11,
                "@braintree/browser-detection/is-ios": 15
            }],
            120: [function(e, t, i) {
                "use strict";
                var n = e("./lib/device");
                t.exports = function() {
                    return !n.isSamsungBrowser()
                }
            }, {
                "./lib/device": 119
            }],
            121: [function(e, t, i) {
                (function(t, n) {
                    var r = e("process/browser.js").nextTick,
                        a = Function.prototype.apply,
                        o = Array.prototype.slice,
                        s = {},
                        l = 0;

                    function c(e, t) {
                        this._id = e, this._clearFn = t
                    }
                    i.setTimeout = function() {
                        return new c(a.call(setTimeout, window, arguments), clearTimeout)
                    }, i.setInterval = function() {
                        return new c(a.call(setInterval, window, arguments), clearInterval)
                    }, i.clearTimeout = i.clearInterval = function(e) {
                        e.close()
                    }, c.prototype.unref = c.prototype.ref = function() {}, c.prototype.close = function() {
                        this._clearFn.call(window, this._id)
                    }, i.enroll = function(e, t) {
                        clearTimeout(e._idleTimeoutId), e._idleTimeout = t
                    }, i.unenroll = function(e) {
                        clearTimeout(e._idleTimeoutId), e._idleTimeout = -1
                    }, i._unrefActive = i.active = function(e) {
                        clearTimeout(e._idleTimeoutId);
                        var t = e._idleTimeout;
                        0 <= t && (e._idleTimeoutId = setTimeout(function() {
                            e._onTimeout && e._onTimeout()
                        }, t))
                    }, i.setImmediate = "function" == typeof t ? t : function(e) {
                        var t = l++,
                            n = !(arguments.length < 2) && o.call(arguments, 1);
                        return s[t] = !0, r(function() {
                            s[t] && (n ? e.apply(null, n) : e.call(null), i.clearImmediate(t))
                        }), t
                    }, i.clearImmediate = "function" == typeof n ? n : function(e) {
                        delete s[e]
                    }
                }).call(this, e("timers").setImmediate, e("timers").clearImmediate)
            }, {
                "process/browser.js": 117,
                timers: 121
            }],
            122: [function(e, t, i) {
                "use strict";
                t.exports = {
                    paymentOptionIDs: {
                        card: "card",
                        paypal: "paypal",
                        paypalCredit: "paypalCredit",
                        applePay: "applePay",
                        venmo: "venmo",
                        googlePay: "googlePay"
                    },
                    paymentMethodTypes: {
                        card: "CreditCard",
                        paypal: "PayPalAccount",
                        paypalCredit: "PayPalAccount",
                        applePay: "ApplePayCard",
                        venmo: "VenmoAccount",
                        googlePay: "AndroidPayCard"
                    },
                    analyticsKinds: {
                        CreditCard: "card",
                        PayPalAccount: "paypal",
                        ApplePayCard: "applepay",
                        VenmoAccount: "venmo",
                        AndroidPayCard: "googlepay"
                    },
                    paymentMethodCardTypes: {
                        Visa: "visa",
                        MasterCard: "master-card",
                        "American Express": "american-express",
                        "Diners Club": "diners-club",
                        Discover: "discover",
                        JCB: "jcb",
                        UnionPay: "unionpay",
                        Maestro: "maestro"
                    },
                    configurationCardTypes: {
                        visa: "Visa",
                        "master-card": "MasterCard",
                        "american-express": "American Express",
                        "diners-club": "Discover",
                        discover: "Discover",
                        jcb: "JCB",
                        unionpay: "UnionPay",
                        maestro: "Maestro"
                    },
                    errors: {
                        NO_PAYMENT_METHOD_ERROR: "No payment method is available.",
                        DEVELOPER_MISCONFIGURATION_MESSAGE: "Developer Error: Something went wrong. Check the console for details."
                    },
                    ANALYTICS_REQUEST_TIMEOUT_MS: 2e3,
                    ANALYTICS_PREFIX: "web.dropin.",
                    CHANGE_ACTIVE_PAYMENT_METHOD_TIMEOUT: 200,
                    CHECKOUT_JS_SOURCE: "https://www.paypalobjects.com/api/checkout.min.js",
                    GOOGLE_PAYMENT_SOURCE: "https://pay.google.com/gp/p/js/pay.js",
                    INTEGRATION: "dropin2",
                    PAYPAL_CHECKOUT_SCRIPT_ID: "braintree-dropin-paypal-checkout-script",
                    GOOGLE_PAYMENT_SCRIPT_ID: "braintree-dropin-google-payment-script",
                    DATA_COLLECTOR_SCRIPT_ID: "braintree-dropin-data-collector-script",
                    STYLESHEET_ID: "braintree-dropin-stylesheet"
                }
            }, {}],
            123: [function(e, t, i) {
                "use strict";
                var n = e("./lib/analytics"),
                    r = e("./lib/dropin-error"),
                    a = e("./lib/event-emitter"),
                    o = e("./constants"),
                    s = o.paymentMethodTypes,
                    l = o.paymentOptionIDs,
                    c = e("./lib/is-guest-checkout"),
                    u = e("./lib/promise"),
                    d = e("./views/payment-sheet-views"),
                    h = e("braintree-web/vault-manager"),
                    p = [s.applePay, s.googlePay, s.venmo],
                    f = [l.card, l.paypal, l.paypalCredit, l.venmo, l.applePay, l.googlePay];

                function m(e) {
                    this.componentID = e.componentID, this.merchantConfiguration = e.merchantConfiguration, this.isGuestCheckout = c(e.client), this.dependenciesInitializing = 0, this.dependencySuccessCount = 0, this.failedDependencies = {}, this._options = e, a.call(this)
                }(m.prototype = Object.create(a.prototype, {
                    constructor: m
                })).initialize = function() {
                    var e = this;
                    return h.create({
                        client: e._options.client
                    }).then(function(t) {
                        return e._vaultManager = t,
                            function(e) {
                                var t, i = e.merchantConfiguration.paymentOptionPriority || f;
                                if (i instanceof Array) return t = (i = i.filter(function(e, t) {
                                    return i.indexOf(e) === t
                                })).map(function(t) {
                                    return (n = i = t, a = e, o = d[l[n]], o ? o.isEnabled({
                                        client: a.client,
                                        merchantConfiguration: a.merchantConfiguration
                                    }).catch(function(e) {
                                        return console.error(o.ID + " view errored when checking if it was supported."), console.error(e), u.resolve(!1)
                                    }) : u.reject(new r("paymentOptionPriority: Invalid payment option specified."))).then(function(e) {
                                        return {
                                            success: e,
                                            id: l[i]
                                        }
                                    });
                                    var i, n, a, o
                                }), u.all(t).then(function(e) {
                                    return 0 === (e = e.filter(function(e) {
                                        return e.success
                                    })).length ? u.reject(new r("No valid payment options available.")) : e.map(function(e) {
                                        return e.id
                                    })
                                });
                                throw new r("paymentOptionPriority must be an array.")
                            }(e._options)
                    }).then(function(t) {
                        return e.supportedPaymentOptions = t, e.getVaultedPaymentMethods()
                    }).then(function(t) {
                        e._paymentMethods = t, e._paymentMethodIsRequestable = 0 < e._paymentMethods.length
                    })
                }, m.prototype.isPaymentMethodRequestable = function() {
                    return Boolean(this._paymentMethodIsRequestable)
                }, m.prototype.addPaymentMethod = function(e) {
                    this._paymentMethods.push(e), this._emit("addPaymentMethod", e), this.changeActivePaymentMethod(e)
                }, m.prototype.removePaymentMethod = function(e) {
                    var t = this._paymentMethods.indexOf(e); - 1 !== t && (this._paymentMethods.splice(t, 1), this._emit("removePaymentMethod", e))
                }, m.prototype.refreshPaymentMethods = function() {
                    var e = this;
                    return e.getVaultedPaymentMethods().then(function(t) {
                        e._paymentMethods = t, e._emit("refreshPaymentMethods")
                    })
                }, m.prototype.changeActivePaymentMethod = function(e) {
                    this._activePaymentMethod = e, this._emit("changeActivePaymentMethod", e)
                }, m.prototype.changeActivePaymentView = function(e) {
                    this._activePaymentView = e, this._emit("changeActivePaymentView", e)
                }, m.prototype.removeActivePaymentMethod = function() {
                    this._activePaymentMethod = null, this._emit("removeActivePaymentMethod"), this.setPaymentMethodRequestable({
                        isRequestable: !1
                    })
                }, m.prototype.selectPaymentOption = function(e) {
                    this._emit("paymentOptionSelected", {
                        paymentOption: e
                    })
                }, m.prototype.enableEditMode = function() {
                    n.sendEvent(this._options.client, "manager.appeared"), this._isInEditMode = !0, this._emit("enableEditMode")
                }, m.prototype.disableEditMode = function() {
                    this._isInEditMode = !1, this._emit("disableEditMode")
                }, m.prototype.isInEditMode = function() {
                    return Boolean(this._isInEditMode)
                }, m.prototype.confirmPaymentMethodDeletion = function(e) {
                    this._paymentMethodWaitingToBeDeleted = e, this._emit("confirmPaymentMethodDeletion", e)
                }, m.prototype._shouldEmitRequestableEvent = function(e) {
                    return !(this.isPaymentMethodRequestable() === e.isRequestable && (!e.isRequestable || e.type === this._paymentMethodRequestableType))
                }, m.prototype.setPaymentMethodRequestable = function(e) {
                    var t = this._shouldEmitRequestableEvent(e),
                        i = {
                            paymentMethodIsSelected: Boolean(e.selectedPaymentMethod),
                            type: e.type
                        };
                    this._paymentMethodIsRequestable = e.isRequestable, e.isRequestable ? this._paymentMethodRequestableType = e.type : delete this._paymentMethodRequestableType, t && (e.isRequestable ? this._emit("paymentMethodRequestable", i) : this._emit("noPaymentMethodRequestable"))
                }, m.prototype.getPaymentMethods = function() {
                    return this._paymentMethods.slice()
                }, m.prototype.getActivePaymentMethod = function() {
                    return this._activePaymentMethod
                }, m.prototype.getActivePaymentView = function() {
                    return this._activePaymentView
                }, m.prototype.reportAppSwitchPayload = function(e) {
                    this.appSwitchPayload = e
                }, m.prototype.reportAppSwitchError = function(e, t) {
                    this.appSwitchError = {
                        id: e,
                        error: t
                    }
                }, m.prototype.asyncDependencyStarting = function() {
                    this.dependenciesInitializing++
                }, m.prototype.asyncDependencyReady = function() {
                    this.dependencySuccessCount++, this.dependenciesInitializing--, this._checkAsyncDependencyFinished()
                }, m.prototype.asyncDependencyFailed = function(e) {
                    this.failedDependencies.hasOwnProperty(e.view) || (this.failedDependencies[e.view] = e.error, this.dependenciesInitializing--, this._checkAsyncDependencyFinished())
                }, m.prototype._checkAsyncDependencyFinished = function() {
                    0 === this.dependenciesInitializing && this._emit("asyncDependenciesReady")
                }, m.prototype.cancelInitialization = function(e) {
                    this._emit("cancelInitialization", e)
                }, m.prototype.reportError = function(e) {
                    this._emit("errorOccurred", e)
                }, m.prototype.clearError = function() {
                    this._emit("errorCleared")
                }, m.prototype.preventUserAction = function() {
                    this._emit("preventUserAction")
                }, m.prototype.allowUserAction = function() {
                    this._emit("allowUserAction")
                }, m.prototype.deleteVaultedPaymentMethod = function() {
                    var e, t = this,
                        i = u.resolve();
                    return this._emit("startVaultedPaymentMethodDeletion"), t.isGuestCheckout || (i = this._vaultManager.deletePaymentMethod(this._paymentMethodWaitingToBeDeleted.nonce).catch(function(t) {
                        e = t
                    })), i.then(function() {
                        return delete t._paymentMethodWaitingToBeDeleted, t.refreshPaymentMethods()
                    }).then(function() {
                        t.disableEditMode(), t._emit("finishVaultedPaymentMethodDeletion", e)
                    })
                }, m.prototype.cancelDeleteVaultedPaymentMethod = function() {
                    this._emit("cancelVaultedPaymentMethodDeletion"), delete this._paymentMethodWaitingToBeDeleted
                }, m.prototype.getVaultedPaymentMethods = function() {
                    var e = this;
                    return e.isGuestCheckout ? u.resolve([]) : e._vaultManager.fetchPaymentMethods({
                        defaultFirst: !0
                    }).then(function(t) {
                        return e._getSupportedPaymentMethods(t).map(function(e) {
                            return e.vaulted = !0, e
                        })
                    }).catch(function() {
                        return u.resolve([])
                    })
                }, m.prototype._getSupportedPaymentMethods = function(e) {
                    var t = this.supportedPaymentOptions.reduce(function(e, t) {
                        var i, n = s[t];
                        return (i = n) && -1 === p.indexOf(i) && e.push(n), e
                    }, []);
                    return e.filter(function(e) {
                        return -1 < t.indexOf(e.type)
                    })
                }, t.exports = m
            }, {
                "./constants": 122,
                "./lib/analytics": 127,
                "./lib/dropin-error": 132,
                "./lib/event-emitter": 133,
                "./lib/is-guest-checkout": 135,
                "./lib/promise": 140,
                "./views/payment-sheet-views": 180,
                "braintree-web/vault-manager": 107
            }],
            124: [function(e, t, i) {
                "use strict";
                var n = e("./lib/assign").assign,
                    r = e("./lib/analytics"),
                    a = e("@braintree/class-list"),
                    o = e("./constants"),
                    s = e("./lib/dropin-error"),
                    l = e("./dropin-model"),
                    c = e("./lib/event-emitter"),
                    u = e("@braintree/asset-loader"),
                    d = e("./views/main-view"),
                    h = e("./views/payment-methods-view").ID,
                    p = e("./views/payment-options-view").ID,
                    f = o.paymentOptionIDs,
                    m = e("./translations").translations,
                    g = e("./lib/is-utf-8"),
                    y = e("./lib/uuid"),
                    v = e("./lib/promise"),
                    b = e("./lib/sanitize-html"),
                    _ = e("./lib/data-collector"),
                    T = e("./lib/three-d-secure"),
                    S = e("@braintree/wrap-promise").wrapPrototype,
                    E = [f.paypal, f.paypalCredit, f.applePay, f.googlePay, "threeDSecure"],
                    w = [f.paypal, f.paypalCredit, f.applePay, f.googlePay];

                function C(e) {
                    this._client = e.client, this._componentID = y(), this._dropinWrapper = document.createElement("div"), this._dropinWrapper.id = "braintree--dropin__" + this._componentID, this._dropinWrapper.setAttribute("data-braintree-id", "wrapper"), this._dropinWrapper.style.display = "none", this._dropinWrapper.className = "braintree-loading", this._merchantConfiguration = e.merchantConfiguration, c.call(this)
                }(C.prototype = Object.create(c.prototype, {
                    constructor: C
                }))._initialize = function(e) {
                    var t, i, a = this,
                        o = a._merchantConfiguration.container || a._merchantConfiguration.selector;
                    return a._injectStylesheet(), o ? a._merchantConfiguration.container && a._merchantConfiguration.selector ? (r.sendEvent(a._client, "configuration-error"), void e(new s("Must only have one options.selector or options.container."))) : ("string" == typeof o && (o = document.querySelector(o)), o && 1 === o.nodeType ? o.innerHTML.trim() ? (r.sendEvent(a._client, "configuration-error"), void e(new s("options.selector or options.container must reference an empty DOM node."))) : (a._strings = n({}, m.en), a._merchantConfiguration.locale && (t = m[a._merchantConfiguration.locale] || m[a._merchantConfiguration.locale.split("_")[0]], a._strings = n(a._strings, t)), g() || (a._strings.endingIn = a._strings.endingIn.replace(/\u2022/g, "*")), a._merchantConfiguration.translations && Object.keys(a._merchantConfiguration.translations).forEach(function(e) {
                        a._strings[e] = b(a._merchantConfiguration.translations[e])
                    }), i = Object.keys(a._strings).reduce(function(e, t) {
                        var i = a._strings[t];
                        return e.replace(RegExp("{{" + t + "}}", "g"), i)
                    }, '<div class="braintree-dropin">\n  <div data-braintree-id="methods-label" class="braintree-heading">&nbsp;</div>\n  <div data-braintree-id="methods-edit" class="braintree-hidden braintree-heading">{{edit}}</div>\n  <div data-braintree-id="choose-a-way-to-pay" class="braintree-heading">{{chooseAWayToPay}}</div>\n  <div class="braintree-placeholder">&nbsp;</div>\n\n  <div data-braintree-id="upper-container" class="braintree-upper-container">\n    <div data-braintree-id="loading-container" class="braintree-loader__container">\n      <div data-braintree-id="loading-indicator" class="braintree-loader__indicator">\n        <svg width="14" height="16" class="braintree-loader__lock">\n          <use xlink:href="#iconLockLoader"></use>\n        </svg>\n      </div>\n    </div>\n\n    <div data-braintree-id="delete-confirmation" class="braintree-delete-confirmation braintree-sheet">\n      <div data-braintree-id="delete-confirmation__message"></div>\n      <div class="braintree-delete-confirmation__button-container">\n        <div role="button" data-braintree-id="delete-confirmation__no" class="braintree-delete-confirmation__button">{{deleteCancelButton}}</div>\n        <div role="button" data-braintree-id="delete-confirmation__yes" class="braintree-delete-confirmation__button">{{deleteConfirmationButton}}</div>\n      </div>\n    </div>\n\n    <div data-braintree-id="methods" class="braintree-methods braintree-methods-initial">\n      <div data-braintree-id="methods-container"></div>\n    </div>\n\n    <div data-braintree-id="options" class="braintree-test-class braintree-options braintree-options-initial">\n      <div data-braintree-id="payment-options-container" class="braintree-options-list"></div>\n    </div>\n\n    <div data-braintree-id="sheet-container" class="braintree-sheet__container">\n      <div data-braintree-id="paypal" class="braintree-paypal braintree-sheet">\n        <div data-braintree-id="paypal-sheet-header" class="braintree-sheet__header">\n          <div class="braintree-sheet__header-label">\n            <div class="braintree-sheet__logo--header">\n              <svg width="40" height="24">\n                <use xlink:href="#logoPayPal"></use>\n              </svg>\n            </div>\n            <div class="braintree-sheet__label">{{PayPal}}</div>\n          </div>\n        </div>\n        <div class="braintree-sheet__content braintree-sheet__content--button">\n          <div data-braintree-id="paypal-button" class="braintree-sheet__button--paypal"></div>\n        </div>\n      </div>\n      <div data-braintree-id="paypalCredit" class="braintree-paypalCredit braintree-sheet">\n        <div data-braintree-id="paypal-credit-sheet-header" class="braintree-sheet__header">\n          <div class="braintree-sheet__header-label">\n            <div class="braintree-sheet__logo--header">\n              <svg width="40" height="24">\n                <use xlink:href="#logoPayPalCredit"></use>\n              </svg>\n            </div>\n            <div class="braintree-sheet__label">{{PayPal Credit}}</div>\n          </div>\n        </div>\n        <div class="braintree-sheet__content braintree-sheet__content--button">\n          <div data-braintree-id="paypal-credit-button" class="braintree-sheet__button--paypal"></div>\n        </div>\n      </div>\n      <div data-braintree-id="applePay" class="braintree-applePay braintree-sheet">\n        <div data-braintree-id="apple-pay-sheet-header" class="braintree-sheet__header">\n          <div class="braintree-sheet__header-label">\n            <div class="braintree-sheet__logo--header">\n              <svg height="24" width="40">\n              <use xlink:href="#logoApplePay"></use>\n              </svg>\n            </div>\n            <div class="braintree-sheet__label">{{Apple Pay}}</div>\n          </div>\n        </div>\n        <div class="braintree-sheet__content braintree-sheet__content--button">\n          <div data-braintree-id="apple-pay-button" class="braintree-sheet__button--apple-pay apple-pay-button"></div>\n        </div>\n      </div>\n      <div data-braintree-id="googlePay" class="braintree-googlePay braintree-sheet">\n        <div data-braintree-id="google-pay-sheet-header" class="braintree-sheet__header">\n          <div class="braintree-sheet__header-label">\n            <div class="braintree-sheet__logo--header">\n              <svg height="24" width="40">\n              <use xlink:href="#logoGooglePay"></use>\n              </svg>\n            </div>\n            <div class="braintree-sheet__label">{{Google Pay}}</div>\n          </div>\n        </div>\n        <div class="braintree-sheet__content braintree-sheet__content--button">\n          <div data-braintree-id="google-pay-button"></div>\n        </div>\n      </div>\n      <div data-braintree-id="venmo" class="braintree-venmo braintree-sheet">\n        <div data-braintree-id="venmo-sheet-header" class="braintree-sheet__header">\n          <div class="braintree-sheet__header-label">\n            <div class="braintree-sheet__logo--header">\n              <svg height="24" width="40">\n              <use xlink:href="#logoVenmo"></use>\n              </svg>\n            </div>\n            <div class="braintree-sheet__label">{{Venmo}}</div>\n          </div>\n        </div>\n        <div class="braintree-sheet__content braintree-sheet__content--button">\n          <svg data-braintree-id="venmo-button" class="braintree-sheet__button--venmo">\n            <use xlink:href="#buttonVenmo"></use>\n          </svg>\n        </div>\n      </div>\n      <div data-braintree-id="card" class="braintree-card braintree-form braintree-sheet">\n        <div data-braintree-id="card-sheet-header" class="braintree-sheet__header">\n          <div class="braintree-sheet__header-label">\n            <div class="braintree-sheet__logo--header">\n              <svg width="40" height="24" class="braintree-icon--bordered">\n                <use xlink:href="#iconCardFront"></use>\n              </svg>\n            </div>\n            <div class="braintree-sheet__text">{{payWithCard}}</div>\n          </div>\n          <div data-braintree-id="card-view-icons" class="braintree-sheet__icons"></div>\n        </div>\n        <div class="braintree-sheet__content braintree-sheet__content--form">\n          <div data-braintree-id="cardholder-name-field-group" class="braintree-form__field-group">\n            <label for="braintree__card-view-input__cardholder-name">\n              <div class="braintree-form__label">{{cardholderNameLabel}}</div>\n              <div class="braintree-form__field">\n                <div class="braintree-form-cardholder-name braintree-form__hosted-field">\n                  <input class="braintree-form__raw-input" id="braintree__card-view-input__cardholder-name" type="text" placeholder="{{cardholderNamePlaceholder}}"/>\n                </div>\n                <div class="braintree-form__icon-container">\n                  <div class="braintree-form__icon braintree-form__field-error-icon">\n                    <svg width="24" height="24">\n                      <use xlink:href="#iconError"></use>\n                    </svg>\n                  </div>\n                </div>\n              </div>\n            </label>\n            <div data-braintree-id="cardholder-name-field-error" class="braintree-form__field-error"></div>\n          </div>\n          <div data-braintree-id="number-field-group" class="braintree-form__field-group">\n            <label>\n              <div class="braintree-form__label">{{cardNumberLabel}}</div>\n              <div class="braintree-form__field">\n                <div class="braintree-form-number braintree-form__hosted-field"></div>\n                <div class="braintree-form__icon-container">\n                  <div data-braintree-id="card-number-icon" class="braintree-form__icon braintree-form__field-secondary-icon">\n                    <svg width="40" height="24" class="braintree-icon--bordered">\n                    <use data-braintree-id="card-number-icon-svg" xlink:href="#iconCardFront"></use>\n                    </svg>\n                  </div>\n                  <div class="braintree-form__icon braintree-form__field-error-icon">\n                    <svg width="24" height="24">\n                      <use xlink:href="#iconError"></use>\n                    </svg>\n                  </div>\n                </div>\n              </div>\n            </label>\n            <div data-braintree-id="number-field-error" class="braintree-form__field-error"></div>\n          </div>\n\n          <div class="braintree-form__flexible-fields">\n            <div data-braintree-id="expiration-date-field-group" class="braintree-form__field-group">\n              <label>\n                <div class="braintree-form__label">{{expirationDateLabel}}\n                  <span class="braintree-form__descriptor">{{expirationDateLabelSubheading}}</span>\n                </div>\n                <div class="braintree-form__field">\n                  <div class="braintree-form__hosted-field braintree-form-expiration"></div>\n                  <div class="braintree-form__icon-container">\n                    <div class="braintree-form__icon braintree-form__field-error-icon">\n                      <svg width="24" height="24">\n                        <use xlink:href="#iconError"></use>\n                      </svg>\n                    </div>\n                  </div>\n                </div>\n              </label>\n              <div data-braintree-id="expiration-date-field-error" class="braintree-form__field-error"></div>\n            </div>\n            \n\n            <div data-braintree-id="cvv-field-group" class="braintree-form__field-group">\n              <label>\n                <div class="braintree-form__label">{{cvvLabel}}\n                  <span data-braintree-id="cvv-label-descriptor" class="braintree-form__descriptor">{{cvvThreeDigitLabelSubheading}}</span>\n                </div>\n                <div class="braintree-form__field">\n                  <div class="braintree-form__hosted-field braintree-form-cvv"></div>\n                  <div class="braintree-form__icon-container">\n                    <div data-braintree-id="cvv-icon" class="braintree-form__icon braintree-form__field-secondary-icon">\n                      <svg width="40" height="24" class="braintree-icon--bordered">\n                      <use data-braintree-id="cvv-icon-svg" xlink:href="#iconCVVBack"></use>\n                      </svg>\n                    </div>\n                    <div class="braintree-form__icon braintree-form__field-error-icon">\n                      <svg width="24" height="24">\n                        <use xlink:href="#iconError"></use>\n                      </svg>\n                    </div>\n                  </div>\n                </div>\n              </label>\n              <div data-braintree-id="cvv-field-error" class="braintree-form__field-error"></div>\n            </div>\n\n            <div data-braintree-id="postal-code-field-group" class="braintree-form__field-group">\n              <label>\n                <div class="braintree-form__label">{{postalCodeLabel}}</div>\n                <div class="braintree-form__field">\n                  <div class="braintree-form__hosted-field braintree-form-postal-code"></div>\n                  <div class="braintree-form__icon-container">\n                    <div class="braintree-form__icon braintree-form__field-error-icon">\n                      <svg width="24" height="24">\n                        <use xlink:href="#iconError"></use>\n                      </svg>\n                    </div>\n                  </div>\n                </div>\n              </label>\n              <div data-braintree-id="postal-code-field-error" class="braintree-form__field-error"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div data-braintree-id="sheet-error" class="braintree-sheet__error">\n        <div class="braintree-form__icon braintree-sheet__error-icon">\n          <svg width="24" height="24">\n            <use xlink:href="#iconError"></use>\n          </svg>\n        </div>\n        <div data-braintree-id="sheet-error-text" class="braintree-sheet__error-text"></div>\n      </div>\n    </div>\n  </div>\n\n  <div data-braintree-id="lower-container" class="braintree-test-class braintree-options braintree-hidden">\n    <div data-braintree-id="other-ways-to-pay" class="braintree-heading">{{otherWaysToPay}}</div>\n  </div>\n\n  <div data-braintree-id="toggle" class="braintree-large-button braintree-toggle braintree-hidden" tabindex="0">\n    <span>{{chooseAnotherWayToPay}}</span>\n  </div>\n</div>\n<div data-braintree-id="disable-wrapper" class="braintree-dropin__disabled braintree-hidden"></div>\n'), a._dropinWrapper.innerHTML = '<svg data-braintree-id="svgs" style="display: none">\n  <defs>\n    <symbol id="icon-visa" viewBox="0 0 40 24">\n      <title>Visa</title>\n      <path d="M0 1.927C0 .863.892 0 1.992 0h36.016C39.108 0 40 .863 40 1.927v20.146C40 23.137 39.108 24 38.008 24H1.992C.892 24 0 23.137 0 22.073V1.927z" style="fill: #FFF" />\n      <path d="M0 22.033C0 23.12.892 24 1.992 24h36.016c1.1 0 1.992-.88 1.992-1.967V20.08H0v1.953z" style="fill: #F8B600" />\n      <path d="M0 3.92h40V1.967C40 .88 39.108 0 38.008 0H1.992C.892 0 0 .88 0 1.967V3.92zM19.596 7.885l-2.11 9.478H14.93l2.11-9.478h2.554zm10.743 6.12l1.343-3.56.773 3.56H30.34zm2.85 3.358h2.36l-2.063-9.478H31.31c-.492 0-.905.274-1.088.695l-3.832 8.783h2.682l.532-1.415h3.276l.31 1.415zm-6.667-3.094c.01-2.502-3.6-2.64-3.577-3.76.008-.338.345-.7 1.083-.793.365-.045 1.373-.08 2.517.425l.448-2.01c-.615-.214-1.405-.42-2.39-.42-2.523 0-4.3 1.288-4.313 3.133-.016 1.364 1.268 2.125 2.234 2.58.996.464 1.33.762 1.325 1.177-.006.636-.793.918-1.526.928-1.285.02-2.03-.333-2.623-.6l-.462 2.08c.598.262 1.7.49 2.84.502 2.682 0 4.437-1.273 4.445-3.243zM15.948 7.884l-4.138 9.478h-2.7L7.076 9.8c-.123-.466-.23-.637-.606-.834-.615-.32-1.63-.62-2.52-.806l.06-.275h4.345c.554 0 1.052.354 1.178.966l1.076 5.486 2.655-6.45h2.683z" style="fill: #1A1F71" />\n    </symbol>\n\n    <symbol id="icon-master-card" viewBox="0 0 40 24">\n      <title>MasterCard</title>\n      <path d="M0 1.927C0 .863.892 0 1.992 0h36.016C39.108 0 40 .863 40 1.927v20.146C40 23.137 39.108 24 38.008 24H1.992C.892 24 0 23.137 0 22.073V1.927z" style="fill: #FFF" />\n      <path d="M11.085 22.2v-1.36c0-.522-.318-.863-.864-.863-.272 0-.568.09-.773.386-.16-.25-.386-.386-.727-.386-.228 0-.455.068-.637.318v-.272h-.478V22.2h.478v-1.202c0-.386.204-.567.523-.567.318 0 .478.205.478.568V22.2h.477v-1.202c0-.386.23-.567.524-.567.32 0 .478.205.478.568V22.2h.523zm7.075-2.177h-.774v-.658h-.478v.658h-.432v.43h.432v.998c0 .5.205.795.75.795.206 0 .433-.068.592-.16l-.136-.407c-.136.09-.296.114-.41.114-.227 0-.318-.137-.318-.363v-.976h.774v-.43zm4.048-.046c-.273 0-.454.136-.568.318v-.272h-.478V22.2h.478v-1.225c0-.363.16-.567.455-.567.09 0 .204.023.295.046l.137-.454c-.09-.023-.228-.023-.32-.023zm-6.118.227c-.228-.16-.546-.227-.888-.227-.546 0-.91.272-.91.703 0 .363.274.567.75.635l.23.023c.25.045.385.113.385.227 0 .16-.182.272-.5.272-.32 0-.57-.113-.728-.227l-.228.363c.25.18.59.272.932.272.637 0 1-.295 1-.703 0-.385-.295-.59-.75-.658l-.227-.022c-.205-.023-.364-.068-.364-.204 0-.16.16-.25.41-.25.272 0 .545.114.682.182l.205-.386zm12.692-.227c-.273 0-.455.136-.568.318v-.272h-.478V22.2h.478v-1.225c0-.363.16-.567.455-.567.09 0 .203.023.294.046L29.1 20c-.09-.023-.227-.023-.318-.023zm-6.096 1.134c0 .66.455 1.135 1.16 1.135.32 0 .546-.068.774-.25l-.228-.385c-.182.136-.364.204-.57.204-.385 0-.658-.272-.658-.703 0-.407.273-.68.66-.702.204 0 .386.068.568.204l.228-.385c-.228-.182-.455-.25-.774-.25-.705 0-1.16.477-1.16 1.134zm4.413 0v-1.087h-.48v.272c-.158-.204-.385-.318-.68-.318-.615 0-1.093.477-1.093 1.134 0 .66.478 1.135 1.092 1.135.317 0 .545-.113.68-.317v.272h.48v-1.09zm-1.753 0c0-.384.25-.702.66-.702.387 0 .66.295.66.703 0 .387-.273.704-.66.704-.41-.022-.66-.317-.66-.703zm-5.71-1.133c-.636 0-1.09.454-1.09 1.134 0 .682.454 1.135 1.114 1.135.32 0 .638-.09.888-.295l-.228-.34c-.18.136-.41.227-.636.227-.296 0-.592-.136-.66-.522h1.615v-.18c.022-.704-.388-1.158-1.002-1.158zm0 .41c.297 0 .502.18.547.52h-1.137c.045-.295.25-.52.59-.52zm11.852.724v-1.95h-.48v1.135c-.158-.204-.385-.318-.68-.318-.615 0-1.093.477-1.093 1.134 0 .66.478 1.135 1.092 1.135.318 0 .545-.113.68-.317v.272h.48v-1.09zm-1.752 0c0-.384.25-.702.66-.702.386 0 .66.295.66.703 0 .387-.274.704-.66.704-.41-.022-.66-.317-.66-.703zm-15.97 0v-1.087h-.476v.272c-.16-.204-.387-.318-.683-.318-.615 0-1.093.477-1.093 1.134 0 .66.478 1.135 1.092 1.135.318 0 .545-.113.682-.317v.272h.477v-1.09zm-1.773 0c0-.384.25-.702.66-.702.386 0 .66.295.66.703 0 .387-.274.704-.66.704-.41-.022-.66-.317-.66-.703z" style="fill: #000" />\n      <path style="fill: #FF5F00" d="M23.095 3.49H15.93v12.836h7.165" />\n      <path d="M16.382 9.91c0-2.61 1.23-4.922 3.117-6.42-1.39-1.087-3.14-1.745-5.05-1.745-4.528 0-8.19 3.65-8.19 8.164 0 4.51 3.662 8.162 8.19 8.162 1.91 0 3.66-.657 5.05-1.746-1.89-1.474-3.118-3.81-3.118-6.417z" style="fill: #EB001B" />\n      <path d="M32.76 9.91c0 4.51-3.664 8.162-8.19 8.162-1.91 0-3.662-.657-5.05-1.746 1.91-1.496 3.116-3.81 3.116-6.417 0-2.61-1.228-4.922-3.116-6.42 1.388-1.087 3.14-1.745 5.05-1.745 4.526 0 8.19 3.674 8.19 8.164z" style="fill: #F79E1B" />\n    </symbol>\n\n    <symbol id="icon-unionpay" viewBox="0 0 40 24">\n      <title>Union Pay</title>\n      <path d="M38.333 24H1.667C.75 24 0 23.28 0 22.4V1.6C0 .72.75 0 1.667 0h36.666C39.25 0 40 .72 40 1.6v20.8c0 .88-.75 1.6-1.667 1.6z" style="fill: #FFF" />\n      <path d="M9.877 2h8.126c1.135 0 1.84.93 1.575 2.077l-3.783 16.35c-.267 1.142-1.403 2.073-2.538 2.073H5.13c-1.134 0-1.84-.93-1.574-2.073L7.34 4.076C7.607 2.93 8.74 2 9.878 2z" style="fill: #E21836" />\n      <path d="M17.325 2h9.345c1.134 0 .623.93.356 2.077l-3.783 16.35c-.265 1.142-.182 2.073-1.32 2.073H12.58c-1.137 0-1.84-.93-1.574-2.073l3.783-16.35C15.056 2.93 16.19 2 17.324 2z" style="fill: #00447B" />\n      <path d="M26.3 2h8.126c1.136 0 1.84.93 1.575 2.077l-3.782 16.35c-.266 1.142-1.402 2.073-2.54 2.073h-8.122c-1.137 0-1.842-.93-1.574-2.073l3.78-16.35C24.03 2.93 25.166 2 26.303 2z" style="fill: #007B84" />\n      <path d="M27.633 14.072l-.99 3.3h.266l-.208.68h-.266l-.062.212h-.942l.064-.21H23.58l.193-.632h.194l1.005-3.35.2-.676h.962l-.1.34s.255-.184.498-.248c.242-.064 1.636-.088 1.636-.088l-.206.672h-.33zm-1.695 0l-.254.843s.285-.13.44-.172c.16-.04.395-.057.395-.057l.182-.614h-.764zm-.38 1.262l-.263.877s.29-.15.447-.196c.157-.037.396-.066.396-.066l.185-.614h-.766zm-.614 2.046h.767l.222-.74h-.765l-.223.74z" style="fill: #FEFEFE" />\n      <path d="M28.055 13.4h1.027l.01.385c-.005.065.05.096.17.096h.208l-.19.637h-.555c-.48.035-.662-.172-.65-.406l-.02-.71zM28.193 16.415h-.978l.167-.566H28.5l.16-.517h-1.104l.19-.638h3.072l-.193.638h-1.03l-.16.516h1.032l-.17.565H29.18l-.2.24h.454l.11.712c.013.07.014.116.036.147.023.026.158.038.238.038h.137l-.21.694h-.348c-.054 0-.133-.004-.243-.01-.105-.008-.18-.07-.25-.105-.064-.03-.16-.11-.182-.24l-.11-.712-.507.7c-.162.222-.38.39-.748.39h-.712l.186-.62h.273c.078 0 .15-.03.2-.056.052-.023.098-.05.15-.126l.74-1.05zM17.478 14.867h2.59l-.19.622H18.84l-.16.53h1.06l-.194.64h-1.06l-.256.863c-.03.095.25.108.353.108l.53-.072-.212.71h-1.193c-.096 0-.168-.013-.272-.037-.1-.023-.145-.07-.19-.138-.043-.07-.11-.128-.064-.278l.343-1.143h-.588l.195-.65h.592l.156-.53h-.588l.188-.623zM19.223 13.75h1.063l-.194.65H18.64l-.157.136c-.067.066-.09.038-.18.087-.08.04-.254.123-.477.123h-.466l.19-.625h.14c.118 0 .198-.01.238-.036.046-.03.098-.096.157-.203l.267-.487h1.057l-.187.356zM20.74 13.4h.905l-.132.46s.286-.23.487-.313c.2-.075.65-.143.65-.143l1.464-.007-.498 1.672c-.085.286-.183.472-.244.555-.055.087-.12.16-.248.23-.124.066-.236.104-.34.115-.096.007-.244.01-.45.012h-1.41l-.4 1.324c-.037.13-.055.194-.03.23.02.03.068.066.135.066l.62-.06-.21.726h-.698c-.22 0-.383-.004-.495-.013-.108-.01-.22 0-.295-.058-.065-.058-.164-.133-.162-.21.007-.073.037-.192.082-.356l1.268-4.23zm1.922 1.69h-1.484l-.09.3h1.283c.152-.018.184.004.196-.003l.096-.297zm-1.402-.272s.29-.266.786-.353c.112-.022.82-.015.82-.015l.106-.357h-1.496l-.216.725z" style="fill: #FEFEFE" />\n      <path d="M23.382 16.1l-.084.402c-.036.125-.067.22-.16.302-.1.084-.216.172-.488.172l-.502.02-.004.455c-.006.13.028.117.048.138.024.022.045.032.067.04l.157-.008.48-.028-.198.663h-.552c-.385 0-.67-.008-.765-.084-.092-.057-.105-.132-.103-.26l.035-1.77h.88l-.013.362h.212c.072 0 .12-.007.15-.026.027-.02.047-.048.06-.093l.087-.282h.692zM10.84 7.222c-.032.143-.596 2.763-.598 2.764-.12.53-.21.91-.508 1.152-.172.14-.37.21-.6.21-.37 0-.587-.185-.624-.537l-.007-.12.113-.712s.593-2.388.7-2.703c.002-.017.005-.026.007-.035-1.152.01-1.357 0-1.37-.018-.007.024-.037.173-.037.173l-.605 2.688-.05.23-.1.746c0 .22.042.4.13.553.275.485 1.06.557 1.504.557.573 0 1.11-.123 1.47-.345.63-.375.797-.962.944-1.48l.067-.267s.61-2.48.716-2.803c.003-.017.006-.026.01-.035-.835.01-1.08 0-1.16-.018zM14.21 12.144c-.407-.006-.55-.006-1.03.018l-.018-.036c.042-.182.087-.363.127-.548l.06-.25c.086-.39.173-.843.184-.98.007-.084.036-.29-.2-.29-.1 0-.203.048-.307.096-.058.207-.174.79-.23 1.055-.118.558-.126.62-.178.897l-.036.037c-.42-.006-.566-.006-1.05.018l-.024-.04c.08-.332.162-.668.24-.998.203-.9.25-1.245.307-1.702l.04-.028c.47-.067.585-.08 1.097-.185l.043.047-.077.287c.086-.052.168-.104.257-.15.242-.12.51-.155.658-.155.223 0 .468.062.57.323.098.232.034.52-.094 1.084l-.066.287c-.13.627-.152.743-.225 1.174l-.05.036zM15.87 12.144c-.245 0-.405-.006-.56 0-.153 0-.303.008-.532.018l-.013-.02-.015-.02c.062-.238.097-.322.128-.406.03-.084.06-.17.115-.41.072-.315.116-.535.147-.728.033-.187.052-.346.075-.53l.02-.014.02-.018c.244-.036.4-.057.56-.082.16-.024.32-.055.574-.103l.008.023.008.022c-.047.195-.094.39-.14.588-.047.197-.094.392-.137.587-.093.414-.13.57-.152.68-.02.105-.026.163-.063.377l-.022.02-.023.017zM19.542 10.728c.143-.633.033-.928-.108-1.11-.213-.273-.59-.36-.978-.36-.235 0-.793.023-1.23.43-.312.29-.458.687-.546 1.066-.088.387-.19 1.086.447 1.344.198.085.48.108.662.108.466 0 .945-.13 1.304-.513.278-.312.405-.775.448-.965zm-1.07-.046c-.02.106-.113.503-.24.673-.086.123-.19.198-.305.198-.033 0-.235 0-.238-.3-.003-.15.027-.304.063-.47.108-.478.236-.88.56-.88.255 0 .27.298.16.78zM29.536 12.187c-.493-.004-.635-.004-1.09.015l-.03-.037c.124-.472.248-.943.358-1.42.142-.62.175-.882.223-1.244l.037-.03c.49-.07.625-.09 1.135-.186l.015.044c-.093.388-.186.777-.275 1.166-.19.816-.258 1.23-.33 1.658l-.044.035z" style="fill: #FEFEFE" />\n      <path d="M29.77 10.784c.144-.63-.432-.056-.525-.264-.14-.323-.052-.98-.62-1.2-.22-.085-.732.025-1.17.428-.31.29-.458.683-.544 1.062-.088.38-.19 1.078.444 1.328.2.085.384.11.567.103.638-.034 1.124-1.002 1.483-1.386.277-.303.326.115.368-.07zm-.974-.047c-.024.1-.117.503-.244.67-.083.117-.283.192-.397.192-.032 0-.232 0-.24-.3 0-.146.03-.3.067-.467.11-.47.235-.87.56-.87.254 0 .363.293.254.774zM22.332 12.144c-.41-.006-.55-.006-1.03.018l-.018-.036c.04-.182.087-.363.13-.548l.057-.25c.09-.39.176-.843.186-.98.008-.084.036-.29-.198-.29-.1 0-.203.048-.308.096-.057.207-.175.79-.232 1.055-.115.558-.124.62-.176.897l-.035.037c-.42-.006-.566-.006-1.05.018l-.022-.04.238-.998c.203-.9.25-1.245.307-1.702l.038-.028c.472-.067.587-.08 1.098-.185l.04.047-.073.287c.084-.052.17-.104.257-.15.24-.12.51-.155.655-.155.224 0 .47.062.575.323.095.232.03.52-.098 1.084l-.065.287c-.133.627-.154.743-.225 1.174l-.05.036zM26.32 8.756c-.07.326-.282.603-.554.736-.225.114-.498.123-.78.123h-.183l.013-.074.336-1.468.01-.076.007-.058.132.015.71.062c.275.105.388.38.31.74zM25.88 7.22l-.34.003c-.883.01-1.238.006-1.383-.012l-.037.182-.315 1.478-.793 3.288c.77-.01 1.088-.01 1.22.004l.21-1.024s.153-.644.163-.667c0 0 .047-.066.096-.092h.07c.665 0 1.417 0 2.005-.437.4-.298.675-.74.797-1.274.03-.132.054-.29.054-.446 0-.205-.04-.41-.16-.568-.3-.423-.896-.43-1.588-.433zM33.572 9.28l-.04-.043c-.502.1-.594.118-1.058.18l-.034.034-.005.023-.003-.007c-.345.803-.334.63-.615 1.26-.003-.03-.003-.048-.004-.077l-.07-1.37-.044-.043c-.53.1-.542.118-1.03.18l-.04.034-.006.056.003.007c.06.315.047.244.108.738.03.244.065.49.093.73.05.4.077.6.134 1.21-.328.55-.408.757-.722 1.238l.017.044c.478-.018.587-.018.94-.018l.08-.088c.265-.578 2.295-4.085 2.295-4.085zM16.318 9.62c.27-.19.304-.45.076-.586-.23-.137-.634-.094-.906.095-.273.186-.304.45-.075.586.228.134.633.094.905-.096z" style="fill: #FEFEFE" />\n      <path d="M31.238 13.415l-.397.684c-.124.232-.357.407-.728.41l-.632-.01.184-.618h.124c.064 0 .11-.004.148-.022.03-.01.054-.035.08-.072l.233-.373h.988z" style="fill: #FEFEFE" />\n    </symbol>\n\n    <symbol id="icon-american-express" viewBox="0 0 40 24">\n      <title>American Express</title>\n      <path d="M38.333 24H1.667C.75 24 0 23.28 0 22.4V1.6C0 .72.75 0 1.667 0h36.666C39.25 0 40 .72 40 1.6v20.8c0 .88-.75 1.6-1.667 1.6z" style="fill: #FFF" />\n      <path style="fill: #1478BE" d="M6.26 12.32h2.313L7.415 9.66M27.353 9.977h-3.738v1.23h3.666v1.384h-3.675v1.385h3.821v1.005c.623-.77 1.33-1.466 2.025-2.235l.707-.77c-.934-1.004-1.87-2.08-2.804-3.075v1.077z" />\n      <path d="M38.25 7h-5.605l-1.328 1.4L30.072 7H16.984l-1.017 2.416L14.877 7h-9.58L1.25 16.5h4.826l.623-1.556h1.4l.623 1.556H29.99l1.327-1.483 1.328 1.483h5.605l-4.36-4.667L38.25 7zm-17.685 8.1h-1.557V9.883L16.673 15.1h-1.33L13.01 9.883l-.084 5.217H9.73l-.623-1.556h-3.27L5.132 15.1H3.42l2.884-6.772h2.42l2.645 6.233V8.33h2.646l2.107 4.51 1.868-4.51h2.575V15.1zm14.727 0h-2.024l-2.024-2.26-2.023 2.26H22.06V8.328H29.53l1.795 2.177 2.024-2.177h2.025L32.26 11.75l3.032 3.35z" style="fill: #1478BE" />\n    </symbol>\n\n    <symbol id="icon-jcb" viewBox="0 0 40 24">\n      <title>JCB</title>\n      <path d="M38.333 24H1.667C.75 24 0 23.28 0 22.4V1.6C0 .72.75 0 1.667 0h36.666C39.25 0 40 .72 40 1.6v20.8c0 .88-.75 1.6-1.667 1.6z" style="fill: #FFF" />\n      <path d="M33.273 2.01h.013v17.062c-.004 1.078-.513 2.103-1.372 2.746-.63.47-1.366.67-2.14.67-.437 0-4.833.026-4.855 0-.01-.01 0-.07 0-.082v-6.82c0-.04.004-.064.033-.064h5.253c.867 0 1.344-.257 1.692-.61.44-.448.574-1.162.294-1.732-.24-.488-.736-.78-1.244-.913-.158-.04-.32-.068-.483-.083-.01 0-.064 0-.07-.006-.03-.034.023-.04.038-.046.102-.033.215-.042.32-.073.532-.164.993-.547 1.137-1.105.15-.577-.05-1.194-.524-1.552-.34-.257-.768-.376-1.187-.413-.43-.038-4.774-.022-5.21-.022-.072 0-.05-.02-.05-.09V5.63c0-.31.01-.616.073-.92.126-.592.41-1.144.815-1.59.558-.615 1.337-1.01 2.16-1.093.478-.048 4.89-.017 5.305-.017zm-4.06 8.616c.06.272-.01.567-.204.77-.173.176-.407.25-.648.253-.195.003-1.725 0-1.788 0l.003-1.645c.012-.027.02-.018.06-.018.097 0 1.713-.004 1.823.005.232.02.45.12.598.306.076.096.128.208.155.328zm-2.636 2.038h1.944c.242.002.47.063.652.228.226.204.327.515.283.815-.04.263-.194.5-.422.634-.187.112-.39.125-.6.125h-1.857v-1.8z" style="fill: #53B230" />\n      <path d="M6.574 13.89c-.06-.03-.06-.018-.07-.06-.006-.026-.005-8.365.003-8.558.04-.95.487-1.857 1.21-2.47.517-.434 1.16-.71 1.83-.778.396-.04.803-.018 1.2-.018.69 0 4.11-.013 4.12 0 .008.008.002 16.758 0 17.074-.003.956-.403 1.878-1.105 2.523-.506.465-1.15.77-1.83.86-.41.056-5.02.032-5.363.032-.066 0-.054.013-.066-.024-.01-.025 0-7 0-7.17.66.178 1.35.28 2.03.348.662.067 1.33.093 1.993.062.93-.044 1.947-.192 2.712-.762.32-.238.574-.553.73-.922.148-.353.2-.736.2-1.117 0-.348.006-3.93-.016-3.942-.023-.014-2.885-.015-2.9.012-.012.022 0 3.87 0 3.95-.003.47-.16.933-.514 1.252-.468.42-1.11.47-1.707.423-.687-.055-1.357-.245-1.993-.508-.157-.065-.312-.135-.466-.208z" style="fill: #006CB9" />\n      <path d="M15.95 9.835c-.025.02-.05.04-.072.06V6.05c0-.295-.012-.594.01-.888.12-1.593 1.373-2.923 2.944-3.126.382-.05 5.397-.042 5.41-.026.01.01 0 .062 0 .074v16.957c0 1.304-.725 2.52-1.89 3.1-.504.25-1.045.35-1.605.35-.322 0-4.757.015-4.834 0-.05-.01-.023.01-.035-.02-.007-.022 0-6.548 0-7.44v-.422c.554.48 1.256.75 1.96.908.536.12 1.084.176 1.63.196.537.02 1.076.01 1.61-.037.546-.05 1.088-.136 1.625-.244.137-.028.274-.057.41-.09.033-.006.17-.017.187-.044.013-.02 0-.097 0-.12v-1.324c-.582.292-1.19.525-1.83.652-.778.155-1.64.198-2.385-.123-.752-.326-1.2-1.024-1.274-1.837-.076-.837.173-1.716.883-2.212.736-.513 1.7-.517 2.553-.38.634.1 1.245.305 1.825.58.078.037.154.075.23.113V9.322c0-.02.013-.1 0-.118-.02-.028-.152-.038-.188-.046-.066-.016-.133-.03-.2-.045C22.38 9 21.84 8.908 21.3 8.85c-.533-.06-1.068-.077-1.603-.066-.542.01-1.086.054-1.62.154-.662.125-1.32.337-1.883.716-.085.056-.167.117-.245.18z" style="fill: #E20138" />\n    </symbol>\n\n    <symbol id="icon-discover" viewBox="0 0 40 24">\n      <title>Discover</title>\n      <path d="M38.333 24H1.667C.75 24 0 23.28 0 22.4V1.6C0 .72.75 0 1.667 0h36.666C39.25 0 40 .72 40 1.6v20.8c0 .88-.75 1.6-1.667 1.6z" style="fill: #FFF" />\n      <path d="M38.995 11.75S27.522 20.1 6.5 23.5h31.495c.552 0 1-.448 1-1V11.75z" style="fill: #F48024" />\n      <path d="M5.332 11.758c-.338.305-.776.438-1.47.438h-.29V8.55h.29c.694 0 1.115.124 1.47.446.37.33.595.844.595 1.372 0 .53-.224 1.06-.595 1.39zM4.077 7.615H2.5v5.515h1.57c.833 0 1.435-.197 1.963-.637.63-.52 1-1.305 1-2.116 0-1.628-1.214-2.762-2.956-2.762zM7.53 13.13h1.074V7.616H7.53M11.227 9.732c-.645-.24-.834-.397-.834-.695 0-.347.338-.61.8-.61.322 0 .587.132.867.446l.562-.737c-.462-.405-1.015-.612-1.618-.612-.975 0-1.718.678-1.718 1.58 0 .76.346 1.15 1.355 1.513.42.148.635.247.743.314.215.14.322.34.322.57 0 .448-.354.78-.834.78-.51 0-.924-.258-1.17-.736l-.695.67c.495.726 1.09 1.05 1.907 1.05 1.116 0 1.9-.745 1.9-1.812 0-.876-.363-1.273-1.585-1.72zM13.15 10.377c0 1.62 1.27 2.877 2.907 2.877.462 0 .858-.09 1.347-.32v-1.267c-.43.43-.81.604-1.297.604-1.082 0-1.85-.785-1.85-1.9 0-1.06.792-1.895 1.8-1.895.512 0 .9.183 1.347.62V7.83c-.472-.24-.86-.34-1.322-.34-1.627 0-2.932 1.283-2.932 2.887zM25.922 11.32l-1.468-3.705H23.28l2.337 5.656h.578l2.38-5.655H27.41M29.06 13.13h3.046v-.934h-1.973v-1.488h1.9v-.934h-1.9V8.55h1.973v-.935H29.06M34.207 10.154h-.314v-1.67h.33c.67 0 1.034.28 1.034.818 0 .554-.364.852-1.05.852zm2.155-.91c0-1.033-.71-1.628-1.95-1.628H32.82v5.514h1.073v-2.215h.14l1.487 2.215h1.32l-1.733-2.323c.81-.165 1.255-.72 1.255-1.563z" style="fill: #221F20" />\n      <path d="M23.6 10.377c0 1.62-1.31 2.93-2.927 2.93-1.617.002-2.928-1.31-2.928-2.93s1.31-2.932 2.928-2.932c1.618 0 2.928 1.312 2.928 2.932z" style="fill: #F48024" />\n    </symbol>\n\n    <symbol id="icon-diners-club" viewBox="0 0 40 24">\n      <title>Diners Club</title>\n      <path d="M38.333 24H1.667C.75 24 0 23.28 0 22.4V1.6C0 .72.75 0 1.667 0h36.666C39.25 0 40 .72 40 1.6v20.8c0 .88-.75 1.6-1.667 1.6z" style="fill: #FFF" />\n      <path d="M9.02 11.83c0-5.456 4.54-9.88 10.14-9.88 5.6 0 10.139 4.424 10.139 9.88-.002 5.456-4.54 9.88-10.14 9.88-5.6 0-10.14-4.424-10.14-9.88z" style="fill: #FEFEFE" />\n      <path style="fill: #FFF" d="M32.522 22H8.5V1.5h24.022" />\n      <path d="M25.02 11.732c-.003-2.534-1.607-4.695-3.868-5.55v11.102c2.26-.857 3.865-3.017 3.87-5.552zm-8.182 5.55V6.18c-2.26.86-3.86 3.017-3.867 5.55.007 2.533 1.61 4.69 3.868 5.55zm2.158-14.934c-5.25.002-9.503 4.202-9.504 9.384 0 5.182 4.254 9.38 9.504 9.382 5.25 0 9.504-4.2 9.505-9.382 0-5.182-4.254-9.382-9.504-9.384zM18.973 22C13.228 22.027 8.5 17.432 8.5 11.84 8.5 5.726 13.228 1.5 18.973 1.5h2.692c5.677 0 10.857 4.225 10.857 10.34 0 5.59-5.18 10.16-10.857 10.16h-2.692z" style="fill: #004A97" />\n    </symbol>\n\n    <symbol id="icon-maestro" viewBox="0 0 40 24">\n      <title>Maestro</title>\n      <path d="M38.333 24H1.667C.75 24 0 23.28 0 22.4V1.6C0 .72.75 0 1.667 0h36.666C39.25 0 40 .72 40 1.6v20.8c0 .88-.75 1.6-1.667 1.6z" style="fill: #FFF" />\n      <path d="M14.67 22.39V21c.022-.465-.303-.86-.767-.882h-.116c-.3-.023-.603.14-.788.394-.164-.255-.442-.417-.743-.394-.256-.023-.51.116-.65.324v-.278h-.487v2.203h.487v-1.183c-.046-.278.162-.533.44-.58h.094c.325 0 .488.21.488.58v1.23h.487v-1.23c-.047-.278.162-.556.44-.58h.093c.325 0 .487.21.487.58v1.23l.534-.024zm2.712-1.09v-1.113h-.487v.28c-.162-.21-.417-.326-.695-.326-.65 0-1.16.51-1.16 1.16 0 .65.51 1.16 1.16 1.16.278 0 .533-.117.695-.325v.278h.487V21.3zm-1.786 0c.024-.37.348-.65.72-.626.37.023.65.348.626.72-.023.347-.302.625-.673.625-.372 0-.674-.28-.674-.65-.023-.047-.023-.047 0-.07zm12.085-1.16c.163 0 .325.024.465.094.14.046.278.14.37.255.117.115.186.23.256.37.117.3.117.626 0 .927-.046.14-.138.255-.254.37-.116.117-.232.186-.37.256-.303.116-.65.116-.952 0-.14-.046-.28-.14-.37-.255-.118-.116-.187-.232-.257-.37-.116-.302-.116-.627 0-.928.047-.14.14-.255.256-.37.115-.117.23-.187.37-.256.163-.07.325-.116.488-.093zm0 .465c-.092 0-.185.023-.278.046-.092.024-.162.094-.232.14-.07.07-.116.14-.14.232-.068.185-.068.394 0 .58.024.092.094.162.14.23.07.07.14.117.232.14.186.07.37.07.557 0 .092-.023.16-.092.23-.14.07-.068.117-.138.14-.23.07-.186.07-.395 0-.58-.023-.093-.093-.162-.14-.232-.07-.07-.138-.116-.23-.14-.094-.045-.187-.07-.28-.045zm-7.677.695c0-.695-.44-1.16-1.043-1.16-.65 0-1.16.534-1.137 1.183.023.65.534 1.16 1.183 1.136.325 0 .65-.093.905-.302l-.23-.348c-.187.14-.42.232-.65.232-.326.023-.627-.21-.673-.533h1.646v-.21zm-1.646-.21c.023-.3.278-.532.58-.532.3 0 .556.232.556.533h-1.136zm3.664-.346c-.207-.116-.44-.186-.695-.186-.255 0-.417.093-.417.255 0 .163.162.186.37.21l.233.022c.488.07.766.278.766.672 0 .395-.37.72-1.02.72-.348 0-.673-.094-.95-.28l.23-.37c.21.162.465.232.743.232.324 0 .51-.094.51-.28 0-.115-.117-.185-.395-.23l-.232-.024c-.487-.07-.765-.302-.765-.65 0-.44.37-.718.927-.718.325 0 .627.07.905.232l-.21.394zm2.32-.116h-.788v.997c0 .23.07.37.325.37.14 0 .3-.046.417-.115l.14.417c-.186.116-.395.162-.604.162-.58 0-.765-.302-.765-.812v-1.02h-.44v-.44h.44v-.673h.487v.672h.79v.44zm1.67-.51c.117 0 .233.023.35.07l-.14.463c-.093-.045-.21-.045-.302-.045-.325 0-.464.208-.464.58v1.25h-.487v-2.2h.487v.277c.116-.255.325-.37.557-.394z" style="fill: #000" />\n      <path style="fill: #7673C0" d="M23.64 3.287h-7.305V16.41h7.306" />\n      <path d="M16.8 9.848c0-2.55 1.183-4.985 3.2-6.56C16.384.435 11.12 1.06 8.29 4.7 5.435 8.32 6.06 13.58 9.703 16.41c3.038 2.387 7.283 2.387 10.32 0-2.04-1.578-3.223-3.99-3.223-6.562z" style="fill: #EB001B" />\n      <path d="M33.5 9.848c0 4.613-3.735 8.346-8.35 8.346-1.88 0-3.69-.626-5.15-1.785 3.618-2.83 4.245-8.092 1.415-11.71-.418-.532-.882-.996-1.415-1.413C23.618.437 28.883 1.06 31.736 4.7 32.873 6.163 33.5 7.994 33.5 9.85z" style="fill: #00A1DF" />\n    </symbol>\n\n    <symbol id="logoPayPal" viewBox="0 0 48 29">\n      <title>PayPal Logo</title>\n      <path d="M46 29H2c-1.1 0-2-.87-2-1.932V1.934C0 .87.9 0 2 0h44c1.1 0 2 .87 2 1.934v25.134C48 28.13 47.1 29 46 29z" fill-opacity="0" style="fill: #FFF" />\n      <path d="M31.216 16.4c.394-.7.69-1.5.886-2.4.196-.8.196-1.6.1-2.2-.1-.7-.396-1.2-.79-1.7-.195-.3-.59-.5-.885-.7.1-.8.1-1.5 0-2.1-.1-.6-.394-1.1-.886-1.6-.885-1-2.56-1.6-4.922-1.6h-6.4c-.492 0-.787.3-.886.8l-2.658 17.2c0 .2 0 .3.1.4.097.1.294.2.393.2h4.036l-.295 1.8c0 .1 0 .3.1.4.098.1.195.2.393.2h3.35c.393 0 .688-.3.786-.7v-.2l.59-4.1v-.2c.1-.4.395-.7.788-.7h.59c1.675 0 3.152-.4 4.137-1.1.59-.5 1.083-1 1.478-1.7h-.002z" style="fill: #263B80" />\n      <path d="M21.364 9.4c0-.3.196-.5.492-.6.098-.1.196-.1.394-.1h5.02c.592 0 1.183 0 1.675.1.1 0 .295.1.394.1.098 0 .294.1.393.1.1 0 .1 0 .197.102.295.1.492.2.69.3.295-1.6 0-2.7-.887-3.8-.985-1.1-2.658-1.6-4.923-1.6h-6.4c-.49 0-.885.3-.885.8l-2.758 17.3c-.098.3.197.6.59.6h3.94l.985-6.4 1.083-6.9z" style="fill: #263B80" />\n      <path d="M30.523 9.4c0 .1 0 .3-.098.4-.887 4.4-3.742 5.9-7.484 5.9h-1.87c-.492 0-.787.3-.886.8l-.985 6.2-.296 1.8c0 .3.196.6.492.6h3.348c.394 0 .69-.3.787-.7v-.2l.592-4.1v-.2c.1-.4.394-.7.787-.7h.69c3.248 0 5.808-1.3 6.497-5.2.296-1.6.197-3-.69-3.9-.196-.3-.49-.5-.885-.7z" style="fill: #159BD7" />\n      <path d="M29.635 9c-.098 0-.295-.1-.394-.1-.098 0-.294-.1-.393-.1-.492-.102-1.083-.102-1.673-.102h-5.022c-.1 0-.197 0-.394.1-.198.1-.394.3-.492.6l-1.083 6.9v.2c.1-.5.492-.8.886-.8h1.87c3.742 0 6.598-1.5 7.484-5.9 0-.1 0-.3.098-.4-.196-.1-.492-.2-.69-.3 0-.1-.098-.1-.196-.1z" style="fill: #232C65" />\n    </symbol>\n\n    <symbol id="logoPayPalCredit" viewBox="0 0 48 29">\n      <title>PayPal Credit Logo</title>\n      <path d="M46 29H2c-1.1 0-2-.87-2-1.932V1.934C0 .87.9 0 2 0h44c1.1 0 2 .87 2 1.934v25.134C48 28.13 47.1 29 46 29z" fill-opacity="0" style="fill: #FFF" fill-rule="nonzero" />\n      <path d="M27.44 21.6h.518c1.377 0 2.67-.754 2.953-2.484.248-1.588-.658-2.482-2.14-2.482h-.38c-.093 0-.172.067-.187.16l-.763 4.805zm-1.254-6.646c.024-.158.16-.273.32-.273h2.993c2.47 0 4.2 1.942 3.81 4.436-.4 2.495-2.752 4.436-5.21 4.436h-3.05c-.116 0-.205-.104-.187-.218l1.323-8.38zM22.308 16.907l-.192 1.21h2.38c.116 0 .204.103.186.217l-.23 1.462c-.023.157-.16.273-.318.273h-2.048c-.16 0-.294.114-.32.27l-.203 1.26h2.52c.117 0 .205.102.187.217l-.228 1.46c-.025.16-.16.275-.32.275h-4.55c-.116 0-.204-.104-.186-.218l1.322-8.38c.025-.158.16-.273.32-.273h4.55c.116 0 .205.104.187.22l-.23 1.46c-.024.158-.16.274-.32.274H22.63c-.16 0-.295.115-.32.273M35.325 23.552h-1.81c-.115 0-.203-.104-.185-.218l1.322-8.38c.025-.158.16-.273.32-.273h1.81c.115 0 .203.104.185.22l-1.322 8.38c-.025.156-.16.272-.32.272M14.397 18.657h.224c.754 0 1.62-.14 1.777-1.106.158-.963-.345-1.102-1.15-1.104h-.326c-.097 0-.18.07-.197.168l-.326 2.043zm3.96 4.895h-2.37c-.102 0-.194-.058-.238-.15l-1.565-3.262h-.023l-.506 3.19c-.02.128-.13.222-.26.222h-1.86c-.116 0-.205-.104-.187-.218l1.33-8.432c.02-.128.13-.22.26-.22h3.222c1.753 0 2.953.834 2.66 2.728-.2 1.224-1.048 2.283-2.342 2.506l2.037 3.35c.076.125-.014.286-.16.286zM40.216 23.552h-1.808c-.116 0-.205-.104-.187-.218l1.06-6.7h-1.684c-.116 0-.205-.104-.187-.218l.228-1.462c.025-.157.16-.273.32-.273h5.62c.116 0 .205.104.186.22l-.228 1.46c-.025.158-.16.274-.32.274h-1.63l-1.05 6.645c-.025.156-.16.272-.32.272M11.467 17.202c-.027.164-.228.223-.345.104-.395-.405-.975-.62-1.6-.62-1.41 0-2.526 1.083-2.75 2.458-.21 1.4.588 2.41 2.022 2.41.592 0 1.22-.225 1.74-.6.144-.105.34.02.313.194l-.328 2.03c-.02.12-.108.22-.226.254-.702.207-1.24.355-1.9.355-3.823 0-4.435-3.266-4.238-4.655.553-3.894 3.712-4.786 5.65-4.678.623.034 1.182.117 1.73.323.177.067.282.25.252.436l-.32 1.99" style="fill: #21306F" />\n      <path d="M23.184 7.67c-.11.717-.657.717-1.186.717h-.302l.212-1.34c.013-.08.082-.14.164-.14h.138c.36 0 .702 0 .877.206.105.123.137.305.097.557zm-.23-1.87h-1.998c-.137 0-.253.098-.274.233l-.808 5.123c-.016.1.062.192.165.192h1.024c.095 0 .177-.07.192-.164l.23-1.452c.02-.135.136-.235.273-.235h.63c1.317 0 2.076-.636 2.275-1.898.09-.553.003-.987-.255-1.29-.284-.334-.788-.51-1.456-.51z" style="fill: #0093C7" />\n      <path d="M8.936 7.67c-.11.717-.656.717-1.186.717h-.302l.212-1.34c.013-.08.082-.14.164-.14h.138c.36 0 .702 0 .877.206.104.123.136.305.096.557zm-.23-1.87H6.708c-.136 0-.253.098-.274.233l-.808 5.123c-.016.1.062.192.165.192h.955c.136 0 .252-.1.274-.234l.217-1.382c.02-.135.137-.235.274-.235h.633c1.316 0 2.075-.636 2.274-1.898.09-.553.003-.987-.255-1.29-.284-.334-.788-.51-1.456-.51zM13.343 9.51c-.092.545-.526.912-1.08.912-.277 0-.5-.09-.642-.258-.14-.168-.193-.406-.148-.672.086-.542.527-.92 1.072-.92.27 0 .492.09.637.26.148.172.205.412.163.677zm1.334-1.863h-.957c-.082 0-.152.06-.164.14l-.042.268-.067-.097c-.208-.3-.67-.4-1.13-.4-1.057 0-1.96.8-2.135 1.923-.092.56.038 1.097.356 1.47.29.344.708.487 1.204.487.852 0 1.325-.548 1.325-.548l-.043.265c-.016.1.062.193.164.193h.862c.136 0 .253-.1.274-.234l.517-3.275c.017-.102-.06-.193-.163-.193z" style="fill: #21306F" />\n      <path d="M27.59 9.51c-.09.545-.525.912-1.078.912-.278 0-.5-.09-.643-.258-.142-.168-.195-.406-.15-.672.086-.542.526-.92 1.07-.92.273 0 .494.09.64.26.146.172.203.412.16.677zm1.334-1.863h-.956c-.082 0-.152.06-.164.14l-.043.268-.065-.097c-.208-.3-.67-.4-1.13-.4-1.057 0-1.96.8-2.136 1.923-.092.56.038 1.097.355 1.47.292.344.71.487 1.205.487.852 0 1.325-.548 1.325-.548l-.043.265c-.016.1.062.193.164.193h.862c.136 0 .253-.1.274-.234l.517-3.275c.015-.102-.063-.193-.166-.193z" style="fill: #0093C7" />\n      <path d="M19.77 7.647h-.96c-.092 0-.178.045-.23.122L17.254 9.72l-.562-1.877c-.035-.118-.143-.198-.266-.198h-.945c-.113 0-.194.112-.157.22l1.06 3.108-.997 1.404c-.078.11 0 .262.136.262h.96c.092 0 .177-.044.23-.12l3.196-4.614c.077-.11-.002-.26-.137-.26" style="fill: #21306F" />\n      <path d="M30.052 5.94l-.82 5.216c-.016.1.062.192.165.192h.824c.138 0 .254-.1.275-.234l.81-5.122c.015-.1-.064-.193-.166-.193h-.924c-.082 0-.15.06-.164.14" style="fill: #0093C7" />\n    </symbol>\n\n    <symbol id="iconCardFront" viewBox="0 0 48 29">\n      <title>Generic Card</title>\n      <path d="M46.177 29H1.823C.9 29 0 28.13 0 27.187V1.813C0 .87.9 0 1.823 0h44.354C47.1 0 48 .87 48 1.813v25.375C48 28.13 47.1 29 46.177 29z" style="fill: #FFF" />\n      <path d="M4.8 9.14c0-.427.57-.973 1.067-.973h7.466c.496 0 1.067.546 1.067.972v3.888c0 .425-.57.972-1.067.972H5.867c-.496 0-1.067-.547-1.067-.972v-3.89z" style="fill: #828282" />\n      <rect style="fill: #828282" x="10.8" y="22.167" width="3.6" height="2.333" rx="1.167" />\n      <rect style="fill: #828282" x="4.8" y="22.167" width="3.6" height="2.333" rx="1.167" />\n      <path d="M6.55 16.333h34.9c.966 0 1.75.784 1.75 1.75 0 .967-.784 1.75-1.75 1.75H6.55c-.966 0-1.75-.783-1.75-1.75 0-.966.784-1.75 1.75-1.75z" style="fill: #828282" />\n      <ellipse style="fill: #828282" cx="40.2" cy="6.417" rx="3" ry="2.917" />\n    </symbol>\n\n    <symbol id="iconCVVBack" viewBox="0 0 40 24">\n      <title>CVV Back</title>\n      <path d="M38.48 24H1.52C.75 24 0 23.28 0 22.5v-21C0 .72.75 0 1.52 0h36.96C39.25 0 40 .72 40 1.5v21c0 .78-.75 1.5-1.52 1.5z" style="fill: #FFF"/>\n      <path style="fill: #828282" d="M0 5h40v4H0z" />\n      <path d="M20 13.772v5.456c0 .423.37.772.82.772h13.36c.45 0 .82-.35.82-.772v-5.456c0-.423-.37-.772-.82-.772H20.82c-.45 0-.82.35-.82.772zm-1-.142c0-.9.76-1.63 1.68-1.63h13.64c.928 0 1.68.737 1.68 1.63v5.74c0 .9-.76 1.63-1.68 1.63H20.68c-.928 0-1.68-.737-1.68-1.63v-5.74z" style="fill: #000" fill-rule="nonzero" />\n      <circle style="fill: #828282" cx="23.5" cy="16.5" r="1.5" />\n      <circle style="fill: #828282" cx="27.5" cy="16.5" r="1.5" />\n      <circle style="fill: #828282" cx="31.5" cy="16.5" r="1.5" />\n    </symbol>\n\n    <symbol id="iconCVVFront" viewBox="0 0 40 24">\n      <title>CVV Front</title>\n      <path d="M38.48 24H1.52C.75 24 0 23.28 0 22.5v-21C0 .72.75 0 1.52 0h36.96C39.25 0 40 .72 40 1.5v21c0 .78-.75 1.5-1.52 1.5z" style="fill: #FFF" />\n      <path d="M16 5.772v5.456c0 .423.366.772.81.772h17.38c.444 0 .81-.348.81-.772V5.772C35 5.35 34.634 5 34.19 5H16.81c-.444 0-.81.348-.81.772zm-1-.142c0-.9.75-1.63 1.66-1.63h17.68c.917 0 1.66.737 1.66 1.63v5.74c0 .9-.75 1.63-1.66 1.63H16.66c-.917 0-1.66-.737-1.66-1.63V5.63z" style="fill: #000" fill-rule="nonzero" />\n      <circle style="fill: #828282" cx="19.5" cy="8.5" r="1.5" />\n      <circle style="fill: #828282" cx="27.5" cy="8.5" r="1.5" />\n      <circle style="fill: #828282" cx="23.5" cy="8.5" r="1.5" />\n      <circle style="fill: #828282" cx="31.5" cy="8.5" r="1.5" />\n      <path d="M4 7.833C4 7.47 4.476 7 4.89 7h6.22c.414 0 .89.47.89.833v3.334c0 .364-.476.833-.89.833H4.89c-.414 0-.89-.47-.89-.833V7.833zM4 18.5c0-.828.668-1.5 1.5-1.5h29c.828 0 1.5.666 1.5 1.5 0 .828-.668 1.5-1.5 1.5h-29c-.828 0-1.5-.666-1.5-1.5z" style="fill: #828282" />\n    </symbol>\n\n    <symbol id="iconCheck" viewBox="0 0 42 32">\n      <title>Check</title>\n      <path class="path1" d="M14.379 29.76L39.741 3.415 36.194.001l-21.815 22.79-10.86-11.17L0 15.064z" />\n    </symbol>\n\n    <symbol id="iconX" viewBox="0 0 32 32">\n      <title>X</title>\n      <path d="M29 3.54L25.46 0 14.5 10.97 3.54 0.01 0 3.54 10.96 14.5 0.01 25.46 3.54 28.99 14.5 18.04 25.46 29 28.99 25.46 18.03 14.5 29 3.54z"/>\n    </symbol>\n\n    <symbol id="iconLockLoader" viewBox="0 0 28 32">\n      <title>Lock Loader</title>\n      <path d="M6 10V8c0-4.422 3.582-8 8-8 4.41 0 8 3.582 8 8v2h-4V7.995C18 5.79 16.205 4 14 4c-2.21 0-4 1.792-4 3.995V10H6zM.997 14c-.55 0-.997.445-.997.993v16.014c0 .548.44.993.997.993h26.006c.55 0 .997-.445.997-.993V14.993c0-.548-.44-.993-.997-.993H.997z" />\n    </symbol>\n\n    <symbol id="iconError" height="24" viewBox="0 0 24 24" width="24">\n      <path d="M0 0h24v24H0z" style="fill: none" />\n      <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z" />\n    </symbol>\n\n    <symbol id="logoApplePay" viewBox="0 0 165.52 105.97" width="24">\n      <title>Apple Pay Logo</title>\n      <defs>\n      <style>\n        .cls-1{fill:#231f20;}.cls-2{fill:#fff;}\n      </style>\n      </defs>\n      <path id="_Path_" data-name="&lt;Path&gt;" class="cls-1" d="M150.7 0h-139a20.78 20.78 0 0 0-3.12.3 10.51 10.51 0 0 0-3 1 9.94 9.94 0 0 0-4.31 4.32 10.46 10.46 0 0 0-1 3A20.65 20.65 0 0 0 0 11.7v82.57a20.64 20.64 0 0 0 .3 3.11 10.46 10.46 0 0 0 1 3 9.94 9.94 0 0 0 4.35 4.35 10.47 10.47 0 0 0 3 1 20.94 20.94 0 0 0 3.11.27h142.06a21 21 0 0 0 3.11-.27 10.48 10.48 0 0 0 3-1 9.94 9.94 0 0 0 4.35-4.35 10.4 10.4 0 0 0 1-3 20.63 20.63 0 0 0 .27-3.11V11.69a20.64 20.64 0 0 0-.27-3.11 10.4 10.4 0 0 0-1-3 9.94 9.94 0 0 0-4.35-4.35 10.52 10.52 0 0 0-3-1 20.84 20.84 0 0 0-3.1-.23h-1.43z"/>\n      <path id="_Path_2" data-name="&lt;Path&gt;" class="cls-2" d="M150.7 3.53h3.03a17.66 17.66 0 0 1 2.58.22 7 7 0 0 1 2 .65 6.41 6.41 0 0 1 2.8 2.81 6.88 6.88 0 0 1 .64 2 17.56 17.56 0 0 1 .22 2.58v82.38a17.54 17.54 0 0 1-.22 2.59 6.85 6.85 0 0 1-.64 2 6.41 6.41 0 0 1-2.81 2.81 6.92 6.92 0 0 1-2 .65 18 18 0 0 1-2.57.22H11.79a18 18 0 0 1-2.58-.22 6.94 6.94 0 0 1-2-.65 6.41 6.41 0 0 1-2.8-2.8 6.93 6.93 0 0 1-.65-2 17.47 17.47 0 0 1-.22-2.58v-82.4a17.49 17.49 0 0 1 .22-2.59 6.92 6.92 0 0 1 .65-2 6.41 6.41 0 0 1 2.8-2.8 7 7 0 0 1 2-.65 17.63 17.63 0 0 1 2.58-.22H150.7"/>\n      <g id="_Group_" data-name="&lt;Group&gt;">\n      <g id="_Group_2" data-name="&lt;Group&gt;">\n      <path id="_Path_3" data-name="&lt;Path&gt;" class="cls-1" d="M43.51 35.77a9.15 9.15 0 0 0 2.1-6.52 9.07 9.07 0 0 0-6 3.11 8.56 8.56 0 0 0-2.16 6.27 7.57 7.57 0 0 0 6.06-2.86"/>\n      <path id="_Path_4" data-name="&lt;Path&gt;" class="cls-1" d="M45.59 39.08c-3.35-.2-6.2 1.9-7.79 1.9s-4-1.8-6.7-1.75a9.87 9.87 0 0 0-8.4 5.1c-3.6 6.2-.95 15.4 2.55 20.45 1.7 2.5 3.75 5.25 6.45 5.15s3.55-1.65 6.65-1.65 4 1.65 6.7 1.6 4.55-2.5 6.25-5a22.2 22.2 0 0 0 2.8-5.75 9.08 9.08 0 0 1-5.45-8.25A9.26 9.26 0 0 1 53 43.13a9.57 9.57 0 0 0-7.45-4"/>\n      </g>\n      <g id="_Group_3" data-name="&lt;Group&gt;">\n      <path id="_Compound_Path_" data-name="&lt;Compound Path&gt;" class="cls-1" d="M79 32.11c7.28 0 12.35 5 12.35 12.32S86.15 56.8 78.79 56.8h-8.06v12.82h-5.82V32.11zm-8.27 19.81h6.68c5.07 0 8-2.73 8-7.46S82.48 37 77.44 37h-6.71z"/>\n      <path id="_Compound_Path_2" data-name="&lt;Compound Path&gt;" class="cls-1" d="M92.76 61.85c0-4.81 3.67-7.56 10.42-8l7.25-.44v-2.06c0-3-2-4.7-5.56-4.7-2.94 0-5.07 1.51-5.51 3.82h-5.24c.16-4.86 4.73-8.4 10.92-8.4 6.65 0 11 3.48 11 8.89v18.66h-5.38v-4.5h-.13a9.59 9.59 0 0 1-8.58 4.78c-5.42 0-9.19-3.22-9.19-8.05zm17.68-2.42v-2.11l-6.47.42c-3.64.23-5.54 1.59-5.54 4s2 3.77 5.07 3.77c3.95-.05 6.94-2.57 6.94-6.08z"/>\n      <path id="_Compound_Path_3" data-name="&lt;Compound Path&gt;" class="cls-1" d="M121 79.65v-4.5a17.14 17.14 0 0 0 1.72.1c2.57 0 4-1.09 4.91-3.9l.52-1.66-9.88-27.29h6.08l6.86 22.15h.13l6.86-22.15h5.93l-10.21 28.67c-2.34 6.58-5 8.73-10.68 8.73a15.93 15.93 0 0 1-2.24-.15z"/>\n      </g>\n      </g>\n    </symbol>\n    <symbol id="logoGooglePay" viewBox="0 0 60.51 24.04">\n      <title>GooglePay_AcceptanceMark_RGB_60x24pt</title>\n      <path d="M28.67,11.76v7H26.43V1.42h5.92a5.39,5.39,0,0,1,3.84,1.51A5,5,0,0,1,36.44,10l-.25.26a5.35,5.35,0,0,1-3.84,1.48Zm0-8.2V9.62H32.4a2.93,2.93,0,0,0,2.21-.9A3,3,0,0,0,32.4,3.56Z" fill="#5f6368"/>\n      <path d="M42.93,6.52a5.56,5.56,0,0,1,3.91,1.32,4.71,4.71,0,0,1,1.43,3.63v7.32H46.13V17.14H46a4.28,4.28,0,0,1-3.69,2A4.83,4.83,0,0,1,39.06,18a3.74,3.74,0,0,1-1.32-2.92,3.52,3.52,0,0,1,1.39-2.93,5.87,5.87,0,0,1,3.73-1.09,6.65,6.65,0,0,1,3.27.72v-.51a2.5,2.5,0,0,0-.92-2,3.17,3.17,0,0,0-2.16-.81,3.4,3.4,0,0,0-2.95,1.57l-2-1.23A5.45,5.45,0,0,1,42.93,6.52ZM40,15.15a1.82,1.82,0,0,0,.74,1.46,2.74,2.74,0,0,0,1.74.58,3.58,3.58,0,0,0,2.51-1,3.26,3.26,0,0,0,1.11-2.45,4.54,4.54,0,0,0-2.91-.83,3.74,3.74,0,0,0-2.27.66A2,2,0,0,0,40,15.15Z" fill="#5f6368"/>\n      <path d="M60.52,6.9,53.07,24H50.76l2.77-6L48.63,6.91h2.43l3.54,8.54h0l3.44-8.54Z" fill="#5f6368"/>\n      <path d="M19.65,10.24a12.54,12.54,0,0,0-.17-2H10.06v3.84h5.39a4.61,4.61,0,0,1-2,3v2.49h3.22A9.75,9.75,0,0,0,19.65,10.24Z" fill="#4285f4"/>\n      <path d="M10.06,20a9.54,9.54,0,0,0,6.62-2.41l-3.22-2.49a6,6,0,0,1-3.4.95,6,6,0,0,1-5.6-4.12H1.15V14.5A10,10,0,0,0,10.06,20Z" fill="#34a853"/>\n      <path d="M4.46,11.92a6,6,0,0,1,0-3.82V5.53H1.15a10,10,0,0,0,0,9Z" fill="#fbbc04"/>\n      <path d="M10.06,4a5.44,5.44,0,0,1,3.83,1.5h0l2.85-2.85A9.58,9.58,0,0,0,10.06,0a10,10,0,0,0-8.91,5.5L4.46,8.1A6,6,0,0,1,10.06,4Z" fill="#ea4335"/>\n    </symbol>\n\n    <symbol id="logoVenmo" viewBox="0 0 48 32">\n      <title>Venmo</title>\n      <g fill="none" fill-rule="evenodd">\n        <rect fill="#3D95CE" width="47.4074074" height="31.6049383" rx="3.16049383"/>\n        <path d="M33.1851852,10.1131555 C33.1851852,14.8373944 29.2425262,20.9745161 26.0425868,25.2839506 L18.7337285,25.2839506 L15.8024691,7.35534396 L22.202175,6.73384536 L23.7519727,19.4912014 C25.2000422,17.0781163 26.9870326,13.2859484 26.9870326,10.7005 C26.9870326,9.28531656 26.7500128,8.32139205 26.3796046,7.52770719 L32.207522,6.32098765 C32.8813847,7.45939896 33.1851852,8.63196439 33.1851852,10.1131555 Z" fill="#FFF"/>\n      </g>\n    </symbol>\n    <symbol id="buttonVenmo" viewBox="0 0 295 42">\n      <g fill="none" fill-rule="evenodd">\n        <rect fill="#3D95CE" width="295" height="42" rx="3"/>\n        <path d="M11.3250791 0C11.7902741.780434316 12 1.58428287 12 2.59970884 12 5.838396 9.27822123 10.0456806 7.06917212 13L2.02356829 13 0 .709099732 4.41797878.283033306 5.48786751 9.02879887C6.48752911 7.3745159 7.72116169 4.77480706 7.72116169 3.00236102 7.72116169 2.03218642 7.55753727 1.37137098 7.30182933.827262801L11.3250791 0 11.3250791 0zM17.5051689 5.68512193C18.333931 5.68512193 20.4203856 5.28483546 20.4203856 4.03281548 20.4203856 3.43161451 20.0177536 3.13172102 19.5432882 3.13172102 18.7131868 3.13172102 17.6238766 4.18269796 17.5051689 5.68512193L17.5051689 5.68512193zM17.4102028 8.1647385C17.4102028 9.69351403 18.2153451 10.293301 19.2827401 10.293301 20.4451012 10.293301 21.5580312 9.99340752 23.0045601 9.21725797L22.4597224 13.1234575C21.440541 13.649203 19.8521716 14 18.310433 14 14.3996547 14 13 11.49596 13 8.36552446 13 4.30815704 15.2767521 0 19.9706358 0 22.554932 0 24 1.52864698 24 3.65720949 24.0002435 7.08869546 19.8287953 8.13992948 17.4102028 8.1647385L17.4102028 8.1647385zM37 2.84753211C37 3.32189757 36.9261179 4.00994664 36.8526108 4.45959542L35.4649774 12.9998782 30.9621694 12.9998782 32.2279161 5.1711436C32.2519185 4.95879931 32.3256755 4.53131032 32.3256755 4.29412759 32.3256755 3.72466988 31.9603904 3.5825794 31.5212232 3.5825794 30.9379171 3.5825794 30.3532359 3.84326124 29.9638234 4.03356751L28.5281854 13 24 13 26.0686989.213683657 29.9878258.213683657 30.0374555 1.23425123C30.9620444.641294408 32.1795365 3.90379019e-8 33.9069526 3.90379019e-8 36.1955476-.000243475057 37 1.1387937 37 2.84753211L37 2.84753211zM51.2981937 1.39967969C52.6582977.49918987 53.9425913 0 55.7133897 0 58.1518468 0 59 1.13900518 59 2.84769558 59 3.32204771 58.9223438 4.01007745 58.8448195 4.4597136L57.3830637 12.9997565 52.6328518 12.9997565 53.9932194 5.00577861C54.0182698 4.792101 54.0708756 4.53142648 54.0708756 4.36608506 54.0708756 3.72493046 53.6854953 3.58272222 53.2224587 3.58272222 52.6325881 3.58272222 52.0429812 3.81989829 51.6052587 4.03369766L50.0914245 12.9998782 45.3423992 12.9998782 46.7027668 5.00590037C46.7278172 4.79222275 46.7788409 4.53154824 46.7788409 4.36620681 46.7788409 3.72505221 46.3933287 3.58284398 45.9318743 3.58284398 45.3153711 3.58284398 44.7000546 3.84351849 44.2893602 4.03381941L42.7740757 13 38 13 40.1814929.214042876 44.2643098.214042876 44.3925941 1.28145692C45.3423992.641763367 46.6253743.000487014507 48.3452809.000487014507 49.8344603 0 50.8094476.593061916 51.2981937 1.39967969L51.2981937 1.39967969zM67.5285327 5.39061542C67.5285327 4.29258876 67.2694573 3.54396333 66.4936812 3.54396333 64.7759775 3.54396333 64.4232531 6.76273249 64.4232531 8.4093242 64.4232531 9.65848482 64.7530184 10.4315735 65.5285529 10.4315735 67.1521242 10.4315735 67.5285327 7.03707905 67.5285327 5.39061542L67.5285327 5.39061542zM60 8.21054461C60 3.96893154 62.1170713 0 66.988027 0 70.6583423 0 72 2.29633967 72 5.46592624 72 9.65835674 69.905767 14 64.9173573 14 61.2233579 14 60 11.4294418 60 8.21054461L60 8.21054461z" transform="translate(112 14)" fill="#FFF"/>\n      </g>\n    </symbol>\n\n    <symbol id="iconClose" width="21" height="21" viewBox="0 0 21 21" overflow="visible">\n      <path d="M16 5.414L14.586 4 10 8.586 5.414 4 4 5.414 8.586 10 4 14.586 5.414 16 10 11.414 14.586 16 16 14.586 11.414 10"/>\n    </symbol>\n  </defs>\n</svg>\n' + i, o.appendChild(a._dropinWrapper), a._model = new l({
                        client: a._client,
                        componentID: a._componentID,
                        merchantConfiguration: a._merchantConfiguration
                    }), void a._model.initialize().then(function() {
                        return a._model.on("cancelInitialization", function(t) {
                            a._dropinWrapper.innerHTML = "", r.sendEvent(a._client, "load-error"), e(t)
                        }), a._model.on("asyncDependenciesReady", function() {
                            1 <= a._model.dependencySuccessCount ? (r.sendEvent(a._client, "appeared"), a._disableErroredPaymentMethods(), a._handleAppSwitch(), e(null, a)) : a._model.cancelInitialization(new s("All payment options failed to load."))
                        }), a._model.on("paymentMethodRequestable", function(e) {
                            a._emit("paymentMethodRequestable", e)
                        }), a._model.on("noPaymentMethodRequestable", function() {
                            a._emit("noPaymentMethodRequestable")
                        }), a._model.on("paymentOptionSelected", function(e) {
                            a._emit("paymentOptionSelected", e)
                        }), a._setUpDependenciesAndViews()
                    }).catch(function(t) {
                        a.teardown().then(function() {
                            e(t)
                        })
                    })) : (r.sendEvent(a._client, "configuration-error"), void e(new s("options.selector or options.container must reference a valid DOM node.")))) : (r.sendEvent(a._client, "configuration-error"), void e(new s("options.container is required.")))
                }, C.prototype.updateConfiguration = function(e, t, i) {
                    var n; - 1 !== E.indexOf(e) && ("threeDSecure" !== e ? (n = this._mainView.getView(e)) && (n.updateConfiguration(t, i), -1 !== w.indexOf(e) && (this._removeUnvaultedPaymentMethods(function(t) {
                        return t.type === o.paymentMethodTypes[e]
                    }), this._navigateToInitialView())) : this._threeDSecure && this._threeDSecure.updateConfiguration(t, i))
                }, C.prototype.clearSelectedPaymentMethod = function() {
                    this._removeUnvaultedPaymentMethods(), this._model.removeActivePaymentMethod(), 0 !== this._model.getPaymentMethods().length ? (this._mainView.showLoadingIndicator(), this._model.refreshPaymentMethods().then((function() {
                        this._navigateToInitialView(), this._mainView.hideLoadingIndicator()
                    }).bind(this))) : this._navigateToInitialView()
                }, C.prototype._setUpDataCollector = function() {
                    var e = this,
                        t = n({}, e._merchantConfiguration.dataCollector, {
                            client: e._client
                        });
                    this._model.asyncDependencyStarting(), this._dataCollector = new _(t), this._dataCollector.initialize().then(function() {
                        e._model.asyncDependencyReady()
                    }).catch(function(t) {
                        e._model.cancelInitialization(new s({
                            message: "Data Collector failed to set up.",
                            braintreeWebError: t
                        }))
                    })
                }, C.prototype._setUpThreeDSecure = function() {
                    var e = this,
                        t = n({}, this._merchantConfiguration.threeDSecure);
                    this._model.asyncDependencyStarting(), this._threeDSecure = new T(this._client, t, this._strings.cardVerification), this._threeDSecure.initialize().then(function() {
                        e._model.asyncDependencyReady()
                    }).catch(function(t) {
                        e._model.cancelInitialization(new s({
                            message: "3D Secure failed to set up.",
                            braintreeWebError: t
                        }))
                    })
                }, C.prototype._setUpDependenciesAndViews = function() {
                    this._merchantConfiguration.dataCollector && this._setUpDataCollector(), this._merchantConfiguration.threeDSecure && this._setUpThreeDSecure(), this._mainView = new d({
                        client: this._client,
                        element: this._dropinWrapper,
                        model: this._model,
                        strings: this._strings
                    })
                }, C.prototype._removeUnvaultedPaymentMethods = function(e) {
                    e = e || function() {
                        return !0
                    }, this._model.getPaymentMethods().forEach((function(t) {
                        e(t) && !t.vaulted && this._model.removePaymentMethod(t)
                    }).bind(this))
                }, C.prototype._navigateToInitialView = function() {
                    this._mainView.primaryView.ID === h && 0 === this._model.getPaymentMethods().length && this._mainView.setPrimaryView(1 === this._model.supportedPaymentOptions.length ? this._model.supportedPaymentOptions[0] : p)
                }, C.prototype._supportsPaymentOption = function(e) {
                    return -1 !== this._model.supportedPaymentOptions.indexOf(e)
                }, C.prototype._disableErroredPaymentMethods = function() {
                    var e, t = Object.keys(this._model.failedDependencies);
                    0 !== t.length && (e = this._mainView.getOptionsElements(), t.forEach((function(t) {
                        var i = e[t],
                            n = i.div,
                            r = i.clickHandler,
                            s = this._model.failedDependencies[t],
                            l = n.querySelector(".braintree-option__disabled-message");
                        a.add(n, "braintree-disabled"), n.removeEventListener("click", r), l.innerHTML = o.errors.DEVELOPER_MISCONFIGURATION_MESSAGE, console.error(s)
                    }).bind(this)))
                }, C.prototype._handleAppSwitch = function() {
                    this._model.appSwitchError ? (this._mainView.setPrimaryView(this._model.appSwitchError.id), this._model.reportError(this._model.appSwitchError.error)) : this._model.appSwitchPayload && this._model.addPaymentMethod(this._model.appSwitchPayload)
                }, C.prototype.requestPaymentMethod = function() {
                    return this._mainView.requestPaymentMethod().then((function(e) {
                        return this._threeDSecure && e.type === o.paymentMethodTypes.card && null == e.liabilityShifted ? this._threeDSecure.verify(e.nonce).then(function(t) {
                            return e.nonce = t.nonce, e.liabilityShifted = t.liabilityShifted, e.liabilityShiftPossible = t.liabilityShiftPossible, e
                        }) : e
                    }).bind(this)).then((function(e) {
                        return this._dataCollector && (e.deviceData = this._dataCollector.getDeviceData()), e
                    }).bind(this)).then(function(e) {
                        return function(e) {
                            var t = {
                                nonce: e.nonce,
                                details: e.details,
                                type: e.type
                            };
                            return null != e.vaulted && (t.vaulted = e.vaulted), e.type === o.paymentMethodTypes.card && (t.description = e.description), e.type === o.paymentMethodTypes.googlePay && (t.details.rawPaymentData = e.rawPaymentData), "boolean" == typeof e.liabilityShiftPossible && (t.liabilityShifted = e.liabilityShifted, t.liabilityShiftPossible = e.liabilityShiftPossible), e.deviceData && (t.deviceData = e.deviceData), e.binData && (t.binData = e.binData), t
                        }(e)
                    })
                }, C.prototype._removeStylesheet = function() {
                    var e = document.getElementById(o.STYLESHEET_ID);
                    e && e.parentNode.removeChild(e)
                }, C.prototype._injectStylesheet = function() {
                    var e;
                    document.getElementById(o.STYLESHEET_ID) || (e = this._client.getConfiguration().gatewayConfiguration.assetsUrl + "/web/dropin/1.14.1/css/dropin.min.css", u.loadStylesheet({
                        href: e,
                        id: o.STYLESHEET_ID
                    }))
                }, C.prototype.teardown = function() {
                    var e, t = v.resolve(),
                        i = this;
                    return this._removeStylesheet(), this._mainView && t.then(function() {
                        return i._mainView.teardown().catch(function(t) {
                            e = t
                        })
                    }), this._dataCollector && t.then((function() {
                        return this._dataCollector.teardown().catch(function(t) {
                            e = new s({
                                message: "Drop-in errored tearing down Data Collector.",
                                braintreeWebError: t
                            })
                        })
                    }).bind(this)), this._threeDSecure && t.then((function() {
                        return this._threeDSecure.teardown().catch(function(t) {
                            e = new s({
                                message: "Drop-in errored tearing down 3D Secure.",
                                braintreeWebError: t
                            })
                        })
                    }).bind(this)), t.then(function() {
                        return i._removeDropinWrapper()
                    }).then(function() {
                        return e ? v.reject(e) : v.resolve()
                    })
                }, C.prototype.isPaymentMethodRequestable = function() {
                    return this._model.isPaymentMethodRequestable()
                }, C.prototype._removeDropinWrapper = function() {
                    return this._dropinWrapper.parentNode.removeChild(this._dropinWrapper), v.resolve()
                }, t.exports = S(C)
            }, {
                "./constants": 122,
                "./dropin-model": 123,
                "./lib/analytics": 127,
                "./lib/assign": 128,
                "./lib/data-collector": 131,
                "./lib/dropin-error": 132,
                "./lib/event-emitter": 133,
                "./lib/is-utf-8": 137,
                "./lib/promise": 140,
                "./lib/sanitize-html": 141,
                "./lib/three-d-secure": 143,
                "./lib/uuid": 145,
                "./translations": 155,
                "./views/main-view": 172,
                "./views/payment-methods-view": 174,
                "./views/payment-options-view": 175,
                "@braintree/asset-loader": 1,
                "@braintree/class-list": 18,
                "@braintree/wrap-promise": 26
            }],
            125: [function(e, t, i) {
                "use strict";
                var n = e("./dropin"),
                    r = e("braintree-web/client"),
                    a = e("./lib/create-from-script-tag"),
                    o = e("./constants"),
                    s = e("./lib/analytics"),
                    l = e("./lib/dropin-error"),
                    c = e("./lib/promise"),
                    u = e("@braintree/wrap-promise"),
                    d = "1.14.1";

                function h(e) {
                    return e.authorization ? r.create({
                        authorization: e.authorization
                    }).catch(function(e) {
                        return c.reject(new l({
                            message: "There was an error creating Drop-in.",
                            braintreeWebError: e
                        }))
                    }).then(function(t) {
                        var i, r;
                        return (r = (i = t).getConfiguration()).analyticsMetadata.integration = o.INTEGRATION, r.analyticsMetadata.integrationType = o.INTEGRATION, r.analyticsMetadata.dropinVersion = d, i.getConfiguration = function() {
                            return r
                        }, "TOKENIZATION_KEY" === (t = i).getConfiguration().authorizationType ? s.sendEvent(t, "started.tokenization-key") : s.sendEvent(t, "started.client-token"), new c(function(i, r) {
                            new n({
                                merchantConfiguration: e,
                                client: t
                            })._initialize(function(e, t) {
                                e ? r(e) : i(t)
                            })
                        })
                    }) : c.reject(new l("options.authorization is required."))
                }
                a(h, "undefined" != typeof document && document.querySelector("script[data-braintree-dropin-authorization]")), t.exports = {
                    create: u(h),
                    VERSION: d
                }
            }, {
                "./constants": 122,
                "./dropin": 124,
                "./lib/analytics": 127,
                "./lib/create-from-script-tag": 130,
                "./lib/dropin-error": 132,
                "./lib/promise": 140,
                "@braintree/wrap-promise": 26,
                "braintree-web/client": 35
            }],
            126: [function(e, t, i) {
                "use strict";
                t.exports = function(e, t) {
                    e.addEventListener("click", t), e.addEventListener("keyup", function(e) {
                        13 === e.keyCode && t()
                    })
                }
            }, {}],
            127: [function(e, t, i) {
                "use strict";
                var n = e("./polyfill").atob,
                    r = e("../constants"),
                    a = e("braintree-web/client").VERSION;
                t.exports = {
                    sendEvent: function(e, t, i) {
                        var o, s = e.getConfiguration(),
                            l = e._request,
                            c = (o = Date.now(), Math.floor(o / 1e3)),
                            u = s.gatewayConfiguration.analytics.url,
                            d = {
                                analytics: [{
                                    kind: r.ANALYTICS_PREFIX + t,
                                    timestamp: c
                                }],
                                _meta: s.analyticsMetadata,
                                braintreeLibraryVersion: a
                            };
                        "TOKENIZATION_KEY" === s.authorizationType ? d.tokenizationKey = s.authorization : d.authorizationFingerprint = JSON.parse(n(s.authorization)).authorizationFingerprint, l({
                            url: u,
                            method: "post",
                            data: d,
                            timeout: r.ANALYTICS_REQUEST_TIMEOUT_MS
                        }, i)
                    }
                }
            }, {
                "../constants": 122,
                "./polyfill": 139,
                "braintree-web/client": 35
            }],
            128: [function(e, t, i) {
                arguments[4][69][0].apply(i, arguments)
            }, {
                dup: 69
            }],
            129: [function(e, t, i) {
                "use strict";
                var n = e("@braintree/browser-detection/is-ie9"),
                    r = e("@braintree/browser-detection/is-ie10");
                t.exports = {
                    isIe9: n,
                    isIe10: r
                }
            }, {
                "@braintree/browser-detection/is-ie10": 9,
                "@braintree/browser-detection/is-ie9": 11
            }],
            130: [function(e, t, i) {
                "use strict";
                var n = e("./analytics"),
                    r = e("./find-parent-form"),
                    a = e("./uuid"),
                    o = e("./dropin-error"),
                    s = e("./kebab-case-to-camel-case"),
                    l = ["locale", "payment-option-priority", "data-collector.kount", "data-collector.paypal", "card.cardholderName", "card.cardholderName.required", "card.cardholder-name", "card.cardholder-name.required", "paypal.amount", "paypal.currency", "paypal.flow", "paypal.landing-page-type", "paypal-credit.amount", "paypal-credit.currency", "paypal-credit.flow", "paypal-credit.landing-page-type"];

                function c(e, t, i) {
                    var n = i.querySelector('[name="' + e + '"]');
                    n || ((n = document.createElement("input")).type = "hidden", n.name = e, i.appendChild(n)), n.value = t
                }

                function u(e, t, i) {
                    var n = t.split("."),
                        r = s(n[0]);
                    1 === n.length ? e[r] = function(t) {
                        try {
                            return JSON.parse(t)
                        } catch (e) {
                            return t
                        }
                    }(i) : (e[r] = e[r] || {}, u(e[r], n.slice(1).join("."), i))
                }
                t.exports = function(e, t) {
                    var i, s, d, h;
                    if (t) {
                        if (!(i = t.getAttribute("data-braintree-dropin-authorization"))) throw new o("Authorization not found in data-braintree-dropin-authorization attribute");
                        if ((s = document.createElement("div")).id = "braintree-dropin-" + a(), !(h = r.findParentForm(t))) throw new o("No form found for script tag integration.");
                        h.addEventListener("submit", function(e) {
                            e.preventDefault()
                        }), t.parentNode.insertBefore(s, t), d = {
                            authorization: i,
                            container: s
                        }, l.forEach(function(e) {
                            var i = t.getAttribute("data-" + e);
                            null != i && u(d, e, i)
                        }), e(d).then(function(e) {
                            n.sendEvent(e._client, "integration-type.script-tag"), h.addEventListener("submit", function() {
                                e.requestPaymentMethod(function(e, t) {
                                    e || (c("payment_method_nonce", t.nonce, h), t.deviceData && c("device_data", t.deviceData, h), h.submit())
                                })
                            })
                        })
                    }
                }
            }, {
                "./analytics": 127,
                "./dropin-error": 132,
                "./find-parent-form": 134,
                "./kebab-case-to-camel-case": 138,
                "./uuid": 145
            }],
            131: [function(e, t, i) {
                (function(i) {
                    "use strict";
                    var n = e("../constants"),
                        r = e("@braintree/asset-loader"),
                        a = e("./promise");

                    function o(e) {
                        this._config = e
                    }
                    o.prototype.initialize = function() {
                        var e = this;
                        return a.resolve().then(function() {
                            var t;
                            return i.braintree && i.braintree.dataCollector ? a.resolve() : (t = e._config.client.getVersion(), r.loadScript({
                                src: "https://js.braintreegateway.com/web/" + t + "/js/data-collector.min.js",
                                id: n.DATA_COLLECTOR_SCRIPT_ID
                            }))
                        }).then(function() {
                            return i.braintree.dataCollector.create(e._config)
                        }).then(function(t) {
                            e._instance = t
                        })
                    }, o.prototype.getDeviceData = function() {
                        return this._instance.deviceData
                    }, o.prototype.teardown = function() {
                        return this._instance.teardown()
                    }, t.exports = o
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {
                "../constants": 122,
                "./promise": 140,
                "@braintree/asset-loader": 1
            }],
            132: [function(e, t, i) {
                "use strict";

                function n(e) {
                    this.name = "DropinError", this.message = "string" == typeof e ? e : e.message, this._braintreeWebError = "BraintreeError" === e.name ? e : e.braintreeWebError
                }(n.prototype = Object.create(Error.prototype)).constructor = n, t.exports = n
            }, {}],
            133: [function(e, t, i) {
                arguments[4][84][0].apply(i, arguments)
            }, {
                dup: 84
            }],
            134: [function(e, t, i) {
                "use strict";
                t.exports = {
                    findParentForm: function e(t) {
                        var i = t.parentNode;
                        return i && "FORM" !== i.nodeName ? e(i) : i
                    }
                }
            }, {}],
            135: [function(e, t, i) {
                "use strict";
                var n = e("./polyfill").atob;
                t.exports = function(e) {
                    var t, i = e.getConfiguration();
                    return "TOKENIZATION_KEY" === i.authorizationType || !(t = JSON.parse(n(i.authorization)).authorizationFingerprint) || -1 === t.indexOf("customer_id=")
                }
            }, {
                "./polyfill": 139
            }],
            136: [function(e, t, i) {
                (function(e) {
                    "use strict";
                    t.exports = {
                        isHTTPS: function() {
                            return "https:" === e.location.protocol
                        }
                    }
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {}],
            137: [function(e, t, i) {
                (function(e) {
                    "use strict";
                    t.exports = function(t) {
                        return t = t || e, Boolean(t.document.characterSet && "utf-8" === t.document.characterSet.toLowerCase())
                    }
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {}],
            138: [function(e, t, i) {
                "use strict";
                t.exports = function(e) {
                    var t = e.split("-"),
                        i = t.shift(),
                        n = t.map(function(e) {
                            return e.charAt(0).toUpperCase() + e.substring(1)
                        });
                    return [i].concat(n).join("")
                }
            }, {}],
            139: [function(e, t, i) {
                (function(e) {
                    "use strict";
                    var i = "function" == typeof e.atob ? e.atob : n;

                    function n(e) {
                        var t, i, n, r, a, o, s = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
                            l = "";
                        if (!new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$").test(e)) throw new Error("Non base64 encoded input passed to window.atob polyfill");
                        for (o = 0; t = (63 & s.indexOf(e.charAt(o++))) << 2 | (r = s.indexOf(e.charAt(o++))) >> 4 & 3, i = (15 & r) << 4 | (a = s.indexOf(e.charAt(o++))) >> 2 & 15, n = (3 & a) << 6 | 63 & s.indexOf(e.charAt(o++)), l += String.fromCharCode(t) + (i ? String.fromCharCode(i) : "") + (n ? String.fromCharCode(n) : ""), o < e.length;);
                        return l
                    }
                    t.exports = {
                        atob: function(t) {
                            return i.call(e, t)
                        },
                        _atob: n
                    }
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {}],
            140: [function(e, t, i) {
                arguments[4][92][0].apply(i, arguments)
            }, {
                dup: 92,
                "promise-polyfill": 118
            }],
            141: [function(e, t, i) {
                "use strict";
                t.exports = function(e) {
                    return "string" != typeof e ? "" : e.replace(/</g, "&lt;").replace(/>/g, "&gt;")
                }
            }, {}],
            142: [function(e, t, i) {
                "use strict";
                t.exports = function() {
                    var e = document.createElement("div");
                    return ["-webkit-", "-moz-", "-ms-", "-o-", ""].forEach(function(t) {
                        e.style.cssText += t + "flex-basis: 1px"
                    }), Boolean(e.style.length)
                }
            }, {}],
            143: [function(e, t, i) {
                "use strict";
                var n = e("@braintree/class-list"),
                    r = e("braintree-web/three-d-secure"),
                    a = e("./promise");

                function o(e, t, i) {
                    this._client = e, this._config = t, this._modal = this._setupModal(i)
                }
                o.prototype.initialize = function() {
                    var e = this;
                    return r.create({
                        client: this._client
                    }).then(function(t) {
                        e._instance = t
                    })
                }, o.prototype.verify = function(e) {
                    var t = this;
                    return this._revealModal(), a.all([this._waitForThreeDSecure(), this._instance.verifyCard({
                        nonce: e,
                        amount: this._config.amount,
                        showLoader: !1,
                        addFrame: function(e, i) {
                            var r = t._modal.querySelector(".braintree-three-d-secure__modal-body");
                            i.onload = function() {
                                n.add(r, "braintree-three-d-secure__frame-active")
                            }, r.appendChild(i)
                        },
                        removeFrame: function() {
                            t._cleanupModal()
                        }
                    }).then(function(e) {
                        return t._resolveThreeDSecure(), e
                    })]).then(function(e) {
                        return t._cleanupModal(), e[1]
                    }).catch(function(e) {
                        return t._cleanupModal(), "THREE_D_SECURE_CANCELLED" === e.type ? a.resolve(e.payload) : a.reject(e)
                    })
                }, o.prototype.cancel = function() {
                    var e = this;
                    return this._instance.cancelVerifyCard().then(function(t) {
                        e._rejectThreeDSecure({
                            type: "THREE_D_SECURE_CANCELLED",
                            payload: {
                                nonce: t.nonce,
                                liabilityShifted: t.liabilityShifted,
                                liabilityShiftPossible: t.liabilityShiftPossible
                            }
                        })
                    }).catch(function() {}).then(function() {
                        e._cleanupModal()
                    })
                }, o.prototype.updateConfiguration = function(e, t) {
                    this._config[e] = t
                }, o.prototype.teardown = function() {
                    return this._instance.teardown()
                }, o.prototype._cleanupModal = function() {
                    var e = this._modal.querySelector("iframe");
                    n.remove(this._modal.querySelector(".braintree-three-d-secure__modal"), "braintree-three-d-secure__frame_visible"), n.remove(this._modal.querySelector(".braintree-three-d-secure__backdrop"), "braintree-three-d-secure__frame_visible"), e && e.parentNode && e.parentNode.removeChild(e), setTimeout((function() {
                        this._modal.parentNode && this._modal.parentNode.removeChild(this._modal)
                    }).bind(this), 300)
                }, o.prototype._setupModal = function(e) {
                    var t = this,
                        i = document.createElement("div");
                    return i.innerHTML = '<div class="braintree-three-d-secure">\n  <div class="braintree-three-d-secure__backdrop"></div>\n  <div class="braintree-three-d-secure__modal">\n    <div data-braintree-id="three-d-secure-loading-container" class="braintree-loader__container">\n      <div data-braintree-id="three-d-secure-loading-indicator" class="braintree-loader__indicator">\n        <svg width="14" height="16" class="braintree-loader__lock">\n          <use xlink:href="#iconLockLoader"></use>\n        </svg>\n      </div>\n    </div>\n    <div class="braintree-three-d-secure__modal-header">\n      {{cardVerification}}\n      <div class="braintree-three-d-secure__modal-close">\n        <svg width="21" height="21">\n          <use xlink:href="#iconClose"></use>\n        </svg>\n      </div>\n    </div>\n    <div class="braintree-three-d-secure__modal-body">\n    </div>\n  </div>\n</div>\n'.replace("{{cardVerification}}", e), i.querySelector(".braintree-three-d-secure__modal-close").addEventListener("click", function() {
                        t.cancel()
                    }), i
                }, o.prototype._waitForThreeDSecure = function() {
                    var e = this;
                    return new a(function(t, i) {
                        e._resolveThreeDSecure = t, e._rejectThreeDSecure = i
                    })
                }, o.prototype._revealModal = function() {
                    document.body.appendChild(this._modal), n.add(this._modal.querySelector(".braintree-three-d-secure__backdrop"), "braintree-three-d-secure__frame_visible"), setTimeout((function() {
                        n.add(this._modal.querySelector(".braintree-three-d-secure__modal"), "braintree-three-d-secure__frame_visible")
                    }).bind(this), 10)
                }, t.exports = o
            }, {
                "./promise": 140,
                "@braintree/class-list": 18,
                "braintree-web/three-d-secure": 102
            }],
            144: [function(e, t, i) {
                "use strict";
                var n = e("./browser-detection");
                t.exports = {
                    onTransitionEnd: function(e, t, i) {
                        n.isIe9() || function e(t) {
                            return !!t && ("none" === t.style.display || e(t.parentNode))
                        }(e) ? i() : e.addEventListener("transitionend", function n(r) {
                            r.propertyName === t && (e.removeEventListener("transitionend", n), i())
                        })
                    }
                }
            }, {
                "./browser-detection": 129
            }],
            145: [function(e, t, i) {
                "use strict";
                t.exports = function() {
                    return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(e) {
                        var t = 16 * Math.random() | 0;
                        return ("x" === e ? t : 3 & t | 8).toString(16)
                    })
                }
            }, {}],
            146: [function(e, t, i) {
                "use strict";
                t.exports = {
                    payingWith: "Betaler med {{paymentSource}}",
                    chooseAnotherWayToPay: "V\xe6lg en anden betalingsmetode",
                    chooseAWayToPay: "V\xe6lg, hvordan du vil betale",
                    otherWaysToPay: "Andre betalingsmetoder",
                    edit: "Rediger",
                    doneEditing: "Udf\xf8rt",
                    editPaymentMethods: "Rediger betalingsmetoder",
                    CreditCardDeleteConfirmationMessage: "Vil du slette {{secondaryIdentifier}}-kortet, der slutter p\xe5 {{identifier}}?",
                    PayPalAccountDeleteConfirmationMessage: "Vil du slette PayPal-kontoen {{identifier}}?",
                    VenmoAccountDeleteConfirmationMessage: "Er du sikker p\xe5, at du vil slette Venmo-kontoen med brugernavnet {{identifier}}?",
                    genericDeleteConfirmationMessage: "Er du sikker p\xe5, at du vil slette denne betalingsmetode?",
                    deleteCancelButton: "Annuller",
                    deleteConfirmationButton: "Slet",
                    cardVerification: "Bekr\xe6ftelse af kort",
                    fieldEmptyForCvv: "Du skal angive kontrolcifrene.",
                    fieldEmptyForExpirationDate: "Du skal angive udl\xf8bsdatoen.",
                    fieldEmptyForCardholderName: "Du skal angive kortindehaverens navn.",
                    fieldTooLongForCardholderName: "Kortejerens navn skal v\xe6re mindre end 256 tegn.",
                    fieldEmptyForNumber: "Du skal angive et nummer.",
                    fieldEmptyForPostalCode: "Du skal angive et postnummer.",
                    fieldInvalidForCvv: "Sikkerhedskoden er ugyldig.",
                    fieldInvalidForExpirationDate: "Udl\xf8bsdatoen er ugyldig.",
                    fieldInvalidForNumber: "Kortnummeret er ugyldigt.",
                    fieldInvalidForPostalCode: "Postnummeret er ugyldigt.",
                    genericError: "Der opstod en fejl.",
                    hostedFieldsTokenizationFailOnDuplicateError: "Dette betalingskort er allerede en gemt betalingsmetode.",
                    hostedFieldsFailedTokenizationError: "Tjek oplysningerne, og pr\xf8v igen.",
                    hostedFieldsFieldsInvalidError: "Tjek oplysningerne, og pr\xf8v igen.",
                    hostedFieldsTokenizationNetworkErrorError: "Netv\xe6rksfejl. Pr\xf8v igen.",
                    hostedFieldsTokenizationCvvVerificationFailedError: "Betalingskortet blev ikke bekr\xe6ftet. Kontroll\xe9r oplysningerne, og pr\xf8v igen.",
                    paypalAccountTokenizationFailedError: "PayPal-kontoen blev ikke tilf\xf8jet. Pr\xf8v igen.",
                    paypalFlowFailedError: "Der kunne ikke oprettes forbindelse til PayPal. Pr\xf8v igen.",
                    paypalTokenizationRequestActiveError: "PayPal-betalingen er i gang med at blive autoriseret.",
                    venmoCanceledError: "Der opstod en fejl. S\xf8rg for, at du har den seneste version af Venmo-appen installeret p\xe5 din enhed, og at din browser underst\xf8tter skift til Venmo.",
                    vaultManagerPaymentMethodDeletionError: "Vi kunne ikke slette betalingsmetode. Pr\xf8v igen.",
                    venmoAppFailedError: "Venmo-appen blev ikke fundet p\xe5 din enhed.",
                    unsupportedCardTypeError: "Korttypen underst\xf8ttes ikke. Pr\xf8v et andet kort.",
                    applePayTokenizationError: "Der opstod en netv\xe6rksfejl under behandlingen af betalingen med Apple Pay. Pr\xf8v igen.",
                    applePayActiveCardError: "Knyt et underst\xf8ttet kort til din Apple Pay-e-pung.",
                    cardholderNameLabel: "Kortindehaverens navn",
                    cardNumberLabel: "Kortnummer",
                    cvvLabel: "Kontrolcifre",
                    cvvThreeDigitLabelSubheading: "(3 cifre)",
                    cvvFourDigitLabelSubheading: "(4 cifre)",
                    cardholderNamePlaceholder: "Kortindehaverens navn",
                    expirationDateLabel: "Udl\xf8bsdato",
                    expirationDateLabelSubheading: "(MM/\xc5\xc5)",
                    expirationDatePlaceholder: "MM/\xc5\xc5",
                    postalCodeLabel: "Postnummer",
                    payWithCard: "Betal med kort",
                    endingIn: "Der slutter p\xe5 {{lastFourCardDigits}}",
                    "Apple Pay": "Apple Pay",
                    Venmo: "Venmo",
                    Card: "Kort",
                    PayPal: "PayPal",
                    "PayPal Credit": "PayPal Credit",
                    "Google Pay": "Google Pay",
                    "American Express": "American Express",
                    Discover: "Discover",
                    "Diners Club": "Diners Club",
                    MasterCard: "Mastercard",
                    Visa: "Visa",
                    JCB: "JCB",
                    Maestro: "Maestro",
                    UnionPay: "UnionPay"
                }
            }, {}],
            147: [function(e, t, i) {
                "use strict";
                t.exports = {
                    payingWith: "Zahlen mit {{paymentSource}}",
                    chooseAnotherWayToPay: "Andere Zahlungsmethode w\xe4hlen",
                    chooseAWayToPay: "Wie m\xf6chten Sie bezahlen?",
                    otherWaysToPay: "Andere Zahlungsmethoden",
                    edit: "Bearbeiten",
                    doneEditing: "Fertig",
                    editPaymentMethods: "Zahlungsquellen bearbeiten",
                    CreditCardDeleteConfirmationMessage: "{{secondaryIdentifier}} Karte mit den Endziffern {{identifier}} l\xf6schen?",
                    PayPalAccountDeleteConfirmationMessage: "PayPal-Konto {{identifier}} l\xf6schen?",
                    VenmoAccountDeleteConfirmationMessage: "Wollen Sie das Venmo-Konto mit dem Benutzernamen {{identifier}} wirklich l\xf6schen?",
                    genericDeleteConfirmationMessage: "Wollen Sie diese Zahlungsquelle wirklich l\xf6schen?",
                    deleteCancelButton: "Abbrechen",
                    deleteConfirmationButton: "L\xf6schen",
                    cardVerification: "Kartenbest\xe4tigung",
                    fieldEmptyForCvv: "Geben Sie die Kartenpr\xfcfnummer ein.",
                    fieldEmptyForExpirationDate: "Geben Sie das Ablaufdatum ein.",
                    fieldEmptyForCardholderName: "Geben Sie den Namen des Karteninhabers ein.",
                    fieldTooLongForCardholderName: "Der Name des Karteninhabers darf 255 Zeichen nicht \xfcbersteigen.",
                    fieldEmptyForNumber: "Geben Sie die Nummer ein.",
                    fieldEmptyForPostalCode: "Geben Sie die PLZ ein.",
                    fieldInvalidForCvv: "Die Kartenpr\xfcfnummer ist ung\xfcltig.",
                    fieldInvalidForExpirationDate: "Das Ablaufdatum ist ung\xfcltig.",
                    fieldInvalidForNumber: "Die Kreditkartennummer ist ung\xfcltig.",
                    fieldInvalidForPostalCode: "Die PLZ ist ung\xfcltig.",
                    genericError: "Bei uns ist ein Problem aufgetreten.",
                    hostedFieldsTokenizationFailOnDuplicateError: "Diese Kreditkarte ist bereits als gespeicherte Zahlungsmethode vorhanden.",
                    hostedFieldsFailedTokenizationError: "\xdcberpr\xfcfen Sie Ihre Eingabe und versuchen Sie es erneut.",
                    hostedFieldsFieldsInvalidError: "\xdcberpr\xfcfen Sie Ihre Eingabe und versuchen Sie es erneut.",
                    hostedFieldsTokenizationNetworkErrorError: "Netzwerkfehler. Versuchen Sie es erneut.",
                    hostedFieldsTokenizationCvvVerificationFailedError: "\xdcberpr\xfcfung der Karte fehlgeschlagen. \xdcberpr\xfcfen Sie Ihre Eingabe und versuchen Sie es erneut.",
                    paypalAccountTokenizationFailedError: "Beim Hinzuf\xfcgen des PayPal-Kontos ist ein Problem aufgetreten. Versuchen Sie es erneut.",
                    paypalFlowFailedError: "Beim Verbinden mit PayPal ist ein Problem aufgetreten. Versuchen Sie es erneut.",
                    paypalTokenizationRequestActiveError: "Die PayPal-Zahlung wird bereits autorisiert.",
                    venmoCanceledError: "Etwas ist schief gelaufen. Vergewissern Sie sich, dass Sie die neueste Version der Venmo-App auf Ihrem Ger\xe4t installiert haben und Ihr Browser den Wechsel zu Venmo unterst\xfctzt.",
                    vaultManagerPaymentMethodDeletionError: "Die Zahlungsquelle konnte nicht gel\xf6scht werden. Versuchen Sie es erneut.",
                    venmoAppFailedError: "Die Venmo-App wurde auf Ihrem Ger\xe4t nicht gefunden.",
                    unsupportedCardTypeError: "Dieser Kreditkartentyp wird nicht unterst\xfctzt. Versuchen Sie es mit einer anderen Karte.",
                    applePayTokenizationError: "Netzwerkfehler bei der Zahlungsabwicklung mit Apple Pay. Versuchen Sie es erneut.",
                    applePayActiveCardError: "F\xfcgen Sie der Apple-Pay-B\xf6rse eine unterst\xfctzte Kreditkarte hinzu.",
                    cardholderNameLabel: "Name des Karteninhabers",
                    cardNumberLabel: "Kartennummer",
                    cvvLabel: "Pr\xfcfnr.",
                    cvvThreeDigitLabelSubheading: "(3-stellig)",
                    cvvFourDigitLabelSubheading: "(4-stellig)",
                    cardholderNamePlaceholder: "Name des Karteninhabers",
                    expirationDateLabel: "G\xfcltig bis",
                    expirationDateLabelSubheading: "(MM/JJ)",
                    expirationDatePlaceholder: "MM/JJ",
                    postalCodeLabel: "PLZ",
                    payWithCard: "Mit Kreditkarte zahlen",
                    endingIn: "Mit den Endziffern {{lastFourCardDigits}}",
                    "Apple Pay": "Apple Pay",
                    Venmo: "Venmo",
                    Card: "Kreditkarte",
                    PayPal: "PayPal",
                    "PayPal Credit": "PayPal Credit",
                    "Google Pay": "Google Pay",
                    "American Express": "American Express",
                    Discover: "Discover",
                    "Diners Club": "Diners Club",
                    MasterCard: "Mastercard",
                    Visa: "Visa",
                    JCB: "JCB",
                    Maestro: "Maestro",
                    UnionPay: "UnionPay"
                }
            }, {}],
            148: [function(e, t, i) {
                "use strict";
                t.exports = {
                    payingWith: "Paying with {{paymentSource}}",
                    chooseAnotherWayToPay: "Choose another way to pay",
                    chooseAWayToPay: "Choose a way to pay",
                    otherWaysToPay: "Other ways to pay",
                    edit: "Edit",
                    doneEditing: "Done",
                    editPaymentMethods: "Edit payment methods",
                    CreditCardDeleteConfirmationMessage: "Delete {{secondaryIdentifier}} card ending in {{identifier}}?",
                    PayPalAccountDeleteConfirmationMessage: "Delete PayPal account {{identifier}}?",
                    VenmoAccountDeleteConfirmationMessage: "Are you sure you want to delete the Venmo account with username {{identifier}}?",
                    genericDeleteConfirmationMessage: "Are you sure you want to delete this payment method?",
                    deleteCancelButton: "Cancel",
                    deleteConfirmationButton: "Delete",
                    cardVerification: "Card verification",
                    fieldEmptyForCvv: "Please fill out a CVV.",
                    fieldEmptyForExpirationDate: "Please fill out an expiry date.",
                    fieldEmptyForCardholderName: "Please fill out a cardholder name.",
                    fieldTooLongForCardholderName: "Cardholder name must be less than 256 characters.",
                    fieldEmptyForNumber: "Please fill out a number.",
                    fieldEmptyForPostalCode: "Please fill out a postcode.",
                    fieldInvalidForCvv: "This security code is not valid.",
                    fieldInvalidForExpirationDate: "This expiry date is not valid.",
                    fieldInvalidForNumber: "This card number is not valid.",
                    fieldInvalidForPostalCode: "This postcode is not valid.",
                    genericError: "Something went wrong on our end.",
                    hostedFieldsTokenizationFailOnDuplicateError: "This credit card already exists as a saved payment method.",
                    hostedFieldsFailedTokenizationError: "Check your entries and try again.",
                    hostedFieldsFieldsInvalidError: "Check your entries and try again.",
                    hostedFieldsTokenizationNetworkErrorError: "Network error. Please try again.",
                    hostedFieldsTokenizationCvvVerificationFailedError: "Credit card verification failed. Check your entries and try again.",
                    paypalAccountTokenizationFailedError: "Something went wrong while adding the PayPal account. Please try again.",
                    paypalFlowFailedError: "Something went wrong while connecting to PayPal. Please try again.",
                    paypalTokenizationRequestActiveError: "PayPal payment authorisation is already in progress.",
                    venmoCanceledError: "We're sorry, something seems to have gone wrong. Please ensure you have the most recent version of the Venmo app installed on your device and your browser supports switching to Venmo.",
                    vaultManagerPaymentMethodDeletionError: "Unable to delete payment method, try again.",
                    venmoAppFailedError: "The Venmo app wasn't found on your device.",
                    unsupportedCardTypeError: "This card type is not supported. Please try another card.",
                    applePayTokenizationError: "A network error occurred while processing the Apple Pay payment. Please try again.",
                    applePayActiveCardError: "Link a supported card to your Apple Pay wallet.",
                    cardholderNameLabel: "Cardholder Name",
                    cardNumberLabel: "Card Number",
                    cvvLabel: "CVV",
                    cvvThreeDigitLabelSubheading: "(3 digits)",
                    cvvFourDigitLabelSubheading: "(4 digits)",
                    cardholderNamePlaceholder: "Cardholder Name",
                    expirationDateLabel: "Expiry date",
                    expirationDateLabelSubheading: "(MM/YY)",
                    expirationDatePlaceholder: "MM/YY",
                    postalCodeLabel: "Postcode",
                    payWithCard: "Pay with credit or debit card",
                    endingIn: "Ending in {{lastFourCardDigits}}",
                    "Apple Pay": "Apple Pay",
                    Venmo: "Venmo",
                    Card: "Card",
                    PayPal: "PayPal",
                    "PayPal Credit": "PayPal Credit",
                    "Google Pay": "Google Pay",
                    "American Express": "American Express",
                    Discover: "Discover",
                    "Diners Club": "Diners Club",
                    MasterCard: "Mastercard",
                    Visa: "Visa",
                    JCB: "JCB",
                    Maestro: "Maestro",
                    UnionPay: "UnionPay"
                }
            }, {}],
            149: [function(e, t, i) {
                "use strict";
                t.exports = {
                    payingWith: "Paying with {{paymentSource}}",
                    chooseAnotherWayToPay: "Choose another way to pay",
                    chooseAWayToPay: "Choose a way to pay",
                    otherWaysToPay: "Other ways to pay",
                    edit: "Edit",
                    doneEditing: "Done",
                    editPaymentMethods: "Edit funding sources",
                    CreditCardDeleteConfirmationMessage: "Delete {{secondaryIdentifier}} card ending in {{identifier}}?",
                    PayPalAccountDeleteConfirmationMessage: "Delete PayPal account {{identifier}}?",
                    VenmoAccountDeleteConfirmationMessage: "Are you sure you want to delete the Venmo account with username {{identifier}}?",
                    genericDeleteConfirmationMessage: "Are you sure you want to delete this funding source?",
                    deleteCancelButton: "Cancel",
                    deleteConfirmationButton: "Delete",
                    cardVerification: "Card Verification",
                    fieldEmptyForCvv: "Please fill in a CSC.",
                    fieldEmptyForExpirationDate: "Please fill in an expiry date.",
                    fieldEmptyForCardholderName: "Please fill in a cardholder name.",
                    fieldTooLongForCardholderName: "Cardholder name must be less than 256 characters.",
                    fieldEmptyForNumber: "Please fill in a number.",
                    fieldEmptyForPostalCode: "Please fill in a postcode.",
                    fieldInvalidForCvv: "This security code is not valid.",
                    fieldInvalidForExpirationDate: "This expiry date is not valid.",
                    fieldInvalidForNumber: "This card number is not valid.",
                    fieldInvalidForPostalCode: "This postcode is not valid.",
                    genericError: "Something went wrong on our end.",
                    hostedFieldsTokenizationFailOnDuplicateError: "This credit card has already been added to your account as a funding source.",
                    hostedFieldsFailedTokenizationError: "Please check your information and try again.",
                    hostedFieldsFieldsInvalidError: "Please check your information and try again.",
                    hostedFieldsTokenizationNetworkErrorError: "Network error. Please try again.",
                    hostedFieldsTokenizationCvvVerificationFailedError: "Credit card verification failed. Please check your information and try again.",
                    paypalAccountTokenizationFailedError: "Something went wrong while adding the PayPal account. Please try again.",
                    paypalFlowFailedError: "Something went wrong while connecting to PayPal. Please try again.",
                    paypalTokenizationRequestActiveError: "PayPal payment authorisation is already in progress.",
                    venmoCanceledError: "We're sorry, something seems to have gone wrong. Make sure you have the most recent version of the Venmo app installed on your device and your browser supports the switch to Venmo.",
                    vaultManagerPaymentMethodDeletionError: "Unable to delete funding source, try again.",
                    venmoAppFailedError: "The Venmo app isn't on your device.",
                    unsupportedCardTypeError: "This card type is not supported. Please try another card.",
                    applePayTokenizationError: "A network error occurred while processing the Apple Pay payment. Please try again.",
                    applePayActiveCardError: "Add a supported card to your Apple Pay wallet.",
                    cardholderNameLabel: "Cardholder Name",
                    cardNumberLabel: "Card Number",
                    cvvLabel: "CSC",
                    cvvThreeDigitLabelSubheading: "(3 digits)",
                    cvvFourDigitLabelSubheading: "(4 digits)",
                    cardholderNamePlaceholder: "Cardholder Name",
                    expirationDateLabel: "Expiry Date",
                    expirationDateLabelSubheading: "(MM/YY)",
                    expirationDatePlaceholder: "MM/YY",
                    postalCodeLabel: "Postcode",
                    payWithCard: "Pay with card",
                    endingIn: "Ending in {{lastFourCardDigits}}",
                    "Apple Pay": "Apple Pay",
                    Venmo: "Venmo",
                    Card: "Card",
                    PayPal: "PayPal",
                    "PayPal Credit": "PayPal Credit",
                    "Google Pay": "Google Pay",
                    "American Express": "American Express",
                    Discover: "Discover",
                    "Diners Club": "Diners Club",
                    MasterCard: "Mastercard",
                    Visa: "Visa",
                    JCB: "JCB",
                    Maestro: "Maestro",
                    UnionPay: "UnionPay"
                }
            }, {}],
            150: [function(e, t, i) {
                "use strict";
                t.exports = {
                    payingWith: "Paying with {{paymentSource}}",
                    chooseAnotherWayToPay: "Choose another way to pay",
                    chooseAWayToPay: "Choose a way to pay",
                    otherWaysToPay: "Other ways to pay",
                    edit: "Edit",
                    doneEditing: "Done",
                    editPaymentMethods: "Edit payment methods",
                    CreditCardDeleteConfirmationMessage: "Delete {{secondaryIdentifier}} card ending in {{identifier}}?",
                    PayPalAccountDeleteConfirmationMessage: "Delete PayPal account {{identifier}}?",
                    VenmoAccountDeleteConfirmationMessage: "Are you sure you want to delete Venmo account with username {{identifier}}?",
                    genericDeleteConfirmationMessage: "Are you sure you want to delete this payment method?",
                    deleteCancelButton: "Cancel",
                    deleteConfirmationButton: "Delete",
                    cardVerification: "Card Verification",
                    fieldEmptyForCvv: "Please fill out a CVV.",
                    fieldEmptyForExpirationDate: "Please fill out an expiration date.",
                    fieldEmptyForCardholderName: "Please fill out a cardholder name.",
                    fieldEmptyForNumber: "Please fill out a card number.",
                    fieldEmptyForPostalCode: "Please fill out a postal code.",
                    fieldInvalidForCvv: "This security code is not valid.",
                    fieldInvalidForExpirationDate: "This expiration date is not valid.",
                    fieldInvalidForNumber: "This card number is not valid.",
                    fieldInvalidForPostalCode: "This postal code is not valid.",
                    fieldTooLongForCardholderName: "Cardholder name must be less than 256 characters.",
                    genericError: "Something went wrong on our end.",
                    hostedFieldsTokenizationFailOnDuplicateError: "This credit card already exists as a saved payment method.",
                    hostedFieldsFailedTokenizationError: "Please check your information and try again.",
                    hostedFieldsTokenizationCvvVerificationFailedError: "Credit card verification failed. Please check your information and try again.",
                    hostedFieldsTokenizationNetworkErrorError: "Network error. Please try again.",
                    hostedFieldsFieldsInvalidError: "Please check your information and try again.",
                    paypalAccountTokenizationFailedError: "Something went wrong adding the PayPal account. Please try again.",
                    paypalFlowFailedError: "Something went wrong connecting to PayPal. Please try again.",
                    paypalTokenizationRequestActiveError: "PayPal payment authorization is already in progress.",
                    applePayTokenizationError: "A network error occurred while processing the Apple Pay payment. Please try again.",
                    applePayActiveCardError: "Add a supported card to your Apple Pay wallet.",
                    vaultManagerPaymentMethodDeletionError: "Unable to delete payment method, try again.",
                    venmoCanceledError: "Something went wrong. Ensure you have the most recent version of the Venmo app installed on your device and your browser supports switching to Venmo.",
                    venmoAppFailedError: "The Venmo app could not be found on your device.",
                    unsupportedCardTypeError: "This card type is not supported. Please try another card.",
                    cardholderNameLabel: "Cardholder Name",
                    cardNumberLabel: "Card Number",
                    cvvLabel: "CVV",
                    cvvThreeDigitLabelSubheading: "(3 digits)",
                    cvvFourDigitLabelSubheading: "(4 digits)",
                    expirationDateLabel: "Expiration Date",
                    expirationDateLabelSubheading: "(MM/YY)",
                    cardholderNamePlaceholder: "Cardholder Name",
                    expirationDatePlaceholder: "MM/YY",
                    postalCodeLabel: "Postal Code",
                    payWithCard: "Pay with card",
                    endingIn: "Ending in {{lastFourCardDigits}}",
                    Card: "Card",
                    PayPal: "PayPal",
                    "PayPal Credit": "PayPal Credit",
                    "Apple Pay": "Apple Pay",
                    "Google Pay": "Google Pay",
                    Venmo: "Venmo",
                    "American Express": "American Express",
                    Discover: "Discover",
                    "Diners Club": "Diners Club",
                    MasterCard: "Mastercard",
                    Visa: "Visa",
                    JCB: "JCB",
                    Maestro: "Maestro",
                    UnionPay: "UnionPay"
                }
            }, {}],
            151: [function(e, t, i) {
                "use strict";
                t.exports = {
                    payingWith: "Pago con {{paymentSource}}",
                    chooseAnotherWayToPay: "Selecciona otra forma de pago.",
                    chooseAWayToPay: "Selecciona una forma de pago.",
                    otherWaysToPay: "Otras formas de pago",
                    edit: "Modificar",
                    doneEditing: "Hecho",
                    editPaymentMethods: "Editar formas de pago",
                    CreditCardDeleteConfirmationMessage: "\xbfQuieres eliminar la tarjeta {{secondaryIdentifier}} que termina en {{identifier}}?",
                    PayPalAccountDeleteConfirmationMessage: "\xbfQuieres eliminar la cuenta PayPal {{identifier}}?",
                    VenmoAccountDeleteConfirmationMessage: "\xbfSeguro de que deseas eliminar la cuenta de Venmo con nombre de usuario {{identifier}}?",
                    genericDeleteConfirmationMessage: "\xbfSeguro que deseas eliminar esta forma de pago?",
                    deleteCancelButton: "Cancelar",
                    deleteConfirmationButton: "Eliminar",
                    cardVerification: "Verificaci\xf3n de tarjeta",
                    fieldEmptyForCvv: "Escribe el c\xf3digo CVV.",
                    fieldEmptyForExpirationDate: "Escribe la fecha de vencimiento.",
                    fieldEmptyForCardholderName: "Escribe el nombre de un titular de la tarjeta.",
                    fieldTooLongForCardholderName: "El nombre del titular de la tarjeta debe tener menos de 256\xa0caracteres.",
                    fieldEmptyForNumber: "Escribe un n\xfamero.",
                    fieldEmptyForPostalCode: "Escribe el c\xf3digo postal.",
                    fieldInvalidForCvv: "Este c\xf3digo de seguridad no es v\xe1lido.",
                    fieldInvalidForExpirationDate: "Esta fecha de vencimiento no es v\xe1lida.",
                    fieldInvalidForNumber: "Este n\xfamero de tarjeta no es v\xe1lido.",
                    fieldInvalidForPostalCode: "Este c\xf3digo postal no es v\xe1lido.",
                    genericError: "Hemos tenido alg\xfan problema.",
                    hostedFieldsTokenizationFailOnDuplicateError: "Esta tarjeta de cr\xe9dito ya existe como forma de pago guardada.",
                    hostedFieldsFailedTokenizationError: "Comprueba la informaci\xf3n e int\xe9ntalo de nuevo.",
                    hostedFieldsFieldsInvalidError: "Comprueba la informaci\xf3n e int\xe9ntalo de nuevo.",
                    hostedFieldsTokenizationNetworkErrorError: "Error de red. Int\xe9ntalo de nuevo.",
                    hostedFieldsTokenizationCvvVerificationFailedError: "Error de verificaci\xf3n de la tarjeta de cr\xe9dito. Comprueba la informaci\xf3n e int\xe9ntalo de nuevo.",
                    paypalAccountTokenizationFailedError: "Se ha producido un error al vincular la cuenta PayPal. Int\xe9ntalo de nuevo.",
                    paypalFlowFailedError: "Se ha producido un error al conectarse a PayPal. Int\xe9ntalo de nuevo.",
                    paypalTokenizationRequestActiveError: "Ya hay una autorizaci\xf3n de pago de PayPal en curso.",
                    venmoCanceledError: "Ha habido un problema. Aseg\xfarate de que tienes la versi\xf3n m\xe1s reciente de la aplicaci\xf3n de Venmo instalada en tu dispositivo y de que tu navegador es compatible con cambiar a Venmo.",
                    vaultManagerPaymentMethodDeletionError: "No se ha podido eliminar la forma de pago. Int\xe9ntalo de nuevo.",
                    venmoAppFailedError: "No se ha encontrado la aplicaci\xf3n de Venmo en tu dispositivo.",
                    unsupportedCardTypeError: "No se admite este tipo de tarjeta. Prueba con otra tarjeta.",
                    applePayTokenizationError: "Se ha producido un error de red al procesar el pago con Apple Pay. Int\xe9ntalo de nuevo.",
                    applePayActiveCardError: "A\xf1ade una tarjeta admitida a tu Wallet de Apple Pay.",
                    cardholderNameLabel: "Nombre del titular de la tarjeta",
                    cardNumberLabel: "N\xfamero de tarjeta",
                    cvvLabel: "CVV",
                    cvvThreeDigitLabelSubheading: "(3\xa0d\xedgitos)",
                    cvvFourDigitLabelSubheading: "(4\xa0d\xedgitos)",
                    cardholderNamePlaceholder: "Nombre del titular de la tarjeta",
                    expirationDateLabel: "Fecha de vencimiento",
                    expirationDateLabelSubheading: "(MM/AA)",
                    expirationDatePlaceholder: "MM/AA",
                    postalCodeLabel: "C\xf3digo postal",
                    payWithCard: "Pagar con tarjeta",
                    endingIn: "Terminada en {{lastFourCardDigits}}",
                    "Apple Pay": "Apple Pay",
                    Venmo: "Venmo",
                    Card: "Tarjeta",
                    PayPal: "PayPal",
                    "PayPal Credit": "PayPal Credit",
                    "Google Pay": "Google Pay",
                    "American Express": "American Express",
                    Discover: "Discover",
                    "Diners Club": "Diners Club",
                    MasterCard: "Mastercard",
                    Visa: "Visa",
                    JCB: "JCB",
                    Maestro: "Maestro",
                    UnionPay: "UnionPay"
                }
            }, {}],
            152: [function(e, t, i) {
                "use strict";
                t.exports = {
                    payingWith: "Payer avec {{paymentSource}}",
                    chooseAnotherWayToPay: "Choisir un autre mode de paiement",
                    chooseAWayToPay: "Choisir le mode de paiement",
                    otherWaysToPay: "Autres modes de paiement",
                    edit: "Modifier",
                    doneEditing: "Termin\xe9",
                    editPaymentMethods: "Modifier les modes de paiement",
                    CreditCardDeleteConfirmationMessage: "Supprimer la carte {{secondaryIdentifier}} se terminant par {{identifier}}?",
                    PayPalAccountDeleteConfirmationMessage: "Supprimer le compte PayPal {{identifier}}?",
                    VenmoAccountDeleteConfirmationMessage: "Souhaitez-vous vraiment supprimer le compte Venmo avec le nom d\u2019utilisateur {{identifier}}?",
                    genericDeleteConfirmationMessage: "Voulez-vous vraiment supprimer ce mode de paiement?",
                    deleteCancelButton: "Annuler",
                    deleteConfirmationButton: "Supprimer",
                    cardVerification: "V\xe9rification de la carte",
                    fieldEmptyForCvv: "Veuillez saisir un cryptogramme visuel.",
                    fieldEmptyForExpirationDate: "Veuillez saisir une date d'expiration.",
                    fieldEmptyForCardholderName: "Veuillez saisir un nom de titulaire de la carte.",
                    fieldTooLongForCardholderName: "Le nom du titulaire de la carte doit contenir moins de 256\xa0caract\xe8res.",
                    fieldEmptyForNumber: "Veuillez saisir un num\xe9ro.",
                    fieldEmptyForPostalCode: "Veuillez saisir un code postal.",
                    fieldInvalidForCvv: "Ce cryptogramme visuel n'est pas valide.",
                    fieldInvalidForExpirationDate: "Cette date d'expiration n'est pas valide.",
                    fieldInvalidForNumber: "Ce num\xe9ro de carte n'est pas valide.",
                    fieldInvalidForPostalCode: "Ce code postal n'est pas valide.",
                    genericError: "Une erreur s'est produite de notre c\xf4t\xe9.",
                    hostedFieldsTokenizationFailOnDuplicateError: "Cette carte de cr\xe9dit existe d\xe9j\xe0 comme mode de paiement enregistr\xe9.",
                    hostedFieldsFailedTokenizationError: "V\xe9rifiez vos informations, puis r\xe9essayez.",
                    hostedFieldsFieldsInvalidError: "V\xe9rifiez vos informations, puis r\xe9essayez.",
                    hostedFieldsTokenizationNetworkErrorError: "Erreur r\xe9seau. Veuillez r\xe9essayer.",
                    hostedFieldsTokenizationCvvVerificationFailedError: "La v\xe9rification de la carte de cr\xe9dit a \xe9chou\xe9. V\xe9rifiez vos informations, puis r\xe9essayez.",
                    paypalAccountTokenizationFailedError: "Une erreur s'est produite lors de l'enregistrement du compte PayPal. Veuillez r\xe9essayer.",
                    paypalFlowFailedError: "Une erreur s'est produite au cours de la connexion \xe0 PayPal. Veuillez r\xe9essayer.",
                    paypalTokenizationRequestActiveError: "L'autorisation de paiement PayPal est d\xe9j\xe0 en cours.",
                    venmoCanceledError: "Une erreur s'est produite. Assurez-vous que la version la plus r\xe9cente de l'application Venmo est install\xe9e sur votre appareil et que votre navigateur prend Venmo en charge.",
                    vaultManagerPaymentMethodDeletionError: "Impossible de supprimer le mode de paiement, essayez de nouveau.",
                    venmoAppFailedError: "L'application Venmo est introuvable sur votre appareil.",
                    unsupportedCardTypeError: "Ce type de carte n'est pas pris en charge. Veuillez essayer une autre carte.",
                    applePayTokenizationError: "Une erreur de r\xe9seau s'est produite lors du traitement du paiement avec Apple Pay. Veuillez r\xe9essayer.",
                    applePayActiveCardError: "Ajoutez une carte prise en charge \xe0 Apple Pay.",
                    cardholderNameLabel: "Nom du titulaire de la carte",
                    cardNumberLabel: "Num\xe9ro de carte",
                    cvvLabel: "CVV",
                    cvvThreeDigitLabelSubheading: "(3 chiffres)",
                    cvvFourDigitLabelSubheading: "(4\xa0chiffres)",
                    cardholderNamePlaceholder: "Nom du titulaire de la carte",
                    expirationDateLabel: "Date d'expiration",
                    expirationDateLabelSubheading: "(MM/AA)",
                    expirationDatePlaceholder: "MM/AA",
                    postalCodeLabel: "Code postal",
                    payWithCard: "Payer par carte",
                    endingIn: "Se terminant par {{lastFourCardDigits}}",
                    "Apple Pay": "Apple Pay",
                    Venmo: "Venmo",
                    Card: "Carte",
                    PayPal: "PayPal",
                    "PayPal Credit": "PayPal Credit",
                    "Google Pay": "Google Pay",
                    "American Express": "American Express",
                    Discover: "Discover",
                    "Diners Club": "Diners Club",
                    MasterCard: "Mastercard",
                    Visa: "Visa",
                    JCB: "JCB",
                    Maestro: "Maestro",
                    UnionPay: "UnionPay"
                }
            }, {}],
            153: [function(e, t, i) {
                "use strict";
                t.exports = {
                    payingWith: "Payer avec {{paymentSource}}",
                    chooseAnotherWayToPay: "Choisissez une autre fa\xe7on de payer.",
                    chooseAWayToPay: "Choisissez comment payer.",
                    otherWaysToPay: "Autres fa\xe7ons de payer",
                    edit: "Modifier",
                    doneEditing: "Termin\xe9",
                    editPaymentMethods: "Modifier les sources d'approvisionnement",
                    CreditCardDeleteConfirmationMessage: "Supprimer la carte {{secondaryIdentifier}} se terminant par {{identifier}}\xa0?",
                    PayPalAccountDeleteConfirmationMessage: "Supprimer le compte PayPal {{identifier}}\xa0?",
                    VenmoAccountDeleteConfirmationMessage: "\xcates-vous s\xfbr de vouloir supprimer le compte Venmo avec le nom d'utilisateur {{identifier}}\xa0?",
                    genericDeleteConfirmationMessage: "\xcates-vous s\xfbr de vouloir supprimer cette source d'approvisionnement\xa0?",
                    deleteCancelButton: "Annuler",
                    deleteConfirmationButton: "Supprimer",
                    cardVerification: "V\xe9rification de la carte",
                    fieldEmptyForCvv: "Entrez un cryptogramme visuel.",
                    fieldEmptyForExpirationDate: "Entrez une date d'expiration.",
                    fieldEmptyForCardholderName: "Entrez un nom du titulaire de la carte.",
                    fieldTooLongForCardholderName: "Le nom du titulaire de la carte doit contenir moins de 256\xa0caract\xe8res.",
                    fieldEmptyForNumber: "Entrez un num\xe9ro.",
                    fieldEmptyForPostalCode: "Entrez un code postal.",
                    fieldInvalidForCvv: "Ce cryptogramme visuel n'est pas valide.",
                    fieldInvalidForExpirationDate: "Cette date d'expiration n'est pas valide.",
                    fieldInvalidForNumber: "Ce num\xe9ro de carte n'est pas valide.",
                    fieldInvalidForPostalCode: "Ce code postal n'est pas valide.",
                    genericError: "Une erreur est survenue.",
                    hostedFieldsTokenizationFailOnDuplicateError: "Cette carte bancaire existe d\xe9j\xe0 comme mode de paiement enregistr\xe9.",
                    hostedFieldsFailedTokenizationError: "V\xe9rifiez vos informations et r\xe9essayez.",
                    hostedFieldsFieldsInvalidError: "V\xe9rifiez vos informations et r\xe9essayez.",
                    hostedFieldsTokenizationNetworkErrorError: "Erreur r\xe9seau. R\xe9essayez.",
                    hostedFieldsTokenizationCvvVerificationFailedError: "\xc9chec de v\xe9rification de la carte bancaire. V\xe9rifiez vos informations et r\xe9essayez.",
                    paypalAccountTokenizationFailedError: "Une erreur est survenue lors de l'ajout du compte PayPal. R\xe9essayez.",
                    paypalFlowFailedError: "Une erreur est survenue lors de la connexion \xe0 PayPal. R\xe9essayez.",
                    paypalTokenizationRequestActiveError: "L'autorisation de paiement PayPal est d\xe9j\xe0 en cours.",
                    venmoCanceledError: "Une erreur est survenue. V\xe9rifiez que vous disposez de la derni\xe8re version de l'application Venmo sur votre appareil et que votre navigateur prend en charge la redirection vers Venmo.",
                    vaultManagerPaymentMethodDeletionError: "Impossible de supprimer la source d'approvisionnement. R\xe9essayez.",
                    venmoAppFailedError: "L'application Venmo est introuvable sur votre appareil.",
                    unsupportedCardTypeError: "Ce type de carte n'est pas pris en charge. Essayez une autre carte.",
                    applePayTokenizationError: "Une erreur r\xe9seau s'est produite lors du traitement du paiement Apple Pay. R\xe9essayez.",
                    applePayActiveCardError: "Enregistrez une carte prise en charge sur Apple Pay.",
                    cardholderNameLabel: "Nom du titulaire de la carte",
                    cardNumberLabel: "N\xba de carte",
                    cvvLabel: "Cryptogramme visuel",
                    cvvThreeDigitLabelSubheading: "(3\xa0chiffres)",
                    cvvFourDigitLabelSubheading: "(4\xa0chiffres)",
                    cardholderNamePlaceholder: "Nom du titulaire de la carte",
                    expirationDateLabel: "Date d'expiration",
                    expirationDateLabelSubheading: "(MM/AA)",
                    expirationDatePlaceholder: "MM/AA",
                    postalCodeLabel: "Code postal",
                    payWithCard: "Payer par carte",
                    endingIn: "Se terminant par {{lastFourCardDigits}}",
                    "Apple Pay": "Apple Pay",
                    Venmo: "Venmo",
                    Card: "Carte",
                    PayPal: "PayPal",
                    "PayPal Credit": "PayPal Credit",
                    "Google Pay": "Google Pay",
                    "American Express": "American Express",
                    Discover: "Discover",
                    "Diners Club": "Diners Club",
                    MasterCard: "Mastercard",
                    Visa: "Visa",
                    JCB: "JCB",
                    Maestro: "Maestro",
                    UnionPay: "UnionPay"
                }
            }, {}],
            154: [function(e, t, i) {
                "use strict";
                t.exports = {
                    payingWith: "Membayar dengan {{paymentSource}}",
                    chooseAnotherWayToPay: "Pilih metode pembayaran lain",
                    chooseAWayToPay: "Pilih metode pembayaran",
                    otherWaysToPay: "Metode pembayaran lain",
                    edit: "Edit",
                    doneEditing: "Selesai",
                    editPaymentMethods: "Edit metode pembayaran",
                    CreditCardDeleteConfirmationMessage: "Hapus kartu {{secondaryIdentifier}} yang berakhiran {{identifier}}?",
                    PayPalAccountDeleteConfirmationMessage: "Hapus {{identifier}} rekening PayPal?",
                    VenmoAccountDeleteConfirmationMessage: "Apakah Anda yakin akan menghapus rekening Venmo dengan nama pengguna {{identifier}}?",
                    genericDeleteConfirmationMessage: "Apakah Anda yakin akan menghapus metode pembayaran ini?",
                    deleteCancelButton: "Batalkan",
                    deleteConfirmationButton: "Hapus",
                    cardVerification: "Verifikasi Kartu",
                    fieldEmptyForCvv: "Masukkan CVV.",
                    fieldEmptyForExpirationDate: "Masukkan tanggal akhir berlaku.",
                    fieldEmptyForCardholderName: "Masukkan nama pemegang kartu.",
                    fieldTooLongForCardholderName: "Nama pemegang kartu harus kurang dari 256 karakter.",
                    fieldEmptyForNumber: "Masukkan nomor.",
                    fieldEmptyForPostalCode: "Masukkan kode pos.",
                    fieldInvalidForCvv: "Kode keamanan ini tidak valid.",
                    fieldInvalidForExpirationDate: "Tanggal akhir berlaku ini tidak valid.",
                    fieldInvalidForNumber: "Nomor kartu ini tidak valid.",
                    fieldInvalidForPostalCode: "Kode pos ini tidak valid.",
                    genericError: "Terjadi kesalahan pada sistem kami.",
                    hostedFieldsTokenizationFailOnDuplicateError: "Kartu kredit ini sudah dimasukkan sebagai metode pembayaran tersimpan.",
                    hostedFieldsFailedTokenizationError: "Periksa informasi Anda dan coba lagi.",
                    hostedFieldsFieldsInvalidError: "Periksa informasi Anda dan coba lagi.",
                    hostedFieldsTokenizationNetworkErrorError: "Masalah jaringan. Coba lagi.",
                    hostedFieldsTokenizationCvvVerificationFailedError: "Verifikasi kartu kredit gagal. Periksa informasi Anda dan coba lagi.",
                    paypalAccountTokenizationFailedError: "Terjadi kesalahan saat menambahkan rekening PayPal. Coba lagi.",
                    paypalFlowFailedError: "Terjadi kesalahan saat menyambung ke PayPal. Coba lagi.",
                    paypalTokenizationRequestActiveError: "Otorisasi pembayaran PayPal sedang diproses.",
                    venmoCanceledError: "Terdapat kesalahan. Pastikan Anda telah menginstal aplikasi Venmo versi terbaru pada perangkat dan peramban Anda mendukung untuk beralih ke Venmo.",
                    vaultManagerPaymentMethodDeletionError: "Tidak dapat menghapus metode pembayaran, coba lagi.",
                    venmoAppFailedError: "Aplikasi Venmo tidak dapat ditemukan pada perangkat Anda.",
                    unsupportedCardTypeError: "Jenis kartu ini tidak didukung. Coba kartu lainnya.",
                    applePayTokenizationError: "Terjadi kesalahan jaringan sewaktu memproses pembayaran melalui Apple Pay. Coba lagi.",
                    applePayActiveCardError: "Tambahkan kartu yang didukung ke wallet Apple Pay.",
                    cardholderNameLabel: "Nama Pemegang Kartu",
                    cardNumberLabel: "Nomor Kartu",
                    cvvLabel: "CVV",
                    cvvThreeDigitLabelSubheading: "(3 angka)",
                    cvvFourDigitLabelSubheading: "(4 angka)",
                    cardholderNamePlaceholder: "Nama Pemegang Kartu",
                    expirationDateLabel: "Tanggal Kedaluwarsa",
                    expirationDateLabelSubheading: "(BB/TT)",
                    expirationDatePlaceholder: "BB/TT",
                    postalCodeLabel: "Kode Pos",
                    payWithCard: "Bayar dengan kartu",
                    endingIn: "Berakhiran {{lastTwoCardDigits}}",
                    "Apple Pay": "Apple Pay",
                    Venmo: "Venmo",
                    Card: "Kartu",
                    PayPal: "PayPal",
                    "PayPal Credit": "PayPal Credit",
                    "Google Pay": "Google Pay",
                    "American Express": "American Express",
                    Discover: "Discover",
                    "Diners Club": "Diners Club",
                    MasterCard: "Mastercard",
                    Visa: "Visa",
                    JCB: "JCB",
                    Maestro: "Maestro",
                    UnionPay: "UnionPay"
                }
            }, {}],
            155: [function(e, t, i) {
                "use strict";
                var n = e("../lib/assign").assign,
                    r = {
                        da_DK: e("./da_DK"),
                        de_DE: e("./de_DE"),
                        en_US: e("./en_US"),
                        en_AU: e("./en_AU"),
                        en_GB: e("./en_GB"),
                        es_ES: e("./es_ES"),
                        fr_CA: e("./fr_CA"),
                        fr_FR: e("./fr_FR"),
                        id_ID: e("./id_ID"),
                        it_IT: e("./it_IT"),
                        ja_JP: e("./ja_JP"),
                        ko_KR: e("./ko_KR"),
                        nl_NL: e("./nl_NL"),
                        no_NO: e("./no_NO"),
                        pl_PL: e("./pl_PL"),
                        pt_BR: e("./pt_BR"),
                        pt_PT: e("./pt_PT"),
                        ru_RU: e("./ru_RU"),
                        sv_SE: e("./sv_SE"),
                        th_TH: e("./th_TH"),
                        zh_CN: e("./zh_CN"),
                        zh_HK: e("./zh_HK"),
                        zh_TW: e("./zh_TW")
                    },
                    a = {
                        da: r.da_DK,
                        de: r.de_DE,
                        en: r.en_US,
                        es: r.es_ES,
                        fr: r.fr_FR,
                        id: r.id_ID,
                        it: r.it_IT,
                        ja: r.ja_JP,
                        ko: r.ko_KR,
                        nl: r.nl_NL,
                        no: r.no_NO,
                        pl: r.pl_PL,
                        pt: r.pt_PT,
                        ru: r.ru_RU,
                        sv: r.sv_SE,
                        th: r.th_TH,
                        zh: r.zh_CN
                    };
                t.exports = {
                    twoCharacterLocaleAliases: a,
                    fiveCharacterLocales: r,
                    translations: n({}, a, r)
                }
            }, {
                "../lib/assign": 128,
                "./da_DK": 146,
                "./de_DE": 147,
                "./en_AU": 148,
                "./en_GB": 149,
                "./en_US": 150,
                "./es_ES": 151,
                "./fr_CA": 152,
                "./fr_FR": 153,
                "./id_ID": 154,
                "./it_IT": 156,
                "./ja_JP": 157,
                "./ko_KR": 158,
                "./nl_NL": 159,
                "./no_NO": 160,
                "./pl_PL": 161,
                "./pt_BR": 162,
                "./pt_PT": 163,
                "./ru_RU": 164,
                "./sv_SE": 165,
                "./th_TH": 166,
                "./zh_CN": 167,
                "./zh_HK": 168,
                "./zh_TW": 169
            }],
            156: [function(e, t, i) {
                "use strict";
                t.exports = {
                    payingWith: "Pagamento con {{paymentSource}}",
                    chooseAnotherWayToPay: "Scegli di pagare in un altro modo",
                    chooseAWayToPay: "Scegli come pagare",
                    otherWaysToPay: "Altri modi di pagare",
                    edit: "Modifica",
                    doneEditing: "Fine",
                    editPaymentMethods: "Modifica i metodi di pagamento",
                    CreditCardDeleteConfirmationMessage: "Eliminare la carta {{secondaryIdentifier}} le cui ultime cifre sono {{identifier}}?",
                    PayPalAccountDeleteConfirmationMessage: "Eliminare il conto PayPal {{identifier}}?",
                    VenmoAccountDeleteConfirmationMessage: "Vuoi eliminare il conto Venmo con nome utente {{identifier}}?",
                    genericDeleteConfirmationMessage: "Vuoi eliminare questo metodo di pagamento?",
                    deleteCancelButton: "Annulla",
                    deleteConfirmationButton: "Rimuovi",
                    cardVerification: "Codice di sicurezza",
                    fieldEmptyForCvv: "Immetti il codice di sicurezza (CVV).",
                    fieldEmptyForExpirationDate: "Immetti la data di scadenza.",
                    fieldEmptyForCardholderName: "Immetti il nome del titolare della carta.",
                    fieldTooLongForCardholderName: "Il nome del titolare della carta deve avere meno di 256 caratteri.",
                    fieldEmptyForNumber: "Immetti il numero di carta.",
                    fieldEmptyForPostalCode: "Immetti il CAP.",
                    fieldInvalidForCvv: "Il codice di sicurezza non \xe8 valido.",
                    fieldInvalidForExpirationDate: "La data di scadenza non \xe8 valida.",
                    fieldInvalidForNumber: "Il numero di carta non \xe8 valido.",
                    fieldInvalidForPostalCode: "Il CAP non \xe8 valido.",
                    genericError: "Si \xe8 verificato un errore nei nostri sistemi.",
                    hostedFieldsTokenizationFailOnDuplicateError: "Questa carta di credito \xe8 gi\xe0 registrata come metodo di pagamento salvato.",
                    hostedFieldsFailedTokenizationError: "Controlla e riprova.",
                    hostedFieldsFieldsInvalidError: "Controlla e riprova.",
                    hostedFieldsTokenizationNetworkErrorError: "Errore di rete. Riprova.",
                    hostedFieldsTokenizationCvvVerificationFailedError: "La verifica della carta di credito non \xe8 andata a buon fine. Controlla i dati e riprova.",
                    paypalAccountTokenizationFailedError: "Si \xe8 verificato un errore nel collegamento del conto PayPal. Riprova.",
                    paypalFlowFailedError: "Si \xe8 verificato un errore di connessione a PayPal. Riprova.",
                    paypalTokenizationRequestActiveError: "L'autorizzazione di pagamento PayPal \xe8 gi\xe0 in corso.",
                    venmoCanceledError: "Si \xe8 verificato un errore. Assicurati di avere la versione pi\xf9 recente dell'app Venmo installata sul tuo dispositivo e che il browser supporti l'uso di Venmo.",
                    vaultManagerPaymentMethodDeletionError: "Impossibile eliminare il metodo di pagamento; riprova.",
                    venmoAppFailedError: "Impossibile trovare l'app Venmo sul dispositivo in uso.",
                    unsupportedCardTypeError: "Questo tipo di carta non \xe8 supportato. Prova con un'altra carta.",
                    applePayTokenizationError: "Si \xe8 verificato un errore di rete durante l'elaborazione del pagamento con Apple Pay. Riprova.",
                    applePayActiveCardError: "Collega una carta supportata al tuo Apple Pay Wallet.",
                    cardholderNameLabel: "Titolare della carta",
                    cardNumberLabel: "Numero di carta",
                    cvvLabel: "CVV",
                    cvvThreeDigitLabelSubheading: "(3 cifre)",
                    cvvFourDigitLabelSubheading: "(4 cifre)",
                    cardholderNamePlaceholder: "Titolare della carta",
                    expirationDateLabel: "Data di scadenza",
                    expirationDateLabelSubheading: "(MM/AA)",
                    expirationDatePlaceholder: "MM/AA",
                    postalCodeLabel: "CAP",
                    payWithCard: "Paga con una carta",
                    endingIn: "Le cui ultime cifre sono {{lastFourCardDigits}}",
                    "Apple Pay": "Apple Pay",
                    Venmo: "Venmo",
                    Card: "Carta",
                    PayPal: "PayPal",
                    "PayPal Credit": "PayPal Credit",
                    "Google Pay": "Google Pay",
                    "American Express": "American Express",
                    Discover: "Discover",
                    "Diners Club": "Diners Club",
                    MasterCard: "Mastercard",
                    Visa: "Visa",
                    JCB: "JCB",
                    Maestro: "Maestro",
                    UnionPay: "UnionPay"
                }
            }, {}],
            157: [function(e, t, i) {
                "use strict";
                t.exports = {
                    payingWith: "{{paymentSource}}\u3067\u652f\u6255\u3046",
                    chooseAnotherWayToPay: "\u5225\u306e\u652f\u6255\u65b9\u6cd5\u3092\u9078\u629e\u3059\u308b",
                    chooseAWayToPay: "\u652f\u6255\u65b9\u6cd5\u3092\u9078\u629e\u3059\u308b",
                    otherWaysToPay: "\u305d\u306e\u4ed6\u306e\u652f\u6255\u65b9\u6cd5",
                    edit: "\u7de8\u96c6",
                    doneEditing: "\u5b8c\u4e86",
                    editPaymentMethods: "\u652f\u6255\u65b9\u6cd5\u306e\u7de8\u96c6",
                    CreditCardDeleteConfirmationMessage: "\u672b\u5c3e\u304c{{identifier}}\u306e{{secondaryIdentifier}}\u30ab\u30fc\u30c9\u3092\u524a\u9664\u3057\u307e\u3059\u304b?",
                    PayPalAccountDeleteConfirmationMessage: "PayPal\u30a2\u30ab\u30a6\u30f3\u30c8{{identifier}}\u3092\u524a\u9664\u3057\u307e\u3059\u304b?",
                    VenmoAccountDeleteConfirmationMessage: "\u30e6\u30fc\u30b6\u30fc\u540d{{identifier}}\u306eVenmo\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u524a\u9664\u3057\u3066\u3088\u308d\u3057\u3044\u3067\u3059\u304b?",
                    genericDeleteConfirmationMessage: "\u3053\u306e\u652f\u6255\u3044\u65b9\u6cd5\u3092\u524a\u9664\u3057\u3066\u3088\u308d\u3057\u3044\u3067\u3059\u304b?",
                    deleteCancelButton: "\u30ad\u30e3\u30f3\u30bb\u30eb",
                    deleteConfirmationButton: "\u524a\u9664",
                    cardVerification: "\u30ab\u30fc\u30c9\u78ba\u8a8d",
                    fieldEmptyForCvv: "\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b3\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",
                    fieldEmptyForExpirationDate: "\u6709\u52b9\u671f\u9650\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",
                    fieldEmptyForCardholderName: "\u30ab\u30fc\u30c9\u4fdd\u6709\u8005\u306e\u540d\u524d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",
                    fieldTooLongForCardholderName: "\u30ab\u30fc\u30c9\u4fdd\u6709\u8005\u306e\u540d\u524d\u306f256\u6587\u5b57\u672a\u6e80\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",
                    fieldEmptyForNumber: "\u756a\u53f7\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",
                    fieldEmptyForPostalCode: "\u90f5\u4fbf\u756a\u53f7\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",
                    fieldInvalidForCvv: "\u3053\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b3\u30fc\u30c9\u306f\u7121\u52b9\u3067\u3059\u3002",
                    fieldInvalidForExpirationDate: "\u3053\u306e\u6709\u52b9\u671f\u9650\u306f\u7121\u52b9\u3067\u3059\u3002",
                    fieldInvalidForNumber: "\u3053\u306e\u30ab\u30fc\u30c9\u756a\u53f7\u306f\u7121\u52b9\u3067\u3059\u3002",
                    fieldInvalidForPostalCode: "\u3053\u306e\u90f5\u4fbf\u756a\u53f7\u306f\u7121\u52b9\u3067\u3059\u3002",
                    genericError: "\u5f0a\u793e\u5074\u3067\u554f\u984c\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002",
                    hostedFieldsTokenizationFailOnDuplicateError: "\u3053\u306e\u30af\u30ec\u30b8\u30c3\u30c8\u30ab\u30fc\u30c9\u306f\u3001\u4fdd\u5b58\u6e08\u307f\u306e\u652f\u6255\u65b9\u6cd5\u3068\u3057\u3066\u3059\u3067\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002",
                    hostedFieldsFailedTokenizationError: "\u60c5\u5831\u3092\u78ba\u8a8d\u3057\u3066\u3082\u3046\u4e00\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002",
                    hostedFieldsFieldsInvalidError: "\u60c5\u5831\u3092\u78ba\u8a8d\u3057\u3066\u3082\u3046\u4e00\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002",
                    hostedFieldsTokenizationNetworkErrorError: "\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a8\u30e9\u30fc\u3067\u3059\u3002\u3082\u3046\u4e00\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002",
                    hostedFieldsTokenizationCvvVerificationFailedError: "\u30af\u30ec\u30b8\u30c3\u30c8\u30ab\u30fc\u30c9\u306e\u8a8d\u8a3c\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002\u60c5\u5831\u3092\u78ba\u8a8d\u3057\u3066\u3082\u3046\u4e00\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002",
                    paypalAccountTokenizationFailedError: "PayPal\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u8ffd\u52a0\u3067\u554f\u984c\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\u3082\u3046\u4e00\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002",
                    paypalFlowFailedError: "PayPal\u3078\u306e\u63a5\u7d9a\u306b\u554f\u984c\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\u3082\u3046\u4e00\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002",
                    paypalTokenizationRequestActiveError: "PayPal\u652f\u6255\u3044\u306e\u627f\u8a8d\u306f\u3059\u3067\u306b\u51e6\u7406\u4e2d\u3067\u3059\u3002",
                    venmoCanceledError: "\u554f\u984c\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\u304a\u5ba2\u3055\u307e\u306e\u7aef\u672b\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308bVenmo\u30a2\u30d7\u30ea\u304c\u6700\u65b0\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u3042\u308b\u3053\u3068\u3001\u304a\u4f7f\u3044\u306e\u30d6\u30e9\u30a6\u30b6\u304cVenmo\u3078\u306e\u5207\u308a\u66ff\u3048\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002",
                    vaultManagerPaymentMethodDeletionError: "\u652f\u6255\u65b9\u6cd5\u3092\u524a\u9664\u3067\u304d\u307e\u305b\u3093\u3002\u3082\u3046\u4e00\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002",
                    venmoAppFailedError: "\u304a\u5ba2\u3055\u307e\u306e\u7aef\u672b\u3067Venmo\u30a2\u30d7\u30ea\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002",
                    unsupportedCardTypeError: "\u3053\u306e\u30ab\u30fc\u30c9\u30bf\u30a4\u30d7\u306f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u5225\u306e\u30ab\u30fc\u30c9\u3092\u3054\u4f7f\u7528\u304f\u3060\u3055\u3044\u3002",
                    applePayTokenizationError: "Apple Pay\u306e\u652f\u6255\u3044\u3092\u51e6\u7406\u3059\u308b\u969b\u306b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\u3082\u3046\u4e00\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002",
                    applePayActiveCardError: "Apple Pay\u30a6\u30a9\u30ec\u30c3\u30c8\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u30ab\u30fc\u30c9\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002",
                    cardholderNameLabel: "\u30ab\u30fc\u30c9\u4fdd\u6709\u8005\u306e\u540d\u524d",
                    cardNumberLabel: "\u30ab\u30fc\u30c9\u756a\u53f7",
                    cvvLabel: "\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b3\u30fc\u30c9",
                    cvvThreeDigitLabelSubheading: "(3\u6841)",
                    cvvFourDigitLabelSubheading: "(4\u6841)",
                    cardholderNamePlaceholder: "\u30ab\u30fc\u30c9\u4fdd\u6709\u8005\u306e\u540d\u524d",
                    expirationDateLabel: "\u6709\u52b9\u671f\u9650",
                    expirationDateLabelSubheading: "(MM/YY)",
                    expirationDatePlaceholder: "MM/YY",
                    postalCodeLabel: "\u90f5\u4fbf\u756a\u53f7",
                    payWithCard: "\u30ab\u30fc\u30c9\u3067\u652f\u6255\u3046",
                    endingIn: "\u672b\u5c3e\u304c{{lastFourCardDigits}}",
                    "Apple Pay": "Apple Pay",
                    Venmo: "Venmo",
                    Card: "\u30ab\u30fc\u30c9",
                    PayPal: "PayPal",
                    "PayPal Credit": "PayPal Credit",
                    "Google Pay": "Google Pay",
                    "American Express": "American Express",
                    Discover: "Discover",
                    "Diners Club": "Diners Club",
                    MasterCard: "Mastercard",
                    Visa: "Visa",
                    JCB: "JCB",
                    Maestro: "Maestro",
                    UnionPay: "\u9280\u806f(UnionPay)"
                }
            }, {}],
            158: [function(e, t, i) {
                "use strict";
                t.exports = {
                    payingWith: "{{paymentSource}}(\uc73c)\ub85c \uacb0\uc81c",
                    chooseAnotherWayToPay: "\ub2e4\ub978 \uacb0\uc81c\uc218\ub2e8 \uc120\ud0dd",
                    chooseAWayToPay: "\uacb0\uc81c\uc218\ub2e8 \uc120\ud0dd",
                    otherWaysToPay: "\ub2e4\ub978 \ubc29\ubc95\uc73c\ub85c \uacb0\uc81c",
                    edit: "\ud3b8\uc9d1",
                    doneEditing: "\uc644\ub8cc",
                    editPaymentMethods: "\uacb0\uc81c\uc218\ub2e8 \ud3b8\uc9d1",
                    CreditCardDeleteConfirmationMessage: "\ub05d\ubc88\ud638\uac00 {{identifier}}\uc778 {{secondaryIdentifier}} \uce74\ub4dc\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc5b4\uc694?",
                    PayPalAccountDeleteConfirmationMessage: "PayPal \uacc4\uc815 {{identifier}}\uc744(\ub97c) \uc0ad\uc81c\ud558\uc2dc\uaca0\uc5b4\uc694?",
                    VenmoAccountDeleteConfirmationMessage: "\uc0ac\uc6a9\uc790 \uc774\ub984\uc774 {{identifier}}\uc778 Venmo \uacc4\uc815\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc5b4\uc694?",
                    genericDeleteConfirmationMessage: "\uc774 \uacb0\uc81c\uc218\ub2e8\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc5b4\uc694?",
                    deleteCancelButton: "\ucde8\uc18c",
                    deleteConfirmationButton: "\uc0ad\uc81c",
                    cardVerification: "\uce74\ub4dc \uc778\uc99d",
                    fieldEmptyForCvv: "CVV\ub97c \uc785\ub825\ud558\uc138\uc694.",
                    fieldEmptyForExpirationDate: "\ub9cc\ub8cc\uc77c\uc744 \uc785\ub825\ud558\uc138\uc694.",
                    fieldEmptyForCardholderName: "\uce74\ub4dc \uc18c\uc720\uc790 \uc774\ub984\uc744 \uc785\ub825\ud558\uc138\uc694.",
                    fieldTooLongForCardholderName: "\uce74\ub4dc \uc18c\uc720\uc790 \uc774\ub984\uc740 256\uc790 \ubbf8\ub9cc\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4.",
                    fieldEmptyForNumber: "\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694.",
                    fieldEmptyForPostalCode: "\uc6b0\ud3b8\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694.",
                    fieldInvalidForCvv: "\uc774 \ubcf4\uc548 \ucf54\ub4dc\uac00 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.",
                    fieldInvalidForExpirationDate: "\uc774 \ub9cc\ub8cc\uc77c\uc774 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.",
                    fieldInvalidForNumber: "\uc774 \uce74\ub4dc \ubc88\ud638\uac00 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.",
                    fieldInvalidForPostalCode: "\uc774 \uc6b0\ud3b8\ubc88\ud638\uac00 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.",
                    genericError: "\uc800\ud76c \ucabd\uc5d0 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.",
                    hostedFieldsTokenizationFailOnDuplicateError: "\uc800\uc7a5\ub41c \uacb0\uc81c\uc218\ub2e8\uc5d0 \uc774\ubbf8 \uc774 \uc2e0\uc6a9\uce74\ub4dc\uac00 \uc874\uc7ac\ud569\ub2c8\ub2e4.",
                    hostedFieldsFailedTokenizationError: "\uc815\ubcf4\ub97c \ud655\uc778\ud558\uace0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694.",
                    hostedFieldsFieldsInvalidError: "\uc815\ubcf4\ub97c \ud655\uc778\ud558\uace0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694.",
                    hostedFieldsTokenizationNetworkErrorError: "\ub124\ud2b8\uc6cc\ud06c \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694.",
                    hostedFieldsTokenizationCvvVerificationFailedError: "\uc2e0\uc6a9\uce74\ub4dc \uc778\uc99d\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4. \uc815\ubcf4\ub97c \ud655\uc778\ud558\uace0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694.",
                    paypalAccountTokenizationFailedError: "PayPal \uacc4\uc815\uc744 \ucd94\uac00\ud558\ub294 \ub3d9\uc548 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694.",
                    paypalFlowFailedError: "PayPal \uacc4\uc815\uc744 \uc5f0\uacb0\ud558\ub294 \ub3d9\uc548 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694.",
                    paypalTokenizationRequestActiveError: "PayPal \uacb0\uc81c \uc2b9\uc778\uc774 \uc774\ubbf8 \uc9c4\ud589 \uc911\uc785\ub2c8\ub2e4.",
                    venmoCanceledError: "\uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \uae30\uae30\uc5d0 \ucd5c\uc2e0 \ubc84\uc804\uc758 Venmo \uc571\uc774 \uc124\uce58\ub418\uc5b4 \uc788\uc73c\uba70 \ube0c\ub77c\uc6b0\uc800\uac00 Venmo\ub85c \uc804\ud658 \uae30\ub2a5\uc744 \uc9c0\uc6d0\ud558\ub294\uc9c0 \ud655\uc778\ud558\uc138\uc694.",
                    vaultManagerPaymentMethodDeletionError: "\uacb0\uc81c\uc218\ub2e8\uc744 \uc0ad\uc81c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694.",
                    venmoAppFailedError: "\uae30\uae30\uc5d0\uc11c Venmo \uc571\uc744 \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",
                    unsupportedCardTypeError: "\uc774 \uce74\ub4dc \ud615\uc2dd\uc740 \uc9c0\uc6d0\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ub2e4\ub978 \uce74\ub4dc\ub85c \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694.",
                    applePayTokenizationError: "Apple Pay \uacb0\uc81c\ub97c \ucc98\ub9ac\ud558\ub294 \ub3d9\uc548 \ub124\ud2b8\uc6cc\ud06c \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694.",
                    applePayActiveCardError: "Apple Pay \uc804\uc790\uc9c0\uac11\uc5d0 \uc9c0\uc6d0\ub418\ub294 \uce74\ub4dc\ub97c \ucd94\uac00\ud558\uc138\uc694.",
                    cardholderNameLabel: "\uce74\ub4dc \uc18c\uc720\uc790 \uc774\ub984",
                    cardNumberLabel: "\uce74\ub4dc \ubc88\ud638",
                    cvvLabel: "CVV",
                    cvvThreeDigitLabelSubheading: "(3\uc790\ub9ac)",
                    cvvFourDigitLabelSubheading: "(4\uc790\ub9ac)",
                    cardholderNamePlaceholder: "\uce74\ub4dc \uc18c\uc720\uc790 \uc774\ub984",
                    expirationDateLabel: "\ub9cc\ub8cc\uc77c",
                    expirationDateLabelSubheading: "(MM/YY)",
                    expirationDatePlaceholder: "MM/YY",
                    postalCodeLabel: "\uc6b0\ud3b8\ubc88\ud638",
                    payWithCard: "\uce74\ub4dc\ub85c \uacb0\uc81c",
                    endingIn: "\ub05d\ubc88\ud638: {{lastFourCardDigits}}",
                    "Apple Pay": "Apple Pay",
                    Venmo: "Venmo",
                    Card: "\uce74\ub4dc",
                    PayPal: "PayPal",
                    "PayPal Credit": "PayPal Credit",
                    "Google Pay": "Google Pay",
                    "American Express": "American Express",
                    Discover: "Discover",
                    "Diners Club": "Diners Club",
                    MasterCard: "Mastercard",
                    Visa: "Visa",
                    JCB: "JCB",
                    Maestro: "Maestro",
                    UnionPay: "UnionPay"
                }
            }, {}],
            159: [function(e, t, i) {
                "use strict";
                t.exports = {
                    payingWith: "Betalen met {{paymentSource}}",
                    chooseAnotherWayToPay: "Kies een andere betaalmethode",
                    chooseAWayToPay: "Kies een betaalwijze",
                    otherWaysToPay: "Andere manieren om te betalen",
                    edit: "Bewerk",
                    doneEditing: "Gereed",
                    editPaymentMethods: "Betaalmethoden aanpassen",
                    CreditCardDeleteConfirmationMessage: "{{secondaryIdentifier}}-kaart eindigend op {{identifier}} verwijderen?",
                    PayPalAccountDeleteConfirmationMessage: "PayPal-rekening {{identifier}} verwijderen?",
                    VenmoAccountDeleteConfirmationMessage: "Weet u zeker dat u Venmo-rekening met gebruikersnaam {{identifier}} wilt verwijderen?",
                    genericDeleteConfirmationMessage: "Weet u zeker dat u deze betaalmethode wilt verwijderen?",
                    deleteCancelButton: "Annuleren",
                    deleteConfirmationButton: "Verwijderen",
                    cardVerification: "Kaartcontrole",
                    fieldEmptyForCvv: "Vul een CSC in.",
                    fieldEmptyForExpirationDate: "Vul een vervaldatum in.",
                    fieldEmptyForCardholderName: "Vul een naam voor de kaarthouder in.",
                    fieldTooLongForCardholderName: "De naam van de kaarthouder moet korter zijn dan 256 tekens.",
                    fieldEmptyForNumber: "Vul een nummer in.",
                    fieldEmptyForPostalCode: "Vul een postcode in.",
                    fieldInvalidForCvv: "Deze CSC is ongeldig.",
                    fieldInvalidForExpirationDate: "Deze vervaldatum is ongeldig.",
                    fieldInvalidForNumber: "Dit creditcardnummer is ongeldig.",
                    fieldInvalidForPostalCode: "Deze postcode is ongeldig.",
                    genericError: "Er is iets fout gegaan.",
                    hostedFieldsTokenizationFailOnDuplicateError: "Deze creditcard staat al geregistreerd als een opgeslagen betaalmethode.",
                    hostedFieldsFailedTokenizationError: "Controleer uw gegevens en probeer het opnieuw.",
                    hostedFieldsFieldsInvalidError: "Controleer uw gegevens en probeer het opnieuw.",
                    hostedFieldsTokenizationNetworkErrorError: "Netwerkfout. Probeer het opnieuw.",
                    hostedFieldsTokenizationCvvVerificationFailedError: "De controle van de creditcard is mislukt. Controleer uw gegevens en probeer het opnieuw.",
                    paypalAccountTokenizationFailedError: "Er is iets misgegaan bij het toevoegen van de PayPal-rekening. Probeer het opnieuw.",
                    paypalFlowFailedError: "Er is iets misgegaan bij de verbinding met PayPal. Probeer het opnieuw.",
                    paypalTokenizationRequestActiveError: "De autorisatie van de PayPal-betaling is al in behandeling.",
                    venmoCanceledError: "Er ging iets fout. Controleer of de meest recente versie van de Venmo-app op je apparaat is ge\xefnstalleerd en dat je browser overschakelen naar Venmo ondersteunt.",
                    vaultManagerPaymentMethodDeletionError: "Kan de betaalmethode niet verwijderen, probeer het opnieuw.",
                    venmoAppFailedError: "De Venmo-app is niet aangetroffen op je apparaat.",
                    unsupportedCardTypeError: "Dit type creditcard wordt niet ondersteund. Gebruik een andere creditcard.",
                    applePayTokenizationError: "Er is een netwerkfout opgetreden bij het verwerken van de Apple Pay-betaling. Probeer het opnieuw.",
                    applePayActiveCardError: "Voeg een ondersteunde creditcard toe aan je Apple Pay-wallet.",
                    cardholderNameLabel: "Naam kaarthouder",
                    cardNumberLabel: "Creditcardnummer",
                    cvvLabel: "CVV",
                    cvvThreeDigitLabelSubheading: "(3 cijfers)",
                    cvvFourDigitLabelSubheading: "(4 cijfers)",
                    cardholderNamePlaceholder: "Naam kaarthouder",
                    expirationDateLabel: "VervaldatumB",
                    expirationDateLabelSubheading: "(MM/JJ)",
                    expirationDatePlaceholder: "MM/JJ",
                    postalCodeLabel: "Postcode",
                    payWithCard: "Betalen met creditcard",
                    endingIn: "Eindigend op {{lastFourCardDigits}}",
                    "Apple Pay": "Apple Pay",
                    Venmo: "Venmo",
                    Card: "Creditcard",
                    PayPal: "PayPal",
                    "PayPal Credit": "PayPal Credit",
                    "Google Pay": "Google Pay",
                    "American Express": "American Express",
                    Discover: "Discover",
                    "Diners Club": "Diners Club",
                    MasterCard: "Mastercard",
                    Visa: "Visa",
                    JCB: "JCB",
                    Maestro: "Maestro",
                    UnionPay: "UnionPay"
                }
            }, {}],
            160: [function(e, t, i) {
                "use strict";
                t.exports = {
                    payingWith: "Betaling med {{paymentSource}}",
                    chooseAnotherWayToPay: "Velg en annen m\xe5te \xe5 betale p\xe5",
                    chooseAWayToPay: "Velg betalingsm\xe5te",
                    otherWaysToPay: "Andre m\xe5ter \xe5 betale p\xe5",
                    edit: "Rediger",
                    doneEditing: "Fullf\xf8rt",
                    editPaymentMethods: "Endre betalingsmetodene dine",
                    CreditCardDeleteConfirmationMessage: "Vil du slette {{secondaryIdentifier}}-kortet som slutter p\xe5 {{identifier}}?",
                    PayPalAccountDeleteConfirmationMessage: "Vil du slette PayPal-kontoen {{identifier}}?",
                    VenmoAccountDeleteConfirmationMessage: "Er du sikker p\xe5 at du vil slette Venmo-kontoen med brukernavnet {{identifier}}?",
                    genericDeleteConfirmationMessage: "Er du sikker p\xe5 at du vil slette denne betalingsmetoden?",
                    deleteCancelButton: "Avbryt",
                    deleteConfirmationButton: "Slett",
                    cardVerification: "Kortbekreftelse",
                    fieldEmptyForCvv: "Oppgi en kortsikkerhetskode (CVV).",
                    fieldEmptyForExpirationDate: "Oppgi en utl\xf8psdato.",
                    fieldEmptyForCardholderName: "Oppgi et navn for kortinnehaveren.",
                    fieldTooLongForCardholderName: "Makslengden for kortinnehaverens navn er 256 tegn.",
                    fieldEmptyForNumber: "Oppgi et nummer.",
                    fieldEmptyForPostalCode: "Oppgi et postnummer.",
                    fieldInvalidForCvv: "Denne sikkerhetskoden er ikke gyldig.",
                    fieldInvalidForExpirationDate: "Denne utl\xf8psdatoen er ikke gyldig.",
                    fieldInvalidForNumber: "Dette kortnummeret er ikke gyldig.",
                    fieldInvalidForPostalCode: "Dette postnummeret er ikke gyldig.",
                    genericError: "Noe gikk galt hos oss.",
                    hostedFieldsTokenizationFailOnDuplicateError: "Dette betalingskortet eksisterer allerede som en lagret betalingsmetode.",
                    hostedFieldsFailedTokenizationError: "Kontroller informasjonen og pr\xf8v p\xe5 nytt.",
                    hostedFieldsFieldsInvalidError: "Kontroller informasjonen og pr\xf8v p\xe5 nytt.",
                    hostedFieldsTokenizationNetworkErrorError: "Nettverksfeil. Pr\xf8v p\xe5 nytt.",
                    hostedFieldsTokenizationCvvVerificationFailedError: "Bekreftelsen av betalingskortet mislyktes. Kontroller informasjonen og pr\xf8v p\xe5 nytt.",
                    paypalAccountTokenizationFailedError: "Noe gikk galt da PayPal-kontoen ble lagt til. Pr\xf8v p\xe5 nytt.",
                    paypalFlowFailedError: "Det oppsto et problem med tilkoblingen til PayPal. Pr\xf8v p\xe5 nytt.",
                    paypalTokenizationRequestActiveError: "Godkjenning av PayPal-betalingen p\xe5g\xe5r allerede",
                    venmoCanceledError: "Noe gikk galt. Kontroller at du har installert den nyeste versjonen av Venmo-appen p\xe5 enheten og at nettleseren din st\xf8tter bytte til Venmo.",
                    vaultManagerPaymentMethodDeletionError: "Kunne ikke slette betalingsmetoden. Pr\xf8v p\xe5 nytt.",
                    venmoAppFailedError: "Finner ikke Venmo-appen p\xe5 enheten.",
                    unsupportedCardTypeError: "Denne korttypen st\xf8ttes ikke. Pr\xf8v med et annet kort.",
                    applePayTokenizationError: "Det oppsto en nettverksfeil under behandlingen av Apple Pay-betalingen. Pr\xf8v p\xe5 nytt.",
                    applePayActiveCardError: "Legg til et kort som st\xf8ttes i Apple Pay-lommeboken din.",
                    cardholderNameLabel: "Kortinnehaverens navn",
                    cardNumberLabel: "Kortnummer",
                    cvvLabel: "CVV",
                    cvvThreeDigitLabelSubheading: "(3 siffer)",
                    cvvFourDigitLabelSubheading: "(4 siffer)",
                    cardholderNamePlaceholder: "Kortinnehaverens navn",
                    expirationDateLabel: "Utl\xf8psdato",
                    expirationDateLabelSubheading: "(MM/\xc5\xc5)",
                    expirationDatePlaceholder: "MM/\xc5\xc5",
                    postalCodeLabel: "Postnummer",
                    payWithCard: "Betal med kort",
                    endingIn: "Slutter p\xe5 {{lastFourCardDigits}}",
                    "Apple Pay": "Apple Pay",
                    Venmo: "Venmo",
                    Card: "Kort",
                    PayPal: "PayPal",
                    "PayPal Credit": "PayPal Credit",
                    "Google Pay": "Google Pay",
                    "American Express": "American Express",
                    Discover: "Discover",
                    "Diners Club": "Diners Club",
                    MasterCard: "Mastercard",
                    Visa: "Visa",
                    JCB: "JCB",
                    Maestro: "Maestro",
                    UnionPay: "UnionPay"
                }
            }, {}],
            161: [function(e, t, i) {
                "use strict";
                t.exports = {
                    payingWith: "\u0179r\xf3d\u0142o finansowania p\u0142atno\u015bci: {{paymentSource}}",
                    chooseAnotherWayToPay: "Wybierz inne \u017ar\xf3d\u0142o finansowania p\u0142atno\u015bci",
                    chooseAWayToPay: "Wybierz \u017ar\xf3d\u0142o finansowania p\u0142atno\u015bci",
                    otherWaysToPay: "Inne \u017ar\xf3d\u0142a finansowania p\u0142atno\u015bci",
                    edit: "Edytuj",
                    doneEditing: "Gotowe",
                    editPaymentMethods: "Edytuj \u017ar\xf3d\u0142a finansowania p\u0142atno\u015bci",
                    CreditCardDeleteConfirmationMessage: "Usun\u0105\u0107 kart\u0119 {{secondaryIdentifier}} o numerze zako\u0144czonym cyframi {{identifier}}?",
                    PayPalAccountDeleteConfirmationMessage: "Usun\u0105\u0107 konto PayPal {{identifier}}?",
                    VenmoAccountDeleteConfirmationMessage: "Czy na pewno chcesz usun\u0105\u0107 konto Venmo z nazw\u0105 u\u017cytkownika {{identifier}}?",
                    genericDeleteConfirmationMessage: "Czy na pewno chcesz usun\u0105\u0107 to \u017ar\xf3d\u0142o finansowania p\u0142atno\u015bci?",
                    deleteCancelButton: "Anuluj",
                    deleteConfirmationButton: "Usu\u0144",
                    cardVerification: "Weryfikacja karty",
                    fieldEmptyForCvv: "Podaj kod bezpiecze\u0144stwa.",
                    fieldEmptyForExpirationDate: "Podaj dat\u0119 wa\u017cno\u015bci.",
                    fieldEmptyForCardholderName: "Podaj imi\u0119 i nazwisko posiadacza karty.",
                    fieldTooLongForCardholderName: "Imi\u0119 i nazwisko posiadacza karty musi mie\u0107 mniej ni\u017c 256 znak\xf3w.",
                    fieldEmptyForNumber: "Podaj numer.",
                    fieldEmptyForPostalCode: "Podaj kod pocztowy.",
                    fieldInvalidForCvv: "Podany kod bezpiecze\u0144stwa jest nieprawid\u0142owy.",
                    fieldInvalidForExpirationDate: "Podana data wa\u017cno\u015bci jest nieprawid\u0142owa.",
                    fieldInvalidForNumber: "Podany numer karty jest nieprawid\u0142owy.",
                    fieldInvalidForPostalCode: "Podany kod pocztowy jest nieprawid\u0142owy.",
                    genericError: "Wyst\u0105pi\u0142 b\u0142\u0105d po naszej stronie.",
                    hostedFieldsTokenizationFailOnDuplicateError: "Ta karta kredytowa jest ju\u017c zapisana jako \u017ar\xf3d\u0142o finansowania p\u0142atno\u015bci.",
                    hostedFieldsFailedTokenizationError: "Sprawd\u017a swoje informacje i spr\xf3buj ponownie.",
                    hostedFieldsFieldsInvalidError: "Sprawd\u017a swoje informacje i spr\xf3buj ponownie.",
                    hostedFieldsTokenizationNetworkErrorError: "B\u0142\u0105d sieci. Spr\xf3buj ponownie.",
                    hostedFieldsTokenizationCvvVerificationFailedError: "Weryfikacja karty kredytowej nie powiod\u0142a si\u0119. Sprawd\u017a swoje informacje i spr\xf3buj ponownie.",
                    paypalAccountTokenizationFailedError: "Co\u015b posz\u0142o nie tak podczas dodawania konta PayPal. Spr\xf3buj ponownie.",
                    paypalFlowFailedError: "Co\u015b posz\u0142o nie tak podczas \u0142\u0105czenia z systemem PayPal. Spr\xf3buj ponownie.",
                    paypalTokenizationRequestActiveError: "Autoryzacja p\u0142atno\u015bci PayPal jest ju\u017c w trakcie realizacji.",
                    venmoCanceledError: "Wyst\u0105pi\u0142 problem. Upewnij si\u0119, czy na swoim urz\u0105dzeniu masz zainstalowan\u0105 najnowsz\u0105 wersj\u0119 aplikacji Venmo i Twoja przegl\u0105darka j\u0105 obs\u0142uguje.",
                    vaultManagerPaymentMethodDeletionError: "Nie mo\u017cna usun\u0105\u0107 \u017ar\xf3d\u0142a finansowania p\u0142atno\u015bci. Spr\xf3buj ponownie.",
                    venmoAppFailedError: "Nie mo\u017cna odnale\u017a\u0107 aplikacji Venmo na urz\u0105dzeniu.",
                    unsupportedCardTypeError: "Ten typ karty nie jest obs\u0142ugiwany. Spr\xf3buj u\u017cy\u0107 innej karty.",
                    applePayTokenizationError: "Wyst\u0105pi\u0142 b\u0142\u0105d sieci podczas przetwarzania p\u0142atno\u015bci Apple Pay. Spr\xf3buj ponownie.",
                    applePayActiveCardError: "Dodaj obs\u0142ugiwan\u0105 kart\u0119 do portfela Apple Pay.",
                    cardholderNameLabel: "Imi\u0119 i nazwisko posiadacza karty",
                    cardNumberLabel: "Numer karty",
                    cvvLabel: "Kod CVC",
                    cvvThreeDigitLabelSubheading: "(3 cyfry)",
                    cvvFourDigitLabelSubheading: "(4 cyfry)",
                    cardholderNamePlaceholder: "Imi\u0119 i nazwisko posiadacza karty",
                    expirationDateLabel: "Data wa\u017cno\u015bci",
                    expirationDateLabelSubheading: "(MM/RR)",
                    expirationDatePlaceholder: "MM/RR",
                    postalCodeLabel: "Kod pocztowy",
                    payWithCard: "Zap\u0142a\u0107 kart\u0105",
                    endingIn: "O numerze zako\u0144czonym cyframi {{lastFourCardDigits}}",
                    "Apple Pay": "Apple Pay",
                    Venmo: "Venmo",
                    Card: "Karta",
                    PayPal: "PayPal",
                    "PayPal Credit": "PayPal Credit",
                    "Google Pay": "Google Pay",
                    "American Express": "American Express",
                    Discover: "Discover",
                    "Diners Club": "Diners Club",
                    MasterCard: "Mastercard",
                    Visa: "Visa",
                    JCB: "JCB",
                    Maestro: "Maestro",
                    UnionPay: "UnionPay"
                }
            }, {}],
            162: [function(e, t, i) {
                "use strict";
                t.exports = {
                    payingWith: "Pagando com {{paymentSource}}",
                    chooseAnotherWayToPay: "Escolher outro meio de pagamento",
                    chooseAWayToPay: "Escolher um meio de pagamento",
                    otherWaysToPay: "Outro meio de pagamento",
                    edit: "Editar",
                    doneEditing: "Conclu\xeddo",
                    editPaymentMethods: "Editar meios de pagamento",
                    CreditCardDeleteConfirmationMessage: "Excluir cart\xe3o com {{secondaryIdentifier}} com final {{identifier}}?",
                    PayPalAccountDeleteConfirmationMessage: "Excluir conta do PayPal {{identifier}}?",
                    VenmoAccountDeleteConfirmationMessage: "Tem certeza de que deseja excluir a conta do Venmo com o nome de usu\xe1rio {{identifier}}?",
                    genericDeleteConfirmationMessage: "Tem certeza de que deseja excluir este meio de pagamento?",
                    deleteCancelButton: "Cancelar",
                    deleteConfirmationButton: "Excluir",
                    cardVerification: "Verifica\xe7\xe3o do cart\xe3o",
                    fieldEmptyForCvv: "Informe o C\xf3digo de Seguran\xe7a.",
                    fieldEmptyForExpirationDate: "Informe a data de vencimento.",
                    fieldEmptyForCardholderName: "Informe o nome do titular do cart\xe3o.",
                    fieldTooLongForCardholderName: "O nome do titular do cart\xe3o deve ter menos de 256 caracteres.",
                    fieldEmptyForNumber: "Informe um n\xfamero.",
                    fieldEmptyForPostalCode: "Informe um CEP.",
                    fieldInvalidForCvv: "Este c\xf3digo de seguran\xe7a n\xe3o \xe9 v\xe1lido.",
                    fieldInvalidForExpirationDate: "Esta data de vencimento n\xe3o \xe9 v\xe1lida.",
                    fieldInvalidForNumber: "O n\xfamero do cart\xe3o n\xe3o \xe9 v\xe1lido.",
                    fieldInvalidForPostalCode: "Este CEP n\xe3o \xe9 v\xe1lido.",
                    genericError: "Ocorreu um erro.",
                    hostedFieldsTokenizationFailOnDuplicateError: "Este cart\xe3o de cr\xe9dito j\xe1 est\xe1 salvo em seus meios de pagamento.",
                    hostedFieldsFailedTokenizationError: "Verifique as informa\xe7\xf5es e tente novamente.",
                    hostedFieldsFieldsInvalidError: "Verifique as informa\xe7\xf5es e tente novamente.",
                    hostedFieldsTokenizationNetworkErrorError: "Erro de rede. Tente novamente.",
                    hostedFieldsTokenizationCvvVerificationFailedError: "Falha ao verificar o cart\xe3o de cr\xe9dito. Verifique as informa\xe7\xf5es e tente novamente.",
                    paypalAccountTokenizationFailedError: "Ocorreu um erro ao adicionar a conta do PayPal. Tente novamente.",
                    paypalFlowFailedError: "Ocorreu um erro de conex\xe3o com o PayPal. Tente novamente.",
                    paypalTokenizationRequestActiveError: "A autoriza\xe7\xe3o de pagamento do PayPal j\xe1 est\xe1 em andamento.",
                    venmoCanceledError: "Ocorreu um erro. Certifique-se de ter a vers\xe3o mais recente do aplicativo Venmo instalado no seu dispositivo e que o seu navegador suporte a mudan\xe7a para o Venmo.",
                    vaultManagerPaymentMethodDeletionError: "N\xe3o \xe9 poss\xedvel excluir o meio de pagamento, tente novamente.",
                    venmoAppFailedError: "N\xe3o foi poss\xedvel encontrar o aplicativo Venmo no seu dispositivo.",
                    unsupportedCardTypeError: "Este tipo de cart\xe3o n\xe3o \xe9 aceito. Experimente outro cart\xe3o.",
                    applePayTokenizationError: "Ocorreu um erro de rede ao processar o pagamento com Apple Pay. Tente novamente.",
                    applePayActiveCardError: "Adicione cart\xe3o suportado \xe0 sua carteira do Apple Pay.",
                    cardholderNameLabel: "Nome do titular do cart\xe3o",
                    cardNumberLabel: "N\xfamero do cart\xe3o",
                    cvvLabel: "CSC",
                    cvvThreeDigitLabelSubheading: "(3 d\xedgitos)",
                    cvvFourDigitLabelSubheading: "(4 d\xedgitos)",
                    cardholderNamePlaceholder: "Nome do titular do cart\xe3o",
                    expirationDateLabel: "Data de vencimento",
                    expirationDateLabelSubheading: "(MM/AA)",
                    expirationDatePlaceholder: "MM/AA",
                    postalCodeLabel: "CEP",
                    payWithCard: "Pague com seu cart\xe3o",
                    endingIn: "Com final {{lastFourCardDigits}}",
                    "Apple Pay": "Apple Pay",
                    Venmo: "Venmo",
                    Card: "Cart\xe3o",
                    PayPal: "PayPal",
                    "PayPal Credit": "PayPal Credit",
                    "Google Pay": "Google Pay",
                    "American Express": "American Express",
                    Discover: "Discover",
                    "Diners Club": "Diners Club",
                    MasterCard: "Mastercard",
                    Visa: "Visa",
                    JCB: "JCB",
                    Maestro: "Maestro",
                    UnionPay: "UnionPay"
                }
            }, {}],
            163: [function(e, t, i) {
                "use strict";
                t.exports = {
                    payingWith: "Pagar com {{paymentSource}}",
                    chooseAnotherWayToPay: "Escolher outra forma de pagamento",
                    chooseAWayToPay: "Escolha um meio de pagamento",
                    otherWaysToPay: "Outras formas de pagamento",
                    edit: "Editar",
                    doneEditing: "Conclu\xeddo",
                    editPaymentMethods: "Editar meios de pagamento",
                    CreditCardDeleteConfirmationMessage: "Eliminar o cart\xe3o {{secondaryIdentifier}} terminado em {{identifier}}?",
                    PayPalAccountDeleteConfirmationMessage: "Eliminar {{identifier}} da conta PayPal?",
                    VenmoAccountDeleteConfirmationMessage: "Tem a certeza de que pretende eliminar a conta Venmo com o nome de utilizador {{identifier}}?",
                    genericDeleteConfirmationMessage: "Tem certeza de que pretende eliminar este meio de pagamento?",
                    deleteCancelButton: "Cancelar",
                    deleteConfirmationButton: "Eliminar",
                    cardVerification: "Verifica\xe7\xe3o de cart\xe3o",
                    fieldEmptyForCvv: "Introduza o c\xf3digo CVV.",
                    fieldEmptyForExpirationDate: "Introduza a data de validade.",
                    fieldEmptyForCardholderName: "Introduza um nome do titular do cart\xe3o.",
                    fieldTooLongForCardholderName: "O nome do titular do cart\xe3o tem de ter menos de 256 carateres.",
                    fieldEmptyForNumber: "Introduza um n\xfamero.",
                    fieldEmptyForPostalCode: "Introduza o c\xf3digo postal.",
                    fieldInvalidForCvv: "Este c\xf3digo de seguran\xe7a n\xe3o \xe9 v\xe1lido.",
                    fieldInvalidForExpirationDate: "Esta data de validade n\xe3o \xe9 correta.",
                    fieldInvalidForNumber: "Este n\xfamero de cart\xe3o n\xe3o \xe9 v\xe1lido.",
                    fieldInvalidForPostalCode: "Este c\xf3digo postal n\xe3o \xe9 v\xe1lido.",
                    genericError: "Tudo indica que ocorreu um problema.",
                    hostedFieldsTokenizationFailOnDuplicateError: "Este cart\xe3o de cr\xe9dito j\xe1 est\xe1 registado como um meio de pagamento guardado.",
                    hostedFieldsFailedTokenizationError: "Verifique os dados e tente novamente.",
                    hostedFieldsFieldsInvalidError: "Verifique os dados e tente novamente.",
                    hostedFieldsTokenizationNetworkErrorError: "Erro de rede. Tente novamente.",
                    hostedFieldsTokenizationCvvVerificationFailedError: "A verifica\xe7\xe3o do cart\xe3o de cr\xe9dito falhou. Verifique os dados e tente novamente.",
                    paypalAccountTokenizationFailedError: "Ocorreu um erro ao associar a conta PayPal. Tente novamente.",
                    paypalFlowFailedError: "Ocorreu um erro na liga\xe7\xe3o com PayPal. Tente novamente.",
                    paypalTokenizationRequestActiveError: "J\xe1 h\xe1 uma autoriza\xe7\xe3o de pagamento PayPal em curso.",
                    venmoCanceledError: "Ocorreu um erro. Certifique-se de que tem a vers\xe3o mais recente da aplica\xe7\xe3o Venmo instalada no seu dispositivo e que o navegador suporta a mudan\xe7a para o Venmo.",
                    vaultManagerPaymentMethodDeletionError: "N\xe3o \xe9 poss\xedvel eliminar o meio de pagamento, tente novamente.",
                    venmoAppFailedError: "N\xe3o foi poss\xedvel encontrar a aplica\xe7\xe3o Venmo no dispositivo.",
                    unsupportedCardTypeError: "Este tipo de cart\xe3o n\xe3o \xe9 suportado. Tente usar outro cart\xe3o.",
                    applePayTokenizationError: "Ocorreu um erro de rede ao processar o pagamento com Apple Pay. Tente novamente.",
                    applePayActiveCardError: "Adicione um cart\xe3o suportado \xe0 sua carteira Apple Pay.",
                    cardholderNameLabel: "Nome do titular do cart\xe3o",
                    cardNumberLabel: "N\xfamero do cart\xe3o",
                    cvvLabel: "CVV",
                    cvvThreeDigitLabelSubheading: "(3 d\xedgitos)",
                    cvvFourDigitLabelSubheading: "(4 d\xedgitos)",
                    cardholderNamePlaceholder: "Nome do titular do cart\xe3o",
                    expirationDateLabel: "Data de validade",
                    expirationDateLabelSubheading: "(MM/AA)",
                    expirationDatePlaceholder: "MM/AA",
                    postalCodeLabel: "C\xf3digo postal",
                    payWithCard: "Pagar com cart\xe3o",
                    endingIn: "Terminado em {{lastFourCardDigits}}",
                    "Apple Pay": "Apple Pay",
                    Venmo: "Venmo",
                    Card: "Cart\xe3o",
                    PayPal: "PayPal",
                    "PayPal Credit": "PayPal Credit",
                    "Google Pay": "Google Pay",
                    "American Express": "American Express",
                    Discover: "Discover",
                    "Diners Club": "Diners Club",
                    MasterCard: "Mastercard",
                    Visa: "Visa",
                    JCB: "JCB",
                    Maestro: "Maestro",
                    UnionPay: "UnionPay"
                }
            }, {}],
            164: [function(e, t, i) {
                "use strict";
                t.exports = {
                    payingWith: "\u0421\u043f\u043e\u0441\u043e\u0431\u044b \u043e\u043f\u043b\u0430\u0442\u044b: {{paymentSource}}",
                    chooseAnotherWayToPay: "\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b",
                    chooseAWayToPay: "\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b",
                    otherWaysToPay: "\u0414\u0440\u0443\u0433\u0438\u0435 \u0441\u043f\u043e\u0441\u043e\u0431\u044b \u043e\u043f\u043b\u0430\u0442\u044b",
                    edit: "\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",
                    doneEditing: "\u0413\u043e\u0442\u043e\u0432\u043e",
                    editPaymentMethods: "\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043f\u043e\u0441\u043e\u0431\u044b \u043e\u043f\u043b\u0430\u0442\u044b",
                    CreditCardDeleteConfirmationMessage: "\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0443 {{secondaryIdentifier}}, \u043e\u043a\u0430\u043d\u0447\u0438\u0432\u0430\u044e\u0449\u0443\u044e\u0441\u044f \u043d\u0430 {{identifier}}?",
                    PayPalAccountDeleteConfirmationMessage: "\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0447\u0435\u0442 PayPal {{identifier}}?",
                    VenmoAccountDeleteConfirmationMessage: "\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0447\u0435\u0442 Venmo \u0441 \u0438\u043c\u0435\u043d\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f {{identifier}}?",
                    genericDeleteConfirmationMessage: "\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u0441\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b?",
                    deleteCancelButton: "\u041e\u0442\u043c\u0435\u043d\u0430",
                    deleteConfirmationButton: "\u0423\u0434\u0430\u043b\u0438\u0442\u044c",
                    cardVerification: "\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043a\u0430\u0440\u0442\u044b",
                    fieldEmptyForCvv: "\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043a\u043e\u0434 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438.",
                    fieldEmptyForExpirationDate: "\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0441\u0440\u043e\u043a\u0430 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f.",
                    fieldEmptyForCardholderName: "\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0438 \u0444\u0430\u043c\u0438\u043b\u0438\u044e \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u043a\u0430\u0440\u0442\u044b.",
                    fieldTooLongForCardholderName: "\u0418\u043c\u044f \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u043a\u0430\u0440\u0442\u044b \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 256 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.",
                    fieldEmptyForNumber: "\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440.",
                    fieldEmptyForPostalCode: "\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0438\u043d\u0434\u0435\u043a\u0441.",
                    fieldInvalidForCvv: "\u042d\u0442\u043e\u0442 \u043a\u043e\u0434 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u043d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d.",
                    fieldInvalidForExpirationDate: "\u042d\u0442\u0430 \u0434\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0441\u0440\u043e\u043a\u0430 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u0430.",
                    fieldInvalidForNumber: "\u042d\u0442\u043e\u0442 \u043d\u043e\u043c\u0435\u0440 \u043a\u0430\u0440\u0442\u044b \u043d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d.",
                    fieldInvalidForPostalCode: "\u042d\u0442\u043e\u0442 \u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0438\u043d\u0434\u0435\u043a\u0441 \u043d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d.",
                    genericError: "\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u043d\u0430\u0448\u0435\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u044b.",
                    hostedFieldsTokenizationFailOnDuplicateError: "\u042d\u0442\u0430 \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u0430\u044f \u043a\u0430\u0440\u0442\u0430 \u0443\u0436\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430 \u043a\u0430\u043a \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0441\u0440\u0435\u0434\u0441\u0442\u0432.",
                    hostedFieldsFailedTokenizationError: "\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.",
                    hostedFieldsFieldsInvalidError: "\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.",
                    hostedFieldsTokenizationNetworkErrorError: "\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0442\u0438. \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.",
                    hostedFieldsTokenizationCvvVerificationFailedError: "\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0431\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u043e\u0439 \u043a\u0430\u0440\u0442\u044b \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.",
                    paypalAccountTokenizationFailedError: "\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a \u2014 \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0447\u0435\u0442\u043d\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c PayPal. \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.",
                    paypalFlowFailedError: "\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a \u2014 \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u0441\u0438\u0441\u0442\u0435\u043c\u0435 PayPal. \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.",
                    paypalTokenizationRequestActiveError: "\u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u043b\u0430\u0442\u0435\u0436\u0430 PayPal.",
                    venmoCanceledError: "\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u0440\u043e\u0441\u0438\u043c \u0432\u0430\u0441 \u0443\u0431\u0435\u0434\u0438\u0442\u044c\u0441\u044f, \u0447\u0442\u043e \u0443 \u0432\u0430\u0441 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430 \u043d\u043e\u0432\u0435\u0439\u0448\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f Venmo \u0438 \u0432\u0430\u0448 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a Venmo.",
                    vaultManagerPaymentMethodDeletionError: "\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b. \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.",
                    venmoAppFailedError: "\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 Venmo \u043d\u0435 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u043e \u043d\u0430 \u0432\u0430\u0448\u0435\u043c \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0435.",
                    unsupportedCardTypeError: "\u042d\u0442\u043e\u0442 \u0442\u0438\u043f \u043a\u0430\u0440\u0442\u044b \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0434\u0440\u0443\u0433\u043e\u0439 \u043a\u0430\u0440\u0442\u043e\u0439.",
                    applePayTokenizationError: "\u041f\u0440\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u043f\u043b\u0430\u0442\u0435\u0436\u0430 \u0447\u0435\u0440\u0435\u0437 Apple Pay \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u0441\u0435\u0442\u0435\u0432\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.",
                    applePayActiveCardError: "\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u0443\u044e \u043a\u0430\u0440\u0442\u0443 \u043a \u0441\u0432\u043e\u0435\u043c\u0443 \u0441\u0447\u0435\u0442\u0443 Apple Pay.",
                    cardholderNameLabel: "\u0418\u043c\u044f \u0438 \u0444\u0430\u043c\u0438\u043b\u0438\u044f \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430",
                    cardNumberLabel: "\u041d\u043e\u043c\u0435\u0440 \u043a\u0430\u0440\u0442\u044b",
                    cvvLabel: "\u041a\u043e\u0434 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438",
                    cvvThreeDigitLabelSubheading: "(3 \u0446\u0438\u0444\u0440\u044b)",
                    cvvFourDigitLabelSubheading: "(4 \u0446\u0438\u0444\u0440\u044b)",
                    cardholderNamePlaceholder: "\u0418\u043c\u044f \u0438 \u0444\u0430\u043c\u0438\u043b\u0438\u044f \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430",
                    expirationDateLabel: "\u0421\u0440\u043e\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f",
                    expirationDateLabelSubheading: "(\u041c\u041c/\u0413\u0413)",
                    expirationDatePlaceholder: "\u041c\u041c/\u0413\u0413",
                    postalCodeLabel: "\u0418\u043d\u0434\u0435\u043a\u0441",
                    payWithCard: "\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0439",
                    endingIn: "\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u0447\u0435\u0442\u044b\u0440\u0435 \u0446\u0438\u0444\u0440\u044b \u043d\u043e\u043c\u0435\u0440\u0430 \u043a\u0430\u0440\u0442\u044b: {{lastFourCardDigits}}",
                    "Apple Pay": "Apple Pay",
                    Venmo: "Venmo",
                    Card: "\u041a\u0430\u0440\u0442\u0430",
                    PayPal: "PayPal",
                    "PayPal Credit": "PayPal Credit",
                    "Google Pay": "Google Pay",
                    "American Express": "American Express",
                    Discover: "Discover",
                    "Diners Club": "Diners Club",
                    MasterCard: "Mastercard",
                    Visa: "Visa",
                    JCB: "JCB",
                    Maestro: "Maestro",
                    UnionPay: "UnionPay"
                }
            }, {}],
            165: [function(e, t, i) {
                "use strict";
                t.exports = {
                    payingWith: "Betalas med {{paymentSource}}",
                    chooseAnotherWayToPay: "V\xe4lj ett annat s\xe4tt att betala",
                    chooseAWayToPay: "V\xe4lj hur du vill betala",
                    otherWaysToPay: "Andra s\xe4tt att betala",
                    edit: "\xc4ndra",
                    doneEditing: "Klart",
                    editPaymentMethods: "Redigera betalningsmetoder",
                    CreditCardDeleteConfirmationMessage: "Ta bort {{secondaryIdentifier}}-kort som slutar p\xe5 {{identifier}}?",
                    PayPalAccountDeleteConfirmationMessage: "Ta bort PayPal-konto {{identifier}}?",
                    VenmoAccountDeleteConfirmationMessage: "\xc4r du s\xe4ker p\xe5 att du vill ta bort Venmo-konto med anv\xe4ndarnamn {{identifier}}?",
                    genericDeleteConfirmationMessage: "\xc4r du s\xe4ker p\xe5 att du vill ta bort den h\xe4r betalningsmetoden?",
                    deleteCancelButton: "Avbryt",
                    deleteConfirmationButton: "Ta bort",
                    cardVerification: "Kortverifiering",
                    fieldEmptyForCvv: "Fyll i en CVV-kod.",
                    fieldEmptyForExpirationDate: "Fyll i ett utg\xe5ngsdatum.",
                    fieldEmptyForCardholderName: "Fyll i kortinnehavarens namn.",
                    fieldTooLongForCardholderName: "Kortinnehavarens namn m\xe5ste vara kortare \xe4n 256 tecken.",
                    fieldEmptyForNumber: "Fyll i ett nummer.",
                    fieldEmptyForPostalCode: "Fyll i ett postnummer.",
                    fieldInvalidForCvv: "Den h\xe4r s\xe4kerhetskoden \xe4r inte giltig.",
                    fieldInvalidForExpirationDate: "Det h\xe4r utg\xe5ngsdatumet \xe4r inte giltigt.",
                    fieldInvalidForNumber: "Det h\xe4r kortnumret \xe4r inte giltigt.",
                    fieldInvalidForPostalCode: "Det h\xe4r postnumret \xe4r inte giltigt.",
                    genericError: "Ett fel uppstod.",
                    hostedFieldsTokenizationFailOnDuplicateError: "Det h\xe4r betalkortet finns redan som en sparad betalningsmetod.",
                    hostedFieldsFailedTokenizationError: "Kontrollera uppgifterna och f\xf6rs\xf6k igen.",
                    hostedFieldsFieldsInvalidError: "Kontrollera uppgifterna och f\xf6rs\xf6k igen.",
                    hostedFieldsTokenizationNetworkErrorError: "N\xe4tverksfel. F\xf6rs\xf6k igen.",
                    hostedFieldsTokenizationCvvVerificationFailedError: "Verifieringen av betalkort misslyckades. Kontrollera uppgifterna och f\xf6rs\xf6k igen.",
                    paypalAccountTokenizationFailedError: "Ett fel uppstod n\xe4r PayPal-kontot skulle l\xe4ggas till. F\xf6rs\xf6k igen.",
                    paypalFlowFailedError: "Ett fel uppstod n\xe4r anslutningen till PayPal skulle uppr\xe4ttas. F\xf6rs\xf6k igen.",
                    paypalTokenizationRequestActiveError: "Betalningsgodk\xe4nnandet f\xf6r PayPal behandlas redan.",
                    venmoCanceledError: "N\xe5got gick fel. Se till att du har den senaste versionen av Venmo-appen installerad p\xe5 din enhet och att webbl\xe4saren st\xf6der att g\xe5 \xf6ver till Venmo.",
                    vaultManagerPaymentMethodDeletionError: "Det gick inte att ta bort betalningsmetoden. F\xf6rs\xf6k igen.",
                    venmoAppFailedError: "Venmo-appen kunde inte hittas p\xe5 din enhet.",
                    unsupportedCardTypeError: "Den h\xe4r korttypen st\xf6ds inte. Pr\xf6va med ett annat kort.",
                    applePayTokenizationError: "Ett n\xe4tverksfel intr\xe4ffade n\xe4r Apple Pay-betalningen skulle behandlas. F\xf6rs\xf6k igen.",
                    applePayActiveCardError: "L\xe4gg till ett kort som st\xf6ds i Apple Pay-e-pl\xe5nboken.",
                    cardholderNameLabel: "Kortinnehavarens namn",
                    cardNumberLabel: "Kortnummer",
                    cvvLabel: "CVV",
                    cvvThreeDigitLabelSubheading: "(3 siffror)",
                    cvvFourDigitLabelSubheading: "(4 siffror)",
                    cardholderNamePlaceholder: "Kortinnehavarens namn",
                    expirationDateLabel: "Utg\xe5ngsdatum",
                    expirationDateLabelSubheading: "(MM/\xc5\xc5)",
                    expirationDatePlaceholder: "MM/\xc5\xc5",
                    postalCodeLabel: "Postnummer",
                    payWithCard: "Betala med kort",
                    endingIn: "Slutar p\xe5 {{lastFourCardDigits}}",
                    "Apple Pay": "Apple Pay",
                    Venmo: "Venmo",
                    Card: "Kort",
                    PayPal: "PayPal",
                    "PayPal Credit": "PayPal Credit",
                    "Google Pay": "Google Pay",
                    "American Express": "American Express",
                    Discover: "Discover",
                    "Diners Club": "Diners Club",
                    MasterCard: "Mastercard",
                    Visa: "Visa",
                    JCB: "JCB",
                    Maestro: "Maestro",
                    UnionPay: "UnionPay"
                }
            }, {}],
            166: [function(e, t, i) {
                "use strict";
                t.exports = {
                    payingWith: "\u0e01\u0e32\u0e23\u0e0a\u0e33\u0e23\u0e30\u0e40\u0e07\u0e34\u0e19\u0e14\u0e49\u0e27\u0e22 {{paymentSource}}",
                    chooseAnotherWayToPay: "\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e27\u0e34\u0e18\u0e35\u0e2d\u0e37\u0e48\u0e19\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e0a\u0e33\u0e23\u0e30\u0e40\u0e07\u0e34\u0e19",
                    chooseAWayToPay: "\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e27\u0e34\u0e18\u0e35\u0e0a\u0e33\u0e23\u0e30\u0e40\u0e07\u0e34\u0e19",
                    otherWaysToPay: "\u0e27\u0e34\u0e18\u0e35\u0e2d\u0e37\u0e48\u0e19\u0e46 \u0e43\u0e19\u0e01\u0e32\u0e23\u0e0a\u0e33\u0e23\u0e30\u0e40\u0e07\u0e34\u0e19",
                    edit: "\u0e41\u0e01\u0e49\u0e44\u0e02",
                    doneEditing: "\u0e40\u0e2a\u0e23\u0e47\u0e08\u0e41\u0e25\u0e49\u0e27",
                    editPaymentMethods: "\u0e41\u0e01\u0e49\u0e44\u0e02\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e0a\u0e33\u0e23\u0e30\u0e40\u0e07\u0e34\u0e19",
                    CreditCardDeleteConfirmationMessage: "\u0e25\u0e1a\u0e1a\u0e31\u0e15\u0e23 {{secondaryIdentifier }} \u0e17\u0e35\u0e48\u0e25\u0e07\u0e17\u0e49\u0e32\u0e22\u0e14\u0e49\u0e27\u0e22 {{identifier}} \u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48",
                    PayPalAccountDeleteConfirmationMessage: "\u0e25\u0e1a {{identifier}} \u0e1a\u0e31\u0e0d\u0e0a\u0e35 PayPal \u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48",
                    VenmoAccountDeleteConfirmationMessage: "\u0e04\u0e38\u0e13\u0e21\u0e31\u0e48\u0e19\u0e43\u0e08\u0e27\u0e48\u0e32\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e1a\u0e31\u0e0d\u0e0a\u0e35 Venmo \u0e17\u0e35\u0e48\u0e21\u0e35\u0e0a\u0e37\u0e48\u0e2d\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49 {{identifier}} \u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48",
                    genericDeleteConfirmationMessage: "\u0e04\u0e38\u0e13\u0e21\u0e31\u0e48\u0e19\u0e43\u0e08\u0e27\u0e48\u0e32\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e0a\u0e33\u0e23\u0e30\u0e40\u0e07\u0e34\u0e19\u0e19\u0e35\u0e49\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48",
                    deleteCancelButton: "\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01",
                    deleteConfirmationButton: "\u0e25\u0e1a",
                    cardVerification: "\u0e01\u0e32\u0e23\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e1a\u0e31\u0e15\u0e23",
                    fieldEmptyForCvv: "\u0e42\u0e1b\u0e23\u0e14\u0e01\u0e23\u0e2d\u0e01 CVV (\u0e23\u0e2b\u0e31\u0e2a\u0e01\u0e32\u0e23\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e1a\u0e31\u0e15\u0e23)",
                    fieldEmptyForExpirationDate: "\u0e42\u0e1b\u0e23\u0e14\u0e01\u0e23\u0e2d\u0e01\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48\u0e2b\u0e21\u0e14\u0e2d\u0e32\u0e22\u0e38",
                    fieldEmptyForCardholderName: "\u0e42\u0e1b\u0e23\u0e14\u0e01\u0e23\u0e2d\u0e01\u0e0a\u0e37\u0e48\u0e2d\u0e40\u0e08\u0e49\u0e32\u0e02\u0e2d\u0e07\u0e1a\u0e31\u0e15\u0e23",
                    fieldTooLongForCardholderName: "\u0e0a\u0e37\u0e48\u0e2d\u0e1c\u0e39\u0e49\u0e16\u0e37\u0e2d\u0e1a\u0e31\u0e15\u0e23\u0e08\u0e30\u0e15\u0e49\u0e2d\u0e07\u0e44\u0e21\u0e48\u0e40\u0e01\u0e34\u0e19 256 \u0e2d\u0e31\u0e01\u0e02\u0e23\u0e30",
                    fieldEmptyForNumber: "\u0e42\u0e1b\u0e23\u0e14\u0e01\u0e23\u0e2d\u0e01\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e25\u0e02",
                    fieldEmptyForPostalCode: "\u0e42\u0e1b\u0e23\u0e14\u0e01\u0e23\u0e2d\u0e01\u0e23\u0e2b\u0e31\u0e2a\u0e44\u0e1b\u0e23\u0e29\u0e13\u0e35\u0e22\u0e4c",
                    fieldInvalidForCvv: "\u0e23\u0e2b\u0e31\u0e2a\u0e04\u0e27\u0e32\u0e21\u0e1b\u0e25\u0e2d\u0e14\u0e20\u0e31\u0e22\u0e19\u0e35\u0e49\u0e44\u0e21\u0e48\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07",
                    fieldInvalidForExpirationDate: "\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48\u0e2b\u0e21\u0e14\u0e2d\u0e32\u0e22\u0e38\u0e19\u0e35\u0e49\u0e44\u0e21\u0e48\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07",
                    fieldInvalidForNumber: "\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e25\u0e02\u0e1a\u0e31\u0e15\u0e23\u0e19\u0e35\u0e49\u0e44\u0e21\u0e48\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07",
                    fieldInvalidForPostalCode: "\u0e23\u0e2b\u0e31\u0e2a\u0e44\u0e1b\u0e23\u0e29\u0e13\u0e35\u0e22\u0e4c\u0e19\u0e35\u0e49\u0e44\u0e21\u0e48\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07",
                    genericError: "\u0e40\u0e01\u0e34\u0e14\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14\u0e02\u0e36\u0e49\u0e19\u0e43\u0e19\u0e23\u0e30\u0e1a\u0e1a\u0e02\u0e2d\u0e07\u0e40\u0e23\u0e32",
                    hostedFieldsTokenizationFailOnDuplicateError: "\u0e1a\u0e31\u0e15\u0e23\u0e40\u0e04\u0e23\u0e14\u0e34\u0e15\u0e19\u0e35\u0e49\u0e16\u0e39\u0e01\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e44\u0e27\u0e49\u0e40\u0e1b\u0e47\u0e19\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e0a\u0e33\u0e23\u0e30\u0e40\u0e07\u0e34\u0e19",
                    hostedFieldsFailedTokenizationError: "\u0e42\u0e1b\u0e23\u0e14\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13 \u0e41\u0e25\u0e49\u0e27\u0e25\u0e2d\u0e07\u0e43\u0e2b\u0e21\u0e48\u0e2d\u0e35\u0e01\u0e04\u0e23\u0e31\u0e49\u0e07",
                    hostedFieldsFieldsInvalidError: "\u0e42\u0e1b\u0e23\u0e14\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13 \u0e41\u0e25\u0e49\u0e27\u0e25\u0e2d\u0e07\u0e43\u0e2b\u0e21\u0e48\u0e2d\u0e35\u0e01\u0e04\u0e23\u0e31\u0e49\u0e07",
                    hostedFieldsTokenizationNetworkErrorError: "\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14\u0e14\u0e49\u0e32\u0e19\u0e40\u0e04\u0e23\u0e37\u0e2d\u0e02\u0e48\u0e32\u0e22 \u0e42\u0e1b\u0e23\u0e14\u0e25\u0e2d\u0e07\u0e2d\u0e35\u0e01\u0e04\u0e23\u0e31\u0e49\u0e07",
                    hostedFieldsTokenizationCvvVerificationFailedError: "\u0e01\u0e32\u0e23\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e1a\u0e31\u0e15\u0e23\u0e40\u0e04\u0e23\u0e14\u0e34\u0e15\u0e25\u0e49\u0e21\u0e40\u0e2b\u0e25\u0e27 \u0e42\u0e1b\u0e23\u0e14\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13 \u0e41\u0e25\u0e49\u0e27\u0e25\u0e2d\u0e07\u0e43\u0e2b\u0e21\u0e48\u0e2d\u0e35\u0e01\u0e04\u0e23\u0e31\u0e49\u0e07",
                    paypalAccountTokenizationFailedError: "\u0e40\u0e01\u0e34\u0e14\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14\u0e43\u0e19\u0e01\u0e32\u0e23\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e1a\u0e31\u0e0d\u0e0a\u0e35 PayPal \u0e42\u0e1b\u0e23\u0e14\u0e25\u0e2d\u0e07\u0e2d\u0e35\u0e01\u0e04\u0e23\u0e31\u0e49\u0e07",
                    paypalFlowFailedError: "\u0e40\u0e01\u0e34\u0e14\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14\u0e43\u0e19\u0e01\u0e32\u0e23\u0e40\u0e0a\u0e37\u0e48\u0e2d\u0e21\u0e15\u0e48\u0e2d\u0e01\u0e31\u0e1a PayPal \u0e42\u0e1b\u0e23\u0e14\u0e25\u0e2d\u0e07\u0e2d\u0e35\u0e01\u0e04\u0e23\u0e31\u0e49\u0e07",
                    paypalTokenizationRequestActiveError: "\u0e01\u0e32\u0e23\u0e2d\u0e19\u0e38\u0e0d\u0e32\u0e15\u0e01\u0e32\u0e23\u0e0a\u0e33\u0e23\u0e30\u0e40\u0e07\u0e34\u0e19\u0e02\u0e2d\u0e07 PayPal \u0e2d\u0e22\u0e39\u0e48\u0e43\u0e19\u0e23\u0e30\u0e2b\u0e27\u0e48\u0e32\u0e07\u0e14\u0e33\u0e40\u0e19\u0e34\u0e19\u0e01\u0e32\u0e23",
                    venmoCanceledError: "\u0e40\u0e01\u0e34\u0e14\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14\u0e1a\u0e32\u0e07\u0e1b\u0e23\u0e30\u0e01\u0e32\u0e23 \u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e27\u0e48\u0e32\u0e04\u0e38\u0e13\u0e21\u0e35\u0e41\u0e2d\u0e1b Venmo \u0e40\u0e27\u0e2d\u0e23\u0e4c\u0e0a\u0e31\u0e19\u0e25\u0e48\u0e32\u0e2a\u0e38\u0e14\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\u0e43\u0e19\u0e2d\u0e38\u0e1b\u0e01\u0e23\u0e13\u0e4c\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13 \u0e41\u0e25\u0e30\u0e21\u0e35\u0e40\u0e1a\u0e23\u0e32\u0e40\u0e0b\u0e2d\u0e23\u0e4c\u0e17\u0e35\u0e48\u0e23\u0e2d\u0e07\u0e23\u0e31\u0e1a Venmo",
                    vaultManagerPaymentMethodDeletionError: "\u0e44\u0e21\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e25\u0e1a\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e0a\u0e33\u0e23\u0e30\u0e40\u0e07\u0e34\u0e19\u0e44\u0e14\u0e49 \u0e25\u0e2d\u0e07\u0e2d\u0e35\u0e01\u0e04\u0e23\u0e31\u0e49\u0e07",
                    venmoAppFailedError: "\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e41\u0e2d\u0e1b Venmo \u0e1a\u0e19\u0e2d\u0e38\u0e1b\u0e01\u0e23\u0e13\u0e4c\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13",
                    unsupportedCardTypeError: "\u0e44\u0e21\u0e48\u0e23\u0e2d\u0e07\u0e23\u0e31\u0e1a\u0e1a\u0e31\u0e15\u0e23\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e19\u0e35\u0e49 \u0e42\u0e1b\u0e23\u0e14\u0e25\u0e2d\u0e07\u0e43\u0e0a\u0e49\u0e1a\u0e31\u0e15\u0e23\u0e43\u0e1a\u0e2d\u0e37\u0e48\u0e19",
                    applePayTokenizationError: "\u0e40\u0e01\u0e34\u0e14\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14\u0e14\u0e49\u0e32\u0e19\u0e40\u0e04\u0e23\u0e37\u0e2d\u0e02\u0e48\u0e32\u0e22\u0e02\u0e36\u0e49\u0e19\u0e02\u0e13\u0e30\u0e14\u0e33\u0e40\u0e19\u0e34\u0e19\u0e01\u0e32\u0e23\u0e0a\u0e33\u0e23\u0e30\u0e40\u0e07\u0e34\u0e19\u0e14\u0e49\u0e27\u0e22 Apple Pay \u0e42\u0e1b\u0e23\u0e14\u0e25\u0e2d\u0e07\u0e2d\u0e35\u0e01\u0e04\u0e23\u0e31\u0e49\u0e07",
                    applePayActiveCardError: "\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e1a\u0e31\u0e15\u0e23\u0e17\u0e35\u0e48\u0e23\u0e2d\u0e07\u0e23\u0e31\u0e1a\u0e43\u0e19\u0e01\u0e23\u0e30\u0e40\u0e1b\u0e4b\u0e32\u0e2a\u0e15\u0e32\u0e07\u0e04\u0e4c Apple Pay \u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13",
                    cardholderNameLabel: "\u0e0a\u0e37\u0e48\u0e2d\u0e40\u0e08\u0e49\u0e32\u0e02\u0e2d\u0e07\u0e1a\u0e31\u0e15\u0e23",
                    cardNumberLabel: "\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e25\u0e02\u0e1a\u0e31\u0e15\u0e23",
                    cvvLabel: "CVV",
                    cvvThreeDigitLabelSubheading: "(3 \u0e2b\u0e25\u0e31\u0e01)",
                    cvvFourDigitLabelSubheading: "(4 \u0e2b\u0e25\u0e31\u0e01)",
                    cardholderNamePlaceholder: "\u0e0a\u0e37\u0e48\u0e2d\u0e40\u0e08\u0e49\u0e32\u0e02\u0e2d\u0e07\u0e1a\u0e31\u0e15\u0e23",
                    expirationDateLabel: "\u0e27\u0e31\u0e19\u0e2b\u0e21\u0e14\u0e2d\u0e32\u0e22\u0e38",
                    expirationDateLabelSubheading: "(\u0e14\u0e14/\u0e1b\u0e1b)",
                    expirationDatePlaceholder: "\u0e14\u0e14/\u0e1b\u0e1b",
                    postalCodeLabel: "\u0e23\u0e2b\u0e31\u0e2a\u0e44\u0e1b\u0e23\u0e29\u0e13\u0e35\u0e22\u0e4c",
                    payWithCard: "\u0e0a\u0e33\u0e23\u0e30\u0e40\u0e07\u0e34\u0e19\u0e14\u0e49\u0e27\u0e22\u0e1a\u0e31\u0e15\u0e23",
                    endingIn: "\u0e25\u0e07\u0e17\u0e49\u0e32\u0e22\u0e14\u0e49\u0e27\u0e22 {{lastFourCardDigits}}",
                    "Apple Pay": "Apple Pay",
                    Venmo: "Venmo",
                    Card: "\u0e1a\u0e31\u0e15\u0e23",
                    PayPal: "PayPal",
                    "PayPal Credit": "PayPal Credit",
                    "Google Pay": "Google Pay",
                    "American Express": "American Express",
                    Discover: "Discover",
                    "Diners Club": "Diners Club",
                    MasterCard: "Mastercard",
                    Visa: "Visa",
                    JCB: "JCB",
                    Maestro: "Maestro",
                    UnionPay: "UnionPay"
                }
            }, {}],
            167: [function(e, t, i) {
                "use strict";
                t.exports = {
                    payingWith: "\u6b63\u5728\u4f7f\u7528{{paymentSource}}\u4ed8\u6b3e",
                    chooseAnotherWayToPay: "\u9009\u62e9\u5176\u4ed6\u4ed8\u6b3e\u65b9\u5f0f",
                    chooseAWayToPay: "\u9009\u62e9\u4ed8\u6b3e\u65b9\u5f0f",
                    otherWaysToPay: "\u5176\u4ed6\u4ed8\u6b3e\u65b9\u5f0f",
                    edit: "\u7f16\u8f91",
                    doneEditing: "\u5b8c\u6210",
                    editPaymentMethods: "\u7f16\u8f91\u4ed8\u6b3e\u65b9\u5f0f",
                    CreditCardDeleteConfirmationMessage: "\u5220\u9664\u5c3e\u53f7\u4e3a{{identifier}}\u7684{{secondaryIdentifier}}\u5361\uff1f",
                    PayPalAccountDeleteConfirmationMessage: "\u5220\u9664PayPal\u8d26\u6237{{identifier}}\uff1f",
                    VenmoAccountDeleteConfirmationMessage: "\u786e\u5b9a\u8981\u5220\u9664\u7528\u6237\u540d\u4e3a{{identifier}}\u7684Venmo\u8d26\u6237\u5417\uff1f",
                    genericDeleteConfirmationMessage: "\u786e\u5b9a\u8981\u5220\u9664\u8be5\u4ed8\u6b3e\u65b9\u5f0f\u5417\uff1f",
                    deleteCancelButton: "\u53d6\u6d88",
                    deleteConfirmationButton: "\u5220\u9664",
                    cardVerification: "\u5361\u9a8c\u8bc1",
                    fieldEmptyForCvv: "\u8bf7\u586b\u5199CVV\u3002",
                    fieldEmptyForExpirationDate: "\u8bf7\u586b\u5199\u6709\u6548\u671f\u9650\u3002",
                    fieldEmptyForCardholderName: "\u8bf7\u586b\u5199\u6301\u5361\u4eba\u7684\u59d3\u540d\u3002",
                    fieldTooLongForCardholderName: "\u6301\u5361\u4eba\u59d3\u540d\u5fc5\u987b\u5c11\u4e8e256\u4e2a\u5b57\u7b26\u3002",
                    fieldEmptyForNumber: "\u8bf7\u586b\u5199\u4e00\u4e2a\u53f7\u7801\u3002",
                    fieldEmptyForPostalCode: "\u8bf7\u586b\u5199\u90ae\u653f\u7f16\u7801\u3002",
                    fieldInvalidForCvv: "\u6b64\u5b89\u5168\u4ee3\u7801\u65e0\u6548\u3002",
                    fieldInvalidForExpirationDate: "\u6b64\u6709\u6548\u671f\u9650\u65e0\u6548\u3002",
                    fieldInvalidForNumber: "\u6b64\u5361\u53f7\u65e0\u6548\u3002",
                    fieldInvalidForPostalCode: "\u6b64\u90ae\u653f\u7f16\u7801\u65e0\u6548\u3002",
                    genericError: "\u6211\u4eec\u9047\u5230\u4e86\u4e00\u4e9b\u95ee\u9898",
                    hostedFieldsTokenizationFailOnDuplicateError: "\u6b64\u4fe1\u7528\u5361\u5df2\u4f5c\u4e3a\u4fdd\u5b58\u540e\u7684\u4ed8\u6b3e\u65b9\u5f0f\u5b58\u5728\u3002",
                    hostedFieldsFailedTokenizationError: "\u8bf7\u68c0\u67e5\u60a8\u7684\u4fe1\u606f\uff0c\u7136\u540e\u91cd\u8bd5\u3002",
                    hostedFieldsFieldsInvalidError: "\u8bf7\u68c0\u67e5\u60a8\u7684\u4fe1\u606f\uff0c\u7136\u540e\u91cd\u8bd5\u3002",
                    hostedFieldsTokenizationNetworkErrorError: "\u7f51\u7edc\u9519\u8bef\u3002\u8bf7\u91cd\u8bd5\u3002",
                    hostedFieldsTokenizationCvvVerificationFailedError: "\u4fe1\u7528\u5361\u9a8c\u8bc1\u5931\u8d25\u3002\u8bf7\u68c0\u67e5\u60a8\u7684\u4fe1\u606f\uff0c\u7136\u540e\u91cd\u8bd5\u3002",
                    paypalAccountTokenizationFailedError: "\u6dfb\u52a0PayPal\u8d26\u6237\u65f6\u51fa\u9519\u3002\u8bf7\u91cd\u8bd5\u3002",
                    paypalFlowFailedError: "\u8fde\u63a5\u5230PayPal\u65f6\u51fa\u9519\u3002\u8bf7\u91cd\u8bd5\u3002",
                    paypalTokenizationRequestActiveError: "PayPal\u4ed8\u6b3e\u6388\u6743\u5df2\u5728\u8fdb\u884c\u4e2d\u3002",
                    venmoCanceledError: "\u6211\u4eec\u9047\u5230\u4e86\u95ee\u9898\u3002\u8bf7\u786e\u4fdd\u60a8\u7684\u8bbe\u5907\u4e0a\u5df2\u5b89\u88c5\u6700\u65b0\u7248\u672c\u7684Venmo\u5e94\u7528\uff0c\u5e76\u4e14\u60a8\u7684\u6d4f\u89c8\u5668\u652f\u6301\u5207\u6362\u5230Venmo\u3002",
                    vaultManagerPaymentMethodDeletionError: "\u65e0\u6cd5\u5220\u9664\u4ed8\u6b3e\u65b9\u5f0f\uff0c\u8bf7\u91cd\u8bd5\u3002",
                    venmoAppFailedError: "\u5728\u60a8\u7684\u8bbe\u5907\u4e0a\u627e\u4e0d\u5230Venmo\u5e94\u7528\u3002",
                    unsupportedCardTypeError: "\u4e0d\u652f\u6301\u8be5\u5361\u7c7b\u578b\u3002\u8bf7\u5c1d\u8bd5\u5176\u4ed6\u5361\u3002",
                    applePayTokenizationError: "\u5904\u7406Apple Pay\u4ed8\u6b3e\u65f6\u51fa\u73b0\u7f51\u7edc\u9519\u8bef\u3002\u8bf7\u91cd\u8bd5\u3002",
                    applePayActiveCardError: "\u8bf7\u6dfb\u52a0\u53d7\u652f\u6301\u7684\u5361\u5230\u60a8\u7684Apple Pay\u94b1\u5305\u3002",
                    cardholderNameLabel: "\u6301\u5361\u4eba\u59d3\u540d",
                    cardNumberLabel: "\u5361\u53f7",
                    cvvLabel: "CVV",
                    cvvThreeDigitLabelSubheading: "\uff083\u4f4d\u6570\uff09",
                    cvvFourDigitLabelSubheading: "\uff084\u4f4d\u6570\uff09",
                    cardholderNamePlaceholder: "\u6301\u5361\u4eba\u59d3\u540d",
                    expirationDateLabel: "\u6709\u6548\u671f\u9650",
                    expirationDateLabelSubheading: "\uff08MM/YY\uff09",
                    expirationDatePlaceholder: "MM/YY",
                    postalCodeLabel: "\u90ae\u653f\u7f16\u7801",
                    payWithCard: "\u7528\u5361\u4ed8\u6b3e",
                    endingIn: "\u5c3e\u53f7\u4e3a{{lastFourCardDigits}}",
                    "Apple Pay": "Apple Pay",
                    Venmo: "Venmo",
                    Card: "\u5361",
                    PayPal: "PayPal",
                    "PayPal Credit": "PayPal Credit",
                    "Google Pay": "Google Pay",
                    "American Express": "American Express",
                    Discover: "Discover",
                    "Diners Club": "Diners Club",
                    MasterCard: "Mastercard",
                    Visa: "Visa",
                    JCB: "JCB",
                    Maestro: "Maestro",
                    UnionPay: "\u94f6\u8054"
                }
            }, {}],
            168: [function(e, t, i) {
                "use strict";
                t.exports = {
                    payingWith: "\u4ed8\u6b3e\u65b9\u5f0f\u70ba {{paymentSource}}",
                    chooseAnotherWayToPay: "\u9078\u64c7\u5176\u4ed6\u4ed8\u6b3e\u65b9\u5f0f",
                    chooseAWayToPay: "\u9078\u64c7\u4ed8\u6b3e\u65b9\u5f0f",
                    otherWaysToPay: "\u5176\u4ed6\u4ed8\u6b3e\u65b9\u5f0f",
                    edit: "\u7de8\u8f2f",
                    doneEditing: "\u5b8c\u6210",
                    editPaymentMethods: "\u7de8\u8f2f\u4ed8\u6b3e\u65b9\u5f0f",
                    CreditCardDeleteConfirmationMessage: "\u8981\u522a\u9664\u672b\u78bc\u70ba {{identifier}} \u7684 {{secondaryIdentifier}} \u5361\u55ce\uff1f",
                    PayPalAccountDeleteConfirmationMessage: "\u8981\u522a\u9664 PayPal \u5e33\u6236 {{identifier}} \u55ce\uff1f",
                    VenmoAccountDeleteConfirmationMessage: "\u78ba\u5b9a\u8981\u522a\u9664\u4f7f\u7528\u8005\u540d\u7a31\u70ba {{identifier}} \u7684 Venmo \u5e33\u6236\u55ce\uff1f",
                    genericDeleteConfirmationMessage: "\u78ba\u5b9a\u8981\u522a\u9664\u6b64\u4ed8\u6b3e\u65b9\u5f0f\u55ce\uff1f",
                    deleteCancelButton: "\u53d6\u6d88",
                    deleteConfirmationButton: "\u522a\u9664",
                    cardVerification: "\u4fe1\u7528\u5361\u8a8d\u8b49",
                    fieldEmptyForCvv: "\u8acb\u586b\u5beb\u4fe1\u7528\u5361\u8a8d\u8b49\u78bc\u3002",
                    fieldEmptyForExpirationDate: "\u8acb\u586b\u5beb\u5230\u671f\u65e5\u3002",
                    fieldEmptyForCardholderName: "\u8acb\u586b\u5beb\u6301\u5361\u4eba\u7684\u540d\u5b57\u3002",
                    fieldTooLongForCardholderName: "\u6301\u5361\u4eba\u59d3\u540d\u5fc5\u9808\u5c11\u65bc 256 \u500b\u5b57\u5143\u3002",
                    fieldEmptyForNumber: "\u8acb\u586b\u5beb\u865f\u78bc\u3002",
                    fieldEmptyForPostalCode: "\u8acb\u586b\u5beb\u90f5\u905e\u5340\u865f\u3002",
                    fieldInvalidForCvv: "\u6b64\u5b89\u5168\u4ee3\u78bc\u7121\u6548\u3002",
                    fieldInvalidForExpirationDate: "\u6b64\u5230\u671f\u65e5\u7121\u6548\u3002",
                    fieldInvalidForNumber: "\u6b64\u5361\u865f\u7121\u6548\u3002",
                    fieldInvalidForPostalCode: "\u6b64\u90f5\u905e\u5340\u865f\u7121\u6548\u3002",
                    genericError: "\u7cfb\u7d71\u767c\u751f\u932f\u8aa4\u3002",
                    hostedFieldsTokenizationFailOnDuplicateError: "\u6b64\u4fe1\u7528\u5361\u5df2\u5b58\u5728\uff0c\u70ba\u5df2\u5132\u5b58\u7684\u4ed8\u6b3e\u65b9\u5f0f\u3002",
                    hostedFieldsFailedTokenizationError: "\u8acb\u6aa2\u67e5\u4f60\u7684\u8cc7\u6599\u4e26\u518d\u8a66\u4e00\u6b21\u3002",
                    hostedFieldsFieldsInvalidError: "\u8acb\u6aa2\u67e5\u4f60\u7684\u8cc7\u6599\u4e26\u518d\u8a66\u4e00\u6b21\u3002",
                    hostedFieldsTokenizationNetworkErrorError: "\u7db2\u7d61\u932f\u8aa4\u3002\u518d\u8a66\u4e00\u6b21\u3002",
                    hostedFieldsTokenizationCvvVerificationFailedError: "\u4fe1\u7528\u5361\u8a8d\u8b49\u5931\u6557\u3002\u8acb\u6aa2\u67e5\u4f60\u7684\u8cc7\u6599\u4e26\u518d\u8a66\u4e00\u6b21\u3002",
                    paypalAccountTokenizationFailedError: "\u52a0\u5165 PayPal \u5e33\u6236\u6642\u767c\u751f\u932f\u8aa4\u3002\u518d\u8a66\u4e00\u6b21\u3002",
                    paypalFlowFailedError: "\u9023\u63a5 PayPal \u6642\u767c\u751f\u932f\u8aa4\u3002\u518d\u8a66\u4e00\u6b21\u3002",
                    paypalTokenizationRequestActiveError: "PayPal \u4ed8\u6b3e\u6388\u6b0a\u5df2\u5728\u8655\u7406\u4e2d\u3002",
                    venmoCanceledError: "\u7cfb\u7d71\u767c\u751f\u932f\u8aa4\uff0c\u8acb\u78ba\u4fdd\u4f60\u5df2\u5728\u88dd\u7f6e\u4e0a\u5b89\u88dd\u6700\u65b0\u7248\u672c\u7684 Venmo \u61c9\u7528\u7a0b\u5f0f\uff0c\u800c\u4e14\u4f60\u7684\u700f\u89bd\u5668\u652f\u63f4\u5207\u63db\u81f3 Venmo\u3002",
                    vaultManagerPaymentMethodDeletionError: "\u7121\u6cd5\u522a\u9664\u4ed8\u6b3e\u65b9\u5f0f\uff0c\u8acb\u518d\u8a66\u4e00\u6b21\u3002",
                    venmoAppFailedError: "\u5728\u4f60\u7684\u88dd\u7f6e\u4e0a\u627e\u4e0d\u5230 Venmo \u61c9\u7528\u7a0b\u5f0f\u3002",
                    unsupportedCardTypeError: "\u4e0d\u53ef\u4f7f\u7528\u6b64\u4fe1\u7528\u5361\u985e\u578b\u3002\u8acb\u6539\u7528\u5176\u4ed6\u4fe1\u7528\u5361\u3002",
                    applePayTokenizationError: "\u8655\u7406 Apple Pay \u4ed8\u6b3e\u6642\u767c\u751f\u7db2\u7d61\u932f\u8aa4\u3002\u518d\u8a66\u4e00\u6b21\u3002",
                    applePayActiveCardError: "\u5728 Apple Pay \u9322\u5305\u4e2d\u52a0\u5165\u652f\u63f4\u7684\u4fe1\u7528\u5361\u3002",
                    cardholderNameLabel: "\u6301\u5361\u4eba\u540d\u5b57",
                    cardNumberLabel: "\u5361\u865f",
                    cvvLabel: "\u4fe1\u7528\u5361\u8a8d\u8b49\u78bc",
                    cvvThreeDigitLabelSubheading: "\uff083 \u4f4d\u6578\uff09",
                    cvvFourDigitLabelSubheading: "\uff084 \u4f4d\u6578\uff09",
                    cardholderNamePlaceholder: "\u6301\u5361\u4eba\u540d\u5b57",
                    expirationDateLabel: "\u5230\u671f\u65e5",
                    expirationDateLabelSubheading: "(MM/YY)",
                    expirationDatePlaceholder: "\u6708 / \u5e74",
                    postalCodeLabel: "\u90f5\u905e\u5340\u865f",
                    payWithCard: "\u4f7f\u7528\u4fe1\u7528\u5361\u4ed8\u6b3e",
                    endingIn: "\u672b\u78bc\u70ba {{lastFourCardDigits}}",
                    "Apple Pay": "Apple Pay",
                    Venmo: "Venmo",
                    Card: "\u4fe1\u7528\u5361",
                    PayPal: "PayPal",
                    "PayPal Credit": "PayPal Credit",
                    "Google Pay": "Google Pay",
                    "American Express": "American Express",
                    Discover: "Discover",
                    "Diners Club": "Diners Club",
                    MasterCard: "Mastercard",
                    Visa: "Visa",
                    JCB: "JCB",
                    Maestro: "Maestro",
                    UnionPay: "UnionPay"
                }
            }, {}],
            169: [function(e, t, i) {
                "use strict";
                t.exports = {
                    payingWith: "\u4ee5 {{paymentSource}} \u4ed8\u6b3e",
                    chooseAnotherWayToPay: "\u9078\u64c7\u4ed8\u6b3e\u7684\u4ee5\u5176\u4ed6\u65b9\u5f0f\u4ed8\u6b3e",
                    chooseAWayToPay: "\u9078\u64c7\u4ed8\u6b3e\u65b9\u5f0f",
                    otherWaysToPay: "\u5176\u4ed6\u4ed8\u6b3e\u65b9\u5f0f",
                    edit: "\u7de8\u8f2f",
                    doneEditing: "\u5b8c\u6210",
                    editPaymentMethods: "\u7de8\u8f2f\u4ed8\u6b3e\u65b9\u5f0f",
                    CreditCardDeleteConfirmationMessage: "\u78ba\u5b9a\u8981\u522a\u9664\u672b\u78bc\u70ba {{identifier}} \u7684 {{secondaryIdentifier}} \u5361\u7247\u55ce\uff1f",
                    PayPalAccountDeleteConfirmationMessage: "\u78ba\u5b9a\u8981\u522a\u9664 {{identifier}} PayPal \u5e33\u6236\u55ce\uff1f",
                    VenmoAccountDeleteConfirmationMessage: "\u78ba\u5b9a\u8981\u522a\u9664\u7528\u6236\u540d\u7a31\u70ba {{identifier}} \u7684 Venmo \u5e33\u6236\u55ce\uff1f",
                    genericDeleteConfirmationMessage: "\u78ba\u5b9a\u8981\u522a\u9664\u6b64\u4ed8\u6b3e\u65b9\u5f0f\uff1f",
                    deleteCancelButton: "\u53d6\u6d88",
                    deleteConfirmationButton: "\u522a\u9664",
                    cardVerification: "\u4fe1\u7528\u5361\u8a8d\u8b49",
                    fieldEmptyForCvv: "\u8acb\u586b\u59a5\u4fe1\u7528\u5361\u9a57\u8b49\u78bc\u3002",
                    fieldEmptyForExpirationDate: "\u8acb\u586b\u59a5\u5230\u671f\u65e5\u3002",
                    fieldEmptyForCardholderName: "\u8acb\u586b\u59a5\u6301\u5361\u4eba\u59d3\u540d\u3002",
                    fieldTooLongForCardholderName: "\u6301\u5361\u4eba\u59d3\u540d\u4e0d\u80fd\u8d85\u904e 256 \u500b\u5b57\u5143\u3002",
                    fieldEmptyForNumber: "\u8acb\u586b\u59a5\u865f\u78bc\u3002",
                    fieldEmptyForPostalCode: "\u8acb\u586b\u5beb\u90f5\u905e\u5340\u865f\u3002",
                    fieldInvalidForCvv: "\u9019\u7d44\u5b89\u5168\u4ee3\u78bc\u7121\u6548\u3002",
                    fieldInvalidForExpirationDate: "\u6b64\u5230\u671f\u65e5\u7121\u6548\u3002",
                    fieldInvalidForNumber: "\u6b64\u5361\u865f\u7121\u6548\u3002",
                    fieldInvalidForPostalCode: "\u6b64\u90f5\u905e\u5340\u865f\u7121\u6548\u3002",
                    genericError: "\u6211\u5011\u7684\u7cfb\u7d71\u767c\u751f\u554f\u984c\u3002",
                    hostedFieldsTokenizationFailOnDuplicateError: "\u6b64\u4fe1\u7528\u5361\u5df2\u5b58\u5728\uff0c\u70ba\u5df2\u5132\u5b58\u7684\u4ed8\u6b3e\u65b9\u5f0f\u3002",
                    hostedFieldsFailedTokenizationError: "\u8acb\u6aa2\u67e5\u4f60\u7684\u8cc7\u6599\u4e26\u91cd\u8a66\u3002",
                    hostedFieldsFieldsInvalidError: "\u8acb\u6aa2\u67e5\u4f60\u7684\u8cc7\u6599\u4e26\u91cd\u8a66\u3002",
                    hostedFieldsTokenizationNetworkErrorError: "\u7db2\u8def\u932f\u8aa4\u3002\u8acb\u91cd\u8a66\u3002",
                    hostedFieldsTokenizationCvvVerificationFailedError: "\u4fe1\u7528\u5361\u8a8d\u8b49\u5931\u6557\u3002\u8acb\u6aa2\u67e5\u4f60\u7684\u8cc7\u6599\u4e26\u91cd\u8a66\u3002",
                    paypalAccountTokenizationFailedError: "\u65b0\u589e PayPal \u5e33\u6236\u6642\uff0c\u7cfb\u7d71\u767c\u751f\u932f\u8aa4\u3002\u8acb\u91cd\u8a66\u3002",
                    paypalFlowFailedError: "\u9023\u7d50\u81f3 PayPal \u6642\uff0c\u7cfb\u7d71\u767c\u751f\u932f\u8aa4\u3002\u8acb\u91cd\u8a66\u3002",
                    paypalTokenizationRequestActiveError: "PayPal \u652f\u4ed8\u6b3e\u9805\u7684\u6388\u6b0a\u5df2\u5728\u8655\u7406\u4e2d\u3002",
                    venmoCanceledError: "\u7cfb\u7d71\u767c\u751f\u932f\u8aa4\u3002\u78ba\u8a8d\u4f60\u7684\u88dd\u7f6e\u4e0a\u88dd\u6709\u6700\u65b0\u7248\u672c\u7684 Venmo \u61c9\u7528\u7a0b\u5f0f\uff0c\u800c\u4e14\u700f\u89bd\u5668\u652f\u63f4\u5207\u63db\u81f3 Venmo\u3002",
                    vaultManagerPaymentMethodDeletionError: "\u7121\u6cd5\u522a\u9664\u4ed8\u6b3e\u65b9\u5f0f\uff0c\u8acb\u518d\u8a66\u4e00\u6b21\u3002",
                    venmoAppFailedError: "\u4f60\u7684\u88dd\u7f6e\u4e0a\u627e\u4e0d\u5230 Venmo \u61c9\u7528\u7a0b\u5f0f\u3002",
                    unsupportedCardTypeError: "\u4e0d\u652f\u63f4\u6b64\u5361\u7247\u985e\u578b\u3002\u8acb\u6539\u7528\u5176\u4ed6\u5361\u7247\u3002",
                    applePayTokenizationError: "\u5728\u8655\u7406 Apple Pay \u4ed8\u6b3e\u6642\u767c\u751f\u7db2\u8def\u932f\u8aa4\u3002\u8acb\u91cd\u8a66\u3002",
                    applePayActiveCardError: "\u65b0\u589e\u652f\u63f4\u7684\u5361\u7247\u81f3\u4f60\u7684 Apple Pay \u9322\u5305\u3002",
                    cardholderNameLabel: "\u6301\u5361\u4eba\u59d3\u540d",
                    cardNumberLabel: "\u5361\u865f",
                    cvvLabel: "CVV",
                    cvvThreeDigitLabelSubheading: "\uff083 \u4f4d\u6578\uff09",
                    cvvFourDigitLabelSubheading: "\uff084 \u4f4d\u6578\uff09",
                    cardholderNamePlaceholder: "\u6301\u5361\u4eba\u59d3\u540d",
                    expirationDateLabel: "\u5230\u671f\u65e5",
                    expirationDateLabelSubheading: "\uff08\u6708 / \u5e74\uff09",
                    expirationDatePlaceholder: "\u6708 / \u5e74",
                    postalCodeLabel: "\u90f5\u905e\u5340\u865f",
                    payWithCard: "\u4f7f\u7528\u4fe1\u7528\u5361 / \u6263\u5e33\u5361\u4ed8\u6b3e",
                    endingIn: "\u672b\u78bc\u70ba {{lastFourCardDigits}}",
                    "Apple Pay": "Apple Pay",
                    Venmo: "Venmo",
                    Card: "\u4fe1\u7528\u5361\u6216\u6263\u5e33\u5361",
                    PayPal: "PayPal",
                    "PayPal Credit": "PayPal \u4fe1\u8cb8",
                    "Google Pay": "Google Pay",
                    "American Express": "\u7f8e\u570b\u904b\u901a (American Express)",
                    Discover: "Discover",
                    "Diners Club": "\u5927\u4f86\u570b\u969b (Diners Club)",
                    MasterCard: "Mastercard",
                    Visa: "Visa",
                    JCB: "JCB",
                    Maestro: "Maestro",
                    UnionPay: "UnionPay"
                }
            }, {}],
            170: [function(e, t, i) {
                "use strict";
                var n = e("../lib/assign").assign,
                    r = e("@braintree/class-list"),
                    a = e("../lib/dropin-error"),
                    o = e("../constants").errors,
                    s = e("../lib/promise");

                function l(e) {
                    n(this, e = e || {})
                }
                l.prototype.getElementById = function(e) {
                    return this.element ? this.element.querySelector('[data-braintree-id="' + e + '"]') : null
                }, l.prototype.requestPaymentMethod = function() {
                    return s.reject(new a(o.NO_PAYMENT_METHOD_ERROR))
                }, l.prototype.getPaymentMethod = function() {
                    return this.activeMethodView && this.activeMethodView.paymentMethod
                }, l.prototype.onSelection = function() {}, l.prototype.teardown = function() {
                    return s.resolve()
                }, l.prototype.preventUserAction = function() {
                    this.element && r.add(this.element, "braintree-sheet--loading"), this.model.preventUserAction()
                }, l.prototype.allowUserAction = function() {
                    this.element && r.remove(this.element, "braintree-sheet--loading"), this.model.allowUserAction()
                }, t.exports = l
            }, {
                "../constants": 122,
                "../lib/assign": 128,
                "../lib/dropin-error": 132,
                "../lib/promise": 140,
                "@braintree/class-list": 18
            }],
            171: [function(e, t, i) {
                "use strict";
                var n = e("./base-view"),
                    r = e("../lib/add-selection-event-handler"),
                    a = e("../constants").paymentMethodTypes;

                function o() {
                    n.apply(this, arguments), this._initialize()
                }((o.prototype = Object.create(n.prototype)).constructor = o).ID = o.prototype.ID = "delete-confirmation", o.prototype._initialize = function() {
                    this._yesButton = this.getElementById("delete-confirmation__yes"), this._noButton = this.getElementById("delete-confirmation__no"), this._messageBox = this.getElementById("delete-confirmation__message"), r(this._yesButton, (function() {
                        this.model.deleteVaultedPaymentMethod()
                    }).bind(this)), r(this._noButton, (function() {
                        this.model.cancelDeleteVaultedPaymentMethod()
                    }).bind(this))
                }, o.prototype.applyPaymentMethod = function(e) {
                    var t, i, n = this.strings[e.type + "DeleteConfirmationMessage"];
                    if (n) {
                        switch (e.type) {
                            case a.card:
                                t = e.details.lastFour, i = this.strings[i = e.details.cardType] || i;
                                break;
                            case a.paypal:
                                t = e.details.email;
                                break;
                            case a.venmo:
                                t = e.details.username
                        }
                        n = n.replace("{{identifier}}", t), i && (n = n.replace("{{secondaryIdentifier}}", i))
                    } else n = this.strings.genericDeleteConfirmationMessage;
                    this._messageBox.innerText = n
                }, t.exports = o
            }, {
                "../constants": 122,
                "../lib/add-selection-event-handler": 126,
                "./base-view": 170
            }],
            172: [function(e, t, i) {
                "use strict";
                var n = e("../lib/analytics"),
                    r = e("../constants").analyticsKinds,
                    a = e("./base-view"),
                    o = e("@braintree/class-list"),
                    s = e("./payment-sheet-views"),
                    l = e("./payment-methods-view"),
                    c = e("./payment-options-view"),
                    u = e("./delete-confirmation-view"),
                    d = e("../lib/add-selection-event-handler"),
                    h = e("../lib/promise"),
                    p = e("../lib/supports-flexbox"),
                    f = e("../constants").CHANGE_ACTIVE_PAYMENT_METHOD_TIMEOUT,
                    m = e("../constants").errors.DEVELOPER_MISCONFIGURATION_MESSAGE;

                function g() {
                    a.apply(this, arguments), this.dependenciesInitializing = 0, this._initialize()
                }

                function y(e) {
                    return "braintree-show-" + e
                }((g.prototype = Object.create(a.prototype)).constructor = g).prototype._initialize = function() {
                    var e;
                    this._hasMultiplePaymentOptions = 1 < this.model.supportedPaymentOptions.length, this._views = {}, this.sheetContainer = this.getElementById("sheet-container"), this.sheetErrorText = this.getElementById("sheet-error-text"), this.toggle = this.getElementById("toggle"), this.disableWrapper = this.getElementById("disable-wrapper"), this.lowerContainer = this.getElementById("lower-container"), this.loadingContainer = this.getElementById("loading-container"), this.dropinContainer = this.element.querySelector(".braintree-dropin"), this.supportsFlexbox = p(), this.model.on("asyncDependenciesReady", this.hideLoadingIndicator.bind(this)), this.model.on("errorOccurred", this.showSheetError.bind(this)), this.model.on("errorCleared", this.hideSheetError.bind(this)), this.model.on("preventUserAction", this.preventUserAction.bind(this)), this.model.on("allowUserAction", this.allowUserAction.bind(this)), this.paymentSheetViewIDs = Object.keys(s).reduce((function(e, t) {
                        var i, n;
                        return -1 !== this.model.supportedPaymentOptions.indexOf(t) && ((n = new(i = s[t])({
                            element: this.getElementById(i.ID),
                            mainView: this,
                            model: this.model,
                            client: this.client,
                            strings: this.strings
                        })).initialize(), this.addView(n), e.push(n.ID)), e
                    }).bind(this), []), this.paymentMethodsViews = new l({
                        element: this.element,
                        model: this.model,
                        strings: this.strings
                    }), this.addView(this.paymentMethodsViews), this.deleteConfirmationView = new u({
                        element: this.getElementById("delete-confirmation"),
                        model: this.model,
                        strings: this.strings
                    }), this.addView(this.deleteConfirmationView), d(this.toggle, this.toggleAdditionalOptions.bind(this)), this.model.on("changeActivePaymentMethod", (function() {
                        setTimeout((function() {
                            this.setPrimaryView(l.ID)
                        }).bind(this), f)
                    }).bind(this)), this.model.on("changeActivePaymentView", (function(e) {
                        var t = this.getView(e);
                        e === l.ID ? (o.add(this.paymentMethodsViews.container, "braintree-methods--active"), o.remove(this.sheetContainer, "braintree-sheet--active")) : (setTimeout((function() {
                            o.add(this.sheetContainer, "braintree-sheet--active")
                        }).bind(this), 0), o.remove(this.paymentMethodsViews.container, "braintree-methods--active"), this.getView(e).getPaymentMethod() || this.model.setPaymentMethodRequestable({
                            isRequestable: !1
                        })), t.onSelection()
                    }).bind(this)), this.model.on("removeActivePaymentMethod", (function() {
                        var e = this.getView(this.model.getActivePaymentView());
                        e && "function" == typeof e.removeActivePaymentMethod && e.removeActivePaymentMethod()
                    }).bind(this)), this.model.on("enableEditMode", this.enableEditMode.bind(this)), this.model.on("disableEditMode", this.disableEditMode.bind(this)), this.model.on("confirmPaymentMethodDeletion", this.openConfirmPaymentMethodDeletionDialog.bind(this)), this.model.on("cancelVaultedPaymentMethodDeletion", this.cancelVaultedPaymentMethodDeletion.bind(this)), this.model.on("startVaultedPaymentMethodDeletion", this.startVaultedPaymentMethodDeletion.bind(this)), this.model.on("finishVaultedPaymentMethodDeletion", this.finishVaultedPaymentMethodDeletion.bind(this)), this._hasMultiplePaymentOptions && (e = new c({
                        client: this.client,
                        element: this.getElementById(c.ID),
                        mainView: this,
                        model: this.model,
                        strings: this.strings
                    }), this.addView(e)), this._sendToDefaultView()
                }, g.prototype.addView = function(e) {
                    this._views[e.ID] = e
                }, g.prototype.getView = function(e) {
                    return this._views[e]
                }, g.prototype.setPrimaryView = function(e, t) {
                    var i;
                    setTimeout((function() {
                        this.element.className = y(e), t && o.add(this.element, y(t))
                    }).bind(this), 0), this.primaryView = this.getView(e), this.model.changeActivePaymentView(e), -1 !== this.paymentSheetViewIDs.indexOf(e) ? 0 < this.model.getPaymentMethods().length || this.getView(c.ID) ? this.showToggle() : this.hideToggle() : e === l.ID ? (this.showToggle(), this.getElementById("lower-container").appendChild(this.getElementById("options"))) : e === c.ID && this.hideToggle(), this.supportsFlexbox || this.element.setAttribute("data-braintree-no-flexbox", !0), i = this.primaryView.getPaymentMethod(), this.model.setPaymentMethodRequestable({
                        isRequestable: Boolean(i),
                        type: i && i.type,
                        selectedPaymentMethod: i
                    }), this.model.clearError()
                }, g.prototype.requestPaymentMethod = function() {
                    return this.getView(this.model.getActivePaymentView()).requestPaymentMethod().then((function(e) {
                        return n.sendEvent(this.client, "request-payment-method." + r[e.type]), e
                    }).bind(this)).catch((function(e) {
                        return n.sendEvent(this.client, "request-payment-method.error"), h.reject(e)
                    }).bind(this))
                }, g.prototype.hideLoadingIndicator = function() {
                    o.add(this.dropinContainer, "braintree-loaded"), o.add(this.loadingContainer, "braintree-hidden")
                }, g.prototype.showLoadingIndicator = function() {
                    o.remove(this.dropinContainer, "braintree-loaded"), o.remove(this.loadingContainer, "braintree-hidden")
                }, g.prototype.toggleAdditionalOptions = function() {
                    var e, t = -1 !== this.paymentSheetViewIDs.indexOf(this.primaryView.ID);
                    this.hideToggle(), this._hasMultiplePaymentOptions ? t ? 0 === this.model.getPaymentMethods().length ? this.setPrimaryView(c.ID) : (this.setPrimaryView(l.ID, c.ID), this.hideToggle()) : o.add(this.element, y(c.ID)) : (o.add(this.element, y(e = this.paymentSheetViewIDs[0])), this.model.changeActivePaymentView(e))
                }, g.prototype.showToggle = function() {
                    this.model.isInEditMode() || (o.remove(this.toggle, "braintree-hidden"), o.add(this.lowerContainer, "braintree-hidden"))
                }, g.prototype.hideToggle = function() {
                    o.add(this.toggle, "braintree-hidden"), o.remove(this.lowerContainer, "braintree-hidden")
                }, g.prototype.showSheetError = function(e) {
                    var t, i, n = this.strings.genericError;
                    t = this.strings.hasOwnProperty(e) ? this.strings[e] : e && e.code ? this.strings[(i = e.code, i.toLowerCase().replace(/(\_\w)/g, function(e) {
                        return e[1].toUpperCase()
                    }) + "Error")] || n : "developerError" === e ? m : n, o.add(this.dropinContainer, "braintree-sheet--has-error"), this.sheetErrorText.innerHTML = t
                }, g.prototype.hideSheetError = function() {
                    o.remove(this.dropinContainer, "braintree-sheet--has-error")
                }, g.prototype.getOptionsElements = function() {
                    return this._views.options.elements
                }, g.prototype.preventUserAction = function() {
                    o.remove(this.disableWrapper, "braintree-hidden")
                }, g.prototype.allowUserAction = function() {
                    o.add(this.disableWrapper, "braintree-hidden")
                }, g.prototype.teardown = function() {
                    var e, t = Object.keys(this._views).map((function(t) {
                        return this._views[t].teardown().catch(function(t) {
                            e = t
                        })
                    }).bind(this));
                    return h.all(t).then(function() {
                        return e ? h.reject(e) : h.resolve()
                    })
                }, g.prototype.enableEditMode = function() {
                    this.setPrimaryView(this.paymentMethodsViews.ID), this.paymentMethodsViews.enableEditMode(), this.hideToggle(), this.model.setPaymentMethodRequestable({
                        isRequestable: !1
                    })
                }, g.prototype.disableEditMode = function() {
                    var e;
                    this.hideSheetError(), this.paymentMethodsViews.disableEditMode(), this.showToggle(), e = this.primaryView.getPaymentMethod(), this.model.setPaymentMethodRequestable({
                        isRequestable: Boolean(e),
                        type: e && e.type,
                        selectedPaymentMethod: e
                    })
                }, g.prototype.openConfirmPaymentMethodDeletionDialog = function(e) {
                    this.deleteConfirmationView.applyPaymentMethod(e), this.setPrimaryView(this.deleteConfirmationView.ID)
                }, g.prototype.cancelVaultedPaymentMethodDeletion = function() {
                    this.setPrimaryView(this.paymentMethodsViews.ID)
                }, g.prototype.startVaultedPaymentMethodDeletion = function() {
                    this.element.className = "", this.showLoadingIndicator()
                }, g.prototype.finishVaultedPaymentMethodDeletion = function(e) {
                    var t = this;
                    return this.paymentMethodsViews.refreshPaymentMethods(), e && 0 < this.model.getPaymentMethods().length ? (this.model.enableEditMode(), this.showSheetError("vaultManagerPaymentMethodDeletionError")) : this._sendToDefaultView(), new h(function(e) {
                        setTimeout(function() {
                            t.hideLoadingIndicator(), e()
                        }, 500)
                    })
                }, g.prototype._sendToDefaultView = function() {
                    var e = this.model.getPaymentMethods();
                    0 < e.length ? !1 !== this.model.merchantConfiguration.preselectVaultedPaymentMethod ? this.model.changeActivePaymentMethod(e[0]) : this.setPrimaryView(this.paymentMethodsViews.ID) : this.setPrimaryView(this._hasMultiplePaymentOptions ? c.ID : this.paymentSheetViewIDs[0])
                }, t.exports = g
            }, {
                "../constants": 122,
                "../lib/add-selection-event-handler": 126,
                "../lib/analytics": 127,
                "../lib/promise": 140,
                "../lib/supports-flexbox": 142,
                "./base-view": 170,
                "./delete-confirmation-view": 171,
                "./payment-methods-view": 174,
                "./payment-options-view": 175,
                "./payment-sheet-views": 180,
                "@braintree/class-list": 18
            }],
            173: [function(e, t, i) {
                "use strict";
                var n = e("./base-view"),
                    r = e("@braintree/class-list"),
                    a = e("../constants"),
                    o = e("../lib/add-selection-event-handler");

                function s() {
                    n.apply(this, arguments), this._initialize()
                }((s.prototype = Object.create(n.prototype)).constructor = s).prototype._initialize = function() {
                    var e, t = '<div class="braintre-method__icon-container braintree-method__delete-container">\n  <div class="braintree-method__icon braintree-method__delete">\n    <svg width="48" height="29">\n      <use xlink:href="#iconX"></use>\n    </svg>\n  </div>\n  <div class="braintree-method__disabled-description">@DISABLE_MESSAGE</div>\n</div>\n\n<div class="braintree-method__logo">\n  <svg width="40" height="24" class="@CLASSNAME">\n    <use xlink:href="#@ICON"></use>\n  </svg>\n</div>\n\n<div class="braintree-method__label">@TITLE<br><div class="braintree-method__label--small">@SUBTITLE</div></div>\n\n<div class="braintre-method__icon-container braintree-method__check-container">\n  <div class="braintree-method__icon braintree-method__check">\n    <svg height="100%" width="100%">\n      <use xlink:href="#iconCheck"></use>\n    </svg>\n  </div>\n</div>\n',
                        i = a.paymentMethodCardTypes,
                        n = a.paymentMethodTypes;
                    switch (this.element = document.createElement("div"), this.element.className = "braintree-method", this.element.setAttribute("tabindex", "0"), o(this.element, this._choosePaymentMethod.bind(this)), t = t.replace(/@DISABLE_MESSAGE/g, this.strings.hasSubscription), this.paymentMethod.type) {
                        case n.applePay:
                            t = t.replace(/@ICON/g, "logoApplePay").replace(/@CLASSNAME/g, "").replace(/@TITLE/g, this.strings["Apple Pay"]).replace(/@SUBTITLE/g, "");
                            break;
                        case n.card:
                            e = this.strings.endingIn.replace("{{lastFourCardDigits}}", this.paymentMethod.details.lastFour), t = t.replace(/@ICON/g, "icon-" + i[this.paymentMethod.details.cardType]).replace(/@CLASSNAME/g, " braintree-icon--bordered").replace(/@TITLE/g, e).replace(/@SUBTITLE/g, this.strings[this.paymentMethod.details.cardType]);
                            break;
                        case n.googlePay:
                            t = t.replace(/@ICON/g, "logoGooglePay").replace(/@CLASSNAME/g, "").replace(/@TITLE/g, this.strings["Google Pay"]).replace(/@SUBTITLE/g, "");
                            break;
                        case n.paypal:
                            t = t.replace(/@ICON/g, "logoPayPal").replace(/@CLASSNAME/g, "").replace(/@TITLE/g, this.paymentMethod.details.email).replace(/@SUBTITLE/g, this.strings.PayPal);
                            break;
                        case n.venmo:
                            t = t.replace(/@ICON/g, "logoVenmo").replace(/@CLASSNAME/g, "").replace(/@TITLE/g, this.paymentMethod.details.username).replace(/@SUBTITLE/g, this.strings.Venmo)
                    }
                    this.element.innerHTML = t, this.checkMark = this.element.querySelector(".braintree-method__check-container"), o(this.element.querySelector(".braintree-method__delete-container"), this._selectDelete.bind(this))
                }, s.prototype.setActive = function(e) {
                    setTimeout((function() {
                        r.toggle(this.element, "braintree-method--active", e)
                    }).bind(this), 0)
                }, s.prototype.enableEditMode = function() {
                    r.add(this.checkMark, "braintree-hidden"), this.paymentMethod.hasSubscription && r.add(this.element, "braintree-method--disabled")
                }, s.prototype.disableEditMode = function() {
                    r.remove(this.checkMark, "braintree-hidden"), r.remove(this.element, "braintree-method--disabled")
                }, s.prototype._choosePaymentMethod = function() {
                    this.model.isInEditMode() || this.model.changeActivePaymentMethod(this.paymentMethod)
                }, s.prototype._selectDelete = function() {
                    this.model.confirmPaymentMethodDeletion(this.paymentMethod)
                }, t.exports = s
            }, {
                "../constants": 122,
                "../lib/add-selection-event-handler": 126,
                "./base-view": 170,
                "@braintree/class-list": 18
            }],
            174: [function(e, t, i) {
                "use strict";
                var n = e("./base-view"),
                    r = e("./payment-method-view"),
                    a = e("../lib/dropin-error"),
                    o = e("@braintree/class-list"),
                    s = e("../constants").errors,
                    l = e("../lib/promise"),
                    c = e("../lib/add-selection-event-handler"),
                    u = {
                        CreditCard: "Card",
                        PayPalAccount: "PayPal",
                        ApplePayCard: "Apple Pay",
                        AndroidPayCard: "Google Pay",
                        VenmoAccount: "Venmo"
                    };

                function d() {
                    n.apply(this, arguments), this._initialize()
                }((d.prototype = Object.create(n.prototype)).constructor = d).ID = d.prototype.ID = "methods", d.prototype._initialize = function() {
                    this.views = [], this.container = this.getElementById("methods-container"), this._headingLabel = this.getElementById("methods-label"), this._editButton = this.getElementById("methods-edit"), this.model.on("addPaymentMethod", this._addPaymentMethod.bind(this)), this.model.on("changeActivePaymentMethod", this._changeActivePaymentMethodView.bind(this)), this.model.on("refreshPaymentMethods", this.refreshPaymentMethods.bind(this)), this.refreshPaymentMethods(), this.model.merchantConfiguration.vaultManager && (this.model.on("removePaymentMethod", this._removePaymentMethod.bind(this)), c(this._editButton, (function() {
                        this.model.isInEditMode() ? this.model.disableEditMode() : this.model.enableEditMode()
                    }).bind(this)), o.remove(this._editButton, "braintree-hidden"))
                }, d.prototype.removeActivePaymentMethod = function() {
                    this.activeMethodView && (this.activeMethodView.setActive(!1), this.activeMethodView = null, o.add(this._headingLabel, "braintree-no-payment-method-selected"))
                }, d.prototype._getPaymentMethodString = function() {
                    return this.activeMethodView ? this.strings.payingWith.replace("{{paymentSource}}", this.strings[u[this.activeMethodView.paymentMethod.type]]) : ""
                }, d.prototype.enableEditMode = function() {
                    o.add(this.container, "braintree-methods--edit"), this._editButton.innerHTML = this.strings.deleteCancelButton, this._headingLabel.innerHTML = this.strings.editPaymentMethods, this.views.forEach(function(e) {
                        e.enableEditMode()
                    })
                }, d.prototype.disableEditMode = function() {
                    o.remove(this.container, "braintree-methods--edit"), this._editButton.innerHTML = this.strings.edit, this._headingLabel.innerHTML = this._getPaymentMethodString(), this.views.forEach(function(e) {
                        e.disableEditMode()
                    })
                }, d.prototype._addPaymentMethod = function(e) {
                    var t = new r({
                        model: this.model,
                        paymentMethod: e,
                        strings: this.strings
                    });
                    this.model.isGuestCheckout && this.container.firstChild && (this.container.removeChild(this.container.firstChild), this.views.pop()), this.container.firstChild ? this.container.insertBefore(t.element, this.container.firstChild) : this.container.appendChild(t.element), this.views.push(t)
                }, d.prototype._removePaymentMethod = function(e) {
                    var t;
                    for (t = 0; t < this.views.length; t++)
                        if (this.views[t].paymentMethod === e) {
                            this.container.removeChild(this.views[t].element), this._headingLabel.innerHTML = "&nbsp;", this.views.splice(t, 1);
                            break
                        }
                }, d.prototype._changeActivePaymentMethodView = function(e) {
                    var t, i = this.activeMethodView;
                    for (t = 0; t < this.views.length; t++)
                        if (this.views[t].paymentMethod === e) {
                            this.activeMethodView = this.views[t], this._headingLabel.innerHTML = this._getPaymentMethodString();
                            break
                        } i && i.setActive(!1), this.activeMethodView.setActive(!0), o.remove(this._headingLabel, "braintree-no-payment-method-selected")
                }, d.prototype.requestPaymentMethod = function() {
                    return !this.activeMethodView || this.model.isInEditMode() ? l.reject(new a(s.NO_PAYMENT_METHOD_ERROR)) : l.resolve(this.activeMethodView.paymentMethod)
                }, d.prototype.refreshPaymentMethods = function() {
                    var e, t = this.model.getPaymentMethods();
                    for (this.views.forEach((function(e) {
                            this.container.removeChild(e.element)
                        }).bind(this)), this.views = [], e = t.length - 1; 0 <= e; e--) this._addPaymentMethod(t[e])
                }, t.exports = d
            }, {
                "../constants": 122,
                "../lib/add-selection-event-handler": 126,
                "../lib/dropin-error": 132,
                "../lib/promise": 140,
                "./base-view": 170,
                "./payment-method-view": 173,
                "@braintree/class-list": 18
            }],
            175: [function(e, t, i) {
                "use strict";
                var n = e("../lib/analytics"),
                    r = e("../lib/add-selection-event-handler"),
                    a = e("./base-view"),
                    o = e("../constants").paymentOptionIDs;

                function s() {
                    a.apply(this, arguments), this._initialize()
                }((s.prototype = Object.create(a.prototype)).constructor = s).ID = s.prototype.ID = "options", s.prototype._initialize = function() {
                    this.container = this.getElementById("payment-options-container"), this.elements = {}, this.model.supportedPaymentOptions.forEach((function(e) {
                        this._addPaymentOption(e)
                    }).bind(this))
                }, s.prototype._addPaymentOption = function(e) {
                    var t, i = document.createElement("div"),
                        a = '<div class="braintree-option__logo">\n  <svg width="48" height="29" class="@CLASSNAME">\n    <use xlink:href="#@ICON"></use>\n  </svg>\n</div>\n\n<div class="braintree-option__label" aria-label="@OPTION_LABEL">\n  @OPTION_TITLE\n  <div class="braintree-option__disabled-message"></div>\n</div>\n',
                        s = (function() {
                            this.mainView.setPrimaryView(e), this.model.selectPaymentOption(e), n.sendEvent(this.client, "selected." + o[e])
                        }).bind(this);
                    switch (i.className = "braintree-option braintree-option__" + e, i.setAttribute("tabindex", "0"), e) {
                        case o.applePay:
                            t = this.strings["Apple Pay"], a = a.replace(/@ICON/g, "logoApplePay");
                            break;
                        case o.card:
                            t = this.strings.Card, a = (a = a.replace(/@ICON/g, "iconCardFront")).replace(/@CLASSNAME/g, "braintree-icon--bordered");
                            break;
                        case o.googlePay:
                            t = this.strings["Google Pay"], a = a.replace(/@ICON/g, "logoGooglePay");
                            break;
                        case o.paypal:
                            t = this.strings.PayPal, a = a.replace(/@ICON/g, "logoPayPal");
                            break;
                        case o.paypalCredit:
                            t = this.strings["PayPal Credit"], a = a.replace(/@ICON/g, "logoPayPalCredit");
                            break;
                        case o.venmo:
                            t = this.strings.Venmo, a = a.replace(/@ICON/g, "logoVenmo")
                    }
                    a = (a = (a = a.replace(/@OPTION_LABEL/g, this._generateOptionLabel(t))).replace(/@OPTION_TITLE/g, t)).replace(/@CLASSNAME/g, ""), i.innerHTML = a, r(i, s), this.container.appendChild(i), this.elements[e] = {
                        div: i,
                        clickHandler: s
                    }
                }, s.prototype._generateOptionLabel = function(e) {
                    return this.strings.payingWith.replace("{{paymentSource}}", e)
                }, t.exports = s
            }, {
                "../constants": 122,
                "../lib/add-selection-event-handler": 126,
                "../lib/analytics": 127,
                "./base-view": 170
            }],
            176: [function(e, t, i) {
                (function(i) {
                    "use strict";
                    var n = e("../../lib/assign").assign,
                        r = e("../base-view"),
                        a = e("braintree-web/apple-pay"),
                        o = e("../../lib/dropin-error"),
                        s = e("../../lib/is-https"),
                        l = e("../../lib/promise"),
                        c = e("../../constants").paymentOptionIDs;

                    function u() {
                        r.apply(this, arguments)
                    }((u.prototype = Object.create(r.prototype)).constructor = u).ID = u.prototype.ID = c.applePay, u.prototype.initialize = function() {
                        var e = this;
                        return e.applePayConfiguration = n({}, e.model.merchantConfiguration.applePay), e.model.asyncDependencyStarting(), a.create({
                            client: this.client
                        }).then(function(t) {
                            var n = e.getElementById("apple-pay-button");
                            e.applePayInstance = t, e.model.on("changeActivePaymentView", function(t) {
                                t === e.ID && i.ApplePaySession.canMakePaymentsWithActiveCard(e.applePayInstance.merchantIdentifier).then(function(t) {
                                    t || e.model.reportError("applePayActiveCardError")
                                })
                            }), n.onclick = e._showPaymentSheet.bind(e), n.style["-apple-pay-button-style"] = e.model.merchantConfiguration.applePay.buttonStyle || "black", e.model.asyncDependencyReady()
                        }).catch(function(t) {
                            e.model.asyncDependencyFailed({
                                view: e.ID,
                                error: new o(t)
                            })
                        })
                    }, u.prototype._showPaymentSheet = function() {
                        var e = this,
                            t = e.applePayInstance.createPaymentRequest(this.applePayConfiguration.paymentRequest),
                            n = new i.ApplePaySession(2, t);
                        return n.onvalidatemerchant = function(t) {
                            e.applePayInstance.performValidation({
                                validationURL: t.validationURL,
                                displayName: e.applePayConfiguration.displayName
                            }).then(function(e) {
                                n.completeMerchantValidation(e)
                            }).catch(function(t) {
                                e.model.reportError(t), n.abort()
                            })
                        }, n.onpaymentauthorized = function(t) {
                            e.applePayInstance.tokenize({
                                token: t.payment.token
                            }).then(function(r) {
                                n.completePayment(i.ApplePaySession.STATUS_SUCCESS), r.payment = t.payment, e.model.addPaymentMethod(r)
                            }).catch(function(t) {
                                e.model.reportError(t), n.completePayment(i.ApplePaySession.STATUS_FAILURE)
                            })
                        }, n.begin(), !1
                    }, u.prototype.updateConfiguration = function(e, t) {
                        this.applePayConfiguration[e] = t
                    }, u.isEnabled = function(e) {
                        return e.client.getConfiguration().gatewayConfiguration.applePayWeb && Boolean(e.merchantConfiguration.applePay) && i.ApplePaySession && s.isHTTPS() ? l.resolve(Boolean(i.ApplePaySession.canMakePayments())) : l.resolve(!1)
                    }, t.exports = u
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {
                "../../constants": 122,
                "../../lib/assign": 128,
                "../../lib/dropin-error": 132,
                "../../lib/is-https": 136,
                "../../lib/promise": 140,
                "../base-view": 170,
                "braintree-web/apple-pay": 29
            }],
            177: [function(e, t, i) {
                (function(i) {
                    "use strict";
                    var n, r = e("../../lib/analytics"),
                        a = e("../../lib/assign").assign,
                        o = e("../../lib/browser-detection"),
                        s = e("../base-view"),
                        l = e("braintree-web/paypal-checkout"),
                        c = e("../../lib/dropin-error"),
                        u = e("../../constants"),
                        d = e("@braintree/asset-loader"),
                        h = e("../../translations").fiveCharacterLocales,
                        p = e("../../lib/promise"),
                        f = ["offerCredit", "locale"];

                    function m() {
                        s.apply(this, arguments)
                    }(m.prototype = Object.create(s.prototype)).initialize = function() {
                        var e, t = Boolean(this._isPayPalCredit),
                            n = !1,
                            r = this;
                        return this.paypalConfiguration = a({}, this.model.merchantConfiguration[t ? "paypalCredit" : "paypal"]), this.model.asyncDependencyStarting(), e = setTimeout(function() {
                            r.model.asyncDependencyFailed({
                                view: r.ID,
                                error: new c("There was an error connecting to PayPal.")
                            })
                        }, 3e4), l.create({
                            client: this.client
                        }).then(function(a) {
                            var s, l = '[data-braintree-id="paypal-button"]',
                                c = "production" === r.client.getConfiguration().gatewayConfiguration.environment ? "production" : "sandbox",
                                u = r.model.merchantConfiguration.locale;
                            return r.paypalInstance = a, r.paypalConfiguration.offerCredit = Boolean(t), s = {
                                env: c,
                                style: r.paypalConfiguration.buttonStyle || {},
                                commit: r.paypalConfiguration.commit,
                                payment: function() {
                                    return a.createPayment(r.paypalConfiguration).catch(o)
                                },
                                onAuthorize: function(e) {
                                    return a.tokenizePayment(e).then(function(e) {
                                        "vault" !== r.paypalConfiguration.flow || r.model.isGuestCheckout || (e.vaulted = !0), r.model.addPaymentMethod(e)
                                    }).catch(o)
                                },
                                onError: o
                            }, u && u in h && (r.paypalConfiguration.locale = u, s.locale = u), t ? (l = '[data-braintree-id="paypal-credit-button"]', s.style.label = "credit") : s.funding = {
                                disallowed: [i.paypal.FUNDING.CREDIT]
                            }, i.paypal.Button.render(s, l).then(function() {
                                r.model.asyncDependencyReady(), n = !0, clearTimeout(e)
                            })
                        }).catch(o);

                        function o(t) {
                            n ? r.model.reportError(t) : (r.model.asyncDependencyFailed({
                                view: r.ID,
                                error: t
                            }), clearTimeout(e))
                        }
                    }, m.prototype.updateConfiguration = function(e, t) {
                        -1 === f.indexOf(e) && (this.paypalConfiguration[e] = t)
                    }, m.isEnabled = function(e) {
                        return e.client.getConfiguration().gatewayConfiguration.paypalEnabled ? o.isIe9() || o.isIe10() ? (r.sendEvent(e.client, e.viewID + ".checkout.js-browser-not-supported"), p.resolve(!1)) : i.paypal && i.paypal.Button ? p.resolve(!0) : n || (n = d.loadScript({
                            src: u.CHECKOUT_JS_SOURCE,
                            id: u.PAYPAL_CHECKOUT_SCRIPT_ID,
                            dataAttributes: {
                                "log-level": e.merchantConfiguration.paypal.logLevel || "warn"
                            }
                        }).then(function() {
                            return p.resolve(!0)
                        }).catch(function() {
                            return p.resolve(!1)
                        }).then(function(e) {
                            return n = null, p.resolve(e)
                        })) : p.resolve(!1)
                    }, t.exports = m
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {
                "../../constants": 122,
                "../../lib/analytics": 127,
                "../../lib/assign": 128,
                "../../lib/browser-detection": 129,
                "../../lib/dropin-error": 132,
                "../../lib/promise": 140,
                "../../translations": 155,
                "../base-view": 170,
                "@braintree/asset-loader": 1,
                "braintree-web/paypal-checkout": 98
            }],
            178: [function(e, t, i) {
                "use strict";
                var n = e("../../lib/assign").assign,
                    r = e("../base-view"),
                    a = e("@braintree/class-list"),
                    o = e("../../constants"),
                    s = e("../../lib/dropin-error"),
                    l = e("braintree-web/hosted-fields"),
                    c = e("../../lib/is-utf-8"),
                    u = e("../../lib/transition-helper"),
                    d = e("../../lib/promise");

                function h() {
                    r.apply(this, arguments)
                }

                function p(e) {
                    return -1 !== e.id.indexOf("braintree__card-view-input")
                }

                function f(e) {
                    return e.isEmpty && m()
                }

                function m() {
                    var e = document.activeElement && document.activeElement.id;
                    return document.activeElement instanceof HTMLIFrameElement && -1 !== e.indexOf("braintree-hosted-field") || p(document.activeElement)
                }

                function g(e) {
                    return e.replace(/([a-z])([A-Z])/g, "$1-$2").toLowerCase()
                }

                function y(e) {
                    return e[0].toUpperCase() + e.substr(1)
                }

                function v(e) {
                    var t = c() ? "\u2022" : "*";
                    return Array(e + 1).join(t)
                }((h.prototype = Object.create(r.prototype)).constructor = h).ID = h.prototype.ID = o.paymentOptionIDs.card, h.prototype.initialize = function() {
                    var e, t, i = this.getElementById("cardholder-name-field-group"),
                        n = this.getElementById("card-view-icons"),
                        r = this._generateHostedFieldsOptions();
                    return n.innerHTML = '<div data-braintree-id="visa-card-icon" class="braintree-sheet__card-icon">\n    <svg width="40" height="24">\n        <use xlink:href="#icon-visa"></use>\n    </svg>\n</div>\n<div data-braintree-id="master-card-card-icon" class="braintree-sheet__card-icon">\n    <svg width="40" height="24">\n        <use xlink:href="#icon-master-card"></use>\n    </svg>\n</div>\n<div data-braintree-id="unionpay-card-icon" class="braintree-sheet__card-icon braintree-hidden">\n    <svg width="40" height="24">\n        <use xlink:href="#icon-unionpay"></use>\n    </svg>\n</div>\n<div data-braintree-id="american-express-card-icon" class="braintree-sheet__card-icon">\n    <svg width="40" height="24">\n        <use xlink:href="#icon-american-express"></use>\n    </svg>\n</div>\n<div data-braintree-id="jcb-card-icon" class="braintree-sheet__card-icon">\n    <svg width="40" height="24">\n        <use xlink:href="#icon-jcb"></use>\n    </svg>\n</div>\n\x3c!-- Remove braintree-hidden class when supportedCardType accurately indicates Diners Club support --\x3e\n<div data-braintree-id="diners-club-card-icon" class="braintree-sheet__card-icon braintree-hidden">\n    <svg width="40" height="24">\n        <use xlink:href="#icon-diners-club"></use>\n    </svg>\n</div>\n<div data-braintree-id="discover-card-icon" class="braintree-sheet__card-icon">\n    <svg width="40" height="24">\n        <use xlink:href="#icon-discover"></use>\n    </svg>\n</div>\n<div data-braintree-id="maestro-card-icon" class="braintree-sheet__card-icon">\n    <svg width="40" height="24">\n        <use xlink:href="#icon-maestro"></use>\n    </svg>\n</div>\n', this._hideUnsupportedCardIcons(), this.hasCVV = r.fields.cvv, this.hasCardholderName = Boolean(this.model.merchantConfiguration.card && this.model.merchantConfiguration.card.cardholderName), this.cardholderNameInput = i.querySelector("input"), this.cardNumberIcon = this.getElementById("card-number-icon"), this.cardNumberIconSvg = this.getElementById("card-number-icon-svg"), this.cvvIcon = this.getElementById("cvv-icon"), this.cvvIconSvg = this.getElementById("cvv-icon-svg"), this.cvvLabelDescriptor = this.getElementById("cvv-label-descriptor"), this.fieldErrors = {}, this.extraInputs = [{
                        fieldName: "cardholderName",
                        enabled: this.hasCardholderName,
                        required: this.hasCardholderName && this.model.merchantConfiguration.card.cardholderName.required,
                        requiredError: this.strings.fieldEmptyForCardholderName,
                        validations: [{
                            isValid: function(e) {
                                return e.length < 256
                            },
                            error: this.strings.fieldTooLongForCardholderName
                        }]
                    }], this.hasCVV || (e = this.getElementById("cvv-field-group")).parentNode.removeChild(e), r.fields.postalCode || (t = this.getElementById("postal-code-field-group")).parentNode.removeChild(t), this.extraInputs.forEach((function(e) {
                        e.enabled ? this._setupExtraInput(e) : this._removeExtraInput(e)
                    }).bind(this)), this.model.asyncDependencyStarting(), l.create(r).then((function(e) {
                        this.hostedFieldsInstance = e, this.hostedFieldsInstance.on("blur", this._onBlurEvent.bind(this)), this.hostedFieldsInstance.on("cardTypeChange", this._onCardTypeChangeEvent.bind(this)), this.hostedFieldsInstance.on("focus", this._onFocusEvent.bind(this)), this.hostedFieldsInstance.on("notEmpty", this._onNotEmptyEvent.bind(this)), this.hostedFieldsInstance.on("validityChange", this._onValidityChangeEvent.bind(this)), this.model.asyncDependencyReady()
                    }).bind(this)).catch((function(e) {
                        this.model.asyncDependencyFailed({
                            view: this.ID,
                            error: e
                        })
                    }).bind(this))
                }, h.prototype._setupExtraInput = function(e) {
                    var t = this,
                        i = g(e.fieldName),
                        n = this.getElementById(i + "-field-group"),
                        r = n.querySelector("input"),
                        o = n.querySelector(".braintree-form__hosted-field");
                    r.addEventListener("keyup", function() {
                        var i = t._validateExtraInput(e, !0);
                        a.toggle(o, "braintree-form__field--valid", i), i && t.hideFieldError(e.fieldName), t._sendRequestableEvent()
                    }, !1), e.required && r.addEventListener("blur", function() {
                        setTimeout(function() {
                            m() && t._validateExtraInput(e, !0)
                        }, 0)
                    }, !1)
                }, h.prototype._removeExtraInput = function(e) {
                    var t = this.getElementById(g(e.fieldName) + "-field-group");
                    t.parentNode.removeChild(t)
                }, h.prototype._sendRequestableEvent = function() {
                    this._isTokenizing || this.model.setPaymentMethodRequestable({
                        isRequestable: this._validateForm(),
                        type: o.paymentMethodTypes.card
                    })
                }, h.prototype._generateHostedFieldsOptions = function() {
                    var e, t = this.client.getConfiguration().gatewayConfiguration.challenges,
                        i = -1 !== t.indexOf("cvv"),
                        r = -1 !== t.indexOf("postal_code"),
                        a = this.model.merchantConfiguration.card && this.model.merchantConfiguration.card.overrides,
                        o = {
                            client: this.client,
                            fields: {
                                number: {
                                    selector: this._generateFieldSelector("number"),
                                    placeholder: (e = v(4), [e, e, e, e].join(" "))
                                },
                                expirationDate: {
                                    selector: this._generateFieldSelector("expiration"),
                                    placeholder: this.strings.expirationDatePlaceholder
                                },
                                cvv: {
                                    selector: this._generateFieldSelector("cvv"),
                                    placeholder: v(3)
                                },
                                postalCode: {
                                    selector: this._generateFieldSelector("postal-code")
                                }
                            },
                            styles: {
                                input: {
                                    "font-size": "16px",
                                    "font-family": '-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif',
                                    color: "#000"
                                },
                                ":focus": {
                                    color: "black"
                                },
                                "::-webkit-input-placeholder": {
                                    color: "#6a6a6a"
                                },
                                ":-moz-placeholder": {
                                    color: "#6a6a6a"
                                },
                                "::-moz-placeholder": {
                                    color: "#6a6a6a"
                                },
                                ":-ms-input-placeholder ": {
                                    color: "#6a6a6a"
                                },
                                "input::-ms-clear": {
                                    color: "transparent"
                                }
                            }
                        };
                    return i || delete o.fields.cvv, r || delete o.fields.postalCode, a && (a.fields && (a.fields.cvv && a.fields.cvv.placeholder && (this._hasCustomCVVPlaceholder = !0), Object.keys(a.fields).forEach(function(e) {
                        "cvv" !== e && "postalCode" !== e || null !== a.fields[e] ? o.fields[e] && n(o.fields[e], a.fields[e], {
                            selector: o.fields[e].selector
                        }) : delete o.fields[e]
                    })), a.styles && Object.keys(a.styles).forEach(function(e) {
                        var t;
                        null !== a.styles[e] ? (t = a.styles[e], Object.keys(t).forEach(function(e) {
                            var i = g(e);
                            t[i] = t[e]
                        }), o.styles[e] = o.styles[e] || {}, n(o.styles[e], a.styles[e])) : delete o.styles[e]
                    })), o
                }, h.prototype._validateForm = function(e) {
                    var t, i = !0,
                        n = this.client.getConfiguration().gatewayConfiguration.creditCards.supportedCardTypes;
                    return !!this.hostedFieldsInstance && (t = this.hostedFieldsInstance.getState(), Object.keys(t.fields).forEach((function(n) {
                        var r = t.fields[n];
                        (e || i) && (r.isEmpty ? (i = !1, e && this.showFieldError(n, this.strings["fieldEmptyFor" + y(n)])) : r.isValid || (i = !1, e && this.showFieldError(n, this.strings["fieldInvalidFor" + y(n)])))
                    }).bind(this)), t.fields.number.isValid && (-1 !== n.indexOf(o.configurationCardTypes[t.cards[0].type]) || (i = !1, e && this.showFieldError("number", this.strings.unsupportedCardTypeError))), this.extraInputs && this.extraInputs.forEach((function(t) {
                        var n;
                        t.enabled && (n = this._validateExtraInput(t, e), i = i && n)
                    }).bind(this)), i)
                }, h.prototype._validateExtraInput = function(e, t) {
                    var i = g(e.fieldName),
                        n = this.getElementById(i + "-field-group").querySelector("input"),
                        r = !0;
                    return e.required && !(r = 0 < n.value.length) && t && this.showFieldError(e.fieldName, e.requiredError), e.validations.forEach((function(i) {
                        var a = i.isValid(n.value);
                        !a && t && this.showFieldError(e.fieldName, i.error), r = r && a
                    }).bind(this)), r
                }, h.prototype.getPaymentMethod = function() {
                    if (this._validateForm()) return {
                        type: o.paymentMethodTypes.card
                    }
                }, h.prototype.tokenize = function() {
                    var e, t = this,
                        i = t.hostedFieldsInstance.getState(),
                        n = {
                            vault: !t.model.isGuestCheckout
                        };
                    return this.model.clearError(), this._validateForm(!0) ? (this.hasCardholderName && (n.cardholderName = this.cardholderNameInput.value), t._isTokenizing = !0, t.hostedFieldsInstance.tokenize(n).then(function(n) {
                        return t.model.merchantConfiguration.card && !1 === t.model.merchantConfiguration.card.clearFieldsAfterTokenization || (Object.keys(i.fields).forEach(function(e) {
                            t.hostedFieldsInstance.clear(e)
                        }), t.hasCardholderName && (t.cardholderNameInput.value = "")), t.model.isGuestCheckout || (n.vaulted = !0), new d(function(i) {
                            e = function() {
                                setTimeout(function() {
                                    t.model.addPaymentMethod(n), i(n), a.remove(t.element, "braintree-sheet--tokenized")
                                }, 0)
                            }, u.onTransitionEnd(t.element, "max-height", e), setTimeout(function() {
                                t.allowUserAction(), t._isTokenizing = !1
                            }, o.CHANGE_ACTIVE_PAYMENT_METHOD_TIMEOUT), a.add(t.element, "braintree-sheet--tokenized")
                        })
                    }).catch(function(e) {
                        return t._isTokenizing = !1, t.model.reportError(e), t.allowUserAction(), d.reject(new s({
                            message: o.errors.NO_PAYMENT_METHOD_ERROR,
                            braintreeWebError: e
                        }))
                    })) : (t.model.reportError("hostedFieldsFieldsInvalidError"), t.allowUserAction(), d.reject(new s(o.errors.NO_PAYMENT_METHOD_ERROR)))
                }, h.prototype.showFieldError = function(e, t) {
                    var i = this.getElementById(g(e) + "-field-group"),
                        n = i.querySelector("input");
                    this.fieldErrors.hasOwnProperty(e) || (this.fieldErrors[e] = this.getElementById(g(e) + "-field-error")), a.add(i, "braintree-form__field-group--has-error"), this.fieldErrors[e].innerHTML = t, n && p(n) ? n.setAttribute("aria-invalid", !0) : (this.hostedFieldsInstance.setAttribute({
                        field: e,
                        attribute: "aria-invalid",
                        value: !0
                    }), this.hostedFieldsInstance.setMessage({
                        field: e,
                        message: t
                    }))
                }, h.prototype.hideFieldError = function(e) {
                    var t = this.getElementById(g(e) + "-field-group"),
                        i = t.querySelector("input");
                    this.fieldErrors.hasOwnProperty(e) || (this.fieldErrors[e] = this.getElementById(g(e) + "-field-error")), a.remove(t, "braintree-form__field-group--has-error"), i && p(i) ? i.removeAttribute("aria-invalid") : (this.hostedFieldsInstance.removeAttribute({
                        field: e,
                        attribute: "aria-invalid"
                    }), this.hostedFieldsInstance.setMessage({
                        field: e,
                        message: ""
                    }))
                }, h.prototype.teardown = function() {
                    return this.hostedFieldsInstance.teardown()
                }, h.prototype._generateFieldSelector = function(e) {
                    return "#braintree--dropin__" + this.model.componentID + " .braintree-form-" + e
                }, h.prototype._onBlurEvent = function(e) {
                    var t = e.fields[e.emittedBy],
                        i = this.getElementById(g(e.emittedBy) + "-field-group");
                    a.remove(i, "braintree-form__field-group--is-focused"), f(t) ? this.showFieldError(e.emittedBy, this.strings["fieldEmptyFor" + y(e.emittedBy)]) : t.isEmpty || t.isValid ? "number" !== e.emittedBy || this._isCardTypeSupported(e.cards[0].type) || this.showFieldError("number", this.strings.unsupportedCardTypeError) : this.showFieldError(e.emittedBy, this.strings["fieldInvalidFor" + y(e.emittedBy)]), setTimeout((function() {
                        f(t) && this.showFieldError(e.emittedBy, this.strings["fieldEmptyFor" + y(e.emittedBy)])
                    }).bind(this), 150)
                }, h.prototype._onCardTypeChangeEvent = function(e) {
                    var t, i = "#iconCardFront",
                        n = "#iconCVVBack",
                        r = this.strings.cvvThreeDigitLabelSubheading,
                        o = v(3),
                        s = this.getElementById("number-field-group");
                    1 === e.cards.length ? (i = "#icon-" + (t = e.cards[0].type), "american-express" === t && (n = "#iconCVVFront", r = this.strings.cvvFourDigitLabelSubheading, o = v(4)), a.add(s, "braintree-form__field-group--card-type-known")) : a.remove(s, "braintree-form__field-group--card-type-known"), this.cardNumberIconSvg.setAttribute("xlink:href", i), this.hasCVV && (this.cvvIconSvg.setAttribute("xlink:href", n), this.cvvLabelDescriptor.innerHTML = r, this._hasCustomCVVPlaceholder || this.hostedFieldsInstance.setAttribute({
                        field: "cvv",
                        attribute: "placeholder",
                        value: o
                    }))
                }, h.prototype._onFocusEvent = function(e) {
                    var t = this.getElementById(g(e.emittedBy) + "-field-group");
                    a.add(t, "braintree-form__field-group--is-focused")
                }, h.prototype._onNotEmptyEvent = function(e) {
                    this.hideFieldError(e.emittedBy)
                }, h.prototype._onValidityChangeEvent = function(e) {
                    var t, i = e.fields[e.emittedBy];
                    t = "number" === e.emittedBy && e.cards[0] ? i.isValid && this._isCardTypeSupported(e.cards[0].type) : i.isValid, a.toggle(i.container, "braintree-form__field--valid", t), i.isPotentiallyValid && this.hideFieldError(e.emittedBy), this._sendRequestableEvent()
                }, h.prototype.requestPaymentMethod = function() {
                    return this.preventUserAction(), this.tokenize()
                }, h.prototype.onSelection = function() {
                    this.hostedFieldsInstance && (this.hasCardholderName ? setTimeout((function() {
                        this.cardholderNameInput.focus()
                    }).bind(this), 1) : this.hostedFieldsInstance.focus("number"))
                }, h.prototype._hideUnsupportedCardIcons = function() {
                    var e = this.client.getConfiguration().gatewayConfiguration.creditCards.supportedCardTypes;
                    Object.keys(o.configurationCardTypes).forEach((function(t) {
                        var i; - 1 === e.indexOf(o.configurationCardTypes[t]) && (i = this.getElementById(t + "-card-icon"), a.add(i, "braintree-hidden"))
                    }).bind(this))
                }, h.prototype._isCardTypeSupported = function(e) {
                    var t = o.configurationCardTypes[e];
                    return -1 !== this.client.getConfiguration().gatewayConfiguration.creditCards.supportedCardTypes.indexOf(t)
                }, h.isEnabled = function(e) {
                    var t = e.client.getConfiguration().gatewayConfiguration;
                    return d.resolve(0 < t.creditCards.supportedCardTypes.length)
                }, t.exports = h
            }, {
                "../../constants": 122,
                "../../lib/assign": 128,
                "../../lib/dropin-error": 132,
                "../../lib/is-utf-8": 137,
                "../../lib/promise": 140,
                "../../lib/transition-helper": 144,
                "../base-view": 170,
                "@braintree/class-list": 18,
                "braintree-web/hosted-fields": 60
            }],
            179: [function(e, t, i) {
                (function(i) {
                    "use strict";
                    var n = e("../../lib/assign").assign,
                        r = e("../base-view"),
                        a = e("braintree-web/google-payment"),
                        o = e("../../lib/dropin-error"),
                        s = e("../../constants"),
                        l = e("@braintree/asset-loader"),
                        c = e("../../lib/promise"),
                        u = e("../../lib/analytics");

                    function d() {
                        r.apply(this, arguments)
                    }

                    function h(e) {
                        return new i.google.payments.api.PaymentsClient({
                            environment: "production" === e.getConfiguration().gatewayConfiguration.environment ? "PRODUCTION" : "TEST"
                        })
                    }((d.prototype = Object.create(r.prototype)).constructor = d).ID = d.prototype.ID = s.paymentOptionIDs.googlePay, d.prototype.initialize = function() {
                        var e, t = this;
                        return t.googlePayConfiguration = n({}, t.model.merchantConfiguration.googlePay), e = n({
                            buttonType: "short"
                        }, t.googlePayConfiguration.button, {
                            onClick: function(e) {
                                e.preventDefault(), t.preventUserAction(), t.tokenize().then(function() {
                                    t.allowUserAction()
                                })
                            }
                        }), t.model.asyncDependencyStarting(), a.create({
                            client: t.client
                        }).then(function(e) {
                            t.googlePayInstance = e, t.paymentsClient = h(t.client)
                        }).then(function() {
                            t.getElementById("google-pay-button").appendChild(t.paymentsClient.createButton(e)), t.model.asyncDependencyReady()
                        }).catch(function(e) {
                            t.model.asyncDependencyFailed({
                                view: t.ID,
                                error: new o(e)
                            })
                        })
                    }, d.prototype.tokenize = function() {
                        var e, t = this,
                            i = t.googlePayInstance.createPaymentDataRequest(t.googlePayConfiguration);
                        return t.paymentsClient.loadPaymentData(i).then(function(i) {
                            return e = i, t.googlePayInstance.parseResponse(i)
                        }).then(function(i) {
                            i.rawPaymentData = e, t.model.addPaymentMethod(i)
                        }).catch(function(e) {
                            var i = e;
                            if ("DEVELOPER_ERROR" === e.statusCode) console.error(e), i = "developerError";
                            else {
                                if ("CANCELED" === e.statusCode) return void u.sendEvent(t.client, "googlepay.loadPaymentData.canceled");
                                e.statusCode && u.sendEvent(t.client, "googlepay.loadPaymentData.failed")
                            }
                            t.model.reportError(i)
                        })
                    }, d.prototype.updateConfiguration = function(e, t) {
                        this.googlePayConfiguration[e] = t
                    }, d.isEnabled = function(e) {
                        return e.client.getConfiguration().gatewayConfiguration.androidPay && Boolean(e.merchantConfiguration.googlePay) ? c.resolve().then(function() {
                            return i.google && i.google.payments && i.google.payments.api && i.google.payments.api.PaymentsClient ? c.resolve() : l.loadScript({
                                id: s.GOOGLE_PAYMENT_SCRIPT_ID,
                                src: s.GOOGLE_PAYMENT_SOURCE
                            })
                        }).then(function() {
                            return h(e.client).isReadyToPay({
                                allowedPaymentMethods: ["CARD", "TOKENIZED_CARD"]
                            })
                        }).then(function(e) {
                            return Boolean(e.result)
                        }) : c.resolve(!1)
                    }, t.exports = d
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {
                "../../constants": 122,
                "../../lib/analytics": 127,
                "../../lib/assign": 128,
                "../../lib/dropin-error": 132,
                "../../lib/promise": 140,
                "../base-view": 170,
                "@braintree/asset-loader": 1,
                "braintree-web/google-payment": 54
            }],
            180: [function(e, t, i) {
                "use strict";
                var n = e("../../constants").paymentOptionIDs,
                    r = {};
                r[n.applePay] = e("./apple-pay-view"), r[n.card] = e("./card-view"), r[n.googlePay] = e("./google-pay-view"), r[n.paypal] = e("./paypal-view"), r[n.paypalCredit] = e("./paypal-credit-view"), r[n.venmo] = e("./venmo-view"), t.exports = r
            }, {
                "../../constants": 122,
                "./apple-pay-view": 176,
                "./card-view": 178,
                "./google-pay-view": 179,
                "./paypal-credit-view": 181,
                "./paypal-view": 182,
                "./venmo-view": 183
            }],
            181: [function(e, t, i) {
                "use strict";
                var n = e("../../lib/assign").assign,
                    r = e("../../lib/promise"),
                    a = e("../../constants").paymentOptionIDs,
                    o = e("./base-paypal-view");

                function s() {
                    o.apply(this, arguments), this._isPayPalCredit = !0
                }((s.prototype = Object.create(o.prototype)).constructor = s).ID = s.prototype.ID = a.paypalCredit, s.isEnabled = function(e) {
                    return e.merchantConfiguration.paypalCredit ? o.isEnabled(n({
                        viewID: s.ID
                    }, e)) : r.resolve(!1)
                }, t.exports = s
            }, {
                "../../constants": 122,
                "../../lib/assign": 128,
                "../../lib/promise": 140,
                "./base-paypal-view": 177
            }],
            182: [function(e, t, i) {
                "use strict";
                var n = e("../../lib/assign").assign,
                    r = e("../../lib/promise"),
                    a = e("../../constants").paymentOptionIDs,
                    o = e("./base-paypal-view");

                function s() {
                    o.apply(this, arguments)
                }((s.prototype = Object.create(o.prototype)).constructor = s).ID = s.prototype.ID = a.paypal, s.isEnabled = function(e) {
                    return e.merchantConfiguration.paypal ? o.isEnabled(n({
                        viewID: s.ID
                    }, e)) : r.resolve(!1)
                }, t.exports = s
            }, {
                "../../constants": 122,
                "../../lib/assign": 128,
                "../../lib/promise": 140,
                "./base-paypal-view": 177
            }],
            183: [function(e, t, i) {
                "use strict";
                var n = e("../../lib/assign").assign,
                    r = e("../base-view"),
                    a = e("braintree-web/venmo"),
                    o = e("../../lib/dropin-error"),
                    s = e("../../lib/promise"),
                    l = e("../../constants").paymentOptionIDs;

                function c() {
                    r.apply(this, arguments)
                }((c.prototype = Object.create(r.prototype)).constructor = c).ID = c.prototype.ID = l.venmo, c.prototype.initialize = function() {
                    var e = this,
                        t = n({}, e.model.merchantConfiguration.venmo, {
                            client: this.client
                        });
                    return e.model.asyncDependencyStarting(), a.create(t).then(function(t) {
                        return e.venmoInstance = t, e.venmoInstance.hasTokenizationResult() ? e.venmoInstance.tokenize().then(function(t) {
                            e.model.reportAppSwitchPayload(t)
                        }).catch(function(t) {
                            e._isIgnorableError(t) || e.model.reportAppSwitchError(l.venmo, t)
                        }) : s.resolve()
                    }).then(function() {
                        e.getElementById("venmo-button").addEventListener("click", function(t) {
                            return t.preventDefault(), e.preventUserAction(), e.venmoInstance.tokenize().then(function(t) {
                                e.model.addPaymentMethod(t)
                            }).catch(function(t) {
                                e._isIgnorableError(t) || e.model.reportError(t)
                            }).then(function() {
                                e.allowUserAction()
                            })
                        }), e.model.asyncDependencyReady()
                    }).catch(function(t) {
                        e.model.asyncDependencyFailed({
                            view: e.ID,
                            error: new o(t)
                        })
                    })
                }, c.prototype._isIgnorableError = function(e) {
                    return "VENMO_APP_CANCELED" === e.code
                }, c.isEnabled = function(e) {
                    return e.client.getConfiguration().gatewayConfiguration.payWithVenmo && Boolean(e.merchantConfiguration.venmo) ? s.resolve(a.isBrowserSupported(e.merchantConfiguration.venmo)) : s.resolve(!1)
                }, t.exports = c
            }, {
                "../../constants": 122,
                "../../lib/assign": 128,
                "../../lib/dropin-error": 132,
                "../../lib/promise": 140,
                "../base-view": 170,
                "braintree-web/venmo": 109
            }]
        }, {}, [125])(125)
    }),
    function() {
        "use strict";
        var e = "undefined" != typeof window && void 0 !== window.document ? window.document : {},
            t = "undefined" != typeof module && module.exports,
            i = "undefined" != typeof Element && "ALLOW_KEYBOARD_INPUT" in Element,
            n = function() {
                for (var t, i = [
                        ["requestFullscreen", "exitFullscreen", "fullscreenElement", "fullscreenEnabled", "fullscreenchange", "fullscreenerror"],
                        ["webkitRequestFullscreen", "webkitExitFullscreen", "webkitFullscreenElement", "webkitFullscreenEnabled", "webkitfullscreenchange", "webkitfullscreenerror"],
                        ["webkitRequestFullScreen", "webkitCancelFullScreen", "webkitCurrentFullScreenElement", "webkitCancelFullScreen", "webkitfullscreenchange", "webkitfullscreenerror"],
                        ["mozRequestFullScreen", "mozCancelFullScreen", "mozFullScreenElement", "mozFullScreenEnabled", "mozfullscreenchange", "mozfullscreenerror"],
                        ["msRequestFullscreen", "msExitFullscreen", "msFullscreenElement", "msFullscreenEnabled", "MSFullscreenChange", "MSFullscreenError"]
                    ], n = 0, r = i.length, a = {}; n < r; n++)
                    if ((t = i[n]) && t[1] in e) {
                        for (n = 0; n < t.length; n++) a[i[0][n]] = t[n];
                        return a
                    } return !1
            }(),
            r = {
                change: n.fullscreenchange,
                error: n.fullscreenerror
            },
            a = {
                request: function(t) {
                    return new Promise((function(r) {
                        var a = n.requestFullscreen,
                            o = (function() {
                                this.off("change", o), r()
                            }).bind(this);
                        t = t || e.documentElement, / Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent) ? t[a]() : t[a](i ? Element.ALLOW_KEYBOARD_INPUT : {}), this.on("change", o)
                    }).bind(this))
                },
                exit: function() {
                    return new Promise((function(t) {
                        var i = (function() {
                            this.off("change", i), t()
                        }).bind(this);
                        e[n.exitFullscreen](), this.on("change", i)
                    }).bind(this))
                },
                toggle: function(e) {
                    return this.isFullscreen ? this.exit() : this.request(e)
                },
                onchange: function(e) {
                    this.on("change", e)
                },
                onerror: function(e) {
                    this.on("error", e)
                },
                on: function(t, i) {
                    var n = r[t];
                    n && e.addEventListener(n, i, !1)
                },
                off: function(t, i) {
                    var n = r[t];
                    n && e.removeEventListener(n, i, !1)
                },
                raw: n
            };
        n ? (Object.defineProperties(a, {
            isFullscreen: {
                get: function() {
                    return Boolean(e[n.fullscreenElement])
                }
            },
            element: {
                enumerable: !0,
                get: function() {
                    return e[n.fullscreenElement]
                }
            },
            enabled: {
                enumerable: !0,
                get: function() {
                    return Boolean(e[n.fullscreenEnabled])
                }
            }
        }), t ? module.exports = a : window.screenfull = a) : t ? module.exports = !1 : window.screenfull = !1
    }();

